<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶</title>
  
  <subtitle>Marketing/Python/Clojure/Game</subtitle>
  <link href="https://frankchen.xyz/atom.xml" rel="self"/>
  
  <link href="https://frankchen.xyz/"/>
  <updated>2021-09-18T03:42:25.578Z</updated>
  <id>https://frankchen.xyz/</id>
  
  <author>
    <name>frankchen0130</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å‘æ”¾4ä¸ªptç«™çš„é‚€è¯·ç ï¼šæµ·èƒ†ä¹‹å®¶ã€HDcity</title>
    <link href="https://frankchen.xyz/2021/09/18/2021-09-18-pt-invite/"/>
    <id>https://frankchen.xyz/2021/09/18/2021-09-18-pt-invite/</id>
    <published>2021-09-18T02:49:42.000Z</published>
    <updated>2021-09-18T03:42:25.578Z</updated>
    
    <content type="html"><![CDATA[<p>ç© pt ç«™æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œèµ é€4ä¸ªptç«™çš„é‚€è¯·ç ï¼šæµ·èƒ†ä¹‹å®¶ã€HDcityç»™æ„Ÿå…´è¶£çš„æœ‹å‹ã€‚</p><span id="more"></span><p><a href="https://www.haidan.video/">æµ·èƒ†ä¹‹å®¶</a>ã€<a href="https://hdcity.city/">HDcity</a>å„ä¸¤ä¸ªï¼š</p><p><img src="/images/1631936380423.jpg"><br><img src="/images/L20180831.22016014363i1.jpg"></p><p>ç•™è¨€ç•™ä¸‹é‚®ç®±å’Œæ‚¨è¿™è¾¹å…³äº pt çš„è®¾å¤‡çš„æƒ…å†µï¼ˆnas ç­‰ç­‰ï¼‰å³å¯ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç© pt ç«™æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œèµ é€4ä¸ªptç«™çš„é‚€è¯·ç ï¼šæµ·èƒ†ä¹‹å®¶ã€HDcityç»™æ„Ÿå…´è¶£çš„æœ‹å‹ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="pt" scheme="https://frankchen.xyz/tags/pt/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨python è‡ªåŠ¨è®¡ç®—äºšé©¬é€Švatç¨æ¬¾</title>
    <link href="https://frankchen.xyz/2019/10/24/amazon-vat-cal/"/>
    <id>https://frankchen.xyz/2019/10/24/amazon-vat-cal/</id>
    <published>2019-10-24T09:17:01.000Z</published>
    <updated>2021-09-14T02:41:11.928Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pandasè®¡ç®—äºšé©¬é€Šè‹±å›½vatç¨æ¬¾ï¼Œçº¯ç²¹æ˜¯pandasçš„ä¸šåŠ¡ä»£ç ã€‚</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">vat_csv = <span class="string">r&quot;C:\Users\Administrator\Downloads\18168935102018178.csv&quot;</span></span><br><span class="line"></span><br><span class="line">df = pd.read_csv(vat_csv)</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">filter_free_tax_zone_post_code</span>(<span class="params">x : <span class="built_in">str</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(x) <span class="keyword">is</span> <span class="keyword">not</span> <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> x.startswith(<span class="string">&#x27;JE&#x27;</span>) <span class="keyword">or</span> x.startswith(<span class="string">&#x27;GY&#x27;</span>)</span><br><span class="line"><span class="comment"># # BNåˆ—é‚®ç¼–é¦–å­—æ¯ä¸ºJEå’ŒGYçš„ï¼Œæ˜¯è‹±å›½çš„é™„å±å²›å±¿ï¼Œç›®å‰æœ‰å…ç¨ä¼˜æƒ ï¼Œä¸ç”¨è®¡ç®—</span></span><br><span class="line">df = df[~df[<span class="string">&#x27;ARRIVAL_POST_CODE&#x27;</span>].apply(filter_free_tax_zone_post_code)].copy()</span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># BO  SALE_DEPART_COUNTRY å‘è´§å›½å®¶ BP  SALE_ARRIVAL_COUNTRY æ”¶è´§å›½å®¶</span></span><br><span class="line"><span class="comment"># AZ TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL é”€å”®é¢ BA  TRANSACTION_CURRENCY_CODE è´§å¸</span></span><br><span class="line">df[<span class="string">&#x27;SALE_DEPART_COUNTRY&#x27;</span>].value_counts()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">SALE_ARRIVAL_COUNTRY_ = df[<span class="string">&#x27;SALE_ARRIVAL_COUNTRY&#x27;</span>].value_counts().index</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">euro_nation_code_excel = <span class="string">&#x27;euro-nation-code.xlsx&#x27;</span></span><br><span class="line">euro_country = pd.read_excel(euro_nation_code_excel)[<span class="string">&#x27;CODE&#x27;</span>].values</span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># step 1</span></span><br><span class="line">A = df[df[<span class="string">&#x27;SALE_DEPART_COUNTRY&#x27;</span>].isin(euro_country)]</span><br><span class="line">step_1_df = A[A[<span class="string">&#x27;SALE_ARRIVAL_COUNTRY&#x27;</span>] == <span class="string">&#x27;GB&#x27;</span>]</span><br><span class="line">step_1 = step_1_df[[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>, <span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]].groupby([<span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]).<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line">step_1 = step_1[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>].to_dict()</span><br><span class="line">step_1</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># step 2</span></span><br><span class="line">A = df[df[<span class="string">&#x27;SALE_DEPART_COUNTRY&#x27;</span>] == <span class="string">&#x27;GB&#x27;</span>]</span><br><span class="line">except_country = <span class="string">&quot;DE GB ES IT FR&quot;</span>.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">sub_euro_country = [i <span class="keyword">for</span> i <span class="keyword">in</span> euro_country <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> except_country]</span><br><span class="line">step_2_df = A[A[<span class="string">&#x27;SALE_ARRIVAL_COUNTRY&#x27;</span>] .isin(sub_euro_country)]</span><br><span class="line">step_2 = step_2_df[[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>, <span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]].groupby([<span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]).<span class="built_in">sum</span>()</span><br><span class="line">step_2 = step_2[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>].to_dict()</span><br><span class="line">step_2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># TOTAL</span></span><br><span class="line">euro2gbp = <span class="number">0.8637</span></span><br><span class="line"><span class="comment"># euro2gbp = 1 / 1.1504</span></span><br><span class="line">tax_rate = <span class="number">0.155</span></span><br><span class="line">other = <span class="number">26510.48</span></span><br><span class="line"></span><br><span class="line">euro = step_1.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>) + step_2.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">gbp = step_1.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>) + step_2.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">total = gbp + euro2gbp * euro</span><br><span class="line"></span><br><span class="line">vat = <span class="built_in">round</span>(total * tax_rate, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">vat</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">s = <span class="string">f&quot;&quot;&quot;ç¬¬ä¸€æ­¥ä¸­ç®—çš„è‹±é•‘ <span class="subst">&#123;step_1.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span> æ¬§å…ƒ <span class="subst">&#123;step_1.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span>ï¼Œ</span></span><br><span class="line"><span class="string">ç¬¬äºŒæ­¥ä¸­ç®—çš„è‹±é•‘ <span class="subst">&#123;step_2.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span> æ¬§å…ƒ <span class="subst">&#123;step_2.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span>ï¼Œ</span></span><br><span class="line"><span class="string">å…±è®¡ è‹±é•‘ <span class="subst">&#123;gbp :<span class="number">.2</span>f&#125;</span>å…ƒï¼Œæ¬§å…ƒ<span class="subst">&#123;euro :<span class="number">.2</span>f&#125;</span>å…ƒï¼Œ</span></span><br><span class="line"><span class="string">æŒ‰ç…§å½“å‰æ¬§å…ƒå…‘è‹±é•‘æ±‡ç‡ä¸º <span class="subst">&#123;euro2gbp :<span class="number">.2</span>f&#125;</span>ï¼Œ</span></span><br><span class="line"><span class="string">å…±è®¡è‹±é•‘ <span class="subst">&#123;total :<span class="number">.2</span>f&#125;</span> å…ƒï¼Œ</span></span><br><span class="line"><span class="string">æŒ‰ç…§vatç¨ç‡ <span class="subst">&#123;tax_rate&#125;</span></span></span><br><span class="line"><span class="string">è®¡ç®—çš„vatç¨æ¬¾ä¸º <span class="subst">&#123;vat&#125;</span> å…ƒ</span></span><br><span class="line"><span class="string">ä¸æä¾›çš„æ•°æ®å·®å€¼ä¸º <span class="subst">&#123;vat - other :<span class="number">.2</span>f&#125;</span> å…ƒ</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é™„èµ æ¬§ç›Ÿ28å›½çš„å›½å®¶ä»£ç ï¼Œå½“å‰ï¼ˆ2019-10-24ï¼‰è‹±å›½è¿˜ç®—æ˜¯æ¬§ç›Ÿå›½å®¶</p><blockquote><p>å¾·å›½DE<br>è·å…°NL<br>æ¯”åˆ©æ—¶BE<br>å¢æ£®å ¡LU<br>æ³•å›½FR<br>æ„å¤§åˆ©IT<br>ä¸¹éº¦DK<br>è‹±å›½GB<br>çˆ±å°”å…°IE<br>å¸Œè…ŠGR<br>è¥¿ç­ç‰™ES<br>è‘¡è„ç‰™PT<br>ç‘å…¸SE<br>èŠ¬å…°FI<br>å¥¥åœ°åˆ©AT<br>å¡æµ¦è·¯æ–¯CY<br>çˆ±æ²™å°¼äºšEE<br>æ‹‰è„±ç»´äºšLV<br>ç«‹é™¶å®›LT<br>æ³¢å…°PL<br>æ·å…‹CZ<br>æ–¯æ´›ä¼å…‹SK<br>æ–¯æ´›æ–‡å°¼äºšSI<br>åŒˆç‰™åˆ©HU<br>é©¬è€³ä»–MT<br>ç½—é©¬å°¼äºšRO<br>ä¿åŠ åˆ©äºšBG<br>å…‹ç½—åœ°äºšHR</p></blockquote><p>ç°åœ¨Pycharmå¯¹äºjupyter notebookçš„æ”¯æŒä¹Ÿå¾ˆå¥½äº†ï¼Œæˆ‘åŸºæœ¬ä¸Šç›´æ¥åœ¨IDEé‡Œé¢å†™ï¼Œè¿™ä¸ªä¸»é¢˜æ˜¯Gradianto Dark Fuchsiaï¼ŒJetbrainså®˜ç½‘å¯ä»¥ä¸‹è½½ï¼ŒPyCharmä¸æ˜¯åªæœ‰Darculaçš„ï¼Œå¥½äº†ï¼Œæˆ‘å¤§çº¦ä¸€å¹´æ²¡æœ‰æ›´äº†ï¼Œç°åœ¨æ­£å¼å›å½’äº†ï¼Œæˆ‘ç°åœ¨åšçš„æ˜¯ç”µå•†è¡Œä¸šï¼Œä»¥åæˆ‘ä¹Ÿè®¸ä¼šæ›´å¤šçš„æ˜¯ç”Ÿäº§åŠ›è½¯ä»¶ã€çˆ¬è™«ä¸æ•°æ®åˆ†æã€ä¼ä¸šç³»ç»Ÿæ–¹é¢è½¬äº†ï¼Œä»æ¥å°±ä¸æ˜¯æ­£ç»çš„æ•°æ®ç§‘å­¦å®¶ã€‚ç”Ÿå‘½è¿‡ç¨‹å¾ˆå¤æ‚å¾ˆä¸°å¯Œï¼Œç»§ç»­åšä¸ªé¡½å¼ºçš„äººï¼Œç¥å¤§å®¶<strong>1024ç¨‹åºå‘˜èŠ‚å¿«ä¹</strong>ï¼Œæˆ‘è¿˜ç®—ç¨‹åºå‘˜çš„å§ğŸ¤£å“ˆå“ˆå“ˆ</p><p><img src="/images/vat-auto.png"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pandasè®¡ç®—äºšé©¬é€Šè‹±å›½vatç¨æ¬¾ï¼Œçº¯ç²¹æ˜¯pandasçš„ä¸šåŠ¡ä»£ç ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Deep Learning" scheme="https://frankchen.xyz/tags/Deep-Learning/"/>
    
    <category term="python" scheme="https://frankchen.xyz/tags/python/"/>
    
    <category term="amazon" scheme="https://frankchen.xyz/tags/amazon/"/>
    
    <category term="pandas" scheme="https://frankchen.xyz/tags/pandas/"/>
    
  </entry>
  
  <entry>
    <title>python å‘é€å¸¦å„ç§é™„ä»¶çš„é‚®ä»¶ç¤ºä¾‹</title>
    <link href="https://frankchen.xyz/2018/12/20/attachments/"/>
    <id>https://frankchen.xyz/2018/12/20/attachments/</id>
    <published>2018-12-20T12:47:39.000Z</published>
    <updated>2018-12-20T13:04:56.555Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pythonå‘é€å„ç§é™„ä»¶çš„é‚®ä»¶ï¼Œæ¯”å¦‚wordã€excelã€pdfã€txtï¼Œä»¥åŠåœ¨æ­£æ–‡æ’å…¥å›¾ç‰‡ç­‰ç­‰</p><span id="more"></span><p>å¦‚ä¸‹æ‰€ç¤ºï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.header <span class="keyword">import</span> Header</span><br><span class="line"><span class="keyword">from</span> smtplib <span class="keyword">import</span> SMTP_SSL</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> email.mime.image <span class="keyword">import</span> MIMEImage</span><br><span class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</span><br><span class="line"><span class="keyword">from</span> email.mime.application <span class="keyword">import</span> MIMEApplication</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.mime.base <span class="keyword">import</span> MIMEBase</span><br><span class="line"><span class="keyword">from</span> email.encoders <span class="keyword">import</span> encode_base64</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> traceback</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_mail</span>(<span class="params">mail_title,</span></span></span><br><span class="line"><span class="params"><span class="function">              mail_content=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_img=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_txt=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_pdf=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_excel=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_word=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="comment"># qqé‚®ç®±smtpæœåŠ¡å™¨</span></span><br><span class="line">    host_server = <span class="string">&#x27;smtp.qq.com&#x27;</span></span><br><span class="line">    <span class="comment"># sender_qqä¸ºå‘ä»¶äººçš„qqå·ç </span></span><br><span class="line">    sender_qq = <span class="string">&#x27;947118251&#x27;</span></span><br><span class="line">    <span class="comment"># pwdä¸ºqqé‚®ç®±çš„æˆæƒç </span></span><br><span class="line">    pwd = <span class="string">&#x27;tvjl******zpbebb&#x27;</span></span><br><span class="line">    <span class="comment"># å‘ä»¶äººçš„é‚®ç®±</span></span><br><span class="line">    sender_qq_mail = <span class="string">&#x27;947118251@qq.com&#x27;</span></span><br><span class="line">    <span class="comment"># æ”¶ä»¶äººé‚®ç®±</span></span><br><span class="line">    <span class="comment"># receiver = &#x27;znwindy@gmail.com&#x27;</span></span><br><span class="line">    receiver = <span class="string">&#x27;947118251@qq.com&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># sslç™»å½•</span></span><br><span class="line">        smtp = SMTP_SSL(host_server)</span><br><span class="line">        <span class="comment"># set_debuglevel()æ˜¯ç”¨æ¥è°ƒè¯•çš„ã€‚å‚æ•°å€¼ä¸º1è¡¨ç¤ºå¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œå‚æ•°å€¼ä¸º0å…³é—­è°ƒè¯•æ¨¡å¼</span></span><br><span class="line">        smtp.set_debuglevel(<span class="number">1</span>)</span><br><span class="line">        smtp.ehlo(host_server)</span><br><span class="line">        smtp.login(sender_qq, pwd)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># msg = MIMEText(mail_content, &quot;plain&quot;, &#x27;utf-8&#x27;)</span></span><br><span class="line">        msg = MIMEMultipart(<span class="string">&#x27;related&#x27;</span>)</span><br><span class="line">        msg[<span class="string">&quot;Subject&quot;</span>] = Header(mail_title, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        msg[<span class="string">&quot;From&quot;</span>] = sender_qq_mail</span><br><span class="line">        msg[<span class="string">&quot;To&quot;</span>] = receiver</span><br><span class="line"></span><br><span class="line">        msgAlternative = MIMEMultipart(<span class="string">&#x27;alternative&#x27;</span>)</span><br><span class="line">        msg.attach(msgAlternative)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># image attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_img:</span><br><span class="line">            mail_body = <span class="string">&#x27;&lt;b&gt;%s&lt;/b&gt;&lt;br&gt;&lt;img src=&quot;cid:%s&quot;&gt;&lt;br&gt;&#x27;</span> % (mail_content, attachment_img)</span><br><span class="line">            msgText = (MIMEText(mail_body, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">            msgAlternative.attach(msgText)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_img, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                msgImage = MIMEImage(fp.read())</span><br><span class="line">            msgImage.add_header(<span class="string">&#x27;Content-ID&#x27;</span>, <span class="string">&#x27;&lt;&#123;&#125;&gt;&#x27;</span>.<span class="built_in">format</span>(attachment_img))</span><br><span class="line">            msg.attach(msgImage)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># txt attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_txt:</span><br><span class="line">            file_name = os.path.split(attachment_txt)[<span class="number">1</span>]</span><br><span class="line">            att1 = MIMEText(<span class="built_in">open</span>(attachment_txt, <span class="string">&#x27;rb&#x27;</span>).read(), <span class="string">&#x27;base64&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">            att1[<span class="string">&quot;Content-Type&quot;</span>] = <span class="string">&#x27;application/octet-stream&#x27;</span></span><br><span class="line">            <span class="comment"># è¿™é‡Œçš„filenameå¯ä»¥ä»»æ„å†™ï¼Œå†™ä»€ä¹ˆåå­—ï¼Œé‚®ä»¶ä¸­æ˜¾ç¤ºä»€ä¹ˆåå­—</span></span><br><span class="line">            att1[<span class="string">&quot;Content-Disposition&quot;</span>] = <span class="string">f&#x27;attachment; filename=&quot;<span class="subst">&#123;file_name&#125;</span>&quot;&#x27;</span></span><br><span class="line">            msg.attach(att1)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># pdf attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_pdf:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_pdf, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                fileMsg = MIMEBase(<span class="string">&#x27;application&#x27;</span>, <span class="string">&#x27;pdf&#x27;</span>)</span><br><span class="line">                fileMsg.set_payload(fp.read())</span><br><span class="line">                encode_base64(fileMsg)</span><br><span class="line">                fileMsg.add_header(<span class="string">&#x27;Content-Disposition&#x27;</span>, <span class="string">f&#x27;attachment;filename=<span class="subst">&#123;os.path.split(attachment_pdf)[<span class="number">1</span>]&#125;</span>&#x27;</span>)</span><br><span class="line">                msg.attach(fileMsg)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># excel attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_excel:</span><br><span class="line">            part = MIMEBase(<span class="string">&#x27;application&#x27;</span>, <span class="string">&quot;vnd.ms-excel&quot;</span>)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_excel, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                part.set_payload(fp.read())</span><br><span class="line">                encode_base64(part)</span><br><span class="line">                part.add_header(<span class="string">&#x27;Content-Disposition&#x27;</span>, <span class="string">f&#x27;attachment; filename=&quot;<span class="subst">&#123;os.path.split(attachment_excel)[<span class="number">1</span>]&#125;</span>&quot;&#x27;</span>)</span><br><span class="line">                msg.attach(part)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># word attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_word:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_word, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                part = MIMEApplication(fp.read())</span><br><span class="line">                part.add_header(<span class="string">&#x27;Content-Disposition&#x27;</span>, <span class="string">f&#x27;attachment; filename=&quot;<span class="subst">&#123;os.path.split(attachment_word)[<span class="number">1</span>]&#125;</span>&quot;&#x27;</span>)</span><br><span class="line">                part.set_charset(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">                msg.attach(part)</span><br><span class="line"></span><br><span class="line">        smtp.sendmail(sender_qq_mail, receiver, msg.as_string())</span><br><span class="line">        smtp.quit()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Success!&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Error!&#x27;</span>)</span><br><span class="line">        traceback.print_exc()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    send_mail(mail_title=<span class="string">&#x27;çˆ¬è™«ç»“æŸäº†ï¼Œæ­£å¸¸é€€å‡º!&#x27;</span>,</span><br><span class="line">              mail_content=<span class="string">&#x27;ä½ å¥½ï¼Œè¿™æ˜¯ä½¿ç”¨pythonç™»å½•qqé‚®ç®±å‘é‚®ä»¶çš„æµ‹è¯•&#x27;</span>,</span><br><span class="line">              attachment_img=<span class="string">&#x27;../data/test.jpg&#x27;</span>,</span><br><span class="line">              attachment_txt=<span class="string">&#x27;../data/start_urls.txt&#x27;</span>,</span><br><span class="line">              attachment_pdf=<span class="string">&#x27;../data/Gmail - How to add images in the product description_.pdf&#x27;</span>,</span><br><span class="line">              attachment_excel=<span class="string">&#x27;../data/shops.xlsx&#x27;</span>,</span><br><span class="line">              attachment_word=<span class="string">&#x27;../data/asdasd.docx&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pythonå‘é€å„ç§é™„ä»¶çš„é‚®ä»¶ï¼Œæ¯”å¦‚wordã€excelã€pdfã€txtï¼Œä»¥åŠåœ¨æ­£æ–‡æ’å…¥å›¾ç‰‡ç­‰ç­‰&lt;/p&gt;</summary>
    
    
    
    
    <category term="python" scheme="https://frankchen.xyz/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5 ç¼–å†™å¹¶åœ¨Windowsä¸Šç”¨Cx_Freezeæ‰“åŒ…GUIç¨‹åº</title>
    <link href="https://frankchen.xyz/2018/09/11/Pyqt5-GUI-package-on-Windows/"/>
    <id>https://frankchen.xyz/2018/09/11/Pyqt5-GUI-package-on-Windows/</id>
    <published>2018-09-11T14:51:05.000Z</published>
    <updated>2018-09-11T15:08:59.888Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€è¿°ä¸‹å¦‚ä½•åœ¨Windowsä¸Šç”¨Cx_Freezeæ­£ç¡®æ‰“åŒ…GUIç¨‹åº</p><span id="more"></span><p>ä¸ºäº†é˜²æ­¢å‡ºç°&gt; This application failed to start because it could not find or load the Qt platform plugin â€œwindowsâ€ é”™è¯¯ï¼Œå¦‚<a href="https://pythonexample.com/code/cx_freeze-pyqt5">Cx_Freeze Pyqt5 - pythonexample.com</a>è¿™é‡Œç®€è¿°çš„ï¼Œæˆ‘ä»¬éœ€è¦PyQt5çš„åº“ä½ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> cx_Freeze <span class="keyword">import</span> setup, Executable</span><br><span class="line"></span><br><span class="line">path_platforms = ( <span class="string">&quot;C:\\Users\\zhaon\\Anaconda3\\pkgs\\qt-5.9.5-vc14he4a7d60_0\\Library\\plugins\\platforms\\qwindows.dll&quot;</span>, <span class="string">&quot;platforms\qwindows.dll&quot;</span> )</span><br><span class="line">includefiles = [path_platforms]</span><br><span class="line"><span class="comment"># Dependencies are automatically detected, but it might need fine tuning.</span></span><br><span class="line">build_exe_options = &#123;<span class="string">&quot;packages&quot;</span>: [<span class="string">&quot;os&quot;</span>],</span><br><span class="line">                     <span class="string">&quot;excludes&quot;</span>: [<span class="string">&quot;tkinter&quot;</span>],</span><br><span class="line">                     <span class="string">&quot;include_files&quot;</span>: includefiles,&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># GUI applications require a different base on Windows (the default is for a</span></span><br><span class="line"><span class="comment"># console application).</span></span><br><span class="line">base = <span class="literal">None</span></span><br><span class="line"><span class="keyword">if</span> sys.platform == <span class="string">&quot;win64&quot;</span>:</span><br><span class="line">    base = <span class="string">&quot;Win64GUI&quot;</span></span><br><span class="line"></span><br><span class="line">setup(name=<span class="string">&quot;QuickJump&quot;</span>,</span><br><span class="line">      version=<span class="string">&quot;0.9&quot;</span>,</span><br><span class="line">      description=<span class="string">&quot;application!&quot;</span>,</span><br><span class="line">      options=&#123;<span class="string">&quot;build_exe&quot;</span>: build_exe_options&#125;,</span><br><span class="line">      executables=[Executable(<span class="string">&quot;app.py&quot;</span>, base=base)])</span><br></pre></td></tr></table></figure><p>å†<code>python setup.py bdist_msi</code>å³å¯æ‰“åŒ…msiå®‰è£…åŒ…ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç®€è¿°ä¸‹å¦‚ä½•åœ¨Windowsä¸Šç”¨Cx_Freezeæ­£ç¡®æ‰“åŒ…GUIç¨‹åº&lt;/p&gt;</summary>
    
    
    
    
    <category term="PyQt5" scheme="https://frankchen.xyz/tags/PyQt5/"/>
    
  </entry>
  
  <entry>
    <title>Numpyä¸­çš„mask</title>
    <link href="https://frankchen.xyz/2018/07/20/numpy-mask/"/>
    <id>https://frankchen.xyz/2018/07/20/numpy-mask/</id>
    <published>2018-07-20T08:48:48.000Z</published>
    <updated>2018-07-20T09:03:43.000Z</updated>
    
    <content type="html"><![CDATA[<p>numpyä¸­çŸ©é˜µé€‰å–å­é›†æˆ–è€…ä»¥æ¡ä»¶æ›¿æ¢ï¼Œç”¨maskæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•</p><span id="more"></span><p>ç®€å•æ¥è¯´å°±æ˜¯ç”¨boolç±»å‹çš„indiceçŸ©é˜µå»é€‰æ‹©ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mask = np.ones(X.shape[<span class="number">0</span>], dtype=<span class="built_in">bool</span>)</span><br><span class="line">X[mask].shape</span><br><span class="line">mask.shape</span><br><span class="line">mask[indices[<span class="number">0</span>]] = <span class="literal">False</span></span><br><span class="line">mask.shape</span><br><span class="line">X[mask].shape</span><br><span class="line">X[~mask].shape</span><br><span class="line">(<span class="number">678</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">678</span>,)</span><br><span class="line">(<span class="number">678</span>,)</span><br><span class="line">(<span class="number">675</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚æˆ‘ä»¬è¿™é‡Œç”¨æ¥é€‰å–å…¨éƒ¨ç‚¹ä¸­KNNé€‰å–çš„ç‚¹ä»¥åŠæ‰€æœ‰å‰©ä½™çš„ç‚¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> NearestNeighbors</span><br><span class="line">nbrs = NearestNeighbors(<span class="number">10</span>).fit(X)</span><br><span class="line">_,indices = nbrs.kneighbors(X)</span><br><span class="line">mask = np.ones(X.shape[<span class="number">0</span>], dtype=<span class="built_in">bool</span>)</span><br><span class="line">mask[indices[<span class="number">0</span>]] = <span class="literal">False</span></span><br><span class="line">plt.scatter(X[mask][:,<span class="number">0</span>],X[mask][:,<span class="number">1</span>],c=<span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">plt.scatter(X[~mask][:,<span class="number">0</span>],X[~mask][:,<span class="number">1</span>],c=<span class="string">&#x27;r&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/images/15320771581233.jpg"></p><p>å¸¦æ¡ä»¶é€‰æ‹©æ›¿æ¢ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦å°†açŸ©é˜µå†…æŸæ¡ä»¶çš„è¡Œç½®æ¢ä¸º888å‰©ä½™ç½®æ¢ä¸º999ï¼Œå¯ä»¥ç›´æ¥ç”¨maskæˆ–è€…å†ç”¨whereä¸€æ­¥æå®šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mask = np.ones(a.shape,dtype=<span class="built_in">bool</span>) <span class="comment">#np.ones_like(a,dtype=bool)</span></span><br><span class="line">mask[indices] = <span class="literal">False</span></span><br><span class="line">a[~mask] = <span class="number">999</span></span><br><span class="line">a[mask] = <span class="number">888</span></span><br><span class="line"><span class="comment">#############</span></span><br><span class="line">np.where(mask, <span class="number">888</span>, <span class="number">999</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;numpyä¸­çŸ©é˜µé€‰å–å­é›†æˆ–è€…ä»¥æ¡ä»¶æ›¿æ¢ï¼Œç”¨maskæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•&lt;/p&gt;</summary>
    
    
    
    
    <category term="Numpy" scheme="https://frankchen.xyz/tags/Numpy/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆæˆ‘æ¯å¤©æ—©ä¸Š5:30èµ·åºŠ</title>
    <link href="https://frankchen.xyz/2018/07/19/Why-I-Wake-Up-at-5-30-am-Every-Morning-And-What-You-Will-Gain-From-Doing-It-Too/"/>
    <id>https://frankchen.xyz/2018/07/19/Why-I-Wake-Up-at-5-30-am-Every-Morning-And-What-You-Will-Gain-From-Doing-It-Too/</id>
    <published>2018-07-19T00:52:23.000Z</published>
    <updated>2018-07-19T01:31:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>å‡ ä¸ªæœˆå‰ï¼Œæˆ‘åšå‡ºä¸€ä¸ªå¯¹æˆ‘æ¥è¯´å®Œå…¨ä¸åˆæ—¶å®œï¼Œå‡ ä¸ªæœˆå†…ä¼šäº§ç”Ÿæ—¥å¸¸å½±å“çš„å†³å®šã€‚</p><p>å†³å®šå°±æ˜¯åœ¨æ¯å¤©æ—©ä¸Š5:30é†’æ¥ã€‚</p><p><img src="/images/15319616493254.gif"></p><span id="more"></span><p>â€œä¸ºä»€ä¹ˆï¼Ÿâ€</p><p>è¿™æ˜¯ä¸€ä¸ªåˆç†çš„é—®é¢˜ã€‚ ï¼ˆæˆ‘å¿…é¡»æ‰¿è®¤ï¼Œæœ‰äº›æ—©æ™¨ï¼Œæˆ‘é—®è‡ªå·±åŒæ ·çš„é—®é¢˜ã€‚ï¼‰</p><p>ä½ æœ‰æ²¡æœ‰é†’è¿‡æ¥è§‰å¾—ä½ å®Œå…¨æ²¡æœ‰äº†ï¼Ÿä½ çå¼€çœ¼ç›ï¼Œä½ å°±ä¼šå› æ€¨æ¨è€Œæˆ˜èƒœã€‚ä½ ä¼šç«‹å³æƒ³è±¡ä½ æ— æƒ…çš„å¾…åŠäº‹é¡¹æ¸…å•ï¼Œä½ èƒŒåçš„ä¸€åˆ‡ï¼Œä»¥åŠæ‰€æœ‰å¿…é¡»è¾¾åˆ°çš„æœ€åæœŸé™ã€‚</p><p>ç»“æœï¼šæ¯å¤©æ—©ä¸Šé†’æ¥ï¼Œå¸Œæœ›ä½ å¯ä»¥åœ¨åºŠä¸Šåº¦è¿‡ä½™ä¸‹çš„ä¸€å¤©ã€‚</p><p>æˆ‘ä¸äº†è§£ä½ ï¼Œä½†åœ¨æˆ‘çš„ä½™ç”Ÿä¸­æ¯å¤©éƒ½å¼€å§‹è¿™æ ·åšï¼Ÿä¸ï¼Œè°¢è°¢ã€‚</p><p>ç„¶åæˆ‘å‘ç°äº†Hal Elrodçš„å¥‡è¿¹æ—©æ™¨ï¼Œä»¥åŠ<a href="http://uk.businessinsider.com/successful-tech-people-who-wake-up-reall-early-2015-8?r=US&IR=T">ä¸€äº›æœ€æˆåŠŸçš„ä¼ä¸šå®¶çš„æ—©æ™¨ä¾‹ç¨‹</a>ã€‚</p><p>å¦‚æœæˆåƒä¸Šä¸‡çš„The Miracle Morningç²‰ä¸ï¼Œä»¥åŠåƒRichard Bransonï¼ˆVirginçš„åˆ›å§‹äººå…¼é¦–å¸­æ‰§è¡Œå®˜ï¼‰ï¼ŒTim Cookï¼ˆAppleé¦–å¸­æ‰§è¡Œå®˜ï¼‰ï¼ŒHoward Schulzï¼ˆæ˜Ÿå·´å…‹é¦–å¸­æ‰§è¡Œå®˜ï¼‰å’ŒJack Dorseyï¼ˆTwitteråˆ›å§‹äººå…¼é¦–å¸­æ‰§è¡Œå®˜ï¼‰ç­‰äººå’Œå¹¿åœºï¼‰åŠªåŠ›åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¿…é¡»æœ‰ä¸€äº›ä¸œè¥¿ï¼Œå¯¹å§ï¼Ÿ</p><p>è¿™ä¸æ˜¯ä¸ºäº†åœ¨å¤ªé˜³ä¹‹å‰åœ¨5:30èµ·åºŠï¼ˆæˆ‘å–œæ¬¢æˆ‘çš„åºŠå’Œä¸‹ä¸€ä¸ªäººä¸€æ ·ï¼‰ã€‚è¿™æ˜¯å…³äºæœ‰æ—¶é—´å®Œæˆæ´»åŠ¨ï¼Œè¿™äº›æ´»åŠ¨å·²çŸ¥ä¼šå¯¹æˆ‘ä»¬çš„å¿ƒç†çŠ¶æ€ï¼Œæ•ˆç‡å’Œï¼ˆé¡ºä¾¿æä¸€ä¸‹ï¼‰æˆ‘ä»¬çš„å¹¸ç¦æ°´å¹³äº§ç”Ÿç›¸å½“ç§¯æçš„å½±å“ã€‚</p><p>å¦‚æœä»¥çƒ­æƒ…çš„çƒ­æƒ…å¼€å§‹æ–°çš„ä¸€å¤©ï¼Œå¹¶ä¸”æƒ³è¦å……åˆ†åˆ©ç”¨å®ƒçš„æƒ³æ³•å¸å¼•ä½ ï¼Œè¿™å°±æ˜¯æˆ‘é‡‡ç”¨çš„æƒ¯ä¾‹ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°äº†å“ˆå°”Â·åŸƒå°”ç½—å¾·åœ¨â€œå¥‡è¿¹æ—©æ™¨â€ä¸­æå‡ºçš„å»ºè®®çš„å¯å‘ã€‚<br>ï¼ˆé‡è¦æç¤ºï¼šæ—©ä¸Š5ç‚¹åŠé†’æ¥å¹¶ä¸æ˜¯å¼ºåˆ¶æ€§çš„ã€‚ä¸ºäº†æœ‰æ—¶é—´è¿›è¡Œè¿™äº›æ´»åŠ¨ï¼Œåªéœ€è¦æ¯”å¹³å¸¸æ—©èµ·æ¥å°±è¶³å¤Ÿäº†ã€‚</p><h2 id="æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ"><a href="#æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ" class="headerlink" title="æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ"></a>æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ</h2><p>æˆ‘ä»¬å³å°†è°ˆè®ºå†¥æƒ³ã€‚å…³äºå†¥æƒ³ç›Šå¤„çš„ç§‘å­¦è¯æ®æ­£åœ¨å¢é•¿ã€‚</p><p>å†¥æƒ³ä¸ä¸€å®šæ˜¯ç›˜è…¿ååœ¨åœ°æ¿ä¸Šæ•´æ•´ä¸€ä¸ªå°æ—¶ã€‚ç»å¸¸ç»ƒä¹ äº”åˆ†é’Ÿçš„å†¥æƒ³ä¼šç»™ä½ åŒæ ·çš„å¥½å¤„ã€‚</p><p>æˆ‘æµ‹è¯•äº†ä¸¤ä¸ªå¯ä»¥åœ¨ä¸€å¼€å§‹å°±æŒ‡å¯¼æ‚¨çš„åº”ç”¨ç¨‹åºï¼š</p><ul><li>Headspaceï¼ˆæ— å¯æŒ‘å‰”çš„ç”¨æˆ·ä½“éªŒè®¾è®¡ï¼ï¼‰</li><li>Calmï¼ˆæˆ‘ç›®å‰ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆï¼‰</li></ul><p>åœ¨The Miracle Morningä¸­ï¼ŒHal Elrodç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„æŠ€å·§ï¼š</p><ul><li>æ‰¾ä¸€ä¸ªèˆ’é€‚çš„åœ°æ–¹ï¼Œåç›´ã€‚</li><li>é—­ä¸Šçœ¼ç›æˆ–ç›¯ç€ä½ é¢å‰çš„å›ºå®šç‚¹ã€‚</li><li>ä¸“æ³¨äºä½ çš„å‘¼å¸;ä»ä½ çš„è…¹éƒ¨å¸æ°”ï¼Œé€šè¿‡èƒ¸éƒ¨å‘¼æ°”ã€‚</li><li>æ¬£èµå¹³é™;å°½é‡ä¸“æ³¨äºä½ çš„å‘¼å¸ï¼Œä¸è¦æƒ³å…¶ä»–ä»»ä½•äº‹æƒ…ã€‚å½“ä½ çš„æ€ç»ªå¾˜å¾Šåˆ°æµæµªçš„æ€ç»ªæ—¶ï¼Œä¸è¦æƒŠæ…Œå¤±æªï¼Œå¹³é™åœ°å°†ä½ çš„ç„¦ç‚¹å¸å›ä½ çš„å‘¼å¸ã€‚<br>ä¼˜ç‚¹ï¼š</li></ul><p>ä½ æ„Ÿåˆ°å‹åŠ›å‡è½»ï¼Œä½ è·å¾—äº†å®‰å¿ƒã€‚ç»è¿‡ä¸€äº›ç»ƒä¹ ï¼Œä¸€æ—¦ä½ åœ¨é‚£10åˆ†é’Ÿåé‡æ–°çå¼€çœ¼ç›ï¼Œä½ ä¼šçœŸæ­£æ„Ÿè§‰åˆ°ä½ å¤„äºä¸åŒçš„å¿ƒæ€ã€‚</p><h2 id="å†™"><a href="#å†™" class="headerlink" title="å†™"></a>å†™</h2><p>æ¯å¤©æ—©ä¸ŠèŠ±ç‚¹æ—¶é—´å†™å‡ åˆ†é’Ÿï¼ŒçœŸçš„å¯ä»¥å¸®åˆ°ä½ ã€‚å®ƒå…è®¸æ‚¨è¯„ä¼°æ‚¨çš„å½“å‰çŠ¶æ€ï¼Œå¹¶é‡æ–°å…³æ³¨é‡è¦çš„äº‹æƒ…ã€‚</p><p>ä½ å¯ä»¥ï¼Œä¾‹å¦‚ï¼š</p><ul><li>å†™ä¸‹ä½ æ„Ÿæ©çš„ä¸‰ä»¶äº‹ï¼šäº²å¯†çš„æœ‹å‹å’Œå®¶äººï¼Œä¸€äº›å¥½æ¶ˆæ¯ï¼Œç¾å¥½çš„å›å¿†æˆ–æˆå°±ã€‚</li><li>å†™ä¸‹ä½ å½“æ—¶çš„æƒ³æ³•ã€‚</li><li>å†™ä¸‹ä½ æƒ³åœ¨ç™½å¤©å®Œæˆçš„ä¸€åˆ‡ã€‚</li><li>å†™ä¸‹ä¸€æ¡æ¿€åŠ±ä½ æˆ–ä½ æƒ³è¦è®°ä½çš„å¼•è¯­ã€‚</li><li>è®°ä¸‹ä½ æœ€è¿‘å­¦åˆ°çš„ä¸€ä»¶äº‹æˆ–è€…ä½ æœ‰ä¸€ä¸ªé¡¿æ‚Ÿã€‚</li><li>ä¸€å¼€å§‹æˆ‘æ›¾ç»å†™è¿‡ä¸€ä¸ªç©ºç™½çš„Moleskineç¬”è®°æœ¬ã€‚ç„¶åæˆ‘ä½¿ç”¨äº†ä¸€ç§ç‰¹æ®Šçš„æ—¥è®°ï¼ˆä¸æ˜¯é‚£äº›14å²å°å­©ç”¨çš„å°å¿ƒè„çš„æ—¥è®°ï¼‰ã€‚ä»Šå¤©ï¼Œæˆ‘æ­£åœ¨åˆ¶ä½œè‡ªå·±çš„æœŸåˆŠã€‚å®ƒå°†æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å¸ƒå±€ï¼Œæˆ‘å¯ä»¥å›ç­”é¢„å®šä¹‰çš„æ¯æ—¥é—®é¢˜ã€‚</li></ul><p>ä¼˜ç‚¹ï¼š</p><p>ä½ ä¼šæ„Ÿåˆ°æ›´å¿«ä¹ï¼Œæ›´ä¸“æ³¨ã€‚åšè¿™ä¸ªç»ƒä¹ ä¹Ÿå¯ä»¥å¸®åŠ©ä½ è®°å½•ä½ çš„è¿›æ­¥ï¼Œä»¥åŠä½ ç”Ÿæ´»ä¸­æ‰€æœ‰ç§¯æçš„äº‹æƒ…ã€‚</p><h2 id="æé†’è‡ªå·±ä½ çš„ç›®æ ‡"><a href="#æé†’è‡ªå·±ä½ çš„ç›®æ ‡" class="headerlink" title="æé†’è‡ªå·±ä½ çš„ç›®æ ‡"></a>æé†’è‡ªå·±ä½ çš„ç›®æ ‡</h2><p>æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚æ‚¨å¯ä»¥é€‰æ‹©å…¶ä¸­ä¹‹ä¸€æˆ–ä¸‰è€…çš„ç»„åˆã€‚</p><ul><li>èª“è¯ã€‚è¿™äº›æ˜¯å¯é‡å¤çš„çŸ­è¯­ï¼Œæè¿°äº†æ‚¨æƒ³æˆä¸ºçš„äººã€‚</li><li>å¯è§†åŒ–ã€‚æƒ³è±¡ä¸€ä¸‹è‡ªå·±æ­£åœ¨å®Œæˆä½ æƒ³è¦å®Œæˆçš„äº‹æƒ…ï¼Œäº«å—ç¾å¥½çš„ä¸€å¤©ã€‚æƒ³è±¡å¹¶æƒ³è±¡æ‚¨å°†ä½“éªŒåˆ°çš„æ„Ÿå—ã€‚</li><li>æé†’ç›®æ ‡ã€‚è¿™æ˜¯æŠ½å‡ºæˆ‘ä»¬ä¹‹å‰è®¨è®ºè¿‡çš„æ¯å‘¨å·¥ä½œè¡¨çš„æ—¶åˆ»ã€‚æ‚¨è¿˜å¯ä»¥èŠ±ç‚¹æ—¶é—´å†™ä¸‹æ‚¨çš„ç›®æ ‡å¹¶æé†’æ‚¨è‡ªå·±æƒ³è¦å®Œæˆå®ƒä»¬çš„åŸå› ã€‚ä¾‹å¦‚ï¼šâ€œä¸å®¶äººå…±åº¦ç¾å¥½çš„ä¸€å¤© - å› ä¸ºä»–ä»¬æ˜¯æˆ‘çš„é¦–è¦ä»»åŠ¡ã€‚â€<br>æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°è‚¯å®šå’Œå¯è§†åŒ–æ—¶çš„åˆæ­¥ååº”ï¼š<br>ï¼ˆèµ·åˆæˆ‘æœ‰ä¸€ç‚¹è‚¯å®šå’Œå¯è§†åŒ–æ–¹é¢æœ‰ç‚¹éº»çƒ¦ã€‚å½“ä½ æœ€åˆå¼€å§‹å°è¯•å®ƒä»¬æ—¶ï¼Œä½ ä¼šæ„Ÿè§‰åˆ°ä½ å·²ç»è½åœ¨å…¶ä¸­ä¸€ä¸ªç¾å›½å¤§ä¼šçš„ä¸­é—´ï¼Œåœ¨é‚£é‡Œæ¼”è®²è€…å‘Šè¯‰ä½ ä½ æ˜¯å¤šä¹ˆç¾å¦™ï¼Œä»¥åŠå¦‚ä½•æ”¹å˜ä¸–ç•Œâ€¦ä½†æœ€ç»ˆï¼Œæˆ‘å·²ç»ä¹ æƒ¯äº†ä»–ä»¬ã€‚ï¼‰</li></ul><h2 id="åŠ¨èµ·æ¥-ï¼"><a href="#åŠ¨èµ·æ¥-ï¼" class="headerlink" title="åŠ¨èµ·æ¥ ï¼"></a>åŠ¨èµ·æ¥ ï¼</h2><p>è¿™æ˜¯æˆ‘æ—¥å¸¸åŠ¨æœºçš„é•œå¤´ï¼å®ƒè®©æˆ‘æƒ³èµ·äº†æˆ‘æƒ³åšä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œä»¥åŠæˆ‘å°†å¦‚ä½•å»åšã€‚</p><p>æˆåŠŸäººå£«ç»å¸¸é”»ç‚¼æ˜¯æœ‰åŸå› çš„ã€‚è¿™æ˜¯å› ä¸ºä»–ä»¬æ„è¯†åˆ°ä»–ä»¬éœ€è¦åœ¨æ¸¸æˆä¸­å¤„äºé¢†å…ˆåœ°ä½ï¼Œä»¥å®ç°ä»–ä»¬çš„ç›®æ ‡ï¼Œå¹¶ä¸”æ¯å¤©éƒ½å……åˆ†å‘æŒ¥ä½œç”¨ã€‚</p><p>è’‚å§†åº“å…‹æ¯å¤©å‡Œæ™¨5ç‚¹å»å¥èº«æˆ¿ï¼Œæˆ–è€…æ°å…‹å¤šå°”è¥¿è·‘10å…¬é‡Œå¼€å§‹ä»–çš„ä¼‘æ¯æ—¥å¹¶ä¸å¥‡æ€ªã€‚</p><p>å¦‚æœæ‚¨æƒ³åœ¨æ²¡æœ‰è´­ä¹°ä»»ä½•è®¾å¤‡çš„æƒ…å†µä¸‹å¼€å§‹ï¼Œæ— éœ€åŠ å…¥å¥èº«æˆ¿ï¼Œä¹Ÿæ²¡æœ‰æ‰¿è¯ºï¼Œæ‚¨å¯ä»¥ä¸¾ä¾‹ï¼š</p><p>å»è·‘æ­¥ï¼Œå³ä½¿ä½ å¼€å§‹10-15åˆ†é’Ÿ<br>åšä¸€ä¸ªç€åçš„ä¸ƒåˆ†é’Ÿè®­ç»ƒï¼ˆä¾‹å¦‚è¿™ä¸ª -  <a href="https://itunes.apple.com/en/app/7-minute-workout/id650762525?mt=8%EF%BC%89">https://itunes.apple.com/en/app/7-minute-workout/id650762525?mt=8ï¼‰</a></p><p>æ¯å¤©æ—©ä¸Šåšä¸€ç‚¹æ˜¯ç†æƒ³çš„ã€‚ä½†æˆ‘å‘ç°æœ€æœ‰ç”¨çš„æ˜¯æ¯éš”ä¸€ä¸ªæ—©æ™¨é”»ç‚¼ä¸€ä¸ªåŠå°æ—¶ã€‚å½“æˆ‘ä¸é”»ç‚¼æ—¶ï¼Œæˆ‘ä¼‘æ¯ã€‚æœ€åï¼Œå½“æˆ‘ä¸å»å¥èº«æˆ¿æ—¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿåš10åˆ†é’Ÿçš„ç‘œä¼½ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><p>æ—©ä¸Šè¿›è¡ŒæŸç§å½¢å¼çš„èº«ä½“æ´»åŠ¨ï¼Œå³ä½¿åªè¿›è¡Œ10åˆ†é’Ÿçš„è¿åŠ¨ï¼Œä¹Ÿå¯ä»¥è®©ä½ å®Œå…¨é†’æ¥ï¼Œæ”¾æ¾å‹åŠ›ï¼Œå……æ»¡æ´»åŠ›ã€‚å“¦æ˜¯çš„ï¼Œå®ƒä¹Ÿå¾ˆå¥åº·ã€‚éå¸¸å¥½ï¼Œå¯¹å§</p><h2 id="è¯»"><a href="#è¯»" class="headerlink" title="è¯»"></a>è¯»</h2><p>æ‚¨å¯ä»¥éšæ„ä½¿ç”¨æ— é™çš„çŸ¥è¯†æ¥æºï¼šä¹¦ç±ã€‚æ— è®ºä½ æƒ³è¦å®Œæˆä»€ä¹ˆï¼šè·‘é©¬æ‹‰æ¾ï¼Œè‡´å¯Œï¼Œç¯æ¸¸ä¸–ç•Œâ€¦â€¦æœ‰å…³äºè¿™ä¸ªä¸»é¢˜çš„ä¹¦ç±å¯ä»¥æä¾›ç›¸å½“å¤§çš„å¸®åŠ©ã€‚</p><p>æ¯å¤©æ—©ä¸Šé˜…è¯»20åˆ†é’Ÿï¼ˆç”šè‡³10åˆ†é’Ÿï¼‰æ„å‘³ç€å¸æ”¶çŸ¥è¯†ï¼Œä½ å¯ä»¥ç«‹å³ä»˜è¯¸å®è·µï¼Œæ›´æ¥è¿‘å®ç°ç›®æ ‡ã€‚</p><p>æˆ‘ç»å¸¸å†™ä¸€äº›å¯¹æˆ‘æ¥è¯´æœ€æœ‰ç”¨çš„ä¹¦ç±æ‘˜è¦ã€‚</p><p>ä¸€äº›å¯¹æˆ‘äº§ç”ŸçœŸæ­£å½±å“çš„ä¹¦ç±çš„ä¾‹å­ï¼š</p><ul><li>Tim Ferrisçš„The 4-Hour Workweekï¼ˆé˜…è¯»å®ƒä»¥å¤§å¤§æé«˜æ‚¨çš„å·¥ä½œæ•ˆç‡ï¼‰</li><li>Dale Carnegie çš„How to Win Friends and Influence People ï¼ˆæ— ç–‘æ˜¯å…³äºäººé™…äº¤å¾€å’Œæƒ…å•†çš„æœ€ä½³ç°å­˜ä¹¦ç±ï¼‰</li><li>Chris Guillebeauçš„The100 Startupï¼ˆå‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨è¿½æ±‚æ¿€æƒ…çš„åŒæ—¶è·å¾—è‰¯å¥½çš„ç”Ÿæ´»ï¼‰</li><li>The Power of Lessï¼šå°†è‡ªå·±é™åˆ¶åœ¨å•†ä¸šå’Œç”Ÿæ´»ä¸­å¿…ä¸å¯å°‘çš„ç¾æœ¯Leo Babautaï¼ˆæ•™ä½ æ¶ˆé™¤ä¸å¿…è¦çš„æ›´å¤šï¼‰</li></ul><p><strong>ğŸ˜ç«™é•¿æ¨èï¼šå¤–æ–‡åŸç‰ˆç”µå­ä¹¦æ¨èä¸‹è½½ç½‘ç«™<a href="http://gen.lib.rus.ec/">Library Genesis</a></strong><br><img src="/images/15319638830117.jpg"></p><p>ä¼˜ç‚¹ï¼š</p><p>ä¸ºä»€ä¹ˆä¸ä»æˆåŠŸäººå£«çš„ç»éªŒä¸­å­¦ä¹ å‘¢ï¼Ÿä½ ä¼šèŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚ä½ ä¼šä¸°å¯Œè‡ªå·±ã€‚é€šè¿‡åˆ†äº«æ‚¨å­¦åˆ°çš„æ‰€æœ‰çŸ¥è¯†ï¼Œæ‚¨å°†èƒ½å¤Ÿå¸®åŠ©èº«è¾¹çš„äººã€‚</p><p>æˆ‘å·²ç»ç»ƒä¹ äº†å‡ ä¸ªæœˆçš„è¿™ç§ä»ªå¼ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¥½å¤„ï¼š</p><ul><li>æˆ‘ä»æœªè¯»è¿‡é‚£ä¹ˆå¤šï¼Œå› æ­¤å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼ ï¼ˆæˆ‘ä¹Ÿåœ¨æ—©æ™¨çš„ä»ªå¼ä¹‹å¤–é˜…è¯»ï¼‰</li><li>æˆ‘ï¼ˆæœ€ç»ˆï¼‰æˆåŠŸåœ°è‡´åŠ›äºå®šæœŸé”»ç‚¼ï¼ˆè¿™ä¸ªå¥‡è¿¹ä¸€ä¸‹ï¼‰</li><li>æˆ‘çŸ¥é“æˆ‘æƒ³å»å“ªé‡Œï¼Œä¸ºä»€ä¹ˆï¼ˆå³ä½¿â€œå¦‚ä½•â€ä»ç„¶å«ç³Šä¸æ¸…ï¼‰<br>é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘åœ¨æ—©ä¸Š6:10å†™äº†è¿™ç¯‡æ–‡ç« ã€‚æˆ‘åˆšåˆšå®Œæˆäº†æ—©ä¸Šçš„ä»ªå¼ï¼Œæˆ‘å·²ç»å¼€å§‹å®Œæˆå½“å¤©çš„ç¬¬ä¸€é¡¹ä»»åŠ¡äº†ï¼šå†™è¿™ç¯‡æ–‡ç« ï¼</li></ul><p>æˆ‘åªèƒ½é¼“åŠ±ä½ ç»™è‡ªå·±æ¯å¤©å¼€å§‹çš„æœºä¼šï¼Œè€Œä¸æ˜¯è¿Ÿåˆ°å’Œå‹åŠ›ï¼Œä½†è¦ç…§é¡¾å¥½è‡ªå·±ï¼Œå……æ»¡åŠ¨åŠ›ï¼Œå¹¶å†³å¿ƒå……åˆ†åˆ©ç”¨æ¯ä¸€åˆ†é’Ÿã€‚</p><h2 id="ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯"><a href="#ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯" class="headerlink" title="ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯"></a>ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯</h2><ul><li>å¯¹äºä½ ä»¬ä¸­é—´çš„æ ¸å¿ƒï¼šæ˜å¤©æ—©ä¸Šæ¯”å¹³å¸¸æå‰ä¸€å°æ—¶è®¾ç½®ä½ çš„é—¹é’Ÿï¼Œå¹¶ä¸”æ¯æ¬¡è¿™äº›æ´»åŠ¨éƒ½è¦åš10åˆ†é’Ÿã€‚</li><li>å¯¹äºé‚£äº›å–œæ¬¢æ…¢æ…¢åšçš„äººï¼šé€‰æ‹©ä¸¤ä¸‰ä¸ªå¯¹ä½ æœ‰å¸å¼•åŠ›çš„ä»»åŠ¡ï¼Œå¹¶æ˜å¤©æ—©ä¸Šå¼€å§‹åšã€‚</li><li>ä»–ä»¬è¯´ï¼Œä¸ºäº†åœ¨ä½ çš„ç”Ÿæ´»ä¸­å»ºç«‹ä¸€ä¸ªæ–°çš„ä¹ æƒ¯ï¼Œä½ å¿…é¡»é€šè¿‡â€œ21å¤©å¤§å…³ã€‚â€å¦‚æœä½ æƒ³å†’é™©ï¼Œä½ çŸ¥é“ä½ å¿…é¡»åšä»€ä¹ˆã€‚</li></ul><h2 id="è¯‘è€…çš„è¯"><a href="#è¯‘è€…çš„è¯" class="headerlink" title="è¯‘è€…çš„è¯"></a>è¯‘è€…çš„è¯</h2><p>æˆ‘å°è¯•äº†è®¸å¤šä¼ è¯´ä¸­å¯¹äºæ—©æœŸæœ‰å¸®åŠ©çš„APPï¼Œè®¸å¤šçš„ç†å¿µåŸºäºå¼ºåˆ¶æ€§çš„è®©ä½ åšä¸€äº›åŠ¨ä½œï¼ˆæ¯”å¦‚å¼ºè¿«æ‰«ç ä½ çš„ç‰™è†ï¼‰æ¥æ¶ˆé™¤ä½ çš„ç¡æ„ï¼Œä¸è¿‡æˆ‘è®¤ä¸ºè¿™ç§ç†å¿µæœ¬æ¥å°±æ˜¯ä¸å¯¹çš„ï¼Œæƒ¹æ€¥äº†ç”¨æˆ·è¦ç¡åˆ äº†APPä¸å°±è¡Œäº†ï¼Ÿï¼ğŸ˜‚<br>ç°åœ¨æˆ‘ç”¨çš„æ„Ÿè§‰å¾ˆæˆåŠŸçš„ä¸€æ¬¾APPå«åš<a href="https://www.sleepcycle.com/">Sleep Cycle alarm clock</a>ï¼ŒåŸºäºåœ¨ä½ æµ…ç¡çœ çš„æ—¶å€™å«é†’çš„è¿™ä¸ªç†å¿µï¼Œä¿è¯é—¹é“ƒå“èµ·çš„æ—¶å€™èµ·åºŠæ¦‚ç‡è¶…é«˜ï¼<br>æ¯”å¦‚ä¸‹å›¾ï¼Œæˆ‘å®šäº†5ï¼š30çš„é—¹é’Ÿï¼Œé‚£ä¹ˆAPPä¼šæ¢æµ‹æˆ‘åœ¨5ï¼š00~5ï¼š30ä¹‹é—´çš„ä¸€ä¸ªæµ…ç¡çœ æ—¶åˆ»å«é†’æˆ‘ã€‚<br><img src="/images/15319625280582.jpg"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.huffingtonpost.com/entry/why-i-wake-up-at-530-am-e_b_8055880">Why I Wake Up at 5:30 am Every Morning (And What You Will Gain From Doing It Too) | HuffPost</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‡ ä¸ªæœˆå‰ï¼Œæˆ‘åšå‡ºä¸€ä¸ªå¯¹æˆ‘æ¥è¯´å®Œå…¨ä¸åˆæ—¶å®œï¼Œå‡ ä¸ªæœˆå†…ä¼šäº§ç”Ÿæ—¥å¸¸å½±å“çš„å†³å®šã€‚&lt;/p&gt;
&lt;p&gt;å†³å®šå°±æ˜¯åœ¨æ¯å¤©æ—©ä¸Š5:30é†’æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15319616493254.gif&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="chicken-soup" scheme="https://frankchen.xyz/tags/chicken-soup/"/>
    
  </entry>
  
  <entry>
    <title>Datacamp Git ç¬”è®°</title>
    <link href="https://frankchen.xyz/2018/07/13/Datacamp-Git-Nones/"/>
    <id>https://frankchen.xyz/2018/07/13/Datacamp-Git-Nones/</id>
    <published>2018-07-13T09:14:07.000Z</published>
    <updated>2018-07-19T03:35:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å…¥äº†<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.11752e8diqYgI7&id=565426495436&_u=dn2i5bf6736">elecomI Padè´´è†œ</a>åç”¨iPadå†™å­—æ„Ÿè§‰è¶…æ£’ï¼ğŸ±<br>è¿™é‡Œæ˜¯ä¸€æ®µDataCampä¸Šçš„Gitè¯¾ç¨‹çš„ç¬”è®°ï¼Œå½“ç„¶è¿™æ˜¯å…è´¹è¯¾ç¨‹ï¼Œå…¶å®æˆ‘é¢†å–<a href="http://www.10tiao.com/html/407/201801/2650545581/1.html">å¾®è½¯é€çš„çš„ä¸¤æœˆDataCampä¼šå‘˜</a>è¿‡æœŸäº†ã€‚ã€‚ã€‚ğŸ˜¡</p><span id="more"></span><p>è¿™å°±æ˜¯[elecomI çš„Padè´´è†œ]<br><img src="/images/15319713559370.jpg"></p><p><img src="/images/IMG_0150.png" alt="IMG_0150"><br><img src="/images/IMG_0151.png" alt="IMG_0151"></p><p>åç»­æœ‰æ›´æ–°å†è¡¥å……~</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘å…¥äº†&lt;a href=&quot;https://item.taobao.com/item.htm?spm=a1z09.2.0.0.11752e8diqYgI7&amp;id=565426495436&amp;_u=dn2i5bf6736&quot;&gt;elecomI Padè´´è†œ&lt;/a&gt;åç”¨iPadå†™å­—æ„Ÿè§‰è¶…æ£’ï¼ğŸ±&lt;br&gt;è¿™é‡Œæ˜¯ä¸€æ®µDataCampä¸Šçš„Gitè¯¾ç¨‹çš„ç¬”è®°ï¼Œå½“ç„¶è¿™æ˜¯å…è´¹è¯¾ç¨‹ï¼Œå…¶å®æˆ‘é¢†å–&lt;a href=&quot;http://www.10tiao.com/html/407/201801/2650545581/1.html&quot;&gt;å¾®è½¯é€çš„çš„ä¸¤æœˆDataCampä¼šå‘˜&lt;/a&gt;è¿‡æœŸäº†ã€‚ã€‚ã€‚ğŸ˜¡&lt;/p&gt;</summary>
    
    
    
    
    <category term="git" scheme="https://frankchen.xyz/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Linuxä¸Šé‡æ–°æ˜ å°„Winï¼ŒCtrlå’ŒAlté”®</title>
    <link href="https://frankchen.xyz/2018/07/12/remap-win-ctrl-and-alt-keys-on-linux/"/>
    <id>https://frankchen.xyz/2018/07/12/remap-win-ctrl-and-alt-keys-on-linux/</id>
    <published>2018-07-12T08:43:42.000Z</published>
    <updated>2018-07-12T08:54:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç”¨æƒ¯äº†Macä¸Šçš„CMD + * ç­‰æ“ä½œï¼Œå°±ä¹ æƒ¯äº†å·¦æ‰‹å¤§æ‹‡æŒ‡è¿™ä¸ªç»„åˆé”®æ“ä½œäº†ï¼Œåˆ‡æ¢åˆ°Linuxä¸Šå¿…é¡»è¦Ctrlå„ç§å°æŒ‡ä¸èˆ’æœã€‚ã€‚ã€‚å€¼å¾—ä¸€æçš„æ˜¯Macä¸Šå·¦ä¾§æŒ‰é”®é¡ºåºæ˜¯controlã€alt/optionã€commandï¼ŒUbuntuåˆ™æ˜¯controlã€superã€altï¼ŒWindowsåˆ™æ˜¯controlã€Winã€altã€‚è¿™é‡Œæˆ‘ä»¬æ–¹ä¾¿Macç”¨æˆ·èµ·è§ï¼Œå°±æŠŠUbuntuçš„controlã€superã€altæ˜ å°„ä¸ºsuperã€altã€control</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.Xmodmap</span><br><span class="line"></span><br><span class="line">clear control</span><br><span class="line">clear mod1</span><br><span class="line">clear mod4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">keycode 37  = Super_L     </span><br><span class="line">! left  Ctrl becomes Super</span><br><span class="line">keycode 64  = Control_L</span><br><span class="line">! left  Alt  becomes Control </span><br><span class="line">keycode 133 = Alt_L Meta_L</span><br><span class="line">! left  Win  becomes Alt</span><br><span class="line">keycode 108 = Control_R</span><br><span class="line">! right Alt  becomes Control </span><br><span class="line">keycode 134 = Alt_R Meta_R</span><br><span class="line">! right Win  becomes Alt</span><br><span class="line">keycode 105 = Super_R</span><br><span class="line">! right Ctrl becomes Super</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">add control = Control_L Control_R</span><br><span class="line">add mod1 = Alt_L Meta_L</span><br><span class="line">add mod4 = Super_L Super_R</span><br></pre></td></tr></table></figure><p>å†<code>xmodmap ~/.Xmodmap</code>å³å¯ï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç”¨æƒ¯äº†Macä¸Šçš„CMD + * ç­‰æ“ä½œï¼Œå°±ä¹ æƒ¯äº†å·¦æ‰‹å¤§æ‹‡æŒ‡è¿™ä¸ªç»„åˆé”®æ“ä½œäº†ï¼Œåˆ‡æ¢åˆ°Linuxä¸Šå¿…é¡»è¦Ctrlå„ç§å°æŒ‡ä¸èˆ’æœã€‚ã€‚ã€‚å€¼å¾—ä¸€æçš„æ˜¯Macä¸Šå·¦ä¾§æŒ‰é”®é¡ºåºæ˜¯controlã€alt/optionã€commandï¼ŒUbuntuåˆ™æ˜¯controlã€superã€altï¼ŒWindowsåˆ™æ˜¯controlã€Winã€altã€‚è¿™é‡Œæˆ‘ä»¬æ–¹ä¾¿Macç”¨æˆ·èµ·è§ï¼Œå°±æŠŠUbuntuçš„controlã€superã€altæ˜ å°„ä¸ºsuperã€altã€control&lt;/p&gt;</summary>
    
    
    
    
    <category term="Linux" scheme="https://frankchen.xyz/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Mac åŒå¼€ ss æ–¹æ³•</title>
    <link href="https://frankchen.xyz/2018/05/31/dual-ss-on-mac/"/>
    <id>https://frankchen.xyz/2018/05/31/dual-ss-on-mac/</id>
    <published>2018-05-31T11:24:17.000Z</published>
    <updated>2018-07-12T09:25:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªä»£ç†ï¼Œè­¬å¦‚ä¸€ä¸ªç”¨æ¥è¿éœ€è¦ç»è¿‡è·³æ¿æœºä»£ç†çš„é›†ç¾¤æœåŠ¡ï¼Œä¸€ä¸ªåˆ™ç”¨æ¥ç§‘å­¦ä¸Šç½‘ï¼Œä¸åœåˆ‡æ¢éº»çƒ¦ä¸”ä»£ä»·æ¯”è¾ƒé«˜ï¼Œé‚£æˆ‘ä»¬é™¤äº†ShadowsocksX-NGå®¢æˆ·ç«¯ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼å†å¼€å¯ä¸€ä¸ªï¼Œ</p><span id="more"></span><p><img src="/images/15277663104280.jpg"></p><p><img src="/images/15277666370736.jpg"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨Homebrewå®‰è£…</span></span><br><span class="line">brew install shadowsocks-libev</span><br><span class="line"><span class="comment"># ç¼–è¾‘é…ç½®ä¿¡æ¯</span></span><br><span class="line">sudo vim /usr/<span class="built_in">local</span>/etc/shadowsocks-libev.json</span><br><span class="line"><span class="comment"># æ ¼å¼å¦‚ä¸‹ï¼Œæ³¨æ„ä¸ShadowsocksX-NGçš„local_portä¹Ÿå°±æ˜¯socks5ä¸åŒ</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;server&quot;</span>:<span class="string">&quot;107.167.185.234&quot;</span>,</span><br><span class="line">    <span class="string">&quot;server_port&quot;</span>:11499,</span><br><span class="line">    <span class="string">&quot;local_port&quot;</span>:1079,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>:<span class="string">&quot;xxxxxxxx&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timeout&quot;</span>:600,</span><br><span class="line">    <span class="string">&quot;method&quot;</span>:<span class="string">&quot;aes-256-gcm&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># é‡å¯ shadowsocks-libevï¼Œä¼šè‡ªåŠ¨æ·»åŠ å¼€æœºè‡ªå¯</span></span><br><span class="line">brew services restart shadowsocks-libev</span><br></pre></td></tr></table></figure><p>å†åœ¨SwitchyOmegaé‡Œé¢è®¾ç½®ä¸¤ä¸ªä¸åŒçš„ä»£ç†å³å¯ï¼Œ<br><img src="/images/15277663992132.jpg"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªä»£ç†ï¼Œè­¬å¦‚ä¸€ä¸ªç”¨æ¥è¿éœ€è¦ç»è¿‡è·³æ¿æœºä»£ç†çš„é›†ç¾¤æœåŠ¡ï¼Œä¸€ä¸ªåˆ™ç”¨æ¥ç§‘å­¦ä¸Šç½‘ï¼Œä¸åœåˆ‡æ¢éº»çƒ¦ä¸”ä»£ä»·æ¯”è¾ƒé«˜ï¼Œé‚£æˆ‘ä»¬é™¤äº†ShadowsocksX-NGå®¢æˆ·ç«¯ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼å†å¼€å¯ä¸€ä¸ªï¼Œ&lt;/p&gt;</summary>
    
    
    
    
    <category term="Mac" scheme="https://frankchen.xyz/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>ä» Hive è·å–æ•°æ®åˆ°æœ¬åœ°çš„æ–¹æ³• ğŸ¦„</title>
    <link href="https://frankchen.xyz/2018/05/03/get-table-from-spark/"/>
    <id>https://frankchen.xyz/2018/05/03/get-table-from-spark/</id>
    <published>2018-05-03T12:51:14.000Z</published>
    <updated>2018-08-21T09:34:02.661Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬ä½¿ç”¨pyspark è¯»å–Hiveé‡Œçš„è¡¨æ ¼ï¼Œå­˜å‚¨åˆ°HDFSï¼Œå†getåˆ°è·³æ¿æœºï¼Œå†rsyncåˆ°æœ¬åœ°ï¼Œå†ç”¨daskè¯»å–ä¸ºDataframeã€‚</p><span id="more"></span><h2 id="ç¬¬ä¸€ç‰ˆ"><a href="#ç¬¬ä¸€ç‰ˆ" class="headerlink" title="ç¬¬ä¸€ç‰ˆ"></a>ç¬¬ä¸€ç‰ˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">1</span> <span class="keyword">from</span> pyspark.sql <span class="keyword">import</span> *</span><br><span class="line"> <span class="number">2</span> <span class="keyword">import</span> pyspark</span><br><span class="line"> <span class="number">3</span> <span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"> <span class="number">4</span>     spark = SparkSession.builder.master(<span class="string">&quot;yarn&quot;</span>).appName(<span class="string">&quot;pyspark location process&quot;</span>).enableHiveSupport().getOrCreate()</span><br><span class="line"> <span class="number">5</span>     sc = spark.sparkContext</span><br><span class="line"> <span class="number">6</span>    <span class="comment"># spark.sql(&#x27;show databases&#x27;).show()</span></span><br><span class="line"> <span class="number">7</span>     spark.sql(<span class="string">&#x27;use annals&#x27;</span>).show()</span><br><span class="line"> <span class="number">8</span>    <span class="comment"># spark.sql(&#x27;describe gps2&#x27;).show()</span></span><br><span class="line"> <span class="number">9</span>     spark.sql(<span class="string">&#x27;select * from gps2 limit 1&#x27;</span>).show()</span><br><span class="line"><span class="number">10</span>     sql_df = spark.sql(<span class="string">&#x27;select uid, lat, lgt, app_adjust_time from gps2 limit 5&#x27;</span>)</span><br><span class="line"><span class="number">11</span>     <span class="comment">#sql_df.show()</span></span><br><span class="line"><span class="number">12</span>     <span class="built_in">print</span>(<span class="built_in">type</span>(sql_df))</span><br><span class="line"><span class="number">13</span>     sql_df.write.save(<span class="string">&quot;data/GrMWKfDj9eIjsRuh.parquet&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒç‰ˆ"><a href="#ç¬¬äºŒç‰ˆ" class="headerlink" title="ç¬¬äºŒç‰ˆ"></a>ç¬¬äºŒç‰ˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># find pyspark and import</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> gc </span><br><span class="line">os.environ[<span class="string">&#x27;SPARK_HOME&#x27;</span>] = <span class="string">&quot;/opt/cloudera/parcels/SPARK2/lib/spark2&quot;</span></span><br><span class="line">sys.path.append(os.path.join(<span class="string">&quot;/home/ubuntu/data/pythonpackage&quot;</span>))</span><br><span class="line">sys.path.append(os.path.join(os.environ[<span class="string">&#x27;SPARK_HOME&#x27;</span>], <span class="string">&quot;python&quot;</span>))</span><br><span class="line">sys.path.append(os.path.join(os.environ[<span class="string">&#x27;SPARK_HOME&#x27;</span>], <span class="string">&quot;python/lib/py4j-0.10.6-src.zip&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">from</span> pyspark <span class="keyword">import</span> SparkContext</span><br><span class="line">    <span class="keyword">from</span> pyspark.sql <span class="keyword">import</span> SparkSession</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> pyspark <span class="keyword">import</span> SparkConf</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;success&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> ImportError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;error importing spark modules&quot;</span>, e)</span><br><span class="line">    sys.exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#   SparkSessionåˆå§‹åŒ–</span></span><br><span class="line">spark = SparkSession \</span><br><span class="line">    .builder \</span><br><span class="line">    .master(<span class="string">&quot;yarn&quot;</span>) \</span><br><span class="line">    .appName(<span class="string">&quot;gps&quot;</span>) \</span><br><span class="line">    .config(<span class="string">&quot;spark.submit.deployMode&quot;</span>,<span class="string">&quot;client&quot;</span>) \</span><br><span class="line">    .config(<span class="string">&quot;num-executors&quot;</span>, <span class="number">5</span>) \</span><br><span class="line">    .config(<span class="string">&quot;executor-cores&quot;</span>, <span class="number">4</span>) \</span><br><span class="line">    .config(<span class="string">&quot;executor-memory&quot;</span>, <span class="string">&quot;2g&quot;</span>) \</span><br><span class="line">    .config(<span class="string">&quot;driver-memory&quot;</span>, <span class="string">&quot;1g&quot;</span>) \</span><br><span class="line">    .enableHiveSupport() \</span><br><span class="line">    .getOrCreate() </span><br><span class="line">sc = spark.sparkContext</span><br><span class="line"></span><br><span class="line"><span class="comment"># spark sqlï¼Œå¾—åˆ°dataframe</span></span><br><span class="line">df = spark.sql(<span class="string">&quot;SELECT * FROM tmp.czn_userlocation_filteredby_black&quot;</span>)</span><br><span class="line">df.printSchema()</span><br><span class="line">df.show(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™åˆ°hdfsä¸Šï¼Œparquetæ ¼å¼</span></span><br><span class="line">df.write.parquet(<span class="string">&quot;/user/akulaku/czn_userlocation_filteredby_black.parquet&quot;</span>) </span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±åœ¨hdfsä¸Šå¾—åˆ°äº†ä¸€ä»½parquetæ ¼å¼çš„æ–‡ä»¶ã€‚</p><h2 id="ç¬¬ä¸‰ç‰ˆ"><a href="#ç¬¬ä¸‰ç‰ˆ" class="headerlink" title="ç¬¬ä¸‰ç‰ˆ"></a>ç¬¬ä¸‰ç‰ˆ</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨hiveæˆ–è€…impalaä¸Šå»ºè¡¨ï¼Œä¾‹å¦‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create table tmp.czn_usersensorlog_of_may as SELECT uid, apptime, value0, value1, value2 FROM ods.usersensorlog WHERE month = <span class="string">&quot;2018_05&quot;</span> </span><br></pre></td></tr></table></figure><p><code>show create table tmp.czn_usersensorlog_of_may</code><br><code>CREATE TABLE tmp.czn_usersensorlog_of_may (   uid BIGINT,   apptime BIGINT,   value0 FLOAT,   value1 FLOAT,   value2 FLOAT ) STORED AS TEXTFILE LOCATION &#39;hdfs://nameservice1/user/hive/warehouse/tmp.db/czn_usersensorlog_of_may&#39; </code></p><h2 id="ç¬¬å››ç‰ˆ"><a href="#ç¬¬å››ç‰ˆ" class="headerlink" title="ç¬¬å››ç‰ˆ"></a>ç¬¬å››ç‰ˆ</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æŒ‡å®šè¡¨çš„æ ¼å¼ä¸ºparquetï¼Œè¿™æ ·æœ‰åˆ©äºç”¨pandasæˆ–è€…daskè¯»å–ï¼Œé‚£ä¹ˆå¯ä»¥å¦‚ä¸‹è®¾ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆå»ºè¡¨å†æ’å…¥æ•°æ®ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">drop table <span class="keyword">if</span> exists tmp.czn_userlocation_tmp_test;</span><br><span class="line">CREATE TABLE tmp.czn_userlocation_tmp_test </span><br><span class="line">(   </span><br><span class="line">uid BIGINT,</span><br><span class="line">lat <span class="built_in">float</span>,</span><br><span class="line">lgt <span class="built_in">float</span>,</span><br><span class="line">apptime BIGINT,</span><br><span class="line">)</span><br><span class="line">STORED AS PARQUET</span><br><span class="line">TBLPROPERTIES (<span class="string">&#x27;parquet.compression&#x27;</span>=<span class="string">&#x27;SNAPPY&#x27;</span>);</span><br><span class="line"></span><br><span class="line">insert OVERWRITE TABLE tmp. czn_userlocation_tmp_test</span><br><span class="line">SELECT  uid, lat, lgt,  apptime </span><br><span class="line">from kafka_table.userlocation2 </span><br><span class="line">WHERE apptime between 1532156404000 and 1532156764000;</span><br></pre></td></tr></table></figure><p>å¾—åˆ°äº†hdfsè·¯å¾„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨hdfså‘½ä»¤get</p><p>æ­¤æ—¶æ•°æ®åªæ˜¯åœ¨hdfsä¸Šï¼Œæˆ‘ä»¬è¦ä¸‹è½½è¿˜éœ€è¦å°†æ•°æ®ä»hdfs å¤åˆ¶åˆ°è·³æ¿æœºï¼Œ</p><p><code>hadoop fs -get /user/akulaku/czn_userlocation_filteredby_black.parquet chenzn/</code></p><p>å†scp ä¹‹ç±»çš„ å¤åˆ¶åˆ°æœ¬åœ°å³å¯ï¼Œä¸è¿‡ç›¸æ¯”scpï¼Œrsyncæ›´é€‚åˆä¼ è¾“parquetï¼Œä¾‹å¦‚ï¼Œå¯ä»¥å‹ç¼©ï¼Œæ–­ç‚¹ç»­ä¼ ç­‰ç­‰ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -P -z -r -e ssh akulaku@cdh-master4:~/chenzn/czn_userlocation_filteredby_black.parquet ~</span><br></pre></td></tr></table></figure><p>parquetæ ¼å¼æ–‡ä»¶çš„è¯»å–å¯ä»¥ä½¿ç”¨daskï¼Œå¹¶é€‰æ‹©â€˜pyarrowâ€™å¼•æ“ï¼Œå¯ä»¥é¡ºåˆ©è¯»å–è¶…è¿‡å†…å­˜çš„æ•°æ®ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dask.dataframe <span class="keyword">as</span> dd</span><br><span class="line">df = dd.read_parquet(file_path, engine=<span class="string">&#x27;pyarrow&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><p>rsyncå…¶ä¸­å‚æ•°å¦‚ä¸‹ï¼Œå‚è€ƒè‡ª<a href="https://kyup.com/tutorials/copy-files-rsync-ssh/">How to copy files with rsync over SSH - Tutorials For Kyup.com</a>ï¼š</p><ul><li>â€“delete - delete files that donâ€™t exist on sender (system)</li><li>-v - verbose (-vv will provide more detailed information)</li><li>-e â€œssh optionsâ€ - specify the ssh as remote shell</li><li>-a - archive mode - it preserves permissions (owners, groups), times, symbolic links, and devices</li><li>-r - recurse into directories</li><li>-z - compress file data during transfer</li><li>â€“exclude â€˜foldernameâ€™ â€“ excludes the corresponding folder from transfer</li><li>-P â€“ show progress during transfer</li></ul><p>ğŸ¶ğŸ’</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨pyspark è¯»å–Hiveé‡Œçš„è¡¨æ ¼ï¼Œå­˜å‚¨åˆ°HDFSï¼Œå†getåˆ°è·³æ¿æœºï¼Œå†rsyncåˆ°æœ¬åœ°ï¼Œå†ç”¨daskè¯»å–ä¸ºDataframeã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="spark" scheme="https://frankchen.xyz/tags/spark/"/>
    
  </entry>
  
  <entry>
    <title>Mac é€šè¿‡ socks5 ä»£ç† è¿æ¥ ssh çš„æ–¹æ³•ğŸ†</title>
    <link href="https://frankchen.xyz/2018/05/03/mac-ssh-through-socks5-proxy/"/>
    <id>https://frankchen.xyz/2018/05/03/mac-ssh-through-socks5-proxy/</id>
    <published>2018-05-03T09:08:10.000Z</published>
    <updated>2018-05-03T09:15:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç»è¿‡ä¸€ç•ªç—›è‹¦çš„æŠ˜è…¾ï¼Œæˆ‘æ‰å‘ç°**socks,httpä»£ç†ç­‰ä½¿ç”¨çš„æ˜¯TCPæˆ–UDPåè®®, è€Œpingå‘½ä»¤åˆ™æ˜¯ICMPåè®®, æ‰€ä»¥proxychains4å¯¹pingå‘½ä»¤æ— æ•ˆ.**ï¼Œæœ€ç»ˆåˆæŠ˜è…¾è¿‡tsocksç­‰å’Œproxychainsä¸€æ ·å¾·è¡Œçš„ä»¥åï¼Œæœ€ç»ˆåœ¨ä¸‡èƒ½çš„Stack Overflowæ‰¾åˆ°<a href="https://serverfault.com/questions/315605/ssh-through-a-socks-proxy-client-openssh-os-x">ç­”æ¡ˆ</a>ï¼šå³é€šè¿‡NetCat (nc)è¿æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">Host 52.* <span class="comment"># è¿™é‡Œå¯ä»¥é€šé…ä¹Ÿå¯ä»¥æŒ‡å®šIP</span></span><br><span class="line">    ProxyCommand nc -X 5 -x 127.0.0.1:1079 %h %p</span><br><span class="line">    <span class="comment"># &quot;5&quot; æ˜¯ SOCKS 5, &quot;1079&quot; æ˜¯æœ¬åœ°socksç«¯å£</span></span><br></pre></td></tr></table></figure><p>ä¹‹åç›´æ¥ä½¿ç”¨<code>ssh</code>å‘½ä»¤è¿æ¥å³å¯ğŸ˜ğŸ˜‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç»è¿‡ä¸€ç•ªç—›è‹¦çš„æŠ˜è…¾ï¼Œæˆ‘æ‰å‘ç°**socks,httpä»£ç†ç­‰ä½¿ç”¨çš„æ˜¯TCPæˆ–UDPåè®®, è€Œpingå‘½ä»¤åˆ™æ˜¯ICMPåè®®, æ‰€ä»¥proxychains4å¯¹pingå‘½ä»¤æ— æ•ˆ.**ï¼Œæœ€ç»ˆåˆæŠ˜è…¾è¿‡tsocksç­‰å’Œproxychainsä¸€æ ·å¾·è¡Œçš„ä»¥åï¼Œæœ€ç»ˆåœ¨ä¸‡èƒ½çš„Stack Over</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://frankchen.xyz/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>moving averge æ»‘åŠ¨å¹³å‡</title>
    <link href="https://frankchen.xyz/2018/04/25/moving-averge/"/>
    <id>https://frankchen.xyz/2018/04/25/moving-averge/</id>
    <published>2018-04-25T14:58:46.000Z</published>
    <updated>2018-04-26T03:49:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>moving averge å³æ»‘åŠ¨å¹³å‡ï¼Œæ—¶é—´åºåˆ—å¤„ç†ä¸­å¸¸è§çš„æ–¹æ³•ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šæ•°åˆ—ï¼Œè®¾å®šä¸€ä¸ªçª—å£å€¼Nï¼Œä¾æ¬¡å–ç¬¬1é¡¹<del>ç¬¬Né¡¹ï¼Œç¬¬2é¡¹</del>ç¬¬N+1é¡¹ï¼Œç¬¬3é¡¹~ç¬¬N+2é¡¹çš„å¹³å‡å€¼ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><span id="more"></span><p>æ•°æ®æ¥è‡ª<a href="http://blog.topspeedsnail.com/wp-content/uploads/2016/12/%E9%93%81%E8%B7%AF%E5%AE%A2%E8%BF%90%E9%87%8F.csv">é“è·¯å®¢è¿é‡.csvï¼ˆ2005-2016æœˆåº¦æ•°æ®ï¼‰</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pylab</span><br><span class="line">pylab.style.use(<span class="string">&#x27;bmh&#x27;</span>)</span><br><span class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> rcParams</span><br><span class="line">rcParams[<span class="string">&#x27;figure.figsize&#x27;</span>] = <span class="number">10</span>, <span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moving_average</span>(<span class="params">l, N</span>):</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">result = <span class="built_in">list</span>( <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> l)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>( <span class="number">0</span>, N ):</span><br><span class="line">       <span class="comment"># ä»å·¦åˆ°å³é€æ¸æ·»åŠ indexåœ¨Nä¹‹å†…çš„æ•°å­—</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="built_in">sum</span> + l[i]</span><br><span class="line">result[i] = <span class="built_in">sum</span> / (i+<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>( N, <span class="built_in">len</span>(l) ):</span><br><span class="line">       <span class="comment"># åŠ å…¥æœ€å³è¾¹æ•°å­—å‡å»æœ€å·¦è¾¹æ•°å­—</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="built_in">sum</span> - l[i-N] + l[i]</span><br><span class="line">result[i] = <span class="built_in">sum</span> / N</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä½¿ç”¨æ•ˆç‡æ›´é«˜çš„numpy</span></span><br><span class="line"><span class="comment"># http://stackoverflow.com/questions/13728392/moving-average-or-running-mean</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fast_moving_average</span>(<span class="params">x, N</span>):</span></span><br><span class="line"><span class="keyword">return</span> np.convolve(x, np.ones((N,))/N)[(N-<span class="number">1</span>):]</span><br><span class="line"> </span><br><span class="line">url = <span class="string">&#x27;é“è·¯å®¢è¿é‡.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">df = pd.read_csv(url)  <span class="comment"># python2ä½¿ç”¨StringIO.StringIO</span></span><br><span class="line"> </span><br><span class="line">data = np.array(df[<span class="string">&#x27;é“è·¯å®¢è¿é‡_å½“æœŸå€¼(ä¸‡äºº)&#x27;</span>])</span><br><span class="line"> </span><br><span class="line">dic = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">3</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">20</span>]:</span><br><span class="line">    ma_data = moving_average(data, i)</span><br><span class="line">    dic[i] = ma_data</span><br><span class="line">ma_data_df = pd.DataFrame(dic)</span><br><span class="line"></span><br><span class="line">ma_data_df.plot()</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¶‹åŠ¿é€æ¸å˜å¾—å¹³æ»‘ï¼Œå³å¯¹å±€éƒ¨éœ‡è¡ä¸æ•æ„Ÿã€‚</p><p><img src="/images/download.png" alt="download"></p><p>ä½¿ç”¨numpy.convolveæ˜¯ä¸€ç§æ›´æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯å…¶æœ‰ä¸‰ç§modeï¼Œåˆ†åˆ«æ˜¯â€™fullâ€™ï¼ˆå•ä¸ªé‡å ä¹Ÿè®¡ç®—ï¼‰, â€˜sameâ€™ï¼ˆå¼ºåˆ¶ç­‰é•¿ï¼‰, â€˜validâ€™ï¼ˆå®Œå…¨é‡å ï¼‰ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fast_moving_average</span>(<span class="params">x, N, mode</span>):</span></span><br><span class="line"><span class="comment"># return np.convolve(x, np.ones((N,))/N, mode=&#x27;valid&#x27;)[(N-1):]</span></span><br><span class="line"><span class="keyword">return</span> np.convolve(x, np.ones((N,))/N, mode=mode)</span><br><span class="line">dic = &#123;&#125;</span><br><span class="line">modes = [<span class="string">&#x27;full&#x27;</span>, <span class="string">&#x27;same&#x27;</span>, <span class="string">&#x27;valid&#x27;</span>]</span><br><span class="line">i = <span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> mode <span class="keyword">in</span> modes:</span><br><span class="line">    ma_data = fast_moving_average(data, i, mode)</span><br><span class="line">    pylab.plot(ma_data)</span><br><span class="line">pylab.legend(modes)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/images/download%20-1-.png" alt="download -1-"></p><p>å‚è€ƒè‡ªæ–—å¤§ç†Šçš„åšå®¢<a href="http://blog.topspeedsnail.com/archives/11022">MovingAverage-æ»‘åŠ¨å¹³å‡ â€“ WTF Daily Blog</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;moving averge å³æ»‘åŠ¨å¹³å‡ï¼Œæ—¶é—´åºåˆ—å¤„ç†ä¸­å¸¸è§çš„æ–¹æ³•ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šæ•°åˆ—ï¼Œè®¾å®šä¸€ä¸ªçª—å£å€¼Nï¼Œä¾æ¬¡å–ç¬¬1é¡¹&lt;del&gt;ç¬¬Né¡¹ï¼Œç¬¬2é¡¹&lt;/del&gt;ç¬¬N+1é¡¹ï¼Œç¬¬3é¡¹~ç¬¬N+2é¡¹çš„å¹³å‡å€¼ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="time series" scheme="https://frankchen.xyz/tags/time-series/"/>
    
  </entry>
  
  <entry>
    <title>keras ä¸­æ¨¡å‹çš„ä¿å­˜åŠé‡ç”¨</title>
    <link href="https://frankchen.xyz/2018/04/19/keras-reuse-model/"/>
    <id>https://frankchen.xyz/2018/04/19/keras-reuse-model/</id>
    <published>2018-04-19T08:50:00.000Z</published>
    <updated>2018-04-25T11:57:18.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/15135840798621.jpg"><br>æ·±åº¦å­¦ä¹ ä¸­å¦‚ä½•ä¿å­˜æœ€ä½³æ¨¡å‹ï¼Œå¦‚ä½•é‡ç”¨å·²ç»ä¿å­˜çš„æ¨¡å‹ï¼Ÿæœ¬æ–‡ä¸»è¦ä»‹ç»Keras ä¿å­˜åŠé‡ç”¨æ¨¡å‹çš„æ–¹æ³•</p><span id="more"></span><h2 id="ä¿å­˜æ¨¡å‹"><a href="#ä¿å­˜æ¨¡å‹" class="headerlink" title="ä¿å­˜æ¨¡å‹"></a>ä¿å­˜æ¨¡å‹</h2><p>å¦‚ä¸‹ï¼Œæˆ‘ä»¬é¢„å®šä¹‰ä¿å­˜çš„<code>hdf5</code>æ–‡ä»¶åï¼Œå†åˆå§‹åŒ–<code>ModelCheckpoint</code>ï¼Œå°†å…¶åŠ å…¥Kerasçš„callbacké‡Œï¼ˆå³æ¯ä¸ªbatchç»“æŸååšçš„äº‹æƒ…ï¼‰ï¼Œé‚£ä¹ˆæ¨¡å‹å°±ä¼šåœ¨æ¯æ¬¡batchç»“æŸåå¯¹æ¯”ï¼Œä¿å­˜æœ€å¥½çš„æ¨¡å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.callbacks <span class="keyword">import</span> ModelCheckpoint</span><br><span class="line"></span><br><span class="line"><span class="comment"># create model</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line"><span class="comment"># Compile model</span></span><br><span class="line">model.<span class="built_in">compile</span>(...)</span><br><span class="line"><span class="comment"># checkpoint</span></span><br><span class="line">filepath=<span class="string">&quot;weights-&#123;epoch:02d&#125;-&#123;val_acc:.2f&#125;.hdf5&quot;</span></span><br><span class="line">checkpoint = ModelCheckpoint(filepath, monitor=<span class="string">&#x27;val_acc&#x27;</span>, verbose=<span class="number">1</span>, save_best_only=<span class="literal">True</span>, mode=<span class="string">&#x27;max&#x27;</span>)</span><br><span class="line"><span class="comment"># Fit the model</span></span><br><span class="line">model.fit(X, Y, validation_split=<span class="number">0.33</span>, epochs=<span class="number">150</span>, batch_size=<span class="number">10</span>, callbacks=[checkpoint], verbose=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>ç»“æŸåï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸‹çš„ç»“æœï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">weights-53-0.76.hdf5</span><br><span class="line">weights-71-0.76.hdf5</span><br><span class="line">weights-77-0.78.hdf5</span><br><span class="line">weights-99-0.78.hdf5</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬åªæƒ³ä¿å­˜ä¸€ä¸ªæœ€å¥½çš„æ¨¡å‹ï¼Œé‚£ä¹ˆæŠŠä¿å­˜æ–‡ä»¶åå­—å›ºå®šä¸º<code>filepath=&quot;weights.best.hdf5&quot;</code>å³å¯ã€‚</p><h2 id="loadæ¨¡å‹"><a href="#loadæ¨¡å‹" class="headerlink" title="loadæ¨¡å‹"></a>loadæ¨¡å‹</h2><p>æ³¨æ„ï¼Œä¹‹å‰ä¿å­˜çš„åªæ˜¯æ¨¡å‹çš„weightsï¼Œé‡æ–°loadéœ€è¦å†æ¬¡å®šä¹‰æ¨¡å‹ç»“æ„å†load weightså¹¶å†æ¬¡combineï¼Œä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.callbacks <span class="keyword">import</span> ModelCheckpoint</span><br><span class="line"><span class="comment"># create model</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line"><span class="comment"># load weights</span></span><br><span class="line">model.load_weights(<span class="string">&quot;weights.best.hdf5&quot;</span>)</span><br><span class="line"><span class="comment"># Compile model </span></span><br><span class="line">model.<span class="built_in">compile</span>(...)</span><br><span class="line"><span class="comment"># estimate accuracy </span></span><br><span class="line">scores = model.evaluate(X, Y, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125;: &#123;:.2%&#125;&#x27;</span>.<span class="built_in">format</span>(model.metrics_names[<span class="number">1</span>], scores[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure><p>å¦‚æœä¹‹å‰é€‰æ‹©äº†è¿æ¨¡å‹ç»“æ„ä¹Ÿä¸€èµ·ä¿å­˜ï¼ˆå³åœ¨<code>ModelCheckpoint</code>ä¸­é€‰æ‹©<code> save_weights_only=False</code>ï¼‰ï¼Œé‚£ä¹ˆloadå°±å¾ˆç®€å•ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.callbacks <span class="keyword">import</span> ModelCheckpoint</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> load_model</span><br><span class="line"></span><br><span class="line"><span class="comment"># create model</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line"><span class="comment"># Compile model</span></span><br><span class="line">model.<span class="built_in">compile</span>(...)</span><br><span class="line"><span class="comment"># checkpoint</span></span><br><span class="line">filepath=<span class="string">&quot;weights-best.hdf5&quot;</span></span><br><span class="line">checkpoint = ModelCheckpoint(filepath, monitor=<span class="string">&#x27;val_acc&#x27;</span>, verbose=<span class="number">1</span>, save_best_only=<span class="literal">True</span>, mode=<span class="string">&#x27;max&#x27;</span>, save_weights_only=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fit the model</span></span><br><span class="line">model.fit(X, Y, validation_split=<span class="number">0.33</span>, epochs=<span class="number">150</span>, batch_size=<span class="number">10</span>, callbacks=[checkpoint], verbose=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Load the model</span></span><br><span class="line">model= load_model(filepath)</span><br><span class="line">scores=model.evaluate(X, Y,verbose=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125;: &#123;:.2%&#125;&#x27;</span>.<span class="built_in">format</span>(model.metrics_names[<span class="number">1</span>], scores[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/15135840798621.jpg&quot;&gt;&lt;br&gt;æ·±åº¦å­¦ä¹ ä¸­å¦‚ä½•ä¿å­˜æœ€ä½³æ¨¡å‹ï¼Œå¦‚ä½•é‡ç”¨å·²ç»ä¿å­˜çš„æ¨¡å‹ï¼Ÿæœ¬æ–‡ä¸»è¦ä»‹ç»Keras ä¿å­˜åŠé‡ç”¨æ¨¡å‹çš„æ–¹æ³•&lt;/p&gt;</summary>
    
    
    
    
    <category term="Keras" scheme="https://frankchen.xyz/tags/Keras/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£ä¸€ç»´å·ç§¯</title>
    <link href="https://frankchen.xyz/2018/04/17/conv1d-in-keras/"/>
    <id>https://frankchen.xyz/2018/04/17/conv1d-in-keras/</id>
    <published>2018-04-17T07:46:36.000Z</published>
    <updated>2018-04-19T08:50:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç†è§£ä¸€ç»´å·ç§¯</p><span id="more"></span><p>ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ©ç”¨CNNè¿›è¡ŒNLPä¸­çš„æƒ…æ„Ÿåˆ†ç±»çš„ä¾‹å­ï¼Œ<br><img src="/images/15240224514694.png"></p><p>ä¸Šå›¾ä¸­ï¼Œè¾“å…¥ä¸ºè¡¨ç¤ºä¸ºè¯è¡¨ä¸ºd=5ï¼Œé•¿åº¦ä¸º7çš„çŸ©é˜µçš„å¥å­ï¼Œ1Då·ç§¯æ ¸ä¸ºé•¿åº¦åˆ†åˆ«ä¸º(2,3,4)çš„å„ä¸¤ä¸ªï¼Œç»è¿‡å·ç§¯å¹¶æ¿€æ´»å‡½æ•°åï¼Œå„è‡ªäº§ç”Ÿäº†(4x1, 5x1, 6x1)çš„å„ä¸¤ä¸ªfeature mapï¼Œæ¯ä¸ªfeature mapç»è¿‡ä¸€æ¬¡1D max poolingåï¼ˆå³å–æ¯ä¸ªfeature mapçš„æœ€å¤§å€¼ï¼‰å†concatenateä¸ºä¸€ä¸ª6x1çš„1Då‘é‡ï¼Œç»è¿‡ä¸€ä¸ªå…¨è¿æ¥å±‚å†softmaxæ¿€æ´»å³å¯è¿›è¡Œæƒ…æ„Ÿåˆ†ç±»é¢„æµ‹ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç†è§£ä¸€ç»´å·ç§¯&lt;/p&gt;</summary>
    
    
    
    
    <category term="Deep Learning" scheme="https://frankchen.xyz/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>å¤„ç†å¤§æ•°æ®é›†çš„å»ºè®®</title>
    <link href="https://frankchen.xyz/2018/04/10/handle-big-datasets/"/>
    <id>https://frankchen.xyz/2018/04/10/handle-big-datasets/</id>
    <published>2018-04-10T07:07:34.000Z</published>
    <updated>2018-04-10T08:15:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘çš„ä¸€äº›æ¯”èµ›å¦‚<a href="https://www.kaggle.com/c/talkingdata-adtracking-fraud-detection">TalkingData AdTracking Fraud Detection Challenge | Kaggle</a>æä¾›äº†å¾ˆå¤§çš„æ•°æ®é›†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªæœ‰16Gçš„å†…å­˜çš„â€œå°â€ç”µè„‘éƒ½æ— æ³•ç›´æ¥å¤„ç†è¿™ç§æ•°æ®é›†äº†ï¼Œæœ¬æ–‡æ”¶é›†äº†ä¸€äº›å…³äºå¤„ç†è¿™ç§æ•°æ®çš„å»ºè®®ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚</p><span id="more"></span><h2 id="1-åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶"><a href="#1-åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶" class="headerlink" title="1.åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶"></a>1.åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶</h2><p>é€šå¸¸æˆ‘ä»¬åœ¨ç‰¹å¾å·¥ç¨‹ä¸­ä¼šæ¶‰åŠå¤§é‡çš„è½¬æ¢æ“ä½œï¼Œäº§ç”Ÿå¾ˆå¤šçš„ä¸­é—´å˜é‡ç­‰ï¼Œé™¤äº†ä½¿ç”¨<code>del</code>ä»¥å¤–ï¼Œä½¿ç”¨<code>gc.collect()</code>ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">temp = pd.read_csv(<span class="string">&#x27;../input/train_sample.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#do something to the file</span></span><br><span class="line">temp[<span class="string">&#x27;os&#x27;</span>] = temp[<span class="string">&#x27;os&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line"><span class="comment">#delete when no longer needed</span></span><br><span class="line"><span class="keyword">del</span> temp</span><br><span class="line"><span class="comment">#collect residual garbage</span></span><br><span class="line">gc.collect()</span><br></pre></td></tr></table></figure><h2 id="2-é¢„å®šä¹‰æ•°æ®ç±»å‹"><a href="#2-é¢„å®šä¹‰æ•°æ®ç±»å‹" class="headerlink" title="2.é¢„å®šä¹‰æ•°æ®ç±»å‹"></a>2.é¢„å®šä¹‰æ•°æ®ç±»å‹</h2><p>pandasä¸€èˆ¬ä¼šè‡ªå·±æ¨æ–­æ•°æ®ç±»å‹ï¼Œä¸è¿‡å€¾å‘äºä½¿ç”¨è€—è´¹ç©ºé—´å¤§çš„ï¼Œå¦‚ä¸‹é¢ä¾‹å­æ‰€ç¤ºï¼Œé¢„å®šä¹‰æ•°æ®ç±»å‹èŠ‚çœäº†è¶…è¿‡ä¸€åŠçš„ç©ºé—´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">dtypes = &#123;</span><br><span class="line">        <span class="string">&#x27;ip&#x27;</span>            : <span class="string">&#x27;uint32&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;app&#x27;</span>           : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;device&#x27;</span>        : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;os&#x27;</span>            : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;channel&#x27;</span>       : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;is_attributed&#x27;</span> : <span class="string">&#x27;uint8&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">dtypes2 = &#123;</span><br><span class="line">        <span class="string">&#x27;ip&#x27;</span>            : <span class="string">&#x27;int32&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;app&#x27;</span>           : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;device&#x27;</span>        : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;os&#x27;</span>            : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;channel&#x27;</span>       : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;is_attributed&#x27;</span> : <span class="string">&#x27;int8&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">train = pd.read_csv(train_sample_file,parse_dates=[<span class="string">&#x27;click_time&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#check datatypes:</span></span><br><span class="line">train.info()</span><br><span class="line"></span><br><span class="line">train = pd.read_csv(train_sample_file,dtype=dtypes,parse_dates=[<span class="string">&#x27;click_time&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#check datatypes:</span></span><br><span class="line">train.info()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train = pd.read_csv(train_sample_file,dtype=dtypes2,parse_dates=[<span class="string">&#x27;click_time&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#check datatypes:</span></span><br><span class="line">train.info()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 100000 entries, 0 to 99999</span></span><br><span class="line"><span class="string">Data columns (total 8 columns):</span></span><br><span class="line"><span class="string">ip                 100000 non-null int64</span></span><br><span class="line"><span class="string">app                100000 non-null int64</span></span><br><span class="line"><span class="string">device             100000 non-null int64</span></span><br><span class="line"><span class="string">os                 100000 non-null int64</span></span><br><span class="line"><span class="string">channel            100000 non-null int64</span></span><br><span class="line"><span class="string">click_time         100000 non-null datetime64[ns]</span></span><br><span class="line"><span class="string">attributed_time    227 non-null object</span></span><br><span class="line"><span class="string">is_attributed      100000 non-null int64</span></span><br><span class="line"><span class="string">dtypes: datetime64[ns](1), int64(6), object(1)</span></span><br><span class="line"><span class="string">memory usage: 6.1+ MB</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 100000 entries, 0 to 99999</span></span><br><span class="line"><span class="string">Data columns (total 8 columns):</span></span><br><span class="line"><span class="string">ip                 100000 non-null uint32</span></span><br><span class="line"><span class="string">app                100000 non-null uint16</span></span><br><span class="line"><span class="string">device             100000 non-null uint16</span></span><br><span class="line"><span class="string">os                 100000 non-null uint16</span></span><br><span class="line"><span class="string">channel            100000 non-null uint16</span></span><br><span class="line"><span class="string">click_time         100000 non-null datetime64[ns]</span></span><br><span class="line"><span class="string">attributed_time    227 non-null object</span></span><br><span class="line"><span class="string">is_attributed      100000 non-null uint8</span></span><br><span class="line"><span class="string">dtypes: datetime64[ns](1), object(1), uint16(4), uint32(1), uint8(1)</span></span><br><span class="line"><span class="string">memory usage: 2.8+ MB</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 100000 entries, 0 to 99999</span></span><br><span class="line"><span class="string">Data columns (total 8 columns):</span></span><br><span class="line"><span class="string">ip                 100000 non-null int32</span></span><br><span class="line"><span class="string">app                100000 non-null int16</span></span><br><span class="line"><span class="string">device             100000 non-null int16</span></span><br><span class="line"><span class="string">os                 100000 non-null int16</span></span><br><span class="line"><span class="string">channel            100000 non-null int16</span></span><br><span class="line"><span class="string">click_time         100000 non-null datetime64[ns]</span></span><br><span class="line"><span class="string">attributed_time    227 non-null object</span></span><br><span class="line"><span class="string">is_attributed      100000 non-null int8</span></span><br><span class="line"><span class="string">dtypes: datetime64[ns](1), int16(4), int32(1), int8(1), object(1)</span></span><br><span class="line"><span class="string">memory usage: 2.8+ MB</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="3-åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ"><a href="#3-åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ" class="headerlink" title="3.åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ"></a>3.åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ</h2><h3 id="a-æŒ‡å®šè¡Œæ•°"><a href="#a-æŒ‡å®šè¡Œæ•°" class="headerlink" title="a) æŒ‡å®šè¡Œæ•°"></a>a) æŒ‡å®šè¡Œæ•°</h3><p>ç›´æ¥ä½¿ç”¨nrowsæŒ‡å®š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, nrows=<span class="number">1e5</span>, dtype=dtypes)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="b-è·³è¿‡è¡Œæ•°"><a href="#b-è·³è¿‡è¡Œæ•°" class="headerlink" title="b) è·³è¿‡è¡Œæ•°"></a>b) è·³è¿‡è¡Œæ•°</h3><p>æ¯”å¦‚æˆ‘ä»¬è·³è¿‡å‰500wå–100wä¸‹é¢ä¿ç•™äº†headï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">train = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, skiprows=<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5000000</span>), nrows=<span class="number">1000000</span>, dtype=dtypes)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="c-sampling"><a href="#c-sampling" class="headerlink" title="c) sampling"></a>c) sampling</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;# Line count:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> [<span class="string">&#x27;train.csv&#x27;</span>, <span class="string">&#x27;test.csv&#x27;</span>, <span class="string">&#x27;train_sample.csv&#x27;</span>]:</span><br><span class="line">    lines = subprocess.run([<span class="string">&#x27;wc&#x27;</span>, <span class="string">&#x27;-l&#x27;</span>, <span class="string">&#x27;../input/&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(file)], stdout=subprocess.PIPE).stdout.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(lines, end=<span class="string">&#x27;&#x27;</span>, flush=<span class="literal">True</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># Line count:</span></span><br><span class="line"><span class="string">184903891 ../input/train.csv</span></span><br><span class="line"><span class="string">18790470 ../input/test.csv</span></span><br><span class="line"><span class="string">100001 ../input/train_sample.csv</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>trainä¸€å…±æœ‰<code>lines=184903891</code> è¡Œï¼Œé‚£ä¹ˆå‡è®¾æˆ‘ä»¬éœ€è¦é‡‡æ ·å‡º100wè¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è·³è¿‡<code>lines - 1 - 1000000</code>è¡Œï¼Œå³</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#generate list of lines to skip</span></span><br><span class="line">skiplines = np.random.choice(np.arange(<span class="number">1</span>, lines), size=lines-<span class="number">1</span>-<span class="number">1000000</span>, replace=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#sort the list</span></span><br><span class="line">skiplines=np.sort(skiplines)</span><br><span class="line"><span class="comment">#check our list</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;lines to skip:&#x27;</span>, <span class="built_in">len</span>(skiplines))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;remaining lines in sample:&#x27;</span>, lines-<span class="built_in">len</span>(skiplines), <span class="string">&#x27;(remember that it includes the heading!)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">###################SANITY CHECK###################</span></span><br><span class="line"><span class="comment">#find lines that weren&#x27;t skipped by checking difference between each consecutive line</span></span><br><span class="line"><span class="comment">#how many out of first 100000 will be imported into the csv?</span></span><br><span class="line">diff = skiplines[<span class="number">1</span>:<span class="number">100000</span>]-skiplines[<span class="number">2</span>:<span class="number">100001</span>]</span><br><span class="line">remain = <span class="built_in">sum</span>(diff!=-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Ratio of lines from first 100000 lines:&#x27;</span>,  <span class="string">&#x27;&#123;0:.5f&#125;&#x27;</span>.<span class="built_in">format</span>(remain/<span class="number">100000</span>) ) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Ratio imported from all lines:&#x27;</span>, <span class="string">&#x27;&#123;0:.5f&#125;&#x27;</span>.<span class="built_in">format</span>((lines-<span class="built_in">len</span>(skiplines))/lines) )</span><br><span class="line">train = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, skiprows=skiplines, dtype=dtypes)</span><br><span class="line">train.head()</span><br><span class="line"><span class="keyword">del</span> skiplines</span><br><span class="line">gc.collect()</span><br></pre></td></tr></table></figure><h2 id="4-ä½¿ç”¨pandas-çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†"><a href="#4-ä½¿ç”¨pandas-çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†" class="headerlink" title="4.ä½¿ç”¨pandas çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†"></a>4.ä½¿ç”¨pandas çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†</h2><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨np.whereè¿‡æ»¤æ‰â€˜is_attributedâ€™ä¸º0çš„éƒ¨åˆ†ï¼ˆä¾‹å¦‚<code>[xv if c else yv for (c,xv,yv) in zip(condition,x,y)] </code>ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#set up an empty dataframe</span></span><br><span class="line">df_converted = pd.DataFrame()</span><br><span class="line"></span><br><span class="line"><span class="comment">#we are going to work with chunks of size 1 million rows</span></span><br><span class="line">chunksize = <span class="number">10</span> ** <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#in each chunk, filter for values that have &#x27;is_attributed&#x27;==1, and merge these values into one dataframe</span></span><br><span class="line"><span class="keyword">for</span> chunk <span class="keyword">in</span> pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, chunksize=chunksize, dtype=dtypes):</span><br><span class="line">    filtered = (chunk[(np.where(chunk[<span class="string">&#x27;is_attributed&#x27;</span>]==<span class="number">1</span>, <span class="literal">True</span>, <span class="literal">False</span>))])</span><br><span class="line">    df_converted = pd.concat([df_converted, filtered], ignore_index=<span class="literal">True</span>, )</span><br></pre></td></tr></table></figure><h2 id="5-åªè½½å…¥è‹¥å¹²åˆ—"><a href="#5-åªè½½å…¥è‹¥å¹²åˆ—" class="headerlink" title="5.åªè½½å…¥è‹¥å¹²åˆ—"></a>5.åªè½½å…¥è‹¥å¹²åˆ—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#wanted columns</span></span><br><span class="line">columns = [<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;click_time&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]</span><br><span class="line">dtypes = &#123;</span><br><span class="line">        <span class="string">&#x27;ip&#x27;</span>            : <span class="string">&#x27;uint32&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;is_attributed&#x27;</span> : <span class="string">&#x27;uint8&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">ips_df = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, usecols=columns, dtype=dtypes)</span><br><span class="line"><span class="built_in">print</span>(ips_df.info())</span><br><span class="line">ips_df.head()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 184903890 entries, 0 to 184903889</span></span><br><span class="line"><span class="string">Data columns (total 3 columns):</span></span><br><span class="line"><span class="string">ip               uint32</span></span><br><span class="line"><span class="string">click_time       object</span></span><br><span class="line"><span class="string">is_attributed    uint8</span></span><br><span class="line"><span class="string">dtypes: object(1), uint32(1), uint8(1)</span></span><br><span class="line"><span class="string">memory usage: 2.2+ GB</span></span><br><span class="line"><span class="string">None&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="6-ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®"><a href="#6-ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®" class="headerlink" title="6.ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®"></a>6.ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®</h2><p>ä¾‹å¦‚æ— æ³•ä½¿ç”¨æ•´ä¸ªæ•°æ®æ¥groupbyé‚£ä¹ˆå¯ä»¥åˆ†å—æ¥åšï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">size=<span class="number">100000</span></span><br><span class="line">all_rows = <span class="built_in">len</span>(ips_df)</span><br><span class="line">num_parts = all_rows//size</span><br><span class="line"></span><br><span class="line"><span class="comment">#generate the first batch</span></span><br><span class="line">ip_sums = ips_df[<span class="number">0</span>:size][[<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]].groupby(<span class="string">&#x27;ip&#x27;</span>, as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">#add remaining batches</span></span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,num_parts):</span><br><span class="line">    start = p*size</span><br><span class="line">    end = p*size + size</span><br><span class="line">    <span class="keyword">if</span> end &lt; all_rows:</span><br><span class="line">        group = ips_df[start:end][[<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]].groupby(<span class="string">&#x27;ip&#x27;</span>, as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        group = ips_df[start:][[<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]].groupby(<span class="string">&#x27;ip&#x27;</span>, as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line">    ip_sums = ip_sums.merge(group, on=<span class="string">&#x27;ip&#x27;</span>, how=<span class="string">&#x27;outer&#x27;</span>)</span><br><span class="line">    ip_sums.columns = [<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;sum1&#x27;</span>,<span class="string">&#x27;sum2&#x27;</span>]</span><br><span class="line">    ip_sums[<span class="string">&#x27;conversions_per_ip&#x27;</span>] = np.nansum((ip_sums[<span class="string">&#x27;sum1&#x27;</span>], ip_sums[<span class="string">&#x27;sum2&#x27;</span>]), axis = <span class="number">0</span>)</span><br><span class="line">    ip_sums.drop(columns=[<span class="string">&#x27;sum1&#x27;</span>, <span class="string">&#x27;sum2&#x27;</span>], axis = <span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="7-ä½¿ç”¨daskä»£æ›¿pandas"><a href="#7-ä½¿ç”¨daskä»£æ›¿pandas" class="headerlink" title="7.ä½¿ç”¨daskä»£æ›¿pandas"></a>7.ä½¿ç”¨daskä»£æ›¿pandas</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import dask</span><br><span class="line">import dask.dataframe as dd</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘çš„ä¸€äº›æ¯”èµ›å¦‚&lt;a href=&quot;https://www.kaggle.com/c/talkingdata-adtracking-fraud-detection&quot;&gt;TalkingData AdTracking Fraud Detection Challenge | Kaggle&lt;/a&gt;æä¾›äº†å¾ˆå¤§çš„æ•°æ®é›†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªæœ‰16Gçš„å†…å­˜çš„â€œå°â€ç”µè„‘éƒ½æ— æ³•ç›´æ¥å¤„ç†è¿™ç§æ•°æ®é›†äº†ï¼Œæœ¬æ–‡æ”¶é›†äº†ä¸€äº›å…³äºå¤„ç†è¿™ç§æ•°æ®çš„å»ºè®®ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="python" scheme="https://frankchen.xyz/tags/python/"/>
    
    <category term="Data Science" scheme="https://frankchen.xyz/tags/Data-Science/"/>
    
    <category term="Kaggle" scheme="https://frankchen.xyz/tags/Kaggle/"/>
    
  </entry>
  
  <entry>
    <title>æœºå™¨å­¦ä¹ ä¹‹ sklearnä¸­çš„pipeline</title>
    <link href="https://frankchen.xyz/2018/04/08/pipeline-in-machine-learning/"/>
    <id>https://frankchen.xyz/2018/04/08/pipeline-in-machine-learning/</id>
    <published>2018-04-08T08:13:42.000Z</published>
    <updated>2018-04-11T07:25:07.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/15231874915799.jpg"></p><span id="more"></span><p>å¦‚å›¾æ‰€ç¤ºï¼Œåˆ©ç”¨pipelineæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å‡å°‘ä»£ç é‡åŒæ—¶è®©æœºå™¨å­¦ä¹ çš„æµç¨‹å˜å¾—ç›´è§‚ï¼Œ<br><img src="/images/15231783974167.jpg"></p><p>ä¾‹å¦‚æˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹æ“ä½œï¼Œå®¹æ˜“çœ‹å‡ºï¼Œè®­ç»ƒæµ‹è¯•é›†é‡å¤äº†ä»£ç ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vect = CountVectorizer()</span><br><span class="line">tfidf = TfidfTransformer()</span><br><span class="line">clf = SGDClassifier()</span><br><span class="line"></span><br><span class="line">vX = vect.fit_transform(Xtrain)</span><br><span class="line">tfidfX = tfidf.fit_transform(vX)</span><br><span class="line">predicted = clf.fit_predict(tfidfX)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Now evaluate all steps on test set</span></span><br><span class="line">vX = vect.fit_transform(Xtest)</span><br><span class="line">tfidfX = tfidf.fit_transform(vX)</span><br><span class="line">predicted = clf.fit_predict(tfidfX)</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨pipelineï¼Œä¸Šé¢ä»£ç å¯ä»¥æŠ½è±¡ä¸ºï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pipeline = Pipeline([</span><br><span class="line">    (<span class="string">&#x27;vect&#x27;</span>, CountVectorizer()),</span><br><span class="line">    (<span class="string">&#x27;tfidf&#x27;</span>, TfidfTransformer()),</span><br><span class="line">    (<span class="string">&#x27;clf&#x27;</span>, SGDClassifier()),</span><br><span class="line">])</span><br><span class="line">predicted = pipeline.fit(Xtrain).predict(Xtrain)</span><br><span class="line"><span class="comment"># Now evaluate all steps on test set</span></span><br><span class="line">predicted = pipeline.predict(Xtest)</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œpipelineæœ€åä¸€æ­¥å¦‚æœæœ‰predict()æ–¹æ³•æˆ‘ä»¬æ‰å¯ä»¥å¯¹pipelineä½¿ç”¨fit_predict()ï¼ŒåŒç†ï¼Œæœ€åä¸€æ­¥å¦‚æœæœ‰transform()æ–¹æ³•æˆ‘ä»¬æ‰å¯ä»¥å¯¹pipelineä½¿ç”¨fit_transform()æ–¹æ³•ã€‚</p><h2 id="ä½¿ç”¨pipelineåšcross-validation"><a href="#ä½¿ç”¨pipelineåšcross-validation" class="headerlink" title="ä½¿ç”¨pipelineåšcross validation"></a>ä½¿ç”¨pipelineåšcross validation</h2><p>çœ‹å¦‚ä¸‹æ¡ˆä¾‹ï¼Œå³å…ˆå¯¹è¾“å…¥æ‰‹å†™æ•°å­—çš„æ•°æ®è¿›è¡ŒPCAé™ç»´ï¼Œå†é€šè¿‡é€»è¾‘å›å½’é¢„æµ‹æ ‡ç­¾ã€‚å…¶ä¸­æˆ‘ä»¬é€šè¿‡pipelineå¯¹<br>PCAçš„é™ç»´ç»´æ•°n_componentså’Œé€»è¾‘å›å½’çš„æ­£åˆ™é¡¹Cå¤§å°åšäº¤å‰éªŒè¯ï¼Œä¸»è¦æ­¥éª¤æœ‰ï¼š</p><ol><li>ä¾æ¬¡å®ä¾‹åŒ–å„æˆåˆ†å¯¹è±¡å¦‚<code>pca = decomposition.PCA()</code></li><li>ä»¥(name, object)çš„tubleä¸ºå…ƒç´ ç»„è£…pipelineå¦‚<code>Pipeline(steps=[(&#39;pca&#39;, pca), (&#39;logistic&#39;, logistic)])</code></li><li>åˆå§‹åŒ–CVå‚æ•°å¦‚<code>n_components = [20, 40, 64]</code></li><li>å®ä¾‹åŒ–CVå¯¹è±¡å¦‚<code>estimator = GridSearchCV(pipe, dict(pca__n_components=n_components, logistic__C=Cs))</code>ï¼Œå…¶ä¸­æ³¨æ„å‚æ•°çš„ä¼ é€’æ–¹å¼ï¼Œå³keyä¸ºpipelineå…ƒç´ å+å‡½æ•°å‚æ•°</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model, decomposition, datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line">logistic = linear_model.LogisticRegression()</span><br><span class="line"></span><br><span class="line">pca = decomposition.PCA()</span><br><span class="line">pipe = Pipeline(steps=[(<span class="string">&#x27;pca&#x27;</span>, pca), (<span class="string">&#x27;logistic&#x27;</span>, logistic)])</span><br><span class="line"></span><br><span class="line">digits = datasets.load_digits()</span><br><span class="line">X_digits = digits.data</span><br><span class="line">y_digits = digits.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prediction</span></span><br><span class="line">n_components = [<span class="number">20</span>, <span class="number">40</span>, <span class="number">64</span>]</span><br><span class="line">Cs = np.logspace(-<span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">pca.fit(X_digits)</span><br><span class="line">estimator = GridSearchCV(pipe,</span><br><span class="line">                         <span class="built_in">dict</span>(pca__n_components=n_components, logistic__C=Cs))</span><br><span class="line">estimator.fit(X_digits, y_digits)</span><br><span class="line"></span><br><span class="line">plt.figure(<span class="number">1</span>, figsize=(<span class="number">4</span>, <span class="number">3</span>))</span><br><span class="line">plt.clf()</span><br><span class="line">plt.axes([<span class="number">.2</span>, <span class="number">.2</span>, <span class="number">.7</span>, <span class="number">.7</span>])</span><br><span class="line">plt.plot(pca.explained_variance_, linewidth=<span class="number">2</span>)</span><br><span class="line">plt.axis(<span class="string">&#x27;tight&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;n_components&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;explained_variance_&#x27;</span>)</span><br><span class="line">plt.axvline(</span><br><span class="line">    estimator.best_estimator_.named_steps[<span class="string">&#x27;pca&#x27;</span>].n_components,</span><br><span class="line">    linestyle=<span class="string">&#x27;:&#x27;</span>,</span><br><span class="line">    label=<span class="string">&#x27;n_components chosen&#x27;</span>)</span><br><span class="line">plt.legend(prop=<span class="built_in">dict</span>(size=<span class="number">12</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰transformer"><a href="#è‡ªå®šä¹‰transformer" class="headerlink" title="è‡ªå®šä¹‰transformer"></a>è‡ªå®šä¹‰transformer</h2><p>æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹è‡ªå®šä¹‰transformerï¼ˆæ¥è‡ª<a href="http://michelleful.github.io/code-blog/2015/06/20/pipelines/">Using Pipelines and FeatureUnions in scikit-learn - Michelle Fullwood</a>ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.base <span class="keyword">import</span> BaseEstimator, TransformerMixin</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SampleExtractor</span>(<span class="params">BaseEstimator, TransformerMixin</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, <span class="built_in">vars</span></span>):</span></span><br><span class="line">        self.<span class="built_in">vars</span> = <span class="built_in">vars</span>  <span class="comment"># e.g. pass in a column name to extract</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transform</span>(<span class="params">self, X, y=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="keyword">return</span> do_something_to(X, self.<span class="built_in">vars</span>)  <span class="comment"># where the actual feature extraction happens</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, X, y=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="keyword">return</span> self  <span class="comment"># generally does nothing</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æ¯ä¸ªfeatureå•ç‹¬å¤„ç†ï¼Œä¾‹å¦‚ä¸‹é¢çš„è¿™ä¸ªæ¯”è¾ƒå¤§çš„æµæ°´çº¿ï¼ˆæ¥è‡ª<a href="http://zacstewart.com/2014/08/05/pipelines-of-featureunions-of-pipelines.html">Using scikit-learn Pipelines and FeatureUnions | zacstewart.com</a>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä½œè€…çš„pipelineä¸­ï¼Œé¦–å…ˆæ˜¯ä¸€ä¸ªå«åš<code>features</code>çš„FeatureUnionï¼Œå…¶ä¸­ï¼Œæ¯ä¸ªç‰¹å¾åˆ†åˆ«ä»¥ä¸€ä¸ªpipelineæ¥å¤„ç†ï¼Œè¿™ä¸ªpipelineé¦–å…ˆæ˜¯ä¸€ä¸ª<code>ColumnExtractor</code>æå–å‡ºè¿™ä¸ªç‰¹å¾ï¼Œåç»­è¿›è¡Œä¸€ç³»åˆ—å¤„ç†è½¬æ¢ï¼Œæœ€ç»ˆè¿™äº›pipelineç»„åˆä¸ºç‰¹å¾ç»„åˆï¼Œå†å–‚ç»™ä¸€ç³»åˆ—<code>ModelTransformer</code>åŒ…è£…çš„æ¨¡å‹æ¥predictï¼Œæœ€ç»ˆä½¿ç”¨<code>KNeighborsRegressor</code>é¢„æµ‹ï¼ˆç›¸å½“äºä¸¤å±‚stackingï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">pipeline = Pipeline([</span><br><span class="line">    (<span class="string">&#x27;features&#x27;</span>, FeatureUnion([</span><br><span class="line">        (<span class="string">&#x27;continuous&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, ColumnExtractor(CONTINUOUS_FIELDS)),</span><br><span class="line">            (<span class="string">&#x27;scale&#x27;</span>, Normalizer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;factors&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, ColumnExtractor(FACTOR_FIELDS)),</span><br><span class="line">            (<span class="string">&#x27;one_hot&#x27;</span>, OneHotEncoder(n_values=<span class="number">5</span>)),</span><br><span class="line">            (<span class="string">&#x27;to_dense&#x27;</span>, DenseTransformer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;weekday&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, DayOfWeekTransformer()),</span><br><span class="line">            (<span class="string">&#x27;one_hot&#x27;</span>, OneHotEncoder()),</span><br><span class="line">            (<span class="string">&#x27;to_dense&#x27;</span>, DenseTransformer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;hour_of_day&#x27;</span>, HourOfDayTransformer()),</span><br><span class="line">        (<span class="string">&#x27;month&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, ColumnExtractor([<span class="string">&#x27;datetime&#x27;</span>])),</span><br><span class="line">            (<span class="string">&#x27;to_month&#x27;</span>, DateTransformer()),</span><br><span class="line">            (<span class="string">&#x27;one_hot&#x27;</span>, OneHotEncoder()),</span><br><span class="line">            (<span class="string">&#x27;to_dense&#x27;</span>, DenseTransformer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;growth&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;datetime&#x27;</span>, ColumnExtractor([<span class="string">&#x27;datetime&#x27;</span>])),</span><br><span class="line">            (<span class="string">&#x27;to_numeric&#x27;</span>, MatrixConversion(<span class="built_in">int</span>)),</span><br><span class="line">            (<span class="string">&#x27;regression&#x27;</span>, ModelTransformer(LinearRegression()))</span><br><span class="line">        ]))</span><br><span class="line">    ])),</span><br><span class="line">    (<span class="string">&#x27;estimators&#x27;</span>, FeatureUnion([</span><br><span class="line">        (<span class="string">&#x27;knn&#x27;</span>, ModelTransformer(KNeighborsRegressor(n_neighbors=<span class="number">5</span>))),</span><br><span class="line">        (<span class="string">&#x27;gbr&#x27;</span>, ModelTransformer(GradientBoostingRegressor())),</span><br><span class="line">        (<span class="string">&#x27;dtr&#x27;</span>, ModelTransformer(DecisionTreeRegressor())),</span><br><span class="line">        (<span class="string">&#x27;etr&#x27;</span>, ModelTransformer(ExtraTreesRegressor())),</span><br><span class="line">        (<span class="string">&#x27;rfr&#x27;</span>, ModelTransformer(RandomForestRegressor())),</span><br><span class="line">        (<span class="string">&#x27;par&#x27;</span>, ModelTransformer(PassiveAggressiveRegressor())),</span><br><span class="line">        (<span class="string">&#x27;en&#x27;</span>, ModelTransformer(ElasticNet())),</span><br><span class="line">        (<span class="string">&#x27;cluster&#x27;</span>, ModelTransformer(KMeans(n_clusters=<span class="number">2</span>)))</span><br><span class="line">    ])),</span><br><span class="line">    (<span class="string">&#x27;estimator&#x27;</span>, KNeighborsRegressor())</span><br><span class="line">])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HourOfDayTransformer</span>(<span class="params">TransformerMixin</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transform</span>(<span class="params">self, X, **transform_params</span>):</span></span><br><span class="line">        hours = DataFrame(X[<span class="string">&#x27;datetime&#x27;</span>].apply(<span class="keyword">lambda</span> x: x.hour))</span><br><span class="line">        <span class="keyword">return</span> hours</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, X, y=<span class="literal">None</span>, **fit_params</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ModelTransformer</span>(<span class="params">TransformerMixin</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, model</span>):</span></span><br><span class="line">        self.model = model</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, *args, **kwargs</span>):</span></span><br><span class="line">        self.model.fit(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transform</span>(<span class="params">self, X, **transform_params</span>):</span></span><br><span class="line">        <span class="keyword">return</span> DataFrame(self.model.predict(X))</span><br></pre></td></tr></table></figure><h2 id="FeatureUnion"><a href="#FeatureUnion" class="headerlink" title="FeatureUnion"></a>FeatureUnion</h2><p><a href="http://scikit-learn.org/stable/modules/generated/sklearn.pipeline.FeatureUnion.html">sklearn.pipeline.FeatureUnion â€” scikit-learn 0.19.1 documentation</a> å’Œpipelineçš„åºåˆ—æ‰§è¡Œä¸åŒï¼ŒFeatureUnionæŒ‡çš„æ˜¯å¹¶è¡Œåœ°åº”ç”¨è®¸å¤štransformeråœ¨inputä¸Šï¼Œå†å°†ç»“æœåˆå¹¶ï¼Œæ‰€ä»¥è‡ªç„¶åœ°é€‚åˆç‰¹å¾å·¥ç¨‹ä¸­çš„å¢åŠ ç‰¹å¾ï¼Œè€ŒFeatureUnionä¸pipelineç»„åˆå¯ä»¥æ–¹ä¾¿çš„å®Œæˆè®¸å¤šå¤æ‚çš„æ“ä½œï¼Œä¾‹å¦‚å¦‚ä¸‹çš„ä¾‹å­ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pipeline = Pipeline([</span><br><span class="line">  (<span class="string">&#x27;extract_essays&#x27;</span>, EssayExractor()),</span><br><span class="line">  (<span class="string">&#x27;features&#x27;</span>, FeatureUnion([</span><br><span class="line">    (<span class="string">&#x27;ngram_tf_idf&#x27;</span>, Pipeline([</span><br><span class="line">      (<span class="string">&#x27;counts&#x27;</span>, CountVectorizer()),</span><br><span class="line">      (<span class="string">&#x27;tf_idf&#x27;</span>, TfidfTransformer())</span><br><span class="line">    ])),</span><br><span class="line">    (<span class="string">&#x27;essay_length&#x27;</span>, LengthTransformer()),</span><br><span class="line">    (<span class="string">&#x27;misspellings&#x27;</span>, MispellingCountTransformer())</span><br><span class="line">  ])),</span><br><span class="line">  (<span class="string">&#x27;classifier&#x27;</span>, MultinomialNB())</span><br><span class="line">])</span><br></pre></td></tr></table></figure><p>æ•´ä¸ª<code>features</code>æ˜¯ä¸€ä¸ªFeatureUnionï¼Œè€Œå…¶ä¸­çš„ngram_tf_idfåˆæ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸¤æ­¥çš„pipelineã€‚<br><img src="/images/15233302459256.jpg"></p><p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨FeatureUnionç»“åˆPCAé™ç»´åç‰¹å¾ä»¥åŠé€‰æ‹©åŸç‰¹å¾ä¸­çš„å‡ ä¸ªä½œä¸ºç‰¹å¾ç»„åˆå†å–‚ç»™SVMåˆ†ç±»ï¼Œæœ€åç”¨grid_search åšäº† pcaçš„<code>n_components</code>ã€SelectKBestçš„<code>k</code>ä»¥åŠSVMçš„<code>C</code>çš„CVã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline, FeatureUnion</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectKBest</span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line"></span><br><span class="line">X, y = iris.data, iris.target</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># This dataset is way too high-dimensional. Better do PCA:</span></span><br><span class="line">pca = PCA()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Maybe some original features where good, too?</span></span><br><span class="line">selection = SelectKBest()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Build estimator from PCA and Univariate selection:</span></span><br><span class="line"></span><br><span class="line">svm = SVC(kernel=<span class="string">&quot;linear&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Do grid search over k, n_components and C:</span></span><br><span class="line"></span><br><span class="line">pipeline = Pipeline([(<span class="string">&quot;features&quot;</span>,</span><br><span class="line">                      FeatureUnion([(<span class="string">&quot;pca&quot;</span>, pca), (<span class="string">&quot;univ_select&quot;</span>,</span><br><span class="line">                                                   selection)])), (<span class="string">&quot;svm&quot;</span>,</span><br><span class="line">                                                                   svm)])</span><br><span class="line"></span><br><span class="line">param_grid = <span class="built_in">dict</span>(</span><br><span class="line">    features__pca__n_components=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    features__univ_select__k=[<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">    svm__C=[<span class="number">0.1</span>, <span class="number">1</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">grid_search = GridSearchCV(pipeline, param_grid=param_grid, verbose=<span class="number">10</span>)</span><br><span class="line">grid_search.fit(X, y)</span><br><span class="line"></span><br><span class="line">grid_search.best_estimator_</span><br><span class="line">grid_search.best_params_</span><br><span class="line">grid_search.best_score_</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/15231874915799.jpg&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
    <category term="Data Science" scheme="https://frankchen.xyz/tags/Data-Science/"/>
    
  </entry>
  
  <entry>
    <title>VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨</title>
    <link href="https://frankchen.xyz/2018/04/08/private-BT-server/"/>
    <id>https://frankchen.xyz/2018/04/08/private-BT-server/</id>
    <published>2018-04-08T03:13:51.000Z</published>
    <updated>2018-04-08T03:47:02.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/15231584798585.jpg"><br>ä½¿ç”¨é—²ç½®çš„VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œäº¦æˆ–è€…æ¨å¹¿è‡³æ ‘è“æ´¾æˆ–è€…å®¶ç”¨è·¯ç”±å™¨äº¦å¯ã€‚</p><span id="more"></span> <h2 id="å®‰è£…åŠé…ç½®-Transmission"><a href="#å®‰è£…åŠé…ç½®-Transmission" class="headerlink" title="å®‰è£…åŠé…ç½® Transmission"></a>å®‰è£…åŠé…ç½® Transmission</h2><ul><li>å®‰è£… <code>sudo apt-get install transmission-daemon</code></li><li>é…ç½® åœæ­¢æœåŠ¡ï¼ˆå¦åˆ™é…ç½®æ–‡ä»¶é”å®šï¼Œæ— æ³•ä¿®æ”¹ï¼‰<code>sudo service transmission-daemon stop</code></li><li>ç¼–è¾‘é…ç½®æ–‡ä»¶</li></ul><p><code>sudo vim /etc/transmission-daemon/settings.json</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;ratio-limit&quot;</span>: 0.0100, </span><br><span class="line">    <span class="string">&quot;ratio-limit-enabled&quot;</span>: <span class="literal">true</span>,  </span><br><span class="line">    <span class="string">&quot;rpc-password&quot;</span>: <span class="string">&quot;*******&quot;</span>,   </span><br><span class="line">    <span class="string">&quot;rpc-username&quot;</span>: <span class="string">&quot;frank&quot;</span>,</span><br><span class="line">    <span class="string">&quot;download-dir&quot;</span>: <span class="string">&quot;/var/www/html/Downloads&quot;</span>, </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æˆ‘åªåˆ—å‡ºäº†æˆ‘ä¿®æ”¹è¿‡ä¸”æ— æ³•åœ¨ Transmission Web-GUI ä¸­æ— æ³•å®Œæˆä¿®æ”¹çš„å‡ é¡¹ï¼Œå››é¡¹ä¾æ¬¡æ˜¯ä¸‹è½½å®Œæˆåšç§ç‡ï¼Œå¼€å¯é™åˆ¶åšç§ç‡ï¼ŒWeb-GUI å¯†ç ï¼ŒWeb-GUI ç”¨æˆ·åã€‚åƒä¿å­˜è·¯å¾„ï¼Œä¸‹è½½/ ä¸Šä¼ é€Ÿåº¦é™åˆ¶ï¼Œéƒ½å¯ä»¥åœ¨ Web-GUI ä¸­ç›´æ¥è®¾å®šï¼Œä¸ºäº†æ–¹ä¾¿ä¹‹åå¯¹ä¸‹è½½æ–‡ä»¶çš„ Web ç®¡ç†ï¼Œæˆ‘ç›´æ¥å°†ä¿å­˜è·¯å¾„æ”¹åˆ°äº† Web å‘å¸ƒè·¯å¾„ä¸‹çš„ä¸€ä¸ªå­ç›®å½•ã€‚</p><p> é‡å¯æœåŠ¡</p><p> <code>sudo service transmission-daemon start</code></p><p> æ­¤æ—¶åœ¨æµè§ˆå™¨æ‰“å¼€<code>VPSçš„IPåœ°å€/åŸŸå:9091</code>å¹¶è¾“å…¥åˆšåˆšè®¾ç½®çš„ç”¨æˆ·ååŠå¯†ç åº”è¯¥å°±å¯ä»¥è®¿é—® Transmission çš„ Web-GUIäº†ã€‚<br> <img src="/images/Screen%20Shot%202018-04-08%20at%2011.25.35.png" alt="Screen Shot 2018-04-08 at 11.25.35"></p><p> å¯æ˜¯åœ¨æ·»åŠ äº†ç¬¬ä¸€ä¸ªä»»åŠ¡åå‡ºç°ä¿å­˜è·¯å¾„å†™å…¥æƒé™çš„é—®é¢˜ã€‚<br>è§£å†³åŠæ³•å¦‚<a href="https://askubuntu.com/questions/221081/permission-denied-when-downloading-with-transmission-deamon">Permission denied when downloading with transmission deamon - Ask Ubuntu</a>æ‰€ç¤ºï¼š</p><p>æˆ‘ä»¬çš„ä¸‹è½½åœ°å€æ˜¯ <code>/var/www/html/Downloads</code> ç”¨æˆ·åæ˜¯<code>znwindy</code>:<br>é‚£ä¹ˆ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†æœ¬ç”¨æˆ·åŠ å…¥ `debian-transmission`ç»„</span></span><br><span class="line">sudo usermod -a -G debian-transmission znwindy</span><br><span class="line"><span class="comment"># æ–‡ä»¶å¤¹æ‰€æœ‰è€…</span></span><br><span class="line">sudo chgrp debian-transmission /var/www/html/Downloads</span><br><span class="line"><span class="comment"># ç»„æ·»åŠ å†™æƒé™</span></span><br><span class="line">sudo chmod -R 755 /var/www</span><br><span class="line"><span class="comment"># åœæ­¢åå°deamon </span></span><br><span class="line"></span><br><span class="line">sudo service transmission-daemon stop</span><br><span class="line"><span class="comment"># æ›´æ”¹ file creation mask</span></span><br><span class="line">sudo vim /etc/transmission-daemon/settings.json</span><br><span class="line"><span class="comment"># æŠŠ&quot;umask&quot;: 18 æ”¹ä¸º &quot;umask&quot;: 2</span></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">sudo service transmission-daemon start</span><br></pre></td></tr></table></figure><p>å³å¯è§£å†³å†™çš„é—®é¢˜ã€‚</p><h2 id="é…ç½®-Apache-åŠ å¯†åŒºåŸŸ"><a href="#é…ç½®-Apache-åŠ å¯†åŒºåŸŸ" class="headerlink" title="é…ç½® Apache åŠ å¯†åŒºåŸŸ"></a>é…ç½® Apache åŠ å¯†åŒºåŸŸ</h2><p>å®‰è£…apache2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install apache2</span><br></pre></td></tr></table></figure><p>Adjust the Firewall</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw app list</span><br><span class="line">sudo ufw allow <span class="string">&#x27;Apache Full&#x27;</span></span><br><span class="line">sudo ufw status</span><br><span class="line">sudo systemctl status apache2</span><br></pre></td></tr></table></figure><p>å¯†ç ç”Ÿæˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo htpasswd -c /etc/apache2/.htpasswd ç”¨æˆ·å</span><br></pre></td></tr></table></figure><p>ç„¶åä¼šè¢«æç¤ºè¾“å…¥ä¸¤æ¬¡è¯¥ â€œç”¨æˆ·åâ€ çš„å¯†ç ã€‚</p><p>ä¿®æ”¹è™šæ‹Ÿ host çš„é…ç½®æ–‡ä»¶<br><code>sudo vim /etc/apache2/sites-enabled/000-default.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">        AuthType Basic</span><br><span class="line">        AuthName <span class="string">&quot;Restricted Content&quot;</span></span><br><span class="line">        AuthUserFile /etc/apache2/.htpasswd</span><br><span class="line">        Require valid-user</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p>ä¿å­˜åé‡å¯</p><p><code>sudo service apache2 restart</code></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡ HTTP å°†ä¸‹è½½çš„ä»»åŠ¡å–å›æœ¬åœ°ï¼Œé€Ÿåº¦ä¹Ÿå¾ˆå¿«ï¼è¿™æ ·ï¼Œé€šè¿‡è®¿é—® Transmission Web-GUI â€œæŠ•å–‚â€ ç§å­ï¼Œç£åŠ›é“¾ï¼Œç„¶ååœ¨ä¸‹è½½å®Œæˆåé€šè¿‡ HTTP æ–¹å¼ä» VPS å°†èµ„æºå–å›æœ¬åœ°ï¼Œç”šè‡³ç›´æ¥å¯¹ .mp3ã€.mp4 ç­‰æ–‡ä»¶æ ¼å¼è¿›è¡Œåœ¨çº¿æ’­æ”¾ï¼Œå®ç°äº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„è¿…é›·ç¦»çº¿ä¸‹è½½ï¼Œå¯æ˜¯å®ƒå´åœ¨ä¸‹è½½æŸäº›ç‰¹å®šèµ„æºæ—¶è¿œæ¯”è¿…é›·ç¦»çº¿ç®¡ç”¨ã€‚</p><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/24478342">åœ¨ VPS ä¸Šæ­å»ºç§äººç¦»çº¿ä¸‹è½½</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/15231584798585.jpg&quot;&gt;&lt;br&gt;ä½¿ç”¨é—²ç½®çš„VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œäº¦æˆ–è€…æ¨å¹¿è‡³æ ‘è“æ´¾æˆ–è€…å®¶ç”¨è·¯ç”±å™¨äº¦å¯ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="Linux" scheme="https://frankchen.xyz/tags/Linux/"/>
    
    <category term="Old Driver" scheme="https://frankchen.xyz/tags/Old-Driver/"/>
    
  </entry>
  
  <entry>
    <title>numpy ä¸­å¢åŠ channelçš„æ–¹æ³•</title>
    <link href="https://frankchen.xyz/2018/03/29/numpy-add-channel/"/>
    <id>https://frankchen.xyz/2018/03/29/numpy-add-channel/</id>
    <published>2018-03-29T12:15:30.000Z</published>
    <updated>2018-03-29T12:48:49.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/15223277046847.jpg"><br>numpy æ•°ç»„ä¸­ä¸€ç»´æ€ä¹ˆè½¬äºŒç»´å’Œå¤šç»´ï¼Ÿç®€è¿° numpy ä¸­å¢åŠ channelçš„æ–¹æ³•ã€‚</p><span id="more"></span><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å‘é‡å’ŒçŸ©é˜µï¼Œè€Œæ€ä¹ˆæ ¹æ®æˆ‘ä»¬æ‰€è¦è§£å†³çš„é—®é¢˜æ¥è°ƒæ•´æ¨¡å‹ä»¥åŠæ•°æ®çš„æ ¼å¼ï¼Œä¹Ÿå°±æ˜¯çŸ©é˜µçš„ç»´åº¦å’Œå¤§å°æ˜¯ä¸€é¡¹é‡è¦çš„åŸºæœ¬åŠŸï¼Œé‚£ä¹ˆæœ¬æ–‡å°±å…·ä½“ä»‹ç»ä¸‹numpyä¸­æ•°ç»„çš„è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯å¢åŠ channelçš„æ–¹æ³•ã€‚</p><h2 id="ä¸€ç»´è½¬äºŒç»´"><a href="#ä¸€ç»´è½¬äºŒç»´" class="headerlink" title="ä¸€ç»´è½¬äºŒç»´"></a>ä¸€ç»´è½¬äºŒç»´</h2><p>ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸€ç»´çš„numpy arrayï¼Œæœ‰å¦‚ä¸‹æ–¹æ³•å¯ä»¥è½¬ä¸ºäºŒç»´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">a</span><br><span class="line">a.shape</span><br><span class="line">b = a[:,<span class="literal">None</span>]</span><br><span class="line">b</span><br><span class="line">b.shape</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br><span class="line"><span class="string">(10,)</span></span><br><span class="line"><span class="string">array([[0],</span></span><br><span class="line"><span class="string">       [1],</span></span><br><span class="line"><span class="string">       [2],</span></span><br><span class="line"><span class="string">       [3],</span></span><br><span class="line"><span class="string">       [4],</span></span><br><span class="line"><span class="string">       [5],</span></span><br><span class="line"><span class="string">       [6],</span></span><br><span class="line"><span class="string">       [7],</span></span><br><span class="line"><span class="string">       [8],</span></span><br><span class="line"><span class="string">       [9]])</span></span><br><span class="line"><span class="string">(10, 1)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p> å¯ä»¥çœ‹åˆ°ï¼Œ<code>a</code>ç¡®å®è¢«è½¬ä¸ºäº†äºŒç»´ï¼Œä»¥ä¸‹æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">c = a[:,np.newaxis]</span><br><span class="line">c</span><br><span class="line">(c == b).<span class="built_in">all</span>()</span><br><span class="line">np.newaxis == <span class="literal">None</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([[0],</span></span><br><span class="line"><span class="string">       [1],</span></span><br><span class="line"><span class="string">       [2],</span></span><br><span class="line"><span class="string">       [3],</span></span><br><span class="line"><span class="string">       [4],</span></span><br><span class="line"><span class="string">       [5],</span></span><br><span class="line"><span class="string">       [6],</span></span><br><span class="line"><span class="string">       [7],</span></span><br><span class="line"><span class="string">       [8],</span></span><br><span class="line"><span class="string">       [9]])</span></span><br><span class="line"><span class="string">True</span></span><br><span class="line"><span class="string">True</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="è½¬ä¸ºå¤šç»´"><a href="#è½¬ä¸ºå¤šç»´" class="headerlink" title="è½¬ä¸ºå¤šç»´"></a>è½¬ä¸ºå¤šç»´</h2><p>æ—¶é—´åºåˆ—é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦çš„æ˜¯(sampleï¼Œtime_stampï¼Œfeature)çš„3 ä¸ªchannelçš„æ•°æ®ï¼Œå³ä¸€ä¸ªä¸‰ç»´çŸ©é˜µï¼ŒåŒ…å«è‹¥å¹²ä¸ªsampleï¼Œæ¯ä¸ªsampleåŒ…å«è‹¥å¹²ä¸ªæ—¶é—´åºåˆ—ç‚¹ï¼Œè€Œæ¯ä¸ªæ—¶é—´åºåˆ—ç‚¹æœ‰åŒ…æ‹¬è‹¥å¹²ä¸ªfeatureï¼Œå“ªæ€•æˆ‘ä»¬åªæ˜¯åšå•å˜é‡çš„æ—¶é—´åºåˆ—é¢„æµ‹ï¼Œè¾“å…¥RNNç½‘ç»œä¾‹å¦‚LSTMçš„æ—¶å€™ï¼Œæ•°æ®ä¹Ÿå¿…é¡»æ˜¯ä¸‰ç»´çš„æ ¼å¼ï¼Œä¸‹é¢æˆ‘ä»¬è®²ä¸€è®²è¿™ä¹ˆåšçš„æ–¹æ³•ã€‚</p><p>ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè‹¥å¹²ä¸ªæ—¶é—´ç‚¹æ¯ä¸ªæ—¶é—´ç‚¹æœ‰ä¸¤ä¸ªç‰¹å¾çš„æ•°æ®ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">24</span>).reshape((-<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">a.shape</span><br><span class="line">a</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">(12, 2)</span></span><br><span class="line"><span class="string">array([[ 0,  1],</span></span><br><span class="line"><span class="string">       [ 2,  3],</span></span><br><span class="line"><span class="string">       [ 4,  5],</span></span><br><span class="line"><span class="string">       [ 6,  7],</span></span><br><span class="line"><span class="string">       [ 8,  9],</span></span><br><span class="line"><span class="string">       [10, 11],</span></span><br><span class="line"><span class="string">       [12, 13],</span></span><br><span class="line"><span class="string">       [14, 15],</span></span><br><span class="line"><span class="string">       [16, 17],</span></span><br><span class="line"><span class="string">       [18, 19],</span></span><br><span class="line"><span class="string">       [20, 21],</span></span><br><span class="line"><span class="string">       [22, 23]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†aè½¬åŒ–ä¸ºä¸‰ä¸ªchannelï¼Œå³å¯ä»¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">b = a[:,<span class="literal">None</span>,:]</span><br><span class="line">b.shape</span><br><span class="line">b</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">(12, 1, 2)</span></span><br><span class="line"><span class="string">array([[[ 0,  1]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 2,  3]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 4,  5]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 6,  7]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 8,  9]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[10, 11]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[12, 13]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[14, 15]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[16, 17]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[18, 19]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[20, 21]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[22, 23]]])</span></span><br><span class="line"><span class="string">       &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå¯¹åº”ç€pandasçš„Dataframeï¼ŒåŠæˆ‘ä»¬å¯¹Dataframeå–valueså±æ€§ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œåšæ³•å°±å¦‚åŒä¸Šé¢ä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœæ˜¯Seriesçš„è¯ï¼Œå–valueså±æ€§å¾—åˆ°çš„æ˜¯ä¸€ä¸ªä¸€ç»´çš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„åšæ³•åˆ™æ˜¯ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">c = np.arange(<span class="number">12</span>)</span><br><span class="line">c</span><br><span class="line">d = c[:,<span class="literal">None</span>,<span class="literal">None</span>]</span><br><span class="line">d.shape</span><br><span class="line">d</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])</span></span><br><span class="line"><span class="string">(12, 1, 1)</span></span><br><span class="line"><span class="string">array([[[ 0]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 1]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 2]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 3]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 4]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 5]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 6]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 7]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 8]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 9]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[10]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[11]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="å‡å°‘ç»´åº¦"><a href="#å‡å°‘ç»´åº¦" class="headerlink" title="å‡å°‘ç»´åº¦"></a>å‡å°‘ç»´åº¦</h2><p>è‹¥è¦å‡å°‘æ•°æ®çš„ç»´åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">d = np.arange(<span class="number">12</span>)[:,<span class="literal">None</span>,<span class="literal">None</span>]</span><br><span class="line">d.shape</span><br><span class="line">d</span><br><span class="line">e = np.squeeze(d)</span><br><span class="line">e.shape</span><br><span class="line">e</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;(12, 1, 1)</span></span><br><span class="line"><span class="string">array([[[ 0]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 1]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 2]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 3]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 4]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 5]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 6]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 7]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 8]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 9]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[10]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[11]]])</span></span><br><span class="line"><span class="string">(12,)</span></span><br><span class="line"><span class="string">array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/15223277046847.jpg&quot;&gt;&lt;br&gt;numpy æ•°ç»„ä¸­ä¸€ç»´æ€ä¹ˆè½¬äºŒç»´å’Œå¤šç»´ï¼Ÿç®€è¿° numpy ä¸­å¢åŠ channelçš„æ–¹æ³•ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="python" scheme="https://frankchen.xyz/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>python æ­£åˆ™å®ç”¨ä¾‹å­</title>
    <link href="https://frankchen.xyz/2018/02/24/re-basic-of-python/"/>
    <id>https://frankchen.xyz/2018/02/24/re-basic-of-python/</id>
    <published>2018-02-24T10:52:00.000Z</published>
    <updated>2018-02-24T11:09:45.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/15194705842254.png"></p><p>æœ¬æ–‡ä¸»è¦å…³äºpythonçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¦å·ä¸æ–¹æ³•ã€‚</p><span id="more"></span><ul><li>findall: æ‰¾å¯»æ‰€æœ‰åŒ¹é…ï¼Œè¿”å›æ‰€æœ‰ç»„åˆçš„åˆ—è¡¨</li><li>search: æ‰¾å¯»ç¬¬ä¸€ä¸ªåŒ¹é…å¹¶è¿”å›</li><li>sub: æ›¿æ¢ç¬¦åˆè§„å¾‹çš„å†…å®¹ï¼Œå¹¶è¿”å›æ›¿æ¢åçš„å†…å®¹</li></ul><p>**.**ï¼šåŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;xy123&#x27;</span></span><br><span class="line">b = re.findall(<span class="string">&#x27;x...&#x27;</span>,a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;xy12&#x27;]</span></span><br></pre></td></tr></table></figure><p>*****ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…æ— é™æ¬¡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;xyxy123&#x27;</span></span><br><span class="line">b = re.findall(<span class="string">&#x27;x*&#x27;</span>,a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;x&#x27;, &#x27;&#x27;, &#x27;x&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;]</span></span><br></pre></td></tr></table></figure><p>**?**ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…1æ¬¡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;xy123&#x27;</span></span><br><span class="line">b = re.findall(<span class="string">&#x27;x?&#x27;</span>,a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;x&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;]</span></span><br></pre></td></tr></table></figure><p>**.***ï¼šè´ªå¿ƒç®—æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b = re.findall(<span class="string">&#x27;xx.*xx&#x27;</span>,secret_code)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;xxIxxfasdjifja134xxlovexx23345sdfxxyouxx&#x27;]</span></span><br></pre></td></tr></table></figure><p>**.*?**ï¼šéè´ªå¿ƒç®—æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = re.findall(<span class="string">&#x27;xx.*?xx&#x27;</span>,secret_code)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># [&#x27;xxIxx&#x27;, &#x27;xxlovexx&#x27;, &#x27;xxyouxx&#x27;]</span></span><br></pre></td></tr></table></figure><p>**()**ï¼šæ‹¬å·å†…ç»“æœè¿”å›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">d = re.findall(<span class="string">&#x27;xx(.*?)xx&#x27;</span>,secret_code)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span>(each)</span><br><span class="line"><span class="comment"># [&#x27;I&#x27;, &#x27;love&#x27;, &#x27;you&#x27;]</span></span><br><span class="line"><span class="comment"># I</span></span><br><span class="line"><span class="comment"># love</span></span><br><span class="line"><span class="comment"># you</span></span><br></pre></td></tr></table></figure><p><strong>re.S</strong>ä½¿å¾—.çš„ä½œç”¨åŸŸåŒ…æ‹¬æ¢è¡Œç¬¦â€\nâ€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;&#x27;&#x27;sdfxxhello</span></span><br><span class="line"><span class="string">xxfsdfxxworldxxasdf&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">d = re.findall(<span class="string">&#x27;xx(.*?)xx&#x27;</span>,s,re.S)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment">#  [&#x27;hello\n&#x27;, &#x27;world&#x27;]</span></span><br></pre></td></tr></table></figure><p>å¯¹æ¯”findallä¸searchçš„åŒºåˆ«</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s2 = <span class="string">&#x27;asdfxxIxx123xxlovexxdfd&#x27;</span></span><br><span class="line">f = re.search(<span class="string">&#x27;xx(.*?)xx123xx(.*?)xx&#x27;</span>,s2).group(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(f)</span><br><span class="line">f2 = re.findall(<span class="string">&#x27;xx(.*?)xx123xx(.*?)xx&#x27;</span>,s2)</span><br><span class="line"><span class="built_in">print</span>(f2[<span class="number">0</span>][<span class="number">1</span>])</span><br><span class="line"><span class="comment"># love</span></span><br><span class="line"><span class="comment"># love</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶ä¸¤è€…ç»“æœç›¸åŒï¼Œä½†æ˜¯searchæ˜¯æ­é…groupæ¥å¾—åˆ°ç¬¬äºŒä¸ªåŒ¹é…ï¼Œè€Œfindallçš„ç»“æœæ˜¯[(â€˜Iâ€™, â€˜loveâ€™)]ï¼ŒåŒ…å«å…ƒç»„çš„åˆ—è¡¨ï¼Œæ‰€ä»¥éœ€è¦f2[0][1]æ¥å¼•å…¥ã€‚</p><p><strong>sub</strong>çš„ä½¿ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;123rrrrr123&#x27;</span></span><br><span class="line">output = re.sub(<span class="string">&#x27;123(.*?)123&#x27;</span>,<span class="string">&#x27;123%d123&#x27;</span>%<span class="number">789</span>,s)</span><br><span class="line"><span class="built_in">print</span>(output)</span><br><span class="line"><span class="comment"># 123789123</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚æˆ‘ä»¬éœ€è¦å°†æ–‡æ¡£ä¸­çš„æ‰€æœ‰çš„pngå›¾ç‰‡æ”¹å˜è·¯å¾„ï¼Œå³éœ€è¦æ‰¾åˆ°æ‰€æœ‰çš„<code>.png</code>ç»“å°¾ï¼Œå†å°†å…¶éƒ½åŠ ä¸Šè·¯å¾„ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiply</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="comment"># Convert group 0 to an integer.</span></span><br><span class="line">    v = m.group(<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(v)</span><br><span class="line">    <span class="comment"># Multiply integer by 2.</span></span><br><span class="line">    <span class="comment"># ... Convert back into string and return it.</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;basic/&#x27;</span>+v)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;basic/&#x27;</span>+v</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>autoencoder.png</span><br><span class="line">    basic/autoencoder.png</span><br><span class="line">    RNN.png</span><br><span class="line">    basic/RNN.png</span><br><span class="line">    rnn_step_forward.png</span><br><span class="line">    basic/rnn_step_forward.png</span><br><span class="line">    rnns.png</span><br><span class="line">    basic/rnns.png</span><br><span class="line">    rnn_cell_backprop.png</span><br><span class="line">    basic/rnn_cell_backprop.png</span><br><span class="line">    LSTM.png</span><br><span class="line">    basic/LSTM.png</span><br><span class="line">    LSTM_rnn.png</span><br><span class="line">    basic/LSTM_rnn.png</span><br><span class="line">    attn_mechanism.png</span><br><span class="line">    basic/attn_mechanism.png</span><br><span class="line">    attn_model.png</span><br><span class="line">    basic/attn_model.png</span><br></pre></td></tr></table></figure><p>ä»¿ç…§ä¸Šé¢æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å¯¹æˆ‘ä»¬çš„ä»»åŠ¡è¿›è¡Œå®šåˆ¶ã€‚</p><p><strong>subn</strong> ç›¸æ¯”subï¼Œsubnè¿”å›å…ƒç»„ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºæ›¿æ¢å‘ç”Ÿçš„æ¬¡æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="comment"># Convert.</span></span><br><span class="line">    v = <span class="built_in">int</span>(m.group(<span class="number">0</span>))</span><br><span class="line">    <span class="comment"># Add 2.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>(v + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Call re.subn.</span></span><br><span class="line">result = re.subn(<span class="string">&quot;\d+&quot;</span>, add, <span class="string">&quot;1 2 3 4 5&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Result string:&quot;</span>, result[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Number of substitutions:&quot;</span>, result[<span class="number">1</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line">Result string: <span class="number">11</span> <span class="number">21</span> <span class="number">31</span> <span class="number">41</span> <span class="number">51</span></span><br><span class="line">Number of substitutions: <span class="number">5</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/15194705842254.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦å…³äºpythonçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¦å·ä¸æ–¹æ³•ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="python" scheme="https://frankchen.xyz/tags/python/"/>
    
    <category term="re" scheme="https://frankchen.xyz/tags/re/"/>
    
  </entry>
  
  <entry>
    <title>Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥</title>
    <link href="https://frankchen.xyz/2018/02/08/Writing-Graduation-Thesis-in-Tex/"/>
    <id>https://frankchen.xyz/2018/02/08/Writing-Graduation-Thesis-in-Tex/</id>
    <published>2018-02-07T17:36:41.000Z</published>
    <updated>2018-02-07T18:11:41.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/15180252634406.png"></p><p>ç”¨ Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥ï¼Œé«˜æ•ˆã€ä¾¿æ·ã€ä¼˜é›…ï¼</p><span id="more"></span><p>è¿™é‡Œæˆ‘ä»¬å¹¶ä¸å­˜åœ¨é„™è§†é“¾ï¼Œè¯´ä»€ä¹ˆTex ä¼˜äº Wordä¹‹ç±»çš„ï¼Œå…¶å®Wordä½œä¸ºæå…¶å¤æ‚çš„æ–‡æœ¬å¤„ç†è½¯ä»¶ï¼Œæˆ‘ç›¸ä¿¡Texèƒ½åšåˆ°çš„ï¼ŒWordä¸€å®šæœ‰å…¶å®ç°æ–¹å¼ï¼Œåªä¸è¿‡å¤§éƒ¨åˆ†äººéƒ½åªä¼šç”¨åˆ°Wordçš„ä¸€å°éƒ¨åˆ†åŠŸèƒ½ï¼Œç›¸æ¯”Wordï¼ŒTexè§£å†³æ–¹æ¡ˆæ›´åŠ ä¾¿æ·ä¼˜é›…ï¼Œæ¯”å¦‚è‡ªåŠ¨æ’å·ï¼ˆç« èŠ‚ã€è¡¨æ ¼ã€å‚è€ƒæ–‡çŒ®çš„ç¼–å·ï¼‰ï¼Œå…¨å±€è®¾ç½®çš„å­—ä½“ã€é—´è·æ ¼å¼ç­‰ç­‰ã€‚ç›¸æ¯”Wordäº‹æ— å·¨ç»†çš„ç»´æŠ¤ä¿®æ”¹æˆæœ¬ï¼ŒTex çš„è§£å†³æ–¹æ¡ˆæ›´åŠ programmerï¼Œå³è½¯ä»¶å¼€å‘ï¼ŒåæœŸä¸»è¦å·¥ä½œæ˜¯è¿­ä»£ç»´æŠ¤ï¼Œè‹¥èƒ½åœ¨å‰æœŸå³è€ƒè™‘è¿™ç‚¹ï¼ŒåæœŸèƒ½çœä¸‹æå¤šçš„è„‘ç»†èƒå’Œç²¾åŠ›ã€‚å¥½äº†ä¸è¯´å¤šï¼Œå‘è½¦å§~</p><h2 id="æ€»è®º"><a href="#æ€»è®º" class="headerlink" title="æ€»è®º"></a>æ€»è®º</h2><p> æ€»ä½“æ¥è¯´ï¼Œæ˜¯ç”¨ä¸Šäº¤Texæ¨¡æ¿ç»“åˆAtomç¼–è¾‘å™¨åœ¨æœ¬åœ°ç¼–è¾‘<a href="https://atom.io/">Atom</a>ï¼ˆè¿™ä¸ªç”¨ä»€ä¹ˆç¼–è¾‘å™¨éšæ„ï¼‰ä»¥åŠDropboxåŒæ­¥åˆ°äº‘ç«¯<a href="https://www.dropbox.com/h">Dropbox</a>ä»¥åŠäº‘ç«¯ä¸Šåœ¨sharelatexæœåŠ¡å™¨ä¸Šå³æ—¶ç¼–è¯‘æ‰€è§å³æ‰€å¾—ã€‚</p><h2 id="å·¥å…·ä½¿ç”¨æ–¹æ³•"><a href="#å·¥å…·ä½¿ç”¨æ–¹æ³•" class="headerlink" title="å·¥å…·ä½¿ç”¨æ–¹æ³•"></a>å·¥å…·ä½¿ç”¨æ–¹æ³•</h2><p>é¦–å…ˆæˆ‘ä»¬åœ¨sharelatexå®˜ç½‘<a href="https://www.sharelatex.com/project">Your Projects - ShareLaTeX, Online LaTeX Editor</a>æ³¨å†Œè´¦å·ï¼Œå…è´¹è´¦å·å³å¯ï¼Œå¦‚æœéœ€è¦å¤šäººåä½œå¯ä»¥ç”¨é‚€è¯·å°å·çš„æ–¹å¼è®©è‡ªå·±å¢åŠ æƒé™ï¼ˆsharelatexæ–°å»ºè´¦å·ä¸éªŒè¯é‚®ç®±ã€‚ã€‚æ‰€ä»¥ä½ æ‡‚çš„ï¼‰ï¼Œæ¥ä¸‹æ¥åœ¨ä¸Šäº¤æ¨¡æ¿<a href="https://github.com/sjtug/SJTUThesis">sjtug/SJTUThesis: ä¸Šæµ·äº¤é€šå¤§å­¦ XeLaTeX å­¦ä½è®ºæ–‡æ¨¡æ¿ A XeLaTeX template for Shanghai Jiao Tong University (SJTU) thesis.</a>å¤„ç‚¹å‡»æ­¤å¤„æ·»åŠ æœ€æ–°ç‰ˆæ¨¡æ¿åˆ°æˆ‘ä»¬çš„sharelatexé¡¹ç›®ï¼Œ<br><img src="/images/Screen%20Shot%202018-02-08%20at%2001.58.25.png" alt="Screen Shot 2018-02-08 at 01.58.25"></p><p><img src="/images/Screen%20Shot%202018-02-08%20at%2001.58.56.png" alt="Screen Shot 2018-02-08 at 01.58.56"></p><p>å¦‚å›¾ï¼Œå†ç‚¹è¿›å»ï¼Œå…ˆåˆ«æ€¥ç€ä¿®æ”¹ï¼Œæˆ‘ä»¬å…ˆè®¾ç½®ä¸ªç½‘ç›˜åŒæ­¥ï¼ŒDropboxéœ€è¦æ¢¯å­ï¼Œåœ¨sharelatexçš„è´¦å·è®¾ç½®å¤„é“¾æ¥åˆ°Dropboxï¼Œ<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.00.57.png" alt="Screen Shot 2018-02-08 at 02.00.57"></p><p>åŒæ—¶Dropboxå®‰è£…ä¸€ä¸ªæ¡Œé¢ç‰ˆï¼Œéœ€è¦è®¾ç½®ä»£ç†ï¼Œ<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.02.29.png" alt="Screen Shot 2018-02-08 at 02.02.29"><br>å¦‚å›¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ssä½œä¸ºä»£ç†ã€‚</p><p>æ¥ä¸‹æ¥å®‰è£…Atomç¼–è¾‘å™¨ï¼Œåœ¨æ’ä»¶é‡Œè£…ä¸€ä¸ªå¦‚ä¸‹æ’ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å®ƒåªæ˜¯ä¸ºäº†æ³¨é‡Šè¿™ä¸€ä¸ªåŠŸèƒ½ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦æœ¬åœ°ç¼–è¯‘ã€‚<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.03.38.png" alt="Screen Shot 2018-02-08 at 02.03.38"></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨æœ¬åœ°ç”¨Atomç¼–è¾‘Dropboxç½‘ç›˜åœ¨æœ¬åœ°çš„Texé¡¹ç›®ï¼Œåªè¦æˆ‘ä»¬ä¿å­˜ï¼ŒDropboxå°±ä¼šåŒæ­¥åˆ°sharelatexï¼Œå¦‚æœå¼€å¯è‡ªåŠ¨ç¼–è¯‘äº‘ç«¯å°±ä¼šå±•ç¤ºå½“ä¸‹ç¼–è¯‘çš„PDFæ•ˆæœï¼Œå¦‚å›¾<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.07.11.png" alt="Screen Shot 2018-02-08 at 02.07.11"></p><h2 id="Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜"><a href="#Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜" class="headerlink" title="Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜"></a>Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜</h2><p>è¯¦è§æ­¤å¤„<a href="http://sjtug.org/SJTUThesis/README.pdf">README.pdf</a>ï¼Œä¸»è¦æ€è·¯å°±æ˜¯æŠŠå„ç« ã€æ‘˜è¦ã€å‚è€ƒæ–‡çŒ®ç­‰åˆ†ä¸ºä¸åŒçš„texæ–‡ä»¶ï¼Œå›¾è¡¨ç­‰èµ„æºæ”¾åœ¨ä¸€å¤„æ–‡ä»¶å¤¹å†…ï¼Œé€ä¸ªå¼•ç”¨ï¼Œæœ‰å…¨å±€çš„çš„è®¾ç½®æ–‡ä»¶ï¼Œç¼–è¯‘æ—¶å°†è¿™äº›é›¶ä»¶æ‹¼æ¥ä¸ºpdfï¼Œåç»­ä¼šæ·»åŠ æ›´å¤šå¿ƒå¾—ã€‚</p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><ol><li><a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">MathJax basic tutorial and quick reference - Mathematics Meta Stack Exchange</a>ï¼šä¸€ä¸ªå¸¸ç”¨Latexå…¬å¼ç¬¦å·çš„å…¨é›†</li><li>å¦‚æœä¸Šé¢æ²¡æ‰¾åˆ°ï¼Œå¯ä»¥è¯•è¯•è¿™é‡Œï¼Œæ‰‹å†™è¯†åˆ«latexå­—ç¬¦<a href="http://detexify.kirelabs.org/classify.html">Detexify LaTeX handwritten symbol recognition</a></li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/15180252634406.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç”¨ Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥ï¼Œé«˜æ•ˆã€ä¾¿æ·ã€ä¼˜é›…ï¼&lt;/p&gt;</summary>
    
    
    
    
    <category term="Tex" scheme="https://frankchen.xyz/tags/Tex/"/>
    
  </entry>
  
</feed>
