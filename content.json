{"meta":{"title":"ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶","subtitle":"Enjoy everything fun and challenging","description":"å½“ä½ çš„æ‰åè¿˜æ’‘ä¸èµ·ä½ çš„é‡å¿ƒæ—¶ï¼Œä½ å°±åº”è¯¥é™ä¸‹å¿ƒæ¥å­¦ä¹ ã€‚","author":"æ±Ÿå—æ¶ˆå¤","url":"http://frankchen.xyz"},"pages":[{"title":"404","date":"2016-11-12T17:28:54.000Z","updated":"2016-11-12T17:28:54.000Z","comments":true,"path":"404/index.html","permalink":"http://frankchen.xyz/404/index.html","excerpt":"","text":""},{"title":"categories","date":"2017-10-27T03:51:19.000Z","updated":"2017-10-27T06:20:09.000Z","comments":true,"path":"categories/index.html","permalink":"http://frankchen.xyz/categories/index.html","excerpt":"","text":""},{"title":"About Me","date":"2016-11-12T17:00:21.000Z","updated":"2018-03-20T08:56:46.176Z","comments":true,"path":"about/index.html","permalink":"http://frankchen.xyz/about/index.html","excerpt":"","text":"æœ¬ç§‘æ¯•ä¸šäºè¥¿å®‰ç”µå­ç§‘æŠ€å¤§å­¦çš„é€šä¿¡å·¥ç¨‹ä¸“ä¸šï¼Œç°ä¸ºæ·±åœ³å¤§å­¦ä¿¡æ¯å·¥ç¨‹å­¦é™¢çš„ç ”ä¸‰å­¦ç”Ÿã€‚ åŸè¯¯å…¥å®Œå…¨ä¸æ„Ÿå…´è¶£çš„é€šä¿¡å‘ï¼Œç°åœ¨è¿ˆå…¥æ•°æ®ç§‘å­¦ä¸–ç•Œï¼Œä¸ºäº†æˆä¸ºç‹¬å½“ä¸€é¢çš„ç®—æ³•å·¥ç¨‹å¸ˆï¼ å†’æ˜§é—®ä¸€å¥Witcher 3æ˜¯ä¸æ˜¯æœ€å¥½ç©çš„æ¸¸æˆï¼ŸğŸ˜˜æˆ‘æƒ³ç°åœ¨æˆ‘æ‰¾åˆ°ç­”æ¡ˆäº†ã€‚ã€‚ã€‚"},{"title":"æ ‡ç­¾","date":"2016-11-12T17:00:37.000Z","updated":"2017-10-27T06:20:25.000Z","comments":true,"path":"tags/index.html","permalink":"http://frankchen.xyz/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"å¤„ç†å¤§æ•°æ®é›†çš„å»ºè®®","slug":"handle-big-datasets","date":"2018-04-10T07:07:34.000Z","updated":"2018-04-10T08:15:51.972Z","comments":true,"path":"2018/04/10/handle-big-datasets/","link":"","permalink":"http://frankchen.xyz/2018/04/10/handle-big-datasets/","excerpt":"æœ€è¿‘çš„ä¸€äº›æ¯”èµ›å¦‚TalkingData AdTracking Fraud Detection Challenge | Kaggleæä¾›äº†å¾ˆå¤§çš„æ•°æ®é›†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªæœ‰16Gçš„å†…å­˜çš„â€œå°â€ç”µè„‘éƒ½æ— æ³•ç›´æ¥å¤„ç†è¿™ç§æ•°æ®é›†äº†ï¼Œæœ¬æ–‡æ”¶é›†äº†ä¸€äº›å…³äºå¤„ç†è¿™ç§æ•°æ®çš„å»ºè®®ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚","text":"æœ€è¿‘çš„ä¸€äº›æ¯”èµ›å¦‚TalkingData AdTracking Fraud Detection Challenge | Kaggleæä¾›äº†å¾ˆå¤§çš„æ•°æ®é›†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªæœ‰16Gçš„å†…å­˜çš„â€œå°â€ç”µè„‘éƒ½æ— æ³•ç›´æ¥å¤„ç†è¿™ç§æ•°æ®é›†äº†ï¼Œæœ¬æ–‡æ”¶é›†äº†ä¸€äº›å…³äºå¤„ç†è¿™ç§æ•°æ®çš„å»ºè®®ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚ 1.åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶é€šå¸¸æˆ‘ä»¬åœ¨ç‰¹å¾å·¥ç¨‹ä¸­ä¼šæ¶‰åŠå¤§é‡çš„è½¬æ¢æ“ä½œï¼Œäº§ç”Ÿå¾ˆå¤šçš„ä¸­é—´å˜é‡ç­‰ï¼Œé™¤äº†ä½¿ç”¨delä»¥å¤–ï¼Œä½¿ç”¨gc.collect()ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ 12345678temp = pd.read_csv('../input/train_sample.csv')#do something to the filetemp['os'] = temp['os'].astype('str')#delete when no longer neededdel temp#collect residual garbagegc.collect() 2.é¢„å®šä¹‰æ•°æ®ç±»å‹pandasä¸€èˆ¬ä¼šè‡ªå·±æ¨æ–­æ•°æ®ç±»å‹ï¼Œä¸è¿‡å€¾å‘äºä½¿ç”¨è€—è´¹ç©ºé—´å¤§çš„ï¼Œå¦‚ä¸‹é¢ä¾‹å­æ‰€ç¤ºï¼Œé¢„å®šä¹‰æ•°æ®ç±»å‹èŠ‚çœäº†è¶…è¿‡ä¸€åŠçš„ç©ºé—´ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475dtypes = &#123; 'ip' : 'uint32', 'app' : 'uint16', 'device' : 'uint16', 'os' : 'uint16', 'channel' : 'uint16', 'is_attributed' : 'uint8', &#125;dtypes2 = &#123; 'ip' : 'int32', 'app' : 'int16', 'device' : 'int16', 'os' : 'int16', 'channel' : 'int16', 'is_attributed' : 'int8', &#125;train = pd.read_csv(train_sample_file,parse_dates=['click_time'])#check datatypes:train.info()train = pd.read_csv(train_sample_file,dtype=dtypes,parse_dates=['click_time'])#check datatypes:train.info()train = pd.read_csv(train_sample_file,dtype=dtypes2,parse_dates=['click_time'])#check datatypes:train.info()'''&lt;class 'pandas.core.frame.DataFrame'&gt;RangeIndex: 100000 entries, 0 to 99999Data columns (total 8 columns):ip 100000 non-null int64app 100000 non-null int64device 100000 non-null int64os 100000 non-null int64channel 100000 non-null int64click_time 100000 non-null datetime64[ns]attributed_time 227 non-null objectis_attributed 100000 non-null int64dtypes: datetime64[ns](1), int64(6), object(1)memory usage: 6.1+ MB&lt;class 'pandas.core.frame.DataFrame'&gt;RangeIndex: 100000 entries, 0 to 99999Data columns (total 8 columns):ip 100000 non-null uint32app 100000 non-null uint16device 100000 non-null uint16os 100000 non-null uint16channel 100000 non-null uint16click_time 100000 non-null datetime64[ns]attributed_time 227 non-null objectis_attributed 100000 non-null uint8dtypes: datetime64[ns](1), object(1), uint16(4), uint32(1), uint8(1)memory usage: 2.8+ MB&lt;class 'pandas.core.frame.DataFrame'&gt;RangeIndex: 100000 entries, 0 to 99999Data columns (total 8 columns):ip 100000 non-null int32app 100000 non-null int16device 100000 non-null int16os 100000 non-null int16channel 100000 non-null int16click_time 100000 non-null datetime64[ns]attributed_time 227 non-null objectis_attributed 100000 non-null int8dtypes: datetime64[ns](1), int16(4), int32(1), int8(1), object(1)memory usage: 2.8+ MB''' 3.åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œa) æŒ‡å®šè¡Œæ•°ç›´æ¥ä½¿ç”¨nrowsæŒ‡å®š 1train = pd.read_csv('../input/train.csv', nrows=1e5, dtype=dtypes) b) è·³è¿‡è¡Œæ•°æ¯”å¦‚æˆ‘ä»¬è·³è¿‡å‰500wå–100wä¸‹é¢ä¿ç•™äº†headï¼Œ 12train = pd.read_csv('../input/train.csv', skiprows=range(1, 5000000), nrows=1000000, dtype=dtypes) c) sampling1234567891011import subprocessprint('# Line count:')for file in ['train.csv', 'test.csv', 'train_sample.csv']: lines = subprocess.run(['wc', '-l', '../input/&#123;&#125;'.format(file)], stdout=subprocess.PIPE).stdout.decode('utf-8') print(lines, end='', flush=True)'''# Line count:184903891 ../input/train.csv18790470 ../input/test.csv100001 ../input/train_sample.csv''' trainä¸€å…±æœ‰lines=184903891 è¡Œï¼Œé‚£ä¹ˆå‡è®¾æˆ‘ä»¬éœ€è¦é‡‡æ ·å‡º100wè¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è·³è¿‡lines - 1 - 1000000è¡Œï¼Œå³ 123456789101112131415161718192021#generate list of lines to skipskiplines = np.random.choice(np.arange(1, lines), size=lines-1-1000000, replace=False)#sort the listskiplines=np.sort(skiplines)#check our listprint('lines to skip:', len(skiplines))print('remaining lines in sample:', lines-len(skiplines), '(remember that it includes the heading!)')###################SANITY CHECK####################find lines that weren't skipped by checking difference between each consecutive line#how many out of first 100000 will be imported into the csv?diff = skiplines[1:100000]-skiplines[2:100001]remain = sum(diff!=-1)print('Ratio of lines from first 100000 lines:', '&#123;0:.5f&#125;'.format(remain/100000) ) print('Ratio imported from all lines:', '&#123;0:.5f&#125;'.format((lines-len(skiplines))/lines) )train = pd.read_csv('../input/train.csv', skiprows=skiplines, dtype=dtypes)train.head()del skiplinesgc.collect() 4.ä½¿ç”¨pandas çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨np.whereè¿‡æ»¤æ‰â€˜is_attributedâ€™ä¸º0çš„éƒ¨åˆ†ï¼ˆä¾‹å¦‚[xv if c else yv for (c,xv,yv) in zip(condition,x,y)]ï¼‰12345678910#set up an empty dataframedf_converted = pd.DataFrame()#we are going to work with chunks of size 1 million rowschunksize = 10 ** 6#in each chunk, filter for values that have 'is_attributed'==1, and merge these values into one dataframefor chunk in pd.read_csv('../input/train.csv', chunksize=chunksize, dtype=dtypes): filtered = (chunk[(np.where(chunk['is_attributed']==1, True, False))]) df_converted = pd.concat([df_converted, filtered], ignore_index=True, ) 5.åªè½½å…¥è‹¥å¹²åˆ—1234567891011121314151617181920#wanted columnscolumns = ['ip', 'click_time', 'is_attributed']dtypes = &#123; 'ip' : 'uint32', 'is_attributed' : 'uint8', &#125;ips_df = pd.read_csv('../input/train.csv', usecols=columns, dtype=dtypes)print(ips_df.info())ips_df.head()'''&lt;class 'pandas.core.frame.DataFrame'&gt;RangeIndex: 184903890 entries, 0 to 184903889Data columns (total 3 columns):ip uint32click_time objectis_attributed uint8dtypes: object(1), uint32(1), uint8(1)memory usage: 2.2+ GBNone''' 6.ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®ä¾‹å¦‚æ— æ³•ä½¿ç”¨æ•´ä¸ªæ•°æ®æ¥groupbyé‚£ä¹ˆå¯ä»¥åˆ†å—æ¥åšï¼Œ 1234567891011121314151617181920size=100000all_rows = len(ips_df)num_parts = all_rows//size#generate the first batchip_sums = ips_df[0:size][['ip', 'is_attributed']].groupby('ip', as_index=False).sum()#add remaining batchesfor p in range(1,num_parts): start = p*size end = p*size + size if end &lt; all_rows: group = ips_df[start:end][['ip', 'is_attributed']].groupby('ip', as_index=False).sum() else: group = ips_df[start:][['ip', 'is_attributed']].groupby('ip', as_index=False).sum() ip_sums = ip_sums.merge(group, on='ip', how='outer') ip_sums.columns = ['ip', 'sum1','sum2'] ip_sums['conversions_per_ip'] = np.nansum((ip_sums['sum1'], ip_sums['sum2']), axis = 0) ip_sums.drop(columns=['sum1', 'sum2'], axis = 0, inplace=True) 7.ä½¿ç”¨daskä»£æ›¿pandas12import daskimport dask.dataframe as dd","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"},{"name":"Kaggle","slug":"Kaggle","permalink":"http://frankchen.xyz/tags/Kaggle/"}]},{"title":"æœºå™¨å­¦ä¹ ä¹‹ sklearnä¸­çš„pipeline","slug":"pipeline-in-machine-learning","date":"2018-04-08T08:13:42.000Z","updated":"2018-04-10T06:04:14.946Z","comments":true,"path":"2018/04/08/pipeline-in-machine-learning/","link":"","permalink":"http://frankchen.xyz/2018/04/08/pipeline-in-machine-learning/","excerpt":"","text":"å¦‚å›¾æ‰€ç¤ºï¼Œåˆ©ç”¨pipelineæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å‡å°‘ä»£ç é‡åŒæ—¶è®©æœºå™¨å­¦ä¹ çš„æµç¨‹å˜å¾—ç›´è§‚ï¼Œ ä¾‹å¦‚æˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹æ“ä½œï¼Œå®¹æ˜“çœ‹å‡ºï¼Œè®­ç»ƒæµ‹è¯•é›†é‡å¤äº†ä»£ç ï¼Œ 123456789101112vect = CountVectorizer()tfidf = TfidfTransformer()clf = SGDClassifier()vX = vect.fit_transform(Xtrain)tfidfX = tfidf.fit_transform(vX)predicted = clf.fit_predict(tfidfX)# Now evaluate all steps on test setvX = vect.fit_transform(Xtest)tfidfX = tfidf.fit_transform(vX)predicted = clf.fit_predict(tfidfX) åˆ©ç”¨pipelineï¼Œä¸Šé¢ä»£ç å¯ä»¥æŠ½è±¡ä¸ºï¼Œ 12345678pipeline = Pipeline([ ('vect', CountVectorizer()), ('tfidf', TfidfTransformer()), ('clf', SGDClassifier()),])predicted = pipeline.fit(Xtrain).predict(Xtrain)# Now evaluate all steps on test setpredicted = pipeline.predict(Xtest) æ³¨æ„ï¼Œpipelineæœ€åä¸€æ­¥å¦‚æœæœ‰predict()æ–¹æ³•æˆ‘ä»¬æ‰å¯ä»¥å¯¹pipelineä½¿ç”¨fit_predict()ï¼ŒåŒç†ï¼Œæœ€åä¸€æ­¥å¦‚æœæœ‰transform()æ–¹æ³•æˆ‘ä»¬æ‰å¯ä»¥å¯¹pipelineä½¿ç”¨fit_transform()æ–¹æ³•ã€‚ ä½¿ç”¨pipelineåšcross validationçœ‹å¦‚ä¸‹æ¡ˆä¾‹ï¼Œå³å…ˆå¯¹è¾“å…¥æ‰‹å†™æ•°å­—çš„æ•°æ®è¿›è¡ŒPCAé™ç»´ï¼Œå†é€šè¿‡é€»è¾‘å›å½’é¢„æµ‹æ ‡ç­¾ã€‚å…¶ä¸­æˆ‘ä»¬é€šè¿‡pipelineå¯¹PCAçš„é™ç»´ç»´æ•°n_componentså’Œé€»è¾‘å›å½’çš„æ­£åˆ™é¡¹Cå¤§å°åšäº¤å‰éªŒè¯ï¼Œä¸»è¦æ­¥éª¤æœ‰ï¼š ä¾æ¬¡å®ä¾‹åŒ–å„æˆåˆ†å¯¹è±¡å¦‚pca = decomposition.PCA() ä»¥(name, object)çš„tubleä¸ºå…ƒç´ ç»„è£…pipelineå¦‚Pipeline(steps=[(&#39;pca&#39;, pca), (&#39;logistic&#39;, logistic)]) åˆå§‹åŒ–CVå‚æ•°å¦‚n_components = [20, 40, 64] å®ä¾‹åŒ–CVå¯¹è±¡å¦‚estimator = GridSearchCV(pipe, dict(pca__n_components=n_components, logistic__C=Cs))ï¼Œå…¶ä¸­æ³¨æ„å‚æ•°çš„ä¼ é€’æ–¹å¼ï¼Œå³keyä¸ºpipelineå…ƒç´ å+å‡½æ•°å‚æ•° 123456789101112131415161718192021222324252627282930313233343536import numpy as npimport matplotlib.pyplot as pltfrom sklearn import linear_model, decomposition, datasetsfrom sklearn.pipeline import Pipelinefrom sklearn.model_selection import GridSearchCVlogistic = linear_model.LogisticRegression()pca = decomposition.PCA()pipe = Pipeline(steps=[('pca', pca), ('logistic', logistic)])digits = datasets.load_digits()X_digits = digits.datay_digits = digits.target# Predictionn_components = [20, 40, 64]Cs = np.logspace(-4, 4, 3)pca.fit(X_digits)estimator = GridSearchCV(pipe, dict(pca__n_components=n_components, logistic__C=Cs))estimator.fit(X_digits, y_digits)plt.figure(1, figsize=(4, 3))plt.clf()plt.axes([.2, .2, .7, .7])plt.plot(pca.explained_variance_, linewidth=2)plt.axis('tight')plt.xlabel('n_components')plt.ylabel('explained_variance_')plt.axvline( estimator.best_estimator_.named_steps['pca'].n_components, linestyle=':', label='n_components chosen')plt.legend(prop=dict(size=12))plt.show() è‡ªå®šä¹‰transformerFeatureUnionsklearn.pipeline.FeatureUnion â€” scikit-learn 0.19.1 documentation å’Œpipelineçš„åºåˆ—æ‰§è¡Œä¸åŒï¼ŒFeatureUnionæŒ‡çš„æ˜¯å¹¶è¡Œåœ°åº”ç”¨è®¸å¤štransformeråœ¨inputä¸Šï¼Œå†å°†ç»“æœåˆå¹¶ï¼Œæ‰€ä»¥è‡ªç„¶åœ°é€‚åˆç‰¹å¾å·¥ç¨‹ä¸­çš„å¢åŠ ç‰¹å¾ï¼Œè€ŒFeatureUnionä¸pipelineç»„åˆå¯ä»¥æ–¹ä¾¿çš„å®Œæˆè®¸å¤šå¤æ‚çš„æ“ä½œï¼Œä¾‹å¦‚å¦‚ä¸‹çš„ä¾‹å­ï¼Œ 123456789101112pipeline = Pipeline([ ('extract_essays', EssayExractor()), ('features', FeatureUnion([ ('ngram_tf_idf', Pipeline([ ('counts', CountVectorizer()), ('tf_idf', TfidfTransformer()) ])), ('essay_length', LengthTransformer()), ('misspellings', MispellingCountTransformer()) ])), ('classifier', MultinomialNB())]) æ•´ä¸ªfeaturesæ˜¯ä¸€ä¸ªFeatureUnionï¼Œè€Œå…¶ä¸­çš„ngram_tf_idfåˆæ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸¤æ­¥çš„pipelineã€‚ ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨FeatureUnionç»“åˆPCAé™ç»´åç‰¹å¾ä»¥åŠé€‰æ‹©åŸç‰¹å¾ä¸­çš„å‡ ä¸ªä½œä¸ºç‰¹å¾ç»„åˆå†å–‚ç»™SVMåˆ†ç±»ï¼Œæœ€åç”¨grid_search åšäº† pcaçš„n_componentsã€SelectKBestçš„kä»¥åŠSVMçš„Cçš„CVã€‚ 123456789101112131415161718192021222324252627282930313233343536373839from sklearn.pipeline import Pipeline, FeatureUnionfrom sklearn.model_selection import GridSearchCVfrom sklearn.svm import SVCfrom sklearn.datasets import load_irisfrom sklearn.decomposition import PCAfrom sklearn.feature_selection import SelectKBestiris = load_iris()X, y = iris.data, iris.targetprint(X.shape, y.shape)# This dataset is way too high-dimensional. Better do PCA:pca = PCA()# Maybe some original features where good, too?selection = SelectKBest()# Build estimator from PCA and Univariate selection:svm = SVC(kernel=\"linear\")# Do grid search over k, n_components and C:pipeline = Pipeline([(\"features\", FeatureUnion([(\"pca\", pca), (\"univ_select\", selection)])), (\"svm\", svm)])param_grid = dict( features__pca__n_components=[1, 2, 3], features__univ_select__k=[1, 2], svm__C=[0.1, 1, 10])grid_search = GridSearchCV(pipeline, param_grid=param_grid, verbose=10)grid_search.fit(X, y)print(grid_search.best_estimator_)","categories":[],"tags":[{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"}]},{"title":"VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨","slug":"private-BT-server","date":"2018-04-08T03:13:51.000Z","updated":"2018-04-08T03:47:02.802Z","comments":true,"path":"2018/04/08/private-BT-server/","link":"","permalink":"http://frankchen.xyz/2018/04/08/private-BT-server/","excerpt":"ä½¿ç”¨é—²ç½®çš„VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œäº¦æˆ–è€…æ¨å¹¿è‡³æ ‘è“æ´¾æˆ–è€…å®¶ç”¨è·¯ç”±å™¨äº¦å¯ã€‚","text":"ä½¿ç”¨é—²ç½®çš„VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œäº¦æˆ–è€…æ¨å¹¿è‡³æ ‘è“æ´¾æˆ–è€…å®¶ç”¨è·¯ç”±å™¨äº¦å¯ã€‚ å®‰è£…åŠé…ç½® Transmission å®‰è£… sudo apt-get install transmission-daemon é…ç½® åœæ­¢æœåŠ¡ï¼ˆå¦åˆ™é…ç½®æ–‡ä»¶é”å®šï¼Œæ— æ³•ä¿®æ”¹ï¼‰sudo service transmission-daemon stop ç¼–è¾‘é…ç½®æ–‡ä»¶ sudo vim /etc/transmission-daemon/settings.json 1234567&#123; \"ratio-limit\": 0.0100, \"ratio-limit-enabled\": true, \"rpc-password\": \"*******\", \"rpc-username\": \"frank\", \"download-dir\": \"/var/www/html/Downloads\", &#125; æˆ‘åªåˆ—å‡ºäº†æˆ‘ä¿®æ”¹è¿‡ä¸”æ— æ³•åœ¨ Transmission Web-GUI ä¸­æ— æ³•å®Œæˆä¿®æ”¹çš„å‡ é¡¹ï¼Œå››é¡¹ä¾æ¬¡æ˜¯ä¸‹è½½å®Œæˆåšç§ç‡ï¼Œå¼€å¯é™åˆ¶åšç§ç‡ï¼ŒWeb-GUI å¯†ç ï¼ŒWeb-GUI ç”¨æˆ·åã€‚åƒä¿å­˜è·¯å¾„ï¼Œä¸‹è½½/ ä¸Šä¼ é€Ÿåº¦é™åˆ¶ï¼Œéƒ½å¯ä»¥åœ¨ Web-GUI ä¸­ç›´æ¥è®¾å®šï¼Œä¸ºäº†æ–¹ä¾¿ä¹‹åå¯¹ä¸‹è½½æ–‡ä»¶çš„ Web ç®¡ç†ï¼Œæˆ‘ç›´æ¥å°†ä¿å­˜è·¯å¾„æ”¹åˆ°äº† Web å‘å¸ƒè·¯å¾„ä¸‹çš„ä¸€ä¸ªå­ç›®å½•ã€‚ é‡å¯æœåŠ¡ sudo service transmission-daemon start æ­¤æ—¶åœ¨æµè§ˆå™¨æ‰“å¼€VPSçš„IPåœ°å€/åŸŸå:9091å¹¶è¾“å…¥åˆšåˆšè®¾ç½®çš„ç”¨æˆ·ååŠå¯†ç åº”è¯¥å°±å¯ä»¥è®¿é—® Transmission çš„ Web-GUIäº†ã€‚ å¯æ˜¯åœ¨æ·»åŠ äº†ç¬¬ä¸€ä¸ªä»»åŠ¡åå‡ºç°ä¿å­˜è·¯å¾„å†™å…¥æƒé™çš„é—®é¢˜ã€‚è§£å†³åŠæ³•å¦‚Permission denied when downloading with transmission deamon - Ask Ubuntuæ‰€ç¤ºï¼š æˆ‘ä»¬çš„ä¸‹è½½åœ°å€æ˜¯ /var/www/html/Downloads ç”¨æˆ·åæ˜¯znwindy:é‚£ä¹ˆ 1234567891011121314# å°†æœ¬ç”¨æˆ·åŠ å…¥ `debian-transmission`ç»„sudo usermod -a -G debian-transmission znwindy# æ–‡ä»¶å¤¹æ‰€æœ‰è€…sudo chgrp debian-transmission /var/www/html/Downloads# ç»„æ·»åŠ å†™æƒé™sudo chmod -R 755 /var/www# åœæ­¢åå°deamon sudo service transmission-daemon stop# æ›´æ”¹ file creation masksudo vim /etc/transmission-daemon/settings.json# æŠŠ\"umask\": 18 æ”¹ä¸º \"umask\": 2# é‡å¯æœåŠ¡sudo service transmission-daemon start å³å¯è§£å†³å†™çš„é—®é¢˜ã€‚ é…ç½® Apache åŠ å¯†åŒºåŸŸå®‰è£…apache2 12sudo apt-get updatesudo apt-get install apache2 Adjust the Firewall 1234sudo ufw app listsudo ufw allow 'Apache Full'sudo ufw statussudo systemctl status apache2 å¯†ç ç”Ÿæˆ 1sudo htpasswd -c /etc/apache2/.htpasswd ç”¨æˆ·å ç„¶åä¼šè¢«æç¤ºè¾“å…¥ä¸¤æ¬¡è¯¥ â€œç”¨æˆ·åâ€ çš„å¯†ç ã€‚ ä¿®æ”¹è™šæ‹Ÿ host çš„é…ç½®æ–‡ä»¶sudo vim /etc/apache2/sites-enabled/000-default.conf 123456&lt;Directory \"/var/www/html\"&gt; AuthType Basic AuthName \"Restricted Content\" AuthUserFile /etc/apache2/.htpasswd Require valid-user&lt;/Directory&gt; ä¿å­˜åé‡å¯ sudo service apache2 restart æ€»ç»“é€šè¿‡ HTTP å°†ä¸‹è½½çš„ä»»åŠ¡å–å›æœ¬åœ°ï¼Œé€Ÿåº¦ä¹Ÿå¾ˆå¿«ï¼è¿™æ ·ï¼Œé€šè¿‡è®¿é—® Transmission Web-GUI â€œæŠ•å–‚â€ ç§å­ï¼Œç£åŠ›é“¾ï¼Œç„¶ååœ¨ä¸‹è½½å®Œæˆåé€šè¿‡ HTTP æ–¹å¼ä» VPS å°†èµ„æºå–å›æœ¬åœ°ï¼Œç”šè‡³ç›´æ¥å¯¹ .mp3ã€.mp4 ç­‰æ–‡ä»¶æ ¼å¼è¿›è¡Œåœ¨çº¿æ’­æ”¾ï¼Œå®ç°äº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„è¿…é›·ç¦»çº¿ä¸‹è½½ï¼Œå¯æ˜¯å®ƒå´åœ¨ä¸‹è½½æŸäº›ç‰¹å®šèµ„æºæ—¶è¿œæ¯”è¿…é›·ç¦»çº¿ç®¡ç”¨ã€‚ å‚è€ƒè‡ª åœ¨ VPS ä¸Šæ­å»ºç§äººç¦»çº¿ä¸‹è½½","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"},{"name":"Old Driver","slug":"Old-Driver","permalink":"http://frankchen.xyz/tags/Old-Driver/"}]},{"title":"numpy ä¸­å¢åŠ channelçš„æ–¹æ³•","slug":"numpy-add-channel","date":"2018-03-29T12:15:30.000Z","updated":"2018-03-29T12:48:49.127Z","comments":true,"path":"2018/03/29/numpy-add-channel/","link":"","permalink":"http://frankchen.xyz/2018/03/29/numpy-add-channel/","excerpt":"numpy æ•°ç»„ä¸­ä¸€ç»´æ€ä¹ˆè½¬äºŒç»´å’Œå¤šç»´ï¼Ÿç®€è¿° numpy ä¸­å¢åŠ channelçš„æ–¹æ³•ã€‚","text":"numpy æ•°ç»„ä¸­ä¸€ç»´æ€ä¹ˆè½¬äºŒç»´å’Œå¤šç»´ï¼Ÿç®€è¿° numpy ä¸­å¢åŠ channelçš„æ–¹æ³•ã€‚ åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å‘é‡å’ŒçŸ©é˜µï¼Œè€Œæ€ä¹ˆæ ¹æ®æˆ‘ä»¬æ‰€è¦è§£å†³çš„é—®é¢˜æ¥è°ƒæ•´æ¨¡å‹ä»¥åŠæ•°æ®çš„æ ¼å¼ï¼Œä¹Ÿå°±æ˜¯çŸ©é˜µçš„ç»´åº¦å’Œå¤§å°æ˜¯ä¸€é¡¹é‡è¦çš„åŸºæœ¬åŠŸï¼Œé‚£ä¹ˆæœ¬æ–‡å°±å…·ä½“ä»‹ç»ä¸‹numpyä¸­æ•°ç»„çš„è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯å¢åŠ channelçš„æ–¹æ³•ã€‚ ä¸€ç»´è½¬äºŒç»´ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸€ç»´çš„numpy arrayï¼Œæœ‰å¦‚ä¸‹æ–¹æ³•å¯ä»¥è½¬ä¸ºäºŒç»´ 123456789101112131415161718192021a = np.arange(10)aa.shapeb = a[:,None]bb.shape'''array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])(10,)array([[0], [1], [2], [3], [4], [5], [6], [7], [8], [9]])(10, 1)''' å¯ä»¥çœ‹åˆ°ï¼Œaç¡®å®è¢«è½¬ä¸ºäº†äºŒç»´ï¼Œä»¥ä¸‹æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼š 12345678910111213141516171819import numpy as npc = a[:,np.newaxis]c(c == b).all()np.newaxis == None'''array([[0], [1], [2], [3], [4], [5], [6], [7], [8], [9]])TrueTrue''' è½¬ä¸ºå¤šç»´æ—¶é—´åºåˆ—é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦çš„æ˜¯(sampleï¼Œtime_stampï¼Œfeature)çš„3 ä¸ªchannelçš„æ•°æ®ï¼Œå³ä¸€ä¸ªä¸‰ç»´çŸ©é˜µï¼ŒåŒ…å«è‹¥å¹²ä¸ªsampleï¼Œæ¯ä¸ªsampleåŒ…å«è‹¥å¹²ä¸ªæ—¶é—´åºåˆ—ç‚¹ï¼Œè€Œæ¯ä¸ªæ—¶é—´åºåˆ—ç‚¹æœ‰åŒ…æ‹¬è‹¥å¹²ä¸ªfeatureï¼Œå“ªæ€•æˆ‘ä»¬åªæ˜¯åšå•å˜é‡çš„æ—¶é—´åºåˆ—é¢„æµ‹ï¼Œè¾“å…¥RNNç½‘ç»œä¾‹å¦‚LSTMçš„æ—¶å€™ï¼Œæ•°æ®ä¹Ÿå¿…é¡»æ˜¯ä¸‰ç»´çš„æ ¼å¼ï¼Œä¸‹é¢æˆ‘ä»¬è®²ä¸€è®²è¿™ä¹ˆåšçš„æ–¹æ³•ã€‚ ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè‹¥å¹²ä¸ªæ—¶é—´ç‚¹æ¯ä¸ªæ—¶é—´ç‚¹æœ‰ä¸¤ä¸ªç‰¹å¾çš„æ•°æ®ï¼Œ 123456789101112131415161718a = np.arange(24).reshape((-1,2))a.shapea'''(12, 2)array([[ 0, 1], [ 2, 3], [ 4, 5], [ 6, 7], [ 8, 9], [10, 11], [12, 13], [14, 15], [16, 17], [18, 19], [20, 21], [22, 23]])''' æˆ‘ä»¬å°†aè½¬åŒ–ä¸ºä¸‰ä¸ªchannelï¼Œå³å¯ä»¥ 1234567891011121314151617181920212223242526272829b = a[:,None,:]b.shapeb'''(12, 1, 2)array([[[ 0, 1]], [[ 2, 3]], [[ 4, 5]], [[ 6, 7]], [[ 8, 9]], [[10, 11]], [[12, 13]], [[14, 15]], [[16, 17]], [[18, 19]], [[20, 21]], [[22, 23]]]) ''' ä»¥ä¸Šå¯¹åº”ç€pandasçš„Dataframeï¼ŒåŠæˆ‘ä»¬å¯¹Dataframeå–valueså±æ€§ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œåšæ³•å°±å¦‚åŒä¸Šé¢ä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœæ˜¯Seriesçš„è¯ï¼Œå–valueså±æ€§å¾—åˆ°çš„æ˜¯ä¸€ä¸ªä¸€ç»´çš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„åšæ³•åˆ™æ˜¯ï¼Œ 123456789101112131415161718192021222324252627282930313233c = np.arange(12)cd = c[:,None,None]d.shaped'''array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11])(12, 1, 1)array([[[ 0]], [[ 1]], [[ 2]], [[ 3]], [[ 4]], [[ 5]], [[ 6]], [[ 7]], [[ 8]], [[ 9]], [[10]], [[11]]])''' å‡å°‘ç»´åº¦è‹¥è¦å‡å°‘æ•°æ®çš„ç»´åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼Œ 1234567891011121314151617181920212223242526272829303132d = np.arange(12)[:,None,None]d.shapede = np.squeeze(d)e.shapee'''(12, 1, 1)array([[[ 0]], [[ 1]], [[ 2]], [[ 3]], [[ 4]], [[ 5]], [[ 6]], [[ 7]], [[ 8]], [[ 9]], [[10]], [[11]]])(12,)array([ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11])'''","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"}]},{"title":"python æ­£åˆ™å®ç”¨ä¾‹å­","slug":"re-basic-of-python","date":"2018-02-24T10:52:00.000Z","updated":"2018-02-24T11:09:45.871Z","comments":true,"path":"2018/02/24/re-basic-of-python/","link":"","permalink":"http://frankchen.xyz/2018/02/24/re-basic-of-python/","excerpt":"æœ¬æ–‡ä¸»è¦å…³äºpythonçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¦å·ä¸æ–¹æ³•ã€‚","text":"æœ¬æ–‡ä¸»è¦å…³äºpythonçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¦å·ä¸æ–¹æ³•ã€‚ findall: æ‰¾å¯»æ‰€æœ‰åŒ¹é…ï¼Œè¿”å›æ‰€æœ‰ç»„åˆçš„åˆ—è¡¨ search: æ‰¾å¯»ç¬¬ä¸€ä¸ªåŒ¹é…å¹¶è¿”å› sub: æ›¿æ¢ç¬¦åˆè§„å¾‹çš„å†…å®¹ï¼Œå¹¶è¿”å›æ›¿æ¢åçš„å†…å®¹ .ï¼šåŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦ 1234a = 'xy123'b = re.findall('x...',a)print(b)# ['xy12'] *ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…æ— é™æ¬¡ 1234a = 'xyxy123'b = re.findall('x*',a)print(b)# ['x', '', 'x', '', '', '', '', ''] ?ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…1æ¬¡ 1234a = 'xy123'b = re.findall('x?',a)print(b)# ['x', '', '', '', '', ''] .*ï¼šè´ªå¿ƒç®—æ³• 123b = re.findall('xx.*xx',secret_code)print(b)# ['xxIxxfasdjifja134xxlovexx23345sdfxxyouxx'] .*?ï¼šéè´ªå¿ƒç®—æ³• 123c = re.findall('xx.*?xx',secret_code)print(c)# ['xxIxx', 'xxlovexx', 'xxyouxx'] ()ï¼šæ‹¬å·å†…ç»“æœè¿”å› 12345678d = re.findall('xx(.*?)xx',secret_code)print(d)for each in d: print(each)# ['I', 'love', 'you']# I# love# you re.Sä½¿å¾—.çš„ä½œç”¨åŸŸåŒ…æ‹¬æ¢è¡Œç¬¦â€\\nâ€ 123456s = '''sdfxxhelloxxfsdfxxworldxxasdf'''d = re.findall('xx(.*?)xx',s,re.S)print(d)# ['hello\\n', 'world'] å¯¹æ¯”findallä¸searchçš„åŒºåˆ« 1234567s2 = 'asdfxxIxx123xxlovexxdfd'f = re.search('xx(.*?)xx123xx(.*?)xx',s2).group(2)print(f)f2 = re.findall('xx(.*?)xx123xx(.*?)xx',s2)print(f2[0][1])# love# love è™½ç„¶ä¸¤è€…ç»“æœç›¸åŒï¼Œä½†æ˜¯searchæ˜¯æ­é…groupæ¥å¾—åˆ°ç¬¬äºŒä¸ªåŒ¹é…ï¼Œè€Œfindallçš„ç»“æœæ˜¯[(â€˜Iâ€™, â€˜loveâ€™)]ï¼ŒåŒ…å«å…ƒç»„çš„åˆ—è¡¨ï¼Œæ‰€ä»¥éœ€è¦f2[0][1]æ¥å¼•å…¥ã€‚ subçš„ä½¿ç”¨ 1234s = '123rrrrr123'output = re.sub('123(.*?)123','123%d123'%789,s)print(output)# 123789123 ä¾‹å¦‚æˆ‘ä»¬éœ€è¦å°†æ–‡æ¡£ä¸­çš„æ‰€æœ‰çš„pngå›¾ç‰‡æ”¹å˜è·¯å¾„ï¼Œå³éœ€è¦æ‰¾åˆ°æ‰€æœ‰çš„.pngç»“å°¾ï¼Œå†å°†å…¶éƒ½åŠ ä¸Šè·¯å¾„ï¼Œ 123456789101112import redef multiply(m): # Convert group 0 to an integer. v = m.group(0) print(v) # Multiply integer by 2. # ... Convert back into string and return it. print('basic/'+v) return 'basic/'+v ç»“æœå¦‚ä¸‹ 123456789101112131415161718&gt;&gt;&gt; autoencoder.png basic/autoencoder.png RNN.png basic/RNN.png rnn_step_forward.png basic/rnn_step_forward.png rnns.png basic/rnns.png rnn_cell_backprop.png basic/rnn_cell_backprop.png LSTM.png basic/LSTM.png LSTM_rnn.png basic/LSTM_rnn.png attn_mechanism.png basic/attn_mechanism.png attn_model.png basic/attn_model.png ä»¿ç…§ä¸Šé¢æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å¯¹æˆ‘ä»¬çš„ä»»åŠ¡è¿›è¡Œå®šåˆ¶ã€‚ subn ç›¸æ¯”subï¼Œsubnè¿”å›å…ƒç»„ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºæ›¿æ¢å‘ç”Ÿçš„æ¬¡æ•°ï¼š 12345678910111213import redef add(m): # Convert. v = int(m.group(0)) # Add 2. return str(v + 1)# Call re.subn.result = re.subn(\"\\d+\", add, \"1 2 3 4 5\")print(\"Result string:\", result[0])print(\"Number of substitutions:\", result[1]) 123&gt;&gt;&gt; Result string: 11 21 31 41 51Number of substitutions: 5","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"re","slug":"re","permalink":"http://frankchen.xyz/tags/re/"}]},{"title":"Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥","slug":"Writing-Graduation-Thesis-in-Tex","date":"2018-02-07T17:36:41.000Z","updated":"2018-02-07T18:11:41.628Z","comments":true,"path":"2018/02/08/Writing-Graduation-Thesis-in-Tex/","link":"","permalink":"http://frankchen.xyz/2018/02/08/Writing-Graduation-Thesis-in-Tex/","excerpt":"ç”¨ Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥ï¼Œé«˜æ•ˆã€ä¾¿æ·ã€ä¼˜é›…ï¼","text":"ç”¨ Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥ï¼Œé«˜æ•ˆã€ä¾¿æ·ã€ä¼˜é›…ï¼ è¿™é‡Œæˆ‘ä»¬å¹¶ä¸å­˜åœ¨é„™è§†é“¾ï¼Œè¯´ä»€ä¹ˆTex ä¼˜äº Wordä¹‹ç±»çš„ï¼Œå…¶å®Wordä½œä¸ºæå…¶å¤æ‚çš„æ–‡æœ¬å¤„ç†è½¯ä»¶ï¼Œæˆ‘ç›¸ä¿¡Texèƒ½åšåˆ°çš„ï¼ŒWordä¸€å®šæœ‰å…¶å®ç°æ–¹å¼ï¼Œåªä¸è¿‡å¤§éƒ¨åˆ†äººéƒ½åªä¼šç”¨åˆ°Wordçš„ä¸€å°éƒ¨åˆ†åŠŸèƒ½ï¼Œç›¸æ¯”Wordï¼ŒTexè§£å†³æ–¹æ¡ˆæ›´åŠ ä¾¿æ·ä¼˜é›…ï¼Œæ¯”å¦‚è‡ªåŠ¨æ’å·ï¼ˆç« èŠ‚ã€è¡¨æ ¼ã€å‚è€ƒæ–‡çŒ®çš„ç¼–å·ï¼‰ï¼Œå…¨å±€è®¾ç½®çš„å­—ä½“ã€é—´è·æ ¼å¼ç­‰ç­‰ã€‚ç›¸æ¯”Wordäº‹æ— å·¨ç»†çš„ç»´æŠ¤ä¿®æ”¹æˆæœ¬ï¼ŒTex çš„è§£å†³æ–¹æ¡ˆæ›´åŠ programmerï¼Œå³è½¯ä»¶å¼€å‘ï¼ŒåæœŸä¸»è¦å·¥ä½œæ˜¯è¿­ä»£ç»´æŠ¤ï¼Œè‹¥èƒ½åœ¨å‰æœŸå³è€ƒè™‘è¿™ç‚¹ï¼ŒåæœŸèƒ½çœä¸‹æå¤šçš„è„‘ç»†èƒå’Œç²¾åŠ›ã€‚å¥½äº†ä¸è¯´å¤šï¼Œå‘è½¦å§~ æ€»è®º æ€»ä½“æ¥è¯´ï¼Œæ˜¯ç”¨ä¸Šäº¤Texæ¨¡æ¿ç»“åˆAtomç¼–è¾‘å™¨åœ¨æœ¬åœ°ç¼–è¾‘Atomï¼ˆè¿™ä¸ªç”¨ä»€ä¹ˆç¼–è¾‘å™¨éšæ„ï¼‰ä»¥åŠDropboxåŒæ­¥åˆ°äº‘ç«¯Dropboxä»¥åŠäº‘ç«¯ä¸Šåœ¨sharelatexæœåŠ¡å™¨ä¸Šå³æ—¶ç¼–è¯‘æ‰€è§å³æ‰€å¾—ã€‚ å·¥å…·ä½¿ç”¨æ–¹æ³•é¦–å…ˆæˆ‘ä»¬åœ¨sharelatexå®˜ç½‘Your Projects - ShareLaTeX, Online LaTeX Editoræ³¨å†Œè´¦å·ï¼Œå…è´¹è´¦å·å³å¯ï¼Œå¦‚æœéœ€è¦å¤šäººåä½œå¯ä»¥ç”¨é‚€è¯·å°å·çš„æ–¹å¼è®©è‡ªå·±å¢åŠ æƒé™ï¼ˆsharelatexæ–°å»ºè´¦å·ä¸éªŒè¯é‚®ç®±ã€‚ã€‚æ‰€ä»¥ä½ æ‡‚çš„ï¼‰ï¼Œæ¥ä¸‹æ¥åœ¨ä¸Šäº¤æ¨¡æ¿sjtug/SJTUThesis: ä¸Šæµ·äº¤é€šå¤§å­¦ XeLaTeX å­¦ä½è®ºæ–‡æ¨¡æ¿ A XeLaTeX template for Shanghai Jiao Tong University (SJTU) thesis.å¤„ç‚¹å‡»æ­¤å¤„æ·»åŠ æœ€æ–°ç‰ˆæ¨¡æ¿åˆ°æˆ‘ä»¬çš„sharelatexé¡¹ç›®ï¼Œ å¦‚å›¾ï¼Œå†ç‚¹è¿›å»ï¼Œå…ˆåˆ«æ€¥ç€ä¿®æ”¹ï¼Œæˆ‘ä»¬å…ˆè®¾ç½®ä¸ªç½‘ç›˜åŒæ­¥ï¼ŒDropboxéœ€è¦æ¢¯å­ï¼Œåœ¨sharelatexçš„è´¦å·è®¾ç½®å¤„é“¾æ¥åˆ°Dropboxï¼Œ åŒæ—¶Dropboxå®‰è£…ä¸€ä¸ªæ¡Œé¢ç‰ˆï¼Œéœ€è¦è®¾ç½®ä»£ç†ï¼Œå¦‚å›¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ssä½œä¸ºä»£ç†ã€‚ æ¥ä¸‹æ¥å®‰è£…Atomç¼–è¾‘å™¨ï¼Œåœ¨æ’ä»¶é‡Œè£…ä¸€ä¸ªå¦‚ä¸‹æ’ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å®ƒåªæ˜¯ä¸ºäº†æ³¨é‡Šè¿™ä¸€ä¸ªåŠŸèƒ½ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦æœ¬åœ°ç¼–è¯‘ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨æœ¬åœ°ç”¨Atomç¼–è¾‘Dropboxç½‘ç›˜åœ¨æœ¬åœ°çš„Texé¡¹ç›®ï¼Œåªè¦æˆ‘ä»¬ä¿å­˜ï¼ŒDropboxå°±ä¼šåŒæ­¥åˆ°sharelatexï¼Œå¦‚æœå¼€å¯è‡ªåŠ¨ç¼–è¯‘äº‘ç«¯å°±ä¼šå±•ç¤ºå½“ä¸‹ç¼–è¯‘çš„PDFæ•ˆæœï¼Œå¦‚å›¾ Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜è¯¦è§æ­¤å¤„README.pdfï¼Œä¸»è¦æ€è·¯å°±æ˜¯æŠŠå„ç« ã€æ‘˜è¦ã€å‚è€ƒæ–‡çŒ®ç­‰åˆ†ä¸ºä¸åŒçš„texæ–‡ä»¶ï¼Œå›¾è¡¨ç­‰èµ„æºæ”¾åœ¨ä¸€å¤„æ–‡ä»¶å¤¹å†…ï¼Œé€ä¸ªå¼•ç”¨ï¼Œæœ‰å…¨å±€çš„çš„è®¾ç½®æ–‡ä»¶ï¼Œç¼–è¯‘æ—¶å°†è¿™äº›é›¶ä»¶æ‹¼æ¥ä¸ºpdfï¼Œåç»­ä¼šæ·»åŠ æ›´å¤šå¿ƒå¾—ã€‚ èµ„æ–™ MathJax basic tutorial and quick reference - Mathematics Meta Stack Exchangeï¼šä¸€ä¸ªå¸¸ç”¨Latexå…¬å¼ç¬¦å·çš„å…¨é›† å¦‚æœä¸Šé¢æ²¡æ‰¾åˆ°ï¼Œå¯ä»¥è¯•è¯•è¿™é‡Œï¼Œæ‰‹å†™è¯†åˆ«latexå­—ç¬¦Detexify LaTeX handwritten symbol recognition","categories":[],"tags":[{"name":"Tex","slug":"Tex","permalink":"http://frankchen.xyz/tags/Tex/"}]},{"title":"ç†è§£TSNEç®—æ³•","slug":"Understanding-TSNE","date":"2018-01-30T03:39:39.000Z","updated":"2018-01-30T08:17:42.455Z","comments":true,"path":"2018/01/30/Understanding-TSNE/","link":"","permalink":"http://frankchen.xyz/2018/01/30/Understanding-TSNE/","excerpt":"ç»“åˆè®ºæ–‡å…¬å¼ä¸å‡ ä¸ªpythonå®ç°ç†è§£t-SNEç®—æ³•ã€‚","text":"ç»“åˆè®ºæ–‡å…¬å¼ä¸å‡ ä¸ªpythonå®ç°ç†è§£t-SNEç®—æ³•ã€‚ t-SNE æ˜¯ä¸€ç§æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œå®ƒå¯ä»¥å°†é«˜ç»´æ•°æ®é™ç»´åˆ°2-3ç»´ä»¥ç”¨äºç”»å›¾ï¼Œå±€éƒ¨ç›¸ä¼¼æ€§è¢«è¿™ç§embeddingæ‰€ä¿ç•™ã€‚ t-SNEæŠŠåŸç©ºé—´çš„æ•°æ®ç‚¹ä¹‹é—´çš„è·ç¦»è½¬æ¢ä¸ºé«˜æ–¯åˆ†å¸ƒæ¦‚ç‡ï¼Œå¦‚æœä¸¤ç‚¹åœ¨é«˜ç»´ç©ºé—´è·ç¦»è¶Šè¿‘ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¦‚ç‡å€¼è¶Šå¤§ã€‚æ³¨æ„åˆ°é«˜æ–¯åˆ†å¸ƒçš„è¿™ä¸ªæ ‡å‡†å·®$\\sigma_i$ å¯¹æ¯ä¸ªç‚¹éƒ½æ˜¯ä¸åŒçš„ï¼Œè¿™ä¹Ÿæ˜¯ç®—æ³•çš„åˆ›æ–°ç‚¹ä¹‹ä¸€ï¼Œå› ä¸ºç†è®ºä¸Šç©ºé—´ä¸åŒä½ç½®çš„ç‚¹çš„å¯†åº¦æ˜¯ä¸åŒçš„ï¼Œæ¡ä»¶æ¦‚ç‡å¦‚æ­¤è®¡ç®—ï¼Œ $$p_{j|i} = \\frac{\\exp{(-d(\\boldsymbol{x}_i, \\boldsymbol{x}_j) / (2 \\sigma_i^2)})}{\\sum_{i \\neq k} \\exp{(-d(\\boldsymbol{x}_i, \\boldsymbol{x}_k) / (2 \\sigma_i^2)})}, \\quad p_{i|i} = 0,$$ å›¾ä¸­å…¬å¼æ˜¯ç†è®ºæ–¹å¼ï¼Œå®é™…æ˜¯å…ˆè®¡ç®—æ¡ä»¶æ¦‚ç‡å†ç”¨ä¸‹é¢å…¬å¼æ¥äº§ç”Ÿè”åˆåˆ†å¸ƒï¼Œ $$p_{ij} = \\frac{p_{j|i} + p_{i|j}}{2N}.$$ å…¶ä¸­ $\\sigma_i$ å°†è‡ªåŠ¨ç¡®å®šã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥é€šè¿‡è®¾ç½®ç®—æ³•çš„å›°æƒ‘æ€§æ¥å½±å“ã€‚ ç”¨ä¸€ä¸ªé•¿å°¾åˆ†å¸ƒ(Student-t Distributionï¼Œç®€ç§°ä¸ºtåˆ†å¸ƒ)æ¥è¡¨ç¤º embedç©ºé—´çš„ç›¸ä¼¼æ€§$$q_{ij} = \\frac{(1 + ||\\boldsymbol{y}_i - \\boldsymbol{y}_j)||^2)^{-1}}{\\sum_{k \\neq l} (1 + ||\\boldsymbol{y}_k - \\boldsymbol{y}_l)||^2)^{-1}},$$ æŸå¤±å‡½æ•°æ˜¯ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„ Kullback-Leibler divergenceï¼ˆKLæ•£åº¦ï¼‰ $$KL(P|Q) = \\sum_{i \\neq j} p_{ij} \\log \\frac{p_{ij}}{q_{ij}}$$ è€Œä¸ºä»€ä¹ˆè¯´tsneä¿ç•™çš„æ˜¯å±€éƒ¨ç›¸ä¼¼æ€§å‘¢ï¼Ÿæˆ‘ä»¬ä»KLæ•£åº¦çš„å…¬å¼å‡ºå‘æ¥è§£é‡Šï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå½“$p_{ij}$å¾ˆå¤§è€Œ$q_{ij}$å¾ˆå°ï¼ˆé«˜ç»´ç©ºé—´è·ç¦»è¿‘ï¼Œä½ç»´ç©ºé—´è·ç¦»è¿œï¼‰æƒ©ç½šå¾ˆå¤§ï¼Œåä¹‹æƒ©ç½šå°ï¼ˆé«˜ç»´ç©ºé—´è·ç¦»è¿œï¼Œä½ç»´ç©ºé—´è·ç¦»è¿‘ï¼‰ã€‚ è€Œä¸ºä»€ä¹ˆé«˜ç»´ç©ºé—´ç”¨é«˜æ–¯åˆ†å¸ƒï¼Œä½ç»´ç©ºé—´ç”¨Student-t Distributionå‘¢ï¼Ÿ åŸå› å°±æ˜¯å› ä¸ºé™ç»´æ˜¯å¿…ç„¶è¦å¸¦æ¥ä¿¡æ¯æŸå¤±ï¼Œæˆ‘ä»¬è¦ä¿å­˜å±€éƒ¨ä¿¡æ¯é‚£ä¹ˆå¿…ç„¶è¦æŸå¤±å…¨å±€ä¿¡æ¯ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æŠŠä¸Šé¢çš„è¿™ä¸ª2ç»´ç©ºé—´çš„ä¸‰ä¸ªæˆç›´è§’è¾¹çš„ç‚¹é™ç»´åˆ°1ç»´ï¼Œé‚£ä¹ˆæŠŠå®ƒä»¬æ”¾å¹³å°±ä¿å­˜äº†å±€éƒ¨ä¿¡æ¯ï¼ˆå·¦ä¸­å’Œä¸­å³ä¹‹é—´çš„è·ç¦»ä¿æŒä¸å˜ï¼‰ï¼Œä½†æ˜¯ç‰ºç‰²äº†å…¨å±€ä¿¡æ¯ï¼ˆå·¦å³ä¹‹é—´çš„è·ç¦»å˜å¤§äº†ï¼‰ã€‚è€ŒStudent-t Distributionå°±èƒ½æ”¾å¤§è¿™ç§å¯†åº¦ï¼Œå¦‚ä¸‹å›¾ï¼ˆtsneé»˜è®¤tåˆ†å¸ƒè‡ªç”±åº¦ä¸º1ï¼‰ï¼Œtåˆ†å¸ƒç›¸æ¯”é«˜æ–¯åˆ†å¸ƒæ›´åŠ é•¿å°¾ã€‚æ¢¯åº¦è®¡ç®—æ—¶æœ‰ä¼˜åŒ–æŠ€å·§ï¼Œå¦‚æœæŒ‰ä¸‹å›¾ä¸­çš„åŸå…¬å¼è®¡ç®—ï¼Œå¤æ‚åº¦ä¸º$O(N^2)$ Barnes-Hut æ ‘æ–¹æ³•å°±å¯ä»¥ä¼˜åŒ–åˆ°$ O(NlogN)$åŸç†ç±»ä¼¼äºç”¨ä¸Šå›¾ä¸­ABCä¸‰ç‚¹ä¸­å¿ƒçš„è·ç¦»ä¹˜ä»¥ä¸‰æ¥ä»£æ›¿è®¡ç®—ä¸‰è€…å„è‡ªçš„è·ç¦»ã€‚é‚£ä¹ˆæŠŠç”¨barnesæ ‘ç»“æ„æ¥è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œåˆ†åˆ«åˆ¤æ–­å…¶è·ç¦»æ˜¯å¦å¤§äºé˜ˆå€¼ï¼Œåˆ†å—è®¡ç®—è·ç¦»ï¼Œè¿™æ ·å¤æ‚åº¦å°±é™ä½äº†ã€‚ ä»¥ä¸‹æ˜¯è®¡ç®—æŸå¤±KLæ•£åº¦çš„å…¬å¼ï¼Œ 123456789101112131415161718192021222324252627def _kl_divergence(params, P, degrees_of_freedom, n_samples, n_components, skip_num_points=0): \"\"\"t-SNE objective function: gradient of the KL divergence of p_ijs and q_ijs and the absolute error.\"\"\" X_embedded = params.reshape(n_samples, n_components) # Q is a heavy-tailed distribution: Student's t-distribution n = pdist(X_embedded, \"sqeuclidean\") n += 1. n /= degrees_of_freedom n **= (degrees_of_freedom + 1.0) / -2.0 Q = np.maximum(n / (2.0 * np.sum(n)), MACHINE_EPSILON) # Optimization trick below: np.dot(x, y) is faster than # np.sum(x * y) because it calls BLAS # Objective: C (Kullback-Leibler divergence of P and Q) kl_divergence = 2.0 * np.dot(P, np.log(P / Q)) # Gradient: dC/dY grad = np.ndarray((n_samples, n_components)) PQd = squareform((P - Q) * n) for i in range(skip_num_points, n_samples): np.dot(_ravel(PQd[i]), X_embedded[i] - X_embedded, out=grad[i]) grad = grad.ravel() c = 2.0 * (degrees_of_freedom + 1.0) / degrees_of_freedom grad *= c ç”¨æ¢¯åº¦ä¸‹é™ï¼ˆå’Œä¸€äº›tricksï¼‰ä¼˜åŒ–ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯æŸå¤±å‡½æ•°éå¯¹ç§°ï¼Œå¹¶ä¸”ä¸åŒçš„è®­ç»ƒä¼šå¯¼è‡´ç»“æœçš„ä¸åŒã€‚ sklearné‡Œå¯¹äºbinary searchè®¡ç®— è”åˆåˆ†å¸ƒä¸‹é¢çš„(_utils._binary_search_perplexity)å’ŒBarnes-Hut æ ‘è®¡ç®—æ¢¯åº¦(_barnes_hut_tsne.gradient)éƒ½æ˜¯Cå®ç°ï¼Œæœ‰ç©ºå†æ¥ç ”ç©¶ã€‚ 123456789101112def _joint_probabilities(distances, desired_perplexity, verbose): \"\"\"Compute joint probabilities p_ij from distances.\"\"\" # Compute conditional probabilities such that they approximately match # the desired perplexity distances = astype(distances, np.float32, copy=False) conditional_P = _utils._binary_search_perplexity( distances, None, desired_perplexity, verbose) P = conditional_P + conditional_P.T sum_P = np.maximum(np.sum(P), MACHINE_EPSILON) P = np.maximum(squareform(P) / sum_P, MACHINE_EPSILON) return P 12345678910111213141516171819202122def _kl_divergence_bh(params, P, neighbors, degrees_of_freedom, n_samples, n_components, angle=0.5, skip_num_points=0, verbose=False): \"\"\"t-SNE objective function: KL divergence of p_ijs and q_ijs.\"\"\" params = astype(params, np.float32, copy=False) X_embedded = params.reshape(n_samples, n_components) neighbors = astype(neighbors, np.int64, copy=False) if len(P.shape) == 1: sP = squareform(P).astype(np.float32) else: sP = P.astype(np.float32) grad = np.zeros(X_embedded.shape, dtype=np.float32) error = _barnes_hut_tsne.gradient(sP, X_embedded, neighbors, grad, angle, n_components, verbose, dof=degrees_of_freedom) c = 2.0 * (degrees_of_freedom + 1.0) / degrees_of_freedom grad = grad.ravel() grad *= c return error, grad t-SNE â€“ Laurens van der Maatenè¿™ä¸ªé“¾æ¥æ˜¯ä½œè€…æ”¶é›†çš„å„ç§tsneå˜ç§åŠç›¸å…³å®ç°ã€‚","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"}]},{"title":"Data Science Pipelines |  ç‰¹å¾å·¥ç¨‹ä¸­çš„ç®¡é“","slug":"Data-Science-Notes","date":"2018-01-12T06:22:50.000Z","updated":"2018-04-08T08:13:01.013Z","comments":true,"path":"2018/01/12/Data-Science-Notes/","link":"","permalink":"http://frankchen.xyz/2018/01/12/Data-Science-Notes/","excerpt":"æš‚å®šä¸ºè®°å½•å„å¼æ•°æ®ç§‘å­¦é¡¹ç›®ã€Kaggleç«èµ›é‡Œé¢å¸¸ç”¨ã€æœ‰ç”¨çš„ä»£ç ç‰‡æ®µã€APIã€ç¥æ“ä½œç­‰ï¼Œé€šå¸¸æ˜¯Numpyã€Pandasã€Matplotlibã€Seabornç­‰ç›¸å…³ï¼Œé€šå¸¸æ¥è¯´ï¼Œé¡¹ç›®åŸºæœ¬æ­¥éª¤å¯ä»¥åˆ†ä¸ºEDAã€ç‰¹å¾å·¥ç¨‹ä»¥åŠè°ƒå‚ã€‚","text":"æš‚å®šä¸ºè®°å½•å„å¼æ•°æ®ç§‘å­¦é¡¹ç›®ã€Kaggleç«èµ›é‡Œé¢å¸¸ç”¨ã€æœ‰ç”¨çš„ä»£ç ç‰‡æ®µã€APIã€ç¥æ“ä½œç­‰ï¼Œé€šå¸¸æ˜¯Numpyã€Pandasã€Matplotlibã€Seabornç­‰ç›¸å…³ï¼Œé€šå¸¸æ¥è¯´ï¼Œé¡¹ç›®åŸºæœ¬æ­¥éª¤å¯ä»¥åˆ†ä¸ºEDAã€ç‰¹å¾å·¥ç¨‹ä»¥åŠè°ƒå‚ã€‚ åŸºæœ¬æµç¨‹ ä»¥ä¸€ä¸ªKaggleä¸Šçš„House Priceä¸ºæ¡ˆä¾‹ï¼Œæœºå™¨å­¦ä¹ æµç¨‹åˆ†æˆä¸¤ä¸ªå¤§æ­¥éª¤ ï¼šå³EDAä¸ç‰¹å¾å·¥ç¨‹ï¼ˆåªä½¿ç”¨Pandas, StatsModelï¼Œscipy,numpy, seabornç­‰åº“ï¼‰ è¾“å…¥ï¼š åŸå§‹Train, Test æ•°æ®é›†ï¼Œå°†åŸå§‹Trainå’ŒTest åˆå¹¶æˆä¸€ä¸ªæ•°æ®é›†combined å¤„ç†ï¼š Pandas Pipe æ ¹æ®å„ç§å¯èƒ½å’Œå„ç§ç‰¹å¾å·¥ç¨‹æ–¹æ³•å®šä¹‰å„ç§å‡½æ•°ï¼ˆè¾“å…¥combined, è¾“å…¥pre_combined) ç”¨PandasPipe å°†è¿™ä¸ªå‡½æ•°åƒæ­ç§¯æœ¨ä¸€æ ·è¿åœ¨ä¸€èµ·ã€‚ç”¨åˆ—è¡¨æŒ‰åºå­˜æ”¾è¿™äº›å‡½æ•°ï¼‰ è¿™ä¸ªåˆ—è¡¨å°±æ˜¯ï¼Œ1. åŸºæœ¬çš„å¡«å……ç©ºå€¼, 2. è½¬æ¢æ•°æ®ç±»å‹ï¼Œ 3. ç©ºç™½å‡½æ•°ï¼ˆä¸ºäº†å¯¹é½ç¾è§‚è€Œä»¥ï¼Œå•¥äº‹ä¸åšï¼‰ï¼Œ4. log è½¬æ¢ï¼Œç±»åˆ«æ•°æ®å“‘å…ƒå¤„ç†ï¼Œ 5. å¯¼å‡ºåˆ°hdf5æ–‡ä»¶ï¼Œ 6.æ£€æŸ¥R2å€¼ åˆ©ç”¨å„ç§æ’åˆ—ç»„åˆï¼Œæˆ–è€…å„ç§å‚æ•°ç»„åˆï¼Œå¯ä»¥äº§ç”Ÿä¸°å¯Œçš„pipesï¼Œæ¯ä¸€ä¸ªpipeséƒ½å¯ä»¥äº§ç”Ÿä¸€ä¸ªé¢„å¤„ç†è¿‡çš„æ–‡ä»¶ã€‚ è¾“å‡ºï¼šæŸæ–‡ä»¶å¤¹ä¸‹ çš„Nä¸ªé¢„å¤„ç†è¿‡çš„hdf5æ–‡ä»¶ã€‚ é’ˆå¯¹å„ç§ç‰¹å¾å·¥ç¨‹çš„æ’åˆ—ç»„åˆï¼Œæˆ–è€…æ˜¯Kaggleä¸Šé¢çš„å„ç§æ–°å¥‡çš„ç‰¹å¾å·¥ç¨‹æ–¹æ³•ã€‚ æœºå™¨å­¦ä¹ é˜¶æ®µï¼ˆè®­ç»ƒå’Œäº§ç”Ÿæ¨¡å‹ï¼Œç›®æ ‡æ˜¯å°½å¯èƒ½è·å¾—å°½å¯èƒ½ä½çš„RMSEå€¼ï¼ˆé’ˆå¯¹è®­ç»ƒæ•°æ®ï¼‰ï¼ŒåŒæ—¶è¦å…·æœ‰èŒƒåŒ–çš„èƒ½åŠ›ï¼ˆé’ˆå¯¹æµ‹è¯•æ•°æ®ï¼‰ï¼‰ ç¬¬ä¸€æ­¥ï¼Œå»ºç«‹åŸºå‡†ï¼Œç­›é€‰å‡ºæœ€å¥½çš„ä¸€ä¸ªï¼ˆå‡ ä¸ªï¼‰é¢„å¤„ç†æ–‡ä»¶ï¼ˆéšæœºæ•°è®¾æˆå›ºå®šå€¼ï¼‰ ç¬¬äºŒæ­¥ï¼Œé’ˆå¯¹ç­›é€‰å‡ºæ¥çš„é¢„å¤„ç†æ–‡ä»¶ï¼Œè¿›è¡Œè°ƒå‚ã€‚æ‰¾åˆ°æœ€åˆé€‚çš„å‡ ä¸ªç®—æ³•ï¼ˆé€šå¸¸æ˜¯RMSEå€¼æœ€ä½ï¼Œä¸”ä¸åŒKernelï¼‰ï¼ˆéšæœºæ•°è®¾æˆå›ºå®šå€¼ï¼‰ ç¬¬ä¸‰æ­¥ï¼Œç”¨è°ƒå¥½çš„å‚æ•°æ¥é¢„å¤„ç†æ–‡ä»¶ä¸­çš„Traingæ•°æ®çš„åšaverage å’Œstacking ç¬¬å››éƒ¨ï¼Œç”Ÿæˆcsvæ–‡ä»¶ï¼Œæäº¤åˆ°Kaggle çœ‹çœ‹å¾—åˆ†å¦‚ä½•ã€‚ å‡†å¤‡é˜¶æ®µ ä¸ NoteBook Headè¿‡æ»¤warningï¼šæœ‰å¥è¯è¯´çš„å¥½ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦é‡Œï¼Œæˆ‘ä»¬åªåœ¨æ„é”™è¯¯ä¸åœ¨æ„warning 12import warningswarnings.filterwarnings(\"ignore\") å·¥ä½œç›®å½•åˆ‡æ¢åˆ°å½“å‰pythonæ–‡ä»¶æ‰€åœ¨ç›®å½•12import osos.chdir(os.path.dirname(os.path.abspath(__file__))) Notebookäº¤äº’è¾“å‡ºæ‰€æœ‰ç»“æœ 12from IPython.core.interactiveshell import InteractiveShellInteractiveShell.ast_node_interactivity='all' ç»“æœå¦‚ä¸‹ ä»¥ä¸Šå¯ä»¥é€šè¿‡è®¾ç½®å›ºå®šä¸‹æ¥ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š ä¸€èˆ¬å¯¹trainä»¥åŠteståšä¸€ä¸ªconcatï¼Œå¹¶è®°å½•trainçš„æ¡æ•°ntrain12345678910train = pd.read_csv(\"train.csv.gz\")test = pd.read_csv(\"test.csv.gz\")combined = pd.concat([train,test],axis =0, ignore_index =True)ntrain = train.shape[0]Y_train = train[\"SalePrice\"]X_train = train.drop([\"Id\",\"SalePrice\"],axis=1)print(\"train data shape:\\t \",train.shape)print(\"test data shape:\\t \",test.shape)print(\"combined data shape:\\t\",combined.shape) EDAç›¸å…³1D Scatter 123456nca = NCA(num_dims=1)nca.fit(xx_t, yy)xxxxx = nca.transform(xx)zeros=np.zeros_like(xxxxx)plt.scatter(xxxxx, zeros+1,c=yy[:,np.newaxis])plt.show() ç¼ºå¤±å€¼åˆ†æ 1234cols_missing_value = combined.isnull().sum()/combined.shape[0]cols_missing_value = cols_missing_value[cols_missing_value&gt;0]print(\"How many features is bad/missing value? The answer is:\",cols_missing_value.shape[0])cols_missing_value.sort_values(ascending=False).head(10).plot.barh() æœ‰ç¼ºå¤± - éœ€è¦å¡«å……æˆ–è€…åˆ é™¤ï¼Œé€šå¸¸ç”¨å‡å€¼æˆ–è€…ä¸­æŒ‡ï¼Œæˆ–è€…ç”¨äººå·¥åˆ†æï¼ˆäººå·¥åˆ†ææ˜¯æåˆ†å…³é”®ï¼‰ å°†è‹¥å¹²ä¸ªDataframeç”»åœ¨åŒä¸€ä¸ªå›¾é‡Œé¢ç›¸åŒåæ ‡ 123456789fig, ax = plt.subplots()# desc, group æ˜¯ä¸€ä¸ªDataframe groupby desc å‡ºçš„ç»“æœfor desc, group in Energy_sources: group.plot(x = group.index, y='Value', label=desc,ax = ax, title='Carbon Emissions per Energy Source', fontsize = 20) ax.set_xlabel('Time(Monthly)') ax.set_ylabel('Carbon Emissions in MMT') ax.xaxis.label.set_size(20) ax.yaxis.label.set_size(20) ax.legend(fontsize = 16) ç»“æœå¦‚ä¸‹å›¾ï¼Œ ç”»a*bçš„å­å›¾ 12345678fig, axes = plt.subplots(3,3, figsize = (30, 20))# desc, group æ˜¯ä¸€ä¸ªDataframe groupby desc å‡ºçš„ç»“æœ ä¹Ÿå°±æ˜¯ä¸‹é¢çš„Energy_sourcesfor (desc, group), ax in zip(Energy_sources, axes.flatten()): group.plot(x = group.index, y='Value',ax = ax, title=desc, fontsize = 18) ax.set_xlabel('Time(Monthly)') ax.set_ylabel('Carbon Emissions in MMT') ax.xaxis.label.set_size(18) ax.yaxis.label.set_size(18) ç”»æŸ±çŠ¶å›¾ 12345678910fig = plt.figure(figsize = (16,9))# CO2_per_sourceçš„æ¥æºä¸ç»“æ„å¦‚ä¸Šå›¾x_label = map(lambda x: x[:20],CO2_per_source.index)x_tick = np.arange(len(cols))plt.bar(x_tick, CO2_per_source, align = 'center', alpha = 0.5)fig.suptitle(\"CO2 Emissions by Electric Power Sector\", fontsize= 25)plt.xticks(x_tick, x_label, rotation = 70, fontsize = 15)plt.yticks(fontsize = 20)plt.xlabel('Carbon Emissions in MMT', fontsize = 20)plt.show() é‡å å›¾ 1234567891011121314151617181920from statsmodels.tsa.seasonal import seasonal_decomposedecomposition = seasonal_decompose(mte)trend = decomposition.trendseasonal = decomposition.seasonalresidual = decomposition.residplt.subplot(411)plt.plot(mte, label='Original')plt.legend(loc='best')plt.subplot(412)plt.plot(trend, label='Trend')plt.legend(loc='best')plt.subplot(413)plt.plot(seasonal,label='Seasonality')plt.legend(loc='best')plt.subplot(414)plt.plot(residual, label='Residuals')plt.legend(loc='best')plt.tight_layout() ç¯å½¢å›¾ 123456789101112plt.subplots(figsize=(15,15))data=response['PublicDatasetsSelect'].str.split(',')dataset=[]for i in data.dropna(): dataset.extend(i)pd.Series(dataset).value_counts().plot.pie(autopct='%1.1f%%',colors=sns.color_palette('Paired',10),startangle=90,wedgeprops = &#123; 'linewidth' : 2, 'edgecolor' : 'white' &#125;)plt.title('Dataset Source')my_circle=plt.Circle( (0,0), 0.7, color='white')p=plt.gcf()p.gca().add_artist(my_circle)plt.ylabel('')plt.show() é¥¼çŠ¶å›¾ 12345678f,ax=plt.subplots(1,2,figsize=(18,8))response['JobSkillImportancePython'].value_counts().plot.pie(ax=ax[0],autopct='%1.1f%%',explode=[0.1,0,0],shadow=True,colors=['g','lightblue','r'])ax[0].set_title('Python Necessity')ax[0].set_ylabel('')response['JobSkillImportanceR'].value_counts().plot.pie(ax=ax[1],autopct='%1.1f%%',explode=[0,0.1,0],shadow=True,colors=['lightblue','g','r'])ax[1].set_title('R Necessity')ax[1].set_ylabel('')plt.show() ç»´æ©å›¾ 123456f,ax=plt.subplots(1,2,figsize=(18,8))pd.Series([python.shape[0],R.shape[0],both.shape[0]],index=['Python','R','Both']).plot.bar(ax=ax[0])ax[0].set_title('Number of Users')venn2(subsets = (python.shape[0],R.shape[0],both.shape[0]), set_labels = ('Python Users', 'R Users'))plt.title('Venn Diagram for Users')plt.show() Seaborncount plot 123plt.subplots(figsize=(22,12))sns.countplot(y=response['GenderSelect'],order=response['GenderSelect'].value_counts().index)plt.show() åˆ©ç”¨squarifyç”»æ ‘å½¢å›¾ 1234567import squarifytree=response['Country'].value_counts().to_frame()squarify.plot(sizes=tree['Country'].values,label=tree.index,color=sns.color_palette('RdYlGn_r',52))plt.rcParams.update(&#123;'font.size':20&#125;)fig=plt.gcf()fig.set_size_inches(40,15)plt.show() snsç”»åˆ†å¸ƒå›¾ 12345plt.subplots(figsize=(15,8))salary=salary[salary['Salary']&lt;1000000]sns.distplot(salary['Salary'])plt.title('Salary Distribution',size=15)plt.show() snså­å›¾ 123456789101112131415f,ax=plt.subplots(1,2,figsize=(18,8))sal_coun=salary.groupby('Country')['Salary'].median().sort_values(ascending=False)[:15].to_frame()sns.barplot('Salary',sal_coun.index,data=sal_coun,palette='RdYlGn',ax=ax[0])ax[0].axvline(salary['Salary'].median(),linestyle='dashed')ax[0].set_title('Highest Salary Paying Countries')ax[0].set_xlabel('')max_coun=salary.groupby('Country')['Salary'].median().to_frame()max_coun=max_coun[max_coun.index.isin(resp_coun.index)]max_coun.sort_values(by='Salary',ascending=True).plot.barh(width=0.8,ax=ax[1],color=sns.color_palette('RdYlGn'))ax[1].axvline(salary['Salary'].median(),linestyle='dashed')ax[1].set_title('Compensation of Top 15 Respondent Countries')ax[1].set_xlabel('')ax[1].set_ylabel('')plt.subplots_adjust(wspace=0.8)plt.show() seabornç®±å‹å›¾ 1234plt.subplots(figsize=(10,8))sns.boxplot(y='GenderSelect',x='Salary',data=salary)plt.ylabel('')plt.show() seaborn count_plot 123456789f,ax=plt.subplots(1,2,figsize=(25,15))sns.countplot(y=response['MajorSelect'],ax=ax[0],order=response['MajorSelect'].value_counts().index)ax[0].set_title('Major')ax[0].set_ylabel('')sns.countplot(y=response['CurrentJobTitleSelect'],ax=ax[1],order=response['CurrentJobTitleSelect'].value_counts().index)ax[1].set_title('Current Job')ax[1].set_ylabel('')plt.subplots_adjust(wspace=0.8)plt.show() seaborn å›¾ä¸­æ·»åŠ æ–‡å­— 12345678sal_job=salary.groupby('CurrentJobTitleSelect')['Salary'].median().to_frame().sort_values(by='Salary',ascending=False)ax=sns.barplot(sal_job.Salary,sal_job.index,palette=sns.color_palette('inferno',20))plt.title('Compensation By Job Title',size=15)for i, v in enumerate(sal_job.Salary): ax.text(.5, i, v,fontsize=10,color='white',weight='bold')fig=plt.gcf()fig.set_size_inches(8,8)plt.show() è¯äº‘ 12345678910111213141516171819202122232425from wordcloud import WordCloud, STOPWORDSimport nltkfrom nltk.corpus import stopwordsfree=pd.read_csv('../input/freeformResponses.csv')stop_words=set(stopwords.words('english'))stop_words.update(',',';','!','?','.','(',')','$','#','+',':','...')motivation=free['KaggleMotivationFreeForm'].dropna().apply(nltk.word_tokenize)motivate=[]for i in motivation: motivate.extend(i)motivate=pd.Series(motivate)motivate=([i for i in motivate.str.lower() if i not in stop_words])f1=open(\"kaggle.png\", \"wb\")f1.write(codecs.decode(kaggle,'base64'))f1.close()img1 = imread(\"kaggle.png\")hcmask1 = img1wc = WordCloud(background_color=\"black\", max_words=4000, mask=hcmask1, stopwords=STOPWORDS, max_font_size= 60,width=1000,height=1000)wc.generate(\" \".join(motivate))plt.imshow(wc)plt.axis('off')fig=plt.gcf()fig.set_size_inches(10,10)plt.show() ç®€å•æƒ…å†µä¸‹çš„åˆ†ç±»å±•ç¤º 123456789101112131415161718192021222324from IPython import displayh = 0.01x_min, x_max = X[:, 0].min() - 1, X[:, 0].max() + 1y_min, y_max = X[:, 1].min() - 1, X[:, 1].max() + 1xx, yy = np.meshgrid(np.arange(x_min, x_max, h), np.arange(y_min, y_max, h))def visualize(X, y, w, history): \"\"\"draws classifier prediction with matplotlib magic\"\"\" Z = probability(expand(np.c_[xx.ravel(), yy.ravel()]), w) Z = Z.reshape(xx.shape) plt.subplot(1, 2, 1) plt.contourf(xx, yy, Z, alpha=0.8) plt.scatter(X[:, 0], X[:, 1], c=y, cmap=plt.cm.Paired) plt.xlim(xx.min(), xx.max()) plt.ylim(yy.min(), yy.max()) plt.subplot(1, 2, 2) plt.plot(history) plt.grid() ymin, ymax = plt.ylim() plt.ylim(0, ymax) display.clear_output(wait=True) plt.show() å›¾ä¸­æ’å…¥LaTeXå…¬å¼ 12345678910import matplotlib.pyplot as plt%matplotlib inlinex = np.linspace(-3, 3)x_squared, x_squared_der = s.run([scalar_squared, derivative[0]], &#123;my_scalar:x&#125;)plt.plot(x, x_squared,label=\"$x^2$\")plt.plot(x, x_squared_der, label=r\"$\\frac&#123;dx^2&#125;&#123;dx&#125;$\")plt.legend(); ç”»å¤šå¼ å­å›¾ 12345678910111213# show random images from traincols = 8rows = 2fig = plt.figure(figsize=(2 * cols - 1, 2.5 * rows - 1))for i in range(cols): for j in range(rows): random_index = np.random.randint(0, len(y_train)) ax = fig.add_subplot(rows, cols, i * rows + j + 1) ax.grid('off') ax.axis('off') ax.imshow(x_train[random_index, :]) ax.set_title(cifar10_classes[y_train[random_index, 0]])plt.show() ç‰¹å¾å·¥ç¨‹é˜¶æ®µNumpyåŒºé—´ç™¾åˆ†æ¯”åˆ‡åˆ†å¼‚å¸¸å€¼ 123# cut off long distance tripslat_low, lat_hgh = np.percentile(latlong[:,0], [2, 98])lon_low, lon_hgh = np.percentile(latlong[:,1], [2, 98]) åˆå§‹åŒ–åŒshapeå‘é‡123456789101112131415161718192021222324252627g2 = np.zeros_like(w)``-------ç´¯ç§¯sum``` pythona = np.array([[1,2,3], [4,5,6]])&gt;&gt;&gt; np.cumsum(a,axis=1) # sum over columns for each of the 2 rowsarray([[ 1, 3, 6], [ 4, 9, 15]])``` -------numpy array æ‰©å±•ç»´åº¦ï¼Œå¾ˆç®€å•åœ°å°†Numpyå‘é‡æ‰©å±•ä¸ºäºŒç»´çŸ©é˜µ![](/images/15167894435840.png)![Screen Shot 2018-01-24 at 19.02.32](/images/Screen%20Shot%202018-01-24%20at%2019.02.32.png)-------Numpy ç«–ç€å æ”¾å‘é‡`np.column_stack`-------``` python# ç”¨äºæŸ¥çœ‹Dataframeå„åˆ—æ•°æ®ç±»å‹ts.dtypes 12345678#skewæ˜¯å•å˜é‡å·¥å…·ï¼Œç”¨æ¥ç›‘æµ‹æ•°æ®æ˜¯å¦æœ‰é•¿å°¾ï¼Œå·¦åæˆ–è€…å³åprint(Y_train.skew())``` ``` python#np.abs æ˜¯ç»å¯¹å€¼å‡½æ•°ï¼Œç”¨æ¥å–æ•´ä¸ªå‘é‡ç»å¯¹å€¼# è¿™é‡Œå¯¹æ‰€æœ‰trainé‡Œçš„ç‰¹å¾æ±‚ååº¦å¹¶æ’åºnp.abs(combined[:ntrain].skew()).sort_values(ascending = False ).head(20) æœ‰ååº¦ - éœ€è¦å¤„ç†ã€‚é€šå¸¸æ˜¯ç”¨log1p 12# ç”¨äºå°†Dataframeä¸­è¢«è¯»å–ä¸ºobjectçš„æ•°æ®è½¬æ¢ä¸ºæ•°å€¼å‹ï¼Œerrors='coerce'ä»£è¡¨é”™è¯¯å°†è¢«ç½®ä¸ºNaNts['Value'] = pd.to_numeric(ts['Value'] , errors='coerce') è¿‡æ»¤index é‡Œé¢çš„NaNå€¼ï¼Œæ¨å¹¿ä¹Ÿå¯ä»¥è¿‡æ»¤å…¶ä»–åˆ— 1ts = df.loc[pd.Series(pd.to_datetime(df.index, errors='coerce')).notnull().values] æŒ‰æœˆgroupbyï¼Œä»¥åŠunstackè§£æ„ 1Emissions.groupby(['Description', pd.TimeGrouper('M')])['Value'].sum().unstack(level = 0) å°†value_countsã€groupbyç­‰Seriesè½¬æ¢ä¸ºDataframe1tree=response['Country'].value_counts().to_frame() ç‰¹å¾å·¥ç¨‹å¤§æ€å™¨ï¼ŒPandas Pipeè¿™é‡Œæœ‰ä¸ªç®€å•çš„ä¾‹å­ï¼Œ,æ¯ä¸ªpipesé‡Œé¢éƒ½æœ‰è‹¥å¹²ä¸ªç‰¹å¾å¤„ç†å‡½æ•°å’Œä¸€ä¸ªå¿«é€Ÿæµ‹è¯•çš„å‡½æ•°ï¼Œå…¶ä¸­ä¸ºäº†å¯¹é½ç¾è§‚ï¼Œç”¨bypasså‡½æ•°æ¥å¡«å……ç©ºç™½çš„åœ°æ–¹ï¼ˆæ— ç”¨ä½†æ˜¯ä¸ºäº†å¼ºè¡Œè®©pipesé•¿åº¦ç›¸åŒï¼‰ 1234567891011121314151617181920pipe_basic = [pipe_basic_fillna,pipe_bypass,\\ pipe_bypass,pipe_bypass,\\ pipe_bypass,pipe_bypass,\\ pipe_log_getdummies,pipe_bypass, \\ pipe_export,pipe_r2test]pipe_ascat = [pipe_fillna_ascat,pipe_drop_cols,\\ pipe_drop4cols,pipe_outliersdrop,\\ pipe_extract,pipe_bypass,\\ pipe_log_getdummies,pipe_drop_dummycols, \\ pipe_export,pipe_r2test]pipe_ascat_unitprice = [pipe_fillna_ascat,pipe_drop_cols,\\ pipe_drop4cols,pipe_outliersdrop,\\ pipe_extract,pipe_unitprice,\\ pipe_log_getdummies,pipe_drop_dummycols, \\ pipe_export,pipe_r2test]pipes = [pipe_basic,pipe_ascat,pipe_ascat_unitprice ] è·‘çš„ä»£ç ä¸º 1234567891011121314151617for i in range(len(pipes)): print(\"*\"*10,\"\\n\") pipe_output=pipes[i] output_name =\"_\".join([x.__name__[5:] for x in pipe_output if x.__name__ is not \"pipe_bypass\"]) output_name = \"PIPE_\" +output_name print(output_name) (combined.pipe(pipe_output[0]) .pipe(pipe_output[1]) .pipe(pipe_output[2]) .pipe(pipe_output[3]) .pipe(pipe_output[4]) .pipe(pipe_output[5]) .pipe(pipe_output[6]) .pipe(pipe_output[7]) .pipe(pipe_output[8],name=output_name) .pipe(pipe_output[9]) ï¼‰ åœ¨è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆæ­¥çœ‹åˆ°ä¸‰ä¸ªç‰¹å¾å·¥ç¨‹çš„æ€§èƒ½ã€‚å¹¶ä¸”æ–‡ä»¶å·²ç»è¾“å‡ºåˆ°hd5æ ¼å¼æ–‡ä»¶ã€‚åæœŸåœ¨è®­ç»ƒå’Œé¢„æµ‹æ—¶ï¼Œç›´æ¥å–å‡ºé¢„å¤„ç†çš„æ–‡ä»¶å°±å¯ä»¥ã€‚å„ä¸ªpipeä»£ç å¯è§æ­¤å¤„ã€‚ è°ƒå‚é˜¶æ®µåœ¨æ•°æ®å‡†å¤‡å¥½åè®­ç»ƒæ—¶ï¼Œæœ€åŸºæœ¬çš„å°±æ˜¯è¦è°ƒæ•´è¶…å‚ï¼ˆHyperparameterï¼‰è€—æ—¶è€—åŠ›ï¼Œå¹¶ä¸”å’Œå‘ç”Ÿé”™è¯¯å’Œé—æ¼æƒ…å†µã€‚Stackoverflowä¸Šå¸¸è§çš„ç®—æ³•è®­ç»ƒé”™è¯¯æœ‰ï¼š ç®—æ³•é¢„æµ‹çš„ç»“æœå·®å¼‚éå¸¸å¤§ã€‚ å…¶ä¸­ä¸€ä¸ªå¯èƒ½å°±æ˜¯è®­ç»ƒæ—¶çš„æ ‡å‡†åŒ–æ­¥éª¤ï¼Œåœ¨é¢„æµ‹æ—¶é—æ¼äº†ã€‚ ç®—æ³•çš„è°ƒå‚ç»“æœå·®å¼‚éå¸¸å¤§ã€‚ï¼ˆæœ‰çš„æ˜¯0.01,æœ‰çš„å°±æ˜¯10ï¼‰ã€‚å…¶ä¸­çš„ä¸€ä¸ªå¯èƒ½å°±æ˜¯ä¸åŒçš„è®­ç»ƒæ­¥éª¤ä¸­é‡‡ç”¨çš„æ ‡å‡†åŒ–ç®—æ³•ä¸åŒï¼ˆä¾‹å¦‚,ä¸€æ¬¡ç”¨äº†StandardScaler, å¦ä¸€æ¬¡ç”¨äº†RobustScaler) æ­¤å¤–ï¼Œç¹å¤šçš„è¶…å‚æ•°è°ƒæ•´èµ·æ¥å¼‚å¸¸ç¹çã€‚æ¯”è¾ƒå®¹æ˜“é”™è¯¯æˆ–è€…å†™é”™ã€‚ è§£å†³æ–¹æ³•ï¼šPipeline + Gridsearch + å‚æ•°å­—å…¸ + å®¹å™¨ã€‚ä½¿ç”¨Pipelineçš„ä¾‹å­ é’ˆå¯¹çº¿å½¢å›å½’é—®é¢˜ï¼ŒSklearnæä¾›äº†è¶…è¿‡15ç§å›å½’ç®—æ³•ã€‚åˆ©ç”¨Pipeline å¤§æ³•å¯ä»¥ç»¼åˆæµ‹è¯•æ‰€æœ‰ç®—æ³•ï¼Œæ‰¾åˆ°æœ€åˆé€‚çš„ç®—æ³•ã€‚ å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š åˆå§‹åŒ–æ‰€æœ‰å¸Œæœ›è°ƒæµ‹çº¿å½¢å›å½’ã€‚ å»ºç«‹ä¸€ä¸ªå­—å…¸å®¹å™¨ã€‚{â€œç®—æ³•åç§°â€:[åˆå§‹ç®—æ³•å¯¹è±¡ï¼Œå‚æ•°å­—å…¸ï¼Œè®­ç»ƒå¥½çš„Pipelineæ¨¡å‹å¯¹è±¡ï¼ŒCVçš„æˆç»©} åœ¨è°ƒå‚æ­¥éª¤ï¼Œå°†åˆå§‹ç®—æ³•ç”¨PipelineåŒ…è£…èµ·æ¥ï¼Œåˆ©ç”¨Gridsearchè¿›è¡Œè°ƒå‚ã€‚è°ƒå‚å®Œæˆåå¯ä»¥å¾—åˆ°é’ˆå¯¹ç›¸åº”çš„CVè€Œè·å¾—çš„æœ€åæ¨¡å‹å¯¹è±¡ã€‚ ä¾‹å¦‚ï¼š lasso ç®—æ³•çš„æ­¥éª¤å¦‚ä¸‹ï¼š åŒ…è£… pipe=Pipeline([(â€œscalerâ€:None),(â€œselectorâ€:None),(â€œclfâ€:Lasso()) Pipeå°±æ˜¯åˆšåˆšåŒ…è£…å¥½çš„ç®—æ³•ã€‚å¯ä»¥ç›´æ¥ç”¨äº è®­ç»ƒ(fit)å’Œé¢„æµ‹(predict) ä½¿ç”¨Pipeæ¥å¤„ç†è®­ç»ƒé›†å’Œæµ‹è¯•é›†å¯ä»¥é¿å…é”™è¯¯å’Œé—æ¼ï¼Œæé«˜æ•ˆç‡ã€‚ ä½†æ˜¯Pipeä¸­ç®—æ³•æ˜¯é»˜è®¤çš„å‚æ•°ï¼Œç›´æ¥è®­ç»ƒå‡ºçš„æ¨¡å‹RMSEä¸å¤ªç†æƒ³ã€‚ï¼ˆä¾‹å¦‚ï¼šlocal CV, 0.12~0.14å·¦å³ï¼‰ã€‚è¿™æ—¶å¯ä»¥è€ƒè™‘è°ƒå‚ã€‚ è°ƒå‚ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å‚æ•°å­—å…¸ï¼š Params_lasso ={ â€œScalerâ€:[RobustScaler(),StandardScaler()], #ä¸¤ä¸ªæ ‡å‡†åŒ–ç®—æ³•ä¾›è°ƒæ¨¡å‹ â€œselectorthresholdâ€:np.logspace(-5,-4,3), #3ä¸ªé€‰æ‹©é—¨é™ä¾›é€‰ç‰¹å¾ â€œclfalphaâ€:np.logspace(-5,-1,10) }ï¼Œ #10ä¸ªalphaæŒ‡ä¾›è°ƒå‚ è°ƒå‚ç¬¬äºŒæ­¥ï¼šæš´åŠ›è°ƒå‚å’Œç”Ÿæˆæ¨¡å‹ rsearch = GridSearchCV(pipe, param_grid=Params_lasso,scoring =â€™neg_mean_squared_errorâ€™,verbose=verbose,cv=10,refit =True) GridSearch æ˜¯æš´åŠ›è°ƒå‚ã€‚éå†æ‰€æœ‰å‚æ•°ç»„åˆï¼Œå¦å¤–æœ‰ä¸€ä¸ªRandomedSearch å¯ä»¥éšæœºé€‰æ‹©å‚æ•°ç»„åˆï¼Œç¼©çŸ­è°ƒå‚æ—¶é—´ï¼Œå¹¶ä¸”è·å¾—è¿‘ä¼¼çš„è°ƒå‚æ€§èƒ½ Pipeå°±æ˜¯åˆšåˆšåŒ…è£…å¥½çš„ç®—æ³•ã€‚GridSearchæŠŠå¯é€‰çš„å‚æ•°å’Œç®—æ³•ï¼ˆæ”¾å…¥ï¼Œæˆ–è€…æ›´å¥½çš„ç»„åˆã€‚ è°ƒå‚çš„è®­ç»ƒæ ‡å‡†æ˜¯â€œâ€™neg_mean_squared_errorâ€, RMSEçš„è´Ÿæ•°ã€‚ è¿™ç§å¤„ç†æ–¹æ³•ï¼Œè®©æœ€å¤§å€¼ç§°ä¸ºæœ€å°çš„MSEæŒ‡ã€‚åªéœ€è¦å¯¹ç»“æœåšä¸€æ¬¡np.sqrt( ç»“æœè´Ÿæ•°ï¼‰å°±èƒ½è·å¾—RMSEå€¼ã€‚ cv=10. Cross Validate æ•°æ®é›†ä¸º9ï¼š1ã€‚æ•°æ®é›†å°çš„æƒ…å†µï¼Œä¾‹å¦‚House Price. 3æŠ˜å’Œ10æŠ˜ç»“æœç”šè‡³æ¯”è°ƒå‚å·®å¼‚è¿˜å¤§ã€‚ refit =True. åœ¨è°ƒå‚å®Œæˆåï¼Œå†éœ€è¦åšä¸€æ¬¡æ‰€æœ‰æ•°æ®é›†çš„fit. ç”Ÿæˆå®Œæ•´çš„è®­ç»ƒæ¨¡å‹ Sklearn æµç¨‹å›¾","categories":[],"tags":[{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"},{"name":"Python","slug":"Python","permalink":"http://frankchen.xyz/tags/Python/"}]},{"title":"DIYè¿œç¨‹Jupyter NotebookæœåŠ¡å™¨","slug":"Remote-jupyter-notebook","date":"2017-12-25T11:43:17.000Z","updated":"2017-12-25T11:48:42.351Z","comments":true,"path":"2017/12/25/Remote-jupyter-notebook/","link":"","permalink":"http://frankchen.xyz/2017/12/25/Remote-jupyter-notebook/","excerpt":"æ„å»ºè‡ªå·±çš„è¿œç¨‹Jupyter NotebookæœåŠ¡å™¨ï¼Œæ·»åŠ systemå¼€æœºè‡ªå¯ï¼Œè®©Jupyter Notebookæ”¯æŒè·¨ç½‘ç»œè®¿é—®çš„æ–¹æ³•ã€‚","text":"æ„å»ºè‡ªå·±çš„è¿œç¨‹Jupyter NotebookæœåŠ¡å™¨ï¼Œæ·»åŠ systemå¼€æœºè‡ªå¯ï¼Œè®©Jupyter Notebookæ”¯æŒè·¨ç½‘ç»œè®¿é—®çš„æ–¹æ³•ã€‚ å®Œå…¨å¼€æ”¾ï¼Œä¸éœ€å¯†ç 1. ç™»é™†è¿œç¨‹æœåŠ¡å™¨2.ç”Ÿæˆé…ç½®æ–‡ä»¶$jupyter notebook --generate-config 3. ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶$vim ~/.jupyter/jupyter_notebook_config.pyè¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š 12c.NotebookApp.ip = '0.0.0.0' #æ”¯æŒå…¶å®ƒIPè®¿é—®ï¼Œå…³é”®c.NotebookApp.port = 10000 #éšä¾¿æŒ‡å®šä¸€ä¸ªç«¯å£ 4. å¯åŠ¨jupyter notebookï¼šjupyter notebook 5. è¿œç¨‹è®¿é—®æ­¤æ—¶åº”è¯¥å¯ä»¥ç›´æ¥ä»æœ¬åœ°æµè§ˆå™¨ç›´æ¥è®¿é—®http://address_of_remote:10000å°±å¯ä»¥çœ‹åˆ°jupyterçš„ç™»é™†ç•Œé¢ï¼Œè¾“å…¥å¯†ç å³å¯ã€‚ éœ€è¦å¯†ç 1. ç”Ÿæˆå¯†ç æ‰“å¼€ipythonï¼Œåˆ›å»ºä¸€ä¸ªå¯†æ–‡çš„å¯†ç ï¼š 12345In [1]: from notebook.auth import passwdIn [2]: passwd()Enter password: Verify password: Out[2]: 'sha1:ce23d945972f:34769685a7ccd3d08c84a18c63968a41f1140274' 2. æ·»åŠ å¯†ç $vim ~/.jupyter/jupyter_notebook_config.pyè¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š 1c.NotebookApp.password = u'sha:ce...åˆšæ‰å¤åˆ¶çš„é‚£ä¸ªå¯†æ–‡' 3. å»ºç«‹sshé€šé“è‹¥è¿˜æ˜¯æ— æ³•ç™»å½•ï¼Œä¹Ÿå¯ç”¨ ssh username@address_of_remote -L 127.0.0.1:10000:127.0.0.1:10000 å»ºç«‹sshé€šé“ï¼Œä¾¿å¯ä»¥åœ¨localhost:10000ç›´æ¥è®¿é—®è¿œç¨‹çš„jupyteräº†ã€‚ æ·»åŠ systemå¼€æœºè‡ªå¯å°† Jupyter Notebook è®¾å®šä¸ºç³»ç»ŸæœåŠ¡å¹¶ä¸”å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼Œè¿™é‡Œä»¥ systemd ä¸‹çš„è®¾å®šä¸ºä¾‹ï¼Œåˆ›å»ºæ–‡ä»¶ sudo vim /etc/systemd/system/jupyter.serviceæ–‡ä»¶ï¼Œå†…å®¹æ˜¯ 123456789101112131415[Unit]Description=Jupyter NotebookAfter=network.target[Service]Type=simpleExecStart=/home/frank/anaconda3/bin/jupyter-notebook --config=/home/frank/.jupyter/jupyter_notebook_config.py --no-browserUser=frankGroup=frankWorkingDirectory=/home/frank/Restart=alwaysRestartSec=10[Install]WantedBy=multi-user.target ä¸Šé¢ä½ éœ€è¦æŠŠæˆ‘çš„ç”¨æˆ·åfrankæ›¿æ¢æ‰ï¼Œä¿å­˜æ–‡ä»¶ä¹‹åæ‰§è¡Œsystemctl enable jupyterå†æ‰§è¡Œsystemctl start jupyterå³å¯ï¼Œéœ€è¦è¾“å…¥å‡ æ¬¡å¯†ç ï¼Œä¹‹åé‡å¯Notebookä¼šè‡ªå¯ã€‚ å†…ç½‘ç©¿é€ç»“åˆä¸‹æ–‡çš„æ–¹æ³•ï¼Œç”¨ftpå³å¯åšåˆ° frpçš„å†…ç½‘ç©¿é€åŠå¤–ç½‘è®¿é—®å†…ç½‘jupyter-notebookçš„å®ç° | ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶ å‚è€ƒè‡ª Jupyter (IPython notebook)ç”¨äºæœåŠ¡å™¨çš„é…ç½®æ–¹æ³•(Windows) - çŸ¥ä¹ä¸“æ  è¿œç¨‹è®¿é—®jupyter notebook","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"},{"name":"Jupyter Notebook","slug":"Jupyter-Notebook","permalink":"http://frankchen.xyz/tags/Jupyter-Notebook/"}]},{"title":"æ·±åº¦å­¦ä¹ ä¸­Kerasä¸­çš„Embeddingå±‚çš„ç†è§£ä¸ä½¿ç”¨","slug":"How-to-Use-Word-Embedding-Layers-for-Deep-Learning-with-Keras","date":"2017-12-18T07:59:41.000Z","updated":"2018-03-08T08:44:07.373Z","comments":true,"path":"2017/12/18/How-to-Use-Word-Embedding-Layers-for-Deep-Learning-with-Keras/","link":"","permalink":"http://frankchen.xyz/2017/12/18/How-to-Use-Word-Embedding-Layers-for-Deep-Learning-with-Keras/","excerpt":"å•è¯åµŒå…¥æä¾›äº†å•è¯çš„å¯†é›†è¡¨ç¤ºåŠå…¶ç›¸å¯¹å«ä¹‰ï¼Œå®ƒä»¬æ˜¯å¯¹ç®€å•åŒ…æ¨¡å‹è¡¨ç¤ºä¸­ä½¿ç”¨çš„ç¨€ç–è¡¨ç¤ºçš„æ”¹è¿›ï¼Œå¯ä»¥ä»æ–‡æœ¬æ•°æ®ä¸­å­¦ä¹ å­—åµŒå…¥ï¼Œå¹¶åœ¨é¡¹ç›®ä¹‹é—´é‡å¤ä½¿ç”¨ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥ä½œä¸ºæ‹Ÿåˆæ–‡æœ¬æ•°æ®çš„ç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†æ¥å­¦ä¹ ã€‚","text":"å•è¯åµŒå…¥æä¾›äº†å•è¯çš„å¯†é›†è¡¨ç¤ºåŠå…¶ç›¸å¯¹å«ä¹‰ï¼Œå®ƒä»¬æ˜¯å¯¹ç®€å•åŒ…æ¨¡å‹è¡¨ç¤ºä¸­ä½¿ç”¨çš„ç¨€ç–è¡¨ç¤ºçš„æ”¹è¿›ï¼Œå¯ä»¥ä»æ–‡æœ¬æ•°æ®ä¸­å­¦ä¹ å­—åµŒå…¥ï¼Œå¹¶åœ¨é¡¹ç›®ä¹‹é—´é‡å¤ä½¿ç”¨ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥ä½œä¸ºæ‹Ÿåˆæ–‡æœ¬æ•°æ®çš„ç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†æ¥å­¦ä¹ ã€‚ Word Embeddingå•è¯åµŒå…¥æ˜¯ä½¿ç”¨å¯†é›†çš„çŸ¢é‡è¡¨ç¤ºæ¥è¡¨ç¤ºå•è¯å’Œæ–‡æ¡£çš„ä¸€ç±»æ–¹æ³•ã€‚ è¯åµŒå…¥æ˜¯å¯¹ä¼ ç»Ÿçš„è¯è¢‹æ¨¡å‹ç¼–ç æ–¹æ¡ˆçš„æ”¹è¿›ï¼Œä¼ ç»Ÿæ–¹æ³•ä½¿ç”¨å¤§è€Œç¨€ç–çš„çŸ¢é‡æ¥è¡¨ç¤ºæ¯ä¸ªå•è¯æˆ–è€…åœ¨çŸ¢é‡å†…å¯¹æ¯ä¸ªå•è¯è¿›è¡Œè¯„åˆ†ä»¥è¡¨ç¤ºæ•´ä¸ªè¯æ±‡è¡¨ï¼Œè¿™äº›è¡¨ç¤ºæ˜¯ç¨€ç–çš„ï¼Œå› ä¸ºæ¯ä¸ªè¯æ±‡çš„è¡¨ç¤ºæ˜¯å·¨å¤§çš„ï¼Œç»™å®šçš„è¯æˆ–æ–‡æ¡£ä¸»è¦ç”±é›¶å€¼ç»„æˆçš„å¤§å‘é‡è¡¨ç¤ºã€‚ ç›¸åï¼Œåœ¨åµŒå…¥ä¸­ï¼Œå•è¯ç”±å¯†é›†å‘é‡è¡¨ç¤ºï¼Œå…¶ä¸­å‘é‡è¡¨ç¤ºå°†å•è¯æŠ•å½±åˆ°è¿ç»­å‘é‡ç©ºé—´ä¸­ã€‚ å‘é‡ç©ºé—´ä¸­çš„å•è¯çš„ä½ç½®æ˜¯ä»æ–‡æœ¬ä¸­å­¦ä¹ çš„ï¼Œå¹¶ä¸”åŸºäºåœ¨ä½¿ç”¨å•è¯æ—¶å›´ç»•å•è¯çš„å•è¯ã€‚ å­¦ä¹ åˆ°çš„å‘é‡ç©ºé—´ä¸­çš„å•è¯çš„ä½ç½®è¢«ç§°ä¸ºå®ƒçš„åµŒå…¥ï¼šEmbeddingã€‚ ä»æ–‡æœ¬å­¦ä¹ å•è¯åµŒå…¥æ–¹æ³•çš„ä¸¤ä¸ªæµè¡Œä¾‹å­åŒ…æ‹¬ï¼š Word2Vec. GloVe. é™¤äº†è¿™äº›ç²¾å¿ƒè®¾è®¡çš„æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å°†è¯åµŒå…¥å­¦ä¹ ä½œä¸ºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„ä¸€éƒ¨åˆ†ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªè¾ƒæ…¢çš„æ–¹æ³•ï¼Œä½†å¯ä»¥é€šè¿‡è¿™æ ·ä¸ºç‰¹å®šæ•°æ®é›†å®šåˆ¶æ¨¡å‹ã€‚ Keras Embedding LayerKerasæä¾›äº†ä¸€ä¸ªåµŒå…¥å±‚ï¼Œé€‚ç”¨äºæ–‡æœ¬æ•°æ®çš„ç¥ç»ç½‘ç»œã€‚ å®ƒè¦æ±‚è¾“å…¥æ•°æ®æ˜¯æ•´æ•°ç¼–ç çš„ï¼Œæ‰€ä»¥æ¯ä¸ªå­—éƒ½ç”¨ä¸€ä¸ªå”¯ä¸€çš„æ•´æ•°è¡¨ç¤ºã€‚è¿™ä¸ªæ•°æ®å‡†å¤‡æ­¥éª¤å¯ä»¥ä½¿ç”¨Kerasæä¾›çš„Tokenizer APIæ¥æ‰§è¡Œã€‚ åµŒå…¥å±‚ç”¨éšæœºæƒé‡è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶å°†å­¦ä¹ è®­ç»ƒæ•°æ®é›†ä¸­æ‰€æœ‰å•è¯çš„åµŒå…¥ã€‚ å®ƒæ˜¯ä¸€ä¸ªçµæ´»çš„å›¾å±‚ï¼Œå¯ä»¥ä»¥å¤šç§æ–¹å¼ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š å®ƒå¯ä»¥å•ç‹¬ä½¿ç”¨æ¥å­¦ä¹ ä¸€ä¸ªå•è¯åµŒå…¥ï¼Œä»¥åå¯ä»¥ä¿å­˜å¹¶åœ¨å¦ä¸€ä¸ªæ¨¡å‹ä¸­ä½¿ç”¨ã€‚ å®ƒå¯ä»¥ç”¨ä½œæ·±åº¦å­¦ä¹ æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­åµŒå…¥ä¸æ¨¡å‹æœ¬èº«ä¸€èµ·å­¦ä¹ ã€‚ å®ƒå¯ä»¥ç”¨æ¥åŠ è½½é¢„å…ˆè®­ç»ƒçš„è¯åµŒå…¥æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ç§è¿ç§»å­¦ä¹ ã€‚ åµŒå…¥å±‚è¢«å®šä¹‰ä¸ºç½‘ç»œçš„ç¬¬ä¸€ä¸ªéšè—å±‚ã€‚å®ƒå¿…é¡»æŒ‡å®š3ä¸ªå‚æ•°ï¼š input_dimï¼šè¿™æ˜¯æ–‡æœ¬æ•°æ®ä¸­è¯æ±‡çš„å–å€¼å¯èƒ½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„æ•°æ®æ˜¯æ•´æ•°ç¼–ç ä¸º0-9ä¹‹é—´çš„å€¼ï¼Œé‚£ä¹ˆè¯æ±‡çš„å¤§å°å°±æ˜¯10ä¸ªå•è¯ï¼› output_dimï¼šè¿™æ˜¯åµŒå…¥å•è¯çš„å‘é‡ç©ºé—´çš„å¤§å°ã€‚å®ƒä¸ºæ¯ä¸ªå•è¯å®šä¹‰äº†è¿™ä¸ªå±‚çš„è¾“å‡ºå‘é‡çš„å¤§å°ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯èƒ½æ˜¯32æˆ–100ç”šè‡³æ›´å¤§ï¼Œå¯ä»¥è§†ä¸ºå…·ä½“é—®é¢˜çš„è¶…å‚æ•°ï¼› input_lengthï¼šè¿™æ˜¯è¾“å…¥åºåˆ—çš„é•¿åº¦ï¼Œå°±åƒæ‚¨ä¸ºKerasæ¨¡å‹çš„ä»»ä½•è¾“å…¥å±‚æ‰€å®šä¹‰çš„ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡è¾“å…¥å¸¦æœ‰çš„è¯æ±‡ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„æ‰€æœ‰è¾“å…¥æ–‡æ¡£éƒ½ç”±1000ä¸ªå­—ç»„æˆï¼Œé‚£ä¹ˆinput_lengthå°±æ˜¯1000ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè¯æ±‡è¡¨ä¸º200çš„åµŒå…¥å±‚ï¼ˆä¾‹å¦‚ä»0åˆ°199çš„æ•´æ•°ç¼–ç çš„å­—ï¼ŒåŒ…æ‹¬0åˆ°199ï¼‰ï¼Œä¸€ä¸ª32ç»´çš„å‘é‡ç©ºé—´ï¼Œå…¶ä¸­å°†åµŒå…¥å•è¯ï¼Œä»¥åŠè¾“å…¥æ–‡æ¡£ï¼Œæ¯ä¸ªå•è¯æœ‰50ä¸ªå•è¯ã€‚ e = Embedding(input_dim=200, output_dim=32, input_length=50) åµŒå…¥å±‚è‡ªå¸¦å­¦ä¹ çš„æƒé‡ï¼Œå¦‚æœå°†æ¨¡å‹ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œåˆ™å°†åŒ…å«åµŒå…¥å›¾å±‚çš„æƒé‡ã€‚ åµŒå…¥å±‚çš„è¾“å‡ºæ˜¯ä¸€ä¸ªäºŒç»´å‘é‡ï¼Œæ¯ä¸ªå•è¯åœ¨è¾“å…¥æ–‡æœ¬ï¼ˆè¾“å…¥æ–‡æ¡£ï¼‰åºåˆ—ä¸­åµŒå…¥ä¸€ä¸ªã€‚ å¦‚æœæ‚¨å¸Œæœ›ç›´æ¥å°†Denseå±‚æ¥åˆ°Embeddingå±‚åé¢ï¼Œåˆ™å¿…é¡»å…ˆä½¿ç”¨Flattenå±‚å°†Embeddingå±‚çš„2Dè¾“å‡ºçŸ©é˜µå¹³é“ºä¸ºä¸€ç»´çŸ¢é‡ã€‚ ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•åœ¨å®è·µä¸­ä½¿ç”¨åµŒå…¥å±‚ã€‚ å­¦ä¹  Embeddingçš„ä¾‹å­åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•åœ¨æ–‡æœ¬åˆ†ç±»é—®é¢˜ä¸Šæ‹Ÿåˆç¥ç»ç½‘ç»œçš„åŒæ—¶å­¦ä¹ å•è¯åµŒå…¥ã€‚ æˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªå°é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰10ä¸ªæ–‡æœ¬æ–‡æ¡£ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ªå­¦ç”Ÿæäº¤çš„å·¥ä½œè¯„è®ºã€‚æ¯ä¸ªæ–‡æœ¬æ–‡æ¡£è¢«åˆ†ç±»ä¸ºæ­£çš„â€œ1â€æˆ–è´Ÿçš„â€œ0â€ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æƒ…æ„Ÿåˆ†æé—®é¢˜ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å°†å®šä¹‰æ–‡æ¡£åŠå…¶ç±»åˆ«æ ‡ç­¾ã€‚ 12345678910111213# define documents å®šä¹‰æ–‡æ¡£docs = ['Well done!', 'Good work', 'Great effort', 'nice work', 'Excellent!', 'Weak', 'Poor effort!', 'not good', 'poor work', 'Could have done better.']# define class labels å®šä¹‰åˆ†ç±»æ ‡ç­¾labels = [1,1,1,1,1,0,0,0,0,0] æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥æ•´æ•°ç¼–ç æ¯ä¸ªæ–‡ä»¶ã€‚è¿™æ„å‘³ç€æŠŠè¾“å…¥ï¼ŒåµŒå…¥å±‚å°†å…·æœ‰æ•´æ•°åºåˆ—ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•å…¶ä»–æ›´å¤æ‚çš„bag of word æ¨¡å‹æ¯”å¦‚è®¡æ•°æˆ–TF-IDFã€‚ Kerasæä¾›one_hot()å‡½æ•°æ¥åˆ›å»ºæ¯ä¸ªå•è¯çš„æ•£åˆ—ä½œä¸ºä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°ç¼–ç ã€‚æˆ‘ä»¬ç”¨ä¼°è®¡50çš„è¯æ±‡è¡¨å¤§å°ï¼Œè¿™å¤§å¤§å‡å°‘äº†hashå‡½æ•°çš„å†²çªæ¦‚ç‡ã€‚ 1234# integer encode the documents ç‹¬çƒ­ç¼–ç vocab_size = 50encoded_docs = [one_hot(d, vocab_size) for d in docs]print(encoded_docs) 1[[6, 16], [42, 24], [2, 17], [42, 24], [18], [17], [22, 17], [27, 42], [22, 24], [49, 46, 16, 34]] è¿™æ ·ä»¥ååºåˆ—å…·æœ‰ä¸åŒçš„é•¿åº¦ï¼Œä½†æ˜¯Kerasæ›´å–œæ¬¢è¾“å…¥çŸ¢é‡åŒ–å’Œæ‰€æœ‰è¾“å…¥å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚æˆ‘ä»¬å°†å¡«å……æ‰€æœ‰è¾“å…¥åºåˆ—çš„é•¿åº¦ä¸º4ï¼ŒåŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„Keraså‡½æ•°ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ä¸ºpad_sequences()å‡½æ•°ï¼‰æ‰§è¡Œæ­¤æ“ä½œ, 1234# pad documents to a max length of 4 words å°†ä¸è¶³é•¿åº¦çš„ç”¨0å¡«å……ä¸ºé•¿åº¦4max_length = 4padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding='post')print(padded_docs) 12345678910[[ 6 16 0 0] [42 24 0 0] [ 2 17 0 0] [42 24 0 0] [18 0 0 0] [17 0 0 0] [22 17 0 0] [27 42 0 0] [22 24 0 0] [49 46 16 34]] æˆ‘ä»¬ç°åœ¨å‡†å¤‡å°†æˆ‘ä»¬çš„åµŒå…¥å±‚å®šä¹‰ä¸ºæˆ‘ä»¬çš„ç¥ç»ç½‘ç»œæ¨¡å‹çš„ä¸€éƒ¨åˆ†ã€‚ åµŒå…¥çš„è¯æ±‡é‡ä¸º50ï¼Œè¾“å…¥é•¿åº¦ä¸º4ï¼Œæˆ‘ä»¬å°†é€‰æ‹©ä¸€ä¸ª8ç»´çš„åµŒå…¥ç©ºé—´ã€‚ è¯¥æ¨¡å‹æ˜¯ä¸€ä¸ªç®€å•çš„äºŒå…ƒåˆ†ç±»æ¨¡å‹ã€‚é‡è¦çš„æ˜¯ï¼ŒåµŒå…¥å±‚çš„è¾“å‡ºå°†æ˜¯æ¯ä¸ª8ç»´çš„4ä¸ªçŸ¢é‡ï¼Œæ¯ä¸ªå•è¯ä¸€ä¸ªã€‚æˆ‘ä»¬å°†å…¶å¹³é“ºåˆ°ä¸€ä¸ª32ä¸ªå…ƒç´ çš„å‘é‡ä¸Šä»¥ä¼ é€’åˆ°å¯†é›†è¾“å‡ºå±‚ã€‚ 123456789# define the model å®šä¹‰æ¨¡å‹model = Sequential()model.add(Embedding(vocab_size, 8, input_length=max_length))model.add(Flatten())model.add(Dense(1, activation='sigmoid'))# compile the model ç¼–è¯‘model.compile(optimizer='adam', loss='binary_crossentropy', metrics=['acc'])# summarize the model æ‰“å°æ¨¡å‹ä¿¡æ¯print(model.summary()) 12345678910111213_________________________________________________________________Layer (type) Output Shape Param #=================================================================embedding_1 (Embedding) (None, 4, 8) 400_________________________________________________________________flatten_1 (Flatten) (None, 32) 0_________________________________________________________________dense_1 (Dense) (None, 1) 33=================================================================Total params: 433Trainable params: 433Non-trainable params: 0_________________________________________________________________ æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æ‹Ÿåˆå’Œè¯„ä¼°åˆ†ç±»æ¨¡å‹ã€‚ 12345# fit the model æ‹Ÿåˆmodel.fit(padded_docs, labels, epochs=50, verbose=0)# evaluate the model è¯„ä¼°loss, accuracy = model.evaluate(padded_docs, labels, verbose=0)print('Accuracy: %f' % (accuracy*100)) 1Accuracy: 100.000000 ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨å‡½æ•°å¼APIæ”¹å†™äº†æ¨¡å‹å®šä¹‰ï¼Œä¸è¿‡ç»“æ„å’Œä¸Šé¢æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142from keras.layers import Dense, Flatten, Inputfrom keras.layers.embeddings import Embeddingfrom keras.models import Modelfrom keras.preprocessing.sequence import pad_sequencesfrom keras.preprocessing.text import one_hot# define documentsdocs = ['Well done!', 'Good work', 'Great effort', 'nice work', 'Excellent!', 'Weak', 'Poor effort!', 'not good', 'poor work', 'Could have done better.']# define class labelslabels = [1, 1, 1, 1, 1, 0, 0, 0, 0, 0]# integer encode the documentsvocab_size = 50encoded_docs = [one_hot(d, vocab_size) for d in docs]print(encoded_docs)# pad documents to a max length of 4 wordsmax_length = 4padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding='post')print(padded_docs)# define the modelinput = Input(shape=(4, ))x = Embedding(vocab_size, 8, input_length=max_length)(input)x = Flatten()(x)x = Dense(1, activation='sigmoid')(x)model = Model(inputs=input, outputs=x)# compile the modelmodel.compile(optimizer='adam', loss='binary_crossentropy', metrics=['acc'])# summarize the modelprint(model.summary())# fit the modelmodel.fit(padded_docs, labels, epochs=50, verbose=0)# evaluate the modelloss, accuracy = model.evaluate(padded_docs, labels, verbose=0)print('Accuracy: %f' % (accuracy * 100)) ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å°†åµŒå…¥å›¾å±‚ä¸­å­¦ä¹ çš„æƒé‡ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿ä»¥ååœ¨å…¶ä»–æ¨¡å‹ä¸­ä½¿ç”¨ã€‚ é€šå¸¸ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡å‹æ¥åˆ†ç±»åœ¨æµ‹è¯•æ•°æ®é›†ä¸­çœ‹åˆ°çš„åŒç±»è¯æ±‡çš„å…¶ä»–æ–‡æ¡£ã€‚ æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹åœ¨Kerasä¸­åŠ è½½é¢„å…ˆè®­ç»ƒçš„è¯åµŒå…¥ã€‚ ä½¿ç”¨é¢„è®­ç»ƒGloVEåµŒå…¥çš„ç¤ºä¾‹KerasåµŒå…¥å±‚ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å…¶ä»–åœ°æ–¹å­¦ä¹ çš„åµŒå…¥å­—ã€‚ åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œå­¦ä¹ ï¼Œä¿å­˜å’Œåˆ†äº«æä¾›è¯åµŒå…¥æ˜¯å¾ˆå¸¸è§çš„ã€‚ ä¾‹å¦‚ï¼ŒGloVeæ–¹æ³•èƒŒåçš„ç ”ç©¶äººå‘˜æä¾›äº†ä¸€å¥—åœ¨å…¬å…±é¢†åŸŸè®¸å¯ä¸‹å‘å¸ƒçš„é¢„å…ˆè®­ç»ƒçš„è¯åµŒå…¥ã€‚çœ‹åˆ°ï¼š GloVe: Global Vectors for Word Representation æœ€å°çš„åŒ…æ˜¯822Mbï¼Œå«åšâ€œglove.6B.zipâ€ã€‚å®ƒè®­ç»ƒäº†10äº¿ä¸ªè¯æ±‡ï¼ˆå•è¯ï¼‰çš„æ•°æ®é›†ï¼Œè¯æ±‡é‡ä¸º40ä¸‡å­—ï¼Œæœ‰å‡ ç§ä¸åŒçš„åµŒå…¥çŸ¢é‡å°ºå¯¸ï¼ŒåŒ…æ‹¬50,100,200å’Œ300sizeã€‚ æ‚¨å¯ä»¥ä¸‹è½½è¿™ä¸ªåµŒå…¥çš„é›†åˆï¼Œå¯ä»¥ä½œä¸ºKerasåµŒå…¥å±‚ä¸­è®­ç»ƒæ•°æ®é›†ä¸­çš„å•è¯é¢„å…ˆè®­ç»ƒåµŒå…¥çš„æƒé‡ã€‚ è¿™ä¸ªä¾‹å­å—Kerasé¡¹ç›®ä¸­çš„ä¸€ä¸ªä¾‹å­çš„å¯å‘ï¼špretrained_word_embeddings.pyã€‚ ä¸‹è½½å¹¶è§£å‹ç¼©åï¼Œæ‚¨å°†çœ‹åˆ°å‡ ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯â€œglove.6B.100d.txtâ€ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª100ç»´ç‰ˆæœ¬çš„åµŒå…¥ã€‚ å¦‚æœä½ åœ¨æ–‡ä»¶å†…éƒ¨å·çœ‹ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªtokenï¼ˆå•è¯ï¼‰ï¼Œåé¢æ˜¯æ¯è¡Œçš„æƒé‡ï¼ˆ100ä¸ªæ•°å­—ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯åµŒå…¥çš„ASCIIæ–‡æœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼Œæ˜¾ç¤ºâ€œtheâ€çš„åµŒå…¥ã€‚ 1the -0.038194 -0.24487 0.72812 -0.39961 0.083172 0.043953 -0.39141 0.3344 -0.57545 0.087459 0.28787 -0.06731 0.30906 -0.26384 -0.13231 -0.20757 0.33395 -0.33848 -0.31743 -0.48336 0.1464 -0.37304 0.34577 0.052041 0.44946 -0.46971 0.02628 -0.54155 -0.15518 -0.14107 -0.039722 0.28277 0.14393 0.23464 -0.31021 0.086173 0.20397 0.52624 0.17164 -0.082378 -0.71787 -0.41531 0.20335 -0.12763 0.41367 0.55187 0.57908 -0.33477 -0.36559 -0.54857 -0.062892 0.26584 0.30205 0.99775 -0.80481 -3.0243 0.01254 -0.36942 2.2167 0.72201 -0.24978 0.92136 0.034514 0.46745 1.1079 -0.19358 -0.074575 0.23353 -0.052062 -0.22044 0.057162 -0.15806 -0.30798 -0.41625 0.37972 0.15006 -0.53212 -0.2055 -1.2526 0.071624 0.70565 0.49744 -0.42063 0.26148 -1.538 -0.30223 -0.073438 -0.28312 0.37104 -0.25217 0.016215 -0.017099 -0.38984 0.87424 -0.72569 -0.51058 -0.52028 -0.1459 0.8278 0.27062 å¦‚å‰ä¸€èŠ‚æ‰€è¿°ï¼Œç¬¬ä¸€æ­¥æ˜¯å®šä¹‰è¿™äº›ç¤ºä¾‹ï¼Œå°†å®ƒä»¬ç¼–ç ä¸ºæ•´æ•°ï¼Œç„¶åå°†è¿™äº›åºåˆ—å¡«å……ä¸ºç›¸åŒçš„é•¿åº¦ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿå°†å•è¯æ˜ å°„åˆ°æ•´æ•°ä»¥åŠæ•´æ•°åˆ°å•è¯ã€‚ Kerasæä¾›äº†ä¸€ä¸ªTokenizerç±»ï¼Œå¯ä»¥é€‚åº”è®­ç»ƒæ•°æ®ï¼Œé€šè¿‡è°ƒç”¨Tokenizerç±»çš„texts_to_sequencesï¼ˆï¼‰æ–¹æ³•ï¼Œå¯ä»¥ä¸€è‡´åœ°å°†æ–‡æœ¬è½¬æ¢ä¸ºåºåˆ—ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®å•è¯åœ¨word_indexå±æ€§ä¸­çš„æ•´æ•°å­—å…¸æ˜ å°„ã€‚ 123456789101112131415161718192021222324# define documentsdocs = ['Well done!', 'Good work', 'Great effort', 'nice work', 'Excellent!', 'Weak', 'Poor effort!', 'not good', 'poor work', 'Could have done better.']# define class labelslabels = [1,1,1,1,1,0,0,0,0,0]# prepare tokenizert = Tokenizer()t.fit_on_texts(docs)vocab_size = len(t.word_index) + 1# integer encode the documentsencoded_docs = t.texts_to_sequences(docs)print(encoded_docs)# pad documents to a max length of 4 wordsmax_length = 4padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding='post')print(padded_docs) æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•´ä¸ªGloveå­—åµŒå…¥æ–‡ä»¶ä½œä¸ºå­—çš„å­—å…¸åŠ è½½åˆ°å†…å­˜ä¸­ä»¥åµŒå…¥æ•°ç»„ã€‚ 12345678910# load the whole embedding into memoryembeddings_index = dict()f = open('glove.6B.100d.txt')for line in f: values = line.split() word = values[0] coefs = asarray(values[1:], dtype='float32') embeddings_index[word] = coefsf.close()print('Loaded %s word vectors.' % len(embeddings_index)) è¿™å¾ˆæ…¢ã€‚åœ¨è®­ç»ƒæ•°æ®ä¸­è¿‡æ»¤ç‰¹æ®Šå­—è¯çš„åµŒå…¥å¯èƒ½ä¼šæ›´å¥½ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºè®­ç»ƒæ•°æ®é›†ä¸­çš„æ¯ä¸ªå•è¯åˆ›å»ºä¸€ä¸ªåµŒå…¥çŸ©é˜µã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æšä¸¾Tokenizer.word_indexä¸­çš„æ‰€æœ‰å”¯ä¸€å•è¯å¹¶ä»åŠ è½½çš„GloVeåµŒå…¥ä¸­æ‰¾åˆ°åµŒå…¥æƒé‡å‘é‡æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ ç»“æœæ˜¯ä¸€ä¸ªä»…ç”¨äºè®­ç»ƒæœŸé—´å°†ä¼šçœ‹åˆ°çš„å•è¯çš„æƒé‡çŸ©é˜µã€‚ 123456# create a weight matrix for words in training docsembedding_matrix = zeros((vocab_size, 100))for word, i in t.word_index.items(): embedding_vector = embeddings_index.get(word) if embedding_vector is not None: embedding_matrix[i] = embedding_vector ç°åœ¨æˆ‘ä»¬å¯ä»¥åƒä»¥å‰ä¸€æ ·å®šä¹‰æˆ‘ä»¬çš„æ¨¡å‹ï¼Œå¹¶è¿›è¡Œè¯„ä¼°ã€‚ å…³é”®çš„åŒºåˆ«æ˜¯åµŒå…¥å±‚å¯ä»¥ç”¨GloVeå­—åµŒå…¥æƒé‡æ¥æ’­ç§ã€‚æˆ‘ä»¬é€‰æ‹©äº†100ç»´ç‰ˆæœ¬ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨output_dimå°†å…¶è®¾ç½®ä¸º100æ¥å®šä¹‰åµŒå…¥å±‚ã€‚æœ€åï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ›´æ–°æ­¤æ¨¡å‹ä¸­çš„å­¦ä¹ å•è¯æƒé‡ï¼Œå› æ­¤æˆ‘ä»¬å°†è®¾ç½®æ¨¡å‹çš„å¯è®­ç»ƒå±æ€§ä¸ºFalse ã€‚ 1e = Embedding(vocab_size, 100, weights=[embedding_matrix], input_length=4, trainable=False) ä¸‹é¢åˆ—å‡ºäº†å®Œæ•´çš„å·¥ä½œç¤ºä¾‹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263from numpy import asarrayfrom numpy import zerosfrom keras.preprocessing.text import Tokenizerfrom keras.preprocessing.sequence import pad_sequencesfrom keras.models import Sequentialfrom keras.layers import Densefrom keras.layers import Flattenfrom keras.layers import Embedding# define documentsdocs = ['Well done!', 'Good work', 'Great effort', 'nice work', 'Excellent!', 'Weak', 'Poor effort!', 'not good', 'poor work', 'Could have done better.']# define class labelslabels = [1,1,1,1,1,0,0,0,0,0]# prepare tokenizert = Tokenizer()t.fit_on_texts(docs)vocab_size = len(t.word_index) + 1# integer encode the documentsencoded_docs = t.texts_to_sequences(docs)print(encoded_docs)# pad documents to a max length of 4 wordsmax_length = 4padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding='post')print(padded_docs)# load the whole embedding into memoryembeddings_index = dict()f = open('../glove_data/glove.6B/glove.6B.100d.txt')for line in f: values = line.split() word = values[0] coefs = asarray(values[1:], dtype='float32') embeddings_index[word] = coefsf.close()print('Loaded %s word vectors.' % len(embeddings_index))# create a weight matrix for words in training docsembedding_matrix = zeros((vocab_size, 100))for word, i in t.word_index.items(): embedding_vector = embeddings_index.get(word) if embedding_vector is not None: embedding_matrix[i] = embedding_vector# define modelmodel = Sequential()e = Embedding(vocab_size, 100, weights=[embedding_matrix], input_length=4, trainable=False)model.add(e)model.add(Flatten())model.add(Dense(1, activation='sigmoid'))# compile the modelmodel.compile(optimizer='adam', loss='binary_crossentropy', metrics=['acc'])# summarize the modelprint(model.summary())# fit the modelmodel.fit(padded_docs, labels, epochs=50, verbose=0)# evaluate the modelloss, accuracy = model.evaluate(padded_docs, labels, verbose=0)print('Accuracy: %f' % (accuracy*100)) è¿è¡Œè¿™ä¸ªä¾‹å­å¯èƒ½éœ€è¦æ›´é•¿çš„æ—¶é—´ï¼Œä½†æ˜¯è¿™è¡¨æ˜å®ƒèƒ½å¤Ÿé€‚åº”è¿™ä¸ªç®€å•çš„é—®é¢˜ã€‚ 12345678910111213141516171819202122232425262728293031[[6, 2], [3, 1], [7, 4], [8, 1], [9], [10], [5, 4], [11, 3], [5, 1], [12, 13, 2, 14]][[ 6 2 0 0] [ 3 1 0 0] [ 7 4 0 0] [ 8 1 0 0] [ 9 0 0 0] [10 0 0 0] [ 5 4 0 0] [11 3 0 0] [ 5 1 0 0] [12 13 2 14]]Loaded 400000 word vectors._________________________________________________________________Layer (type) Output Shape Param #=================================================================embedding_1 (Embedding) (None, 4, 100) 1500_________________________________________________________________flatten_1 (Flatten) (None, 400) 0_________________________________________________________________dense_1 (Dense) (None, 1) 401=================================================================Total params: 1,901Trainable params: 401Non-trainable params: 1,500_________________________________________________________________Accuracy: 100.000000 åœ¨å®è·µä¸­ï¼Œæœ€å¥½è¿˜æ˜¯å°è¯•ä½¿ç”¨é¢„å…ˆè®­ç»ƒå¥½çš„åµŒå…¥æ¥å­¦ä¹ å•è¯åµŒå…¥ï¼Œå› ä¸ºå®ƒæ˜¯å›ºå®šçš„ï¼Œå¹¶å°è¯•åœ¨é¢„å…ˆè®­ç»ƒå¥½çš„åµŒå…¥ä¹‹ä¸Šè¿›è¡Œå­¦ä¹ ï¼Œè¿™å°±ç±»ä¼¼äºè®¡ç®—æœºè§†è§‰é‡Œé¢ç”¨é¢„è®­ç»ƒçš„VGGæˆ–è€…res-netè¿ç§»å…·ä½“é—®é¢˜é‚£æ ·ã€‚ ä¸è¿‡è¿™å–å†³äºä»€ä¹ˆæœ€é€‚åˆä½ çš„å…·ä½“é—®é¢˜ã€‚ IMDB æ•°æ®é›†Embeddingå®ä¾‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152from keras.models import Sequential,Modelfrom keras.layers import Flatten, Dense, Embedding, Inputinput_layer = Input(shape=(maxlen,)) x = Embedding(input_dim=10000,output_dim=8)(input_layer)# å•ç‹¬åšä¸€ä¸ªembeddingæ¨¡å‹ï¼Œåˆ©äºåé¢è§‚å¯Ÿembedding = Model(input_layer,x)x = Flatten()(x)x = Dense(1,activation='sigmoid')(x)model = Model(input_layer,x)model.compile(optimizer='rmsprop',loss='binary_crossentropy',metrics=['acc'])model.summary()history = modhistory = modhistory = mod&gt; history = model.fit(x_train,y_train,epochs=10,batch_size=32,validation_split=0.2)_________________________________________________________________Layer (type) Output Shape Param # =================================================================input_4 (InputLayer) (None, 20) 0 _________________________________________________________________embedding_5 (Embedding) (None, 20, 8) 80000 _________________________________________________________________flatten_5 (Flatten) (None, 160) 0 _________________________________________________________________dense_5 (Dense) (None, 1) 161 =================================================================Total params: 80,161Trainable params: 80,161Non-trainable params: 0_________________________________________________________________Train on 20000 samples, validate on 5000 samplesEpoch 1/1020000/20000 [==============================] - 2s 105us/step - loss: 0.6772 - acc: 0.6006 - val_loss: 0.6448 - val_acc: 0.6704Epoch 2/1020000/20000 [==============================] - 2s 93us/step - loss: 0.5830 - acc: 0.7188 - val_loss: 0.5629 - val_acc: 0.7046Epoch 3/1020000/20000 [==============================] - 2s 95us/step - loss: 0.5152 - acc: 0.7464 - val_loss: 0.5362 - val_acc: 0.7208Epoch 4/1020000/20000 [==============================] - 2s 93us/step - loss: 0.4879 - acc: 0.7607 - val_loss: 0.5299 - val_acc: 0.7292Epoch 5/1020000/20000 [==============================] - 2s 97us/step - loss: 0.4731 - acc: 0.7694 - val_loss: 0.5290 - val_acc: 0.7334Epoch 6/1020000/20000 [==============================] - 2s 98us/step - loss: 0.4633 - acc: 0.7773 - val_loss: 0.5317 - val_acc: 0.7344Epoch 7/1020000/20000 [==============================] - 2s 96us/step - loss: 0.4548 - acc: 0.7819 - val_loss: 0.5333 - val_acc: 0.7318Epoch 8/1020000/20000 [==============================] - 2s 93us/step - loss: 0.4471 - acc: 0.7870 - val_loss: 0.5377 - val_acc: 0.7288Epoch 9/1020000/20000 [==============================] - 2s 95us/step - loss: 0.4399 - acc: 0.7924 - val_loss: 0.5422 - val_acc: 0.7278Epoch 10/1020000/20000 [==============================] - 2s 90us/step - loss: 0.4328 - acc: 0.7957 - val_loss: 0.5458 - val_acc: 0.7290 æˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹inputçš„shape 1234567891011x_train[1].shapex_train[1]x_train[:1].shapex_train[:1](20,)array([ 23, 4, 2, 15, 16, 4, 2, 5, 28, 6, 52, 154, 462, 33, 89, 78, 285, 16, 145, 95], dtype=int32)(1, 20)array([[ 65, 16, 38, 2, 88, 12, 16, 283, 5, 16, 2, 113, 103, 32, 15, 16, 2, 19, 178, 32]], dtype=int32) å†çœ‹çœ‹embeddingçš„è¾“å‡ºï¼Œ 1234567891011121314151617181920212223242526272829303132333435363738394041424344embedding.predict(x_train[:1]).shapeembedding.predict(x_train[:1])(1, 20, 8)array([[[-0.17401133, -0.08743777, 0.15631911, -0.06831486, -0.09105065, 0.06253908, -0.0798945 , 0.07671431], [ 0.18718374, 0.10347525, -0.06668846, 0.25818944, 0.07522523, 0.07082067, 0.05170904, 0.22902426], [ 0.06872956, -0.00586612, 0.07713806, -0.00182899, 0.00882899, -0.18892162, -0.13580748, -0.03166043], [-0.01912907, -0.01732869, 0.00391375, -0.02338142, 0.02787969, -0.02744135, 0.0074541 , 0.01806928], [ 0.20604047, 0.10910885, 0.06304865, -0.14038748, 0.12123005, 0.06124007, 0.0532628 , 0.17591232], [-0.19636872, -0.0027669 , 0.01087157, -0.02332311, -0.04321857, -0.09228673, -0.03061322, -0.13376454], [ 0.18718374, 0.10347525, -0.06668846, 0.25818944, 0.07522523, 0.07082067, 0.05170904, 0.22902426], [-0.27160701, -0.29296583, 0.1055108 , 0.15896739, -0.24833643, -0.17791845, -0.27316946, -0.241273 ], [-0.02175452, -0.0839383 , 0.04338101, 0.01062139, -0.11473208, -0.18394938, -0.05141308, -0.10405254], [ 0.18718374, 0.10347525, -0.06668846, 0.25818944, 0.07522523, 0.07082067, 0.05170904, 0.22902426], [-0.01912907, -0.01732869, 0.00391375, -0.02338142, 0.02787969, -0.02744135, 0.0074541 , 0.01806928], [-0.14751843, 0.05572686, 0.20332271, -0.01759946, -0.0946402 , -0.14416233, 0.16961734, 0.01381243], [ 0.00282665, -0.17532936, -0.09342033, 0.04514923, -0.04684081, 0.1748796 , -0.09669576, -0.10699435], [ 0.00225757, -0.12751001, -0.12703758, 0.17167819, -0.03712473, 0.04252302, 0.04741228, -0.02731293], [ 0.02198115, 0.03989581, 0.13165356, 0.06523556, 0.14900513, 0.01858517, -0.01644249, -0.02377043], [ 0.18718374, 0.10347525, -0.06668846, 0.25818944, 0.07522523, 0.07082067, 0.05170904, 0.22902426], [-0.01912907, -0.01732869, 0.00391375, -0.02338142, 0.02787969, -0.02744135, 0.0074541 , 0.01806928], [-0.01993229, -0.04436176, 0.07624088, 0.04268746, -0.00883252, 0.00789542, -0.03039453, 0.05851226], [-0.12873659, -0.00083202, -0.03246918, 0.23910245, -0.24635716, 0.10966355, 0.02079294, -0.03829115], [ 0.00225757, -0.12751001, -0.12703758, 0.17167819, -0.03712473, 0.04252302, 0.04741228, -0.02731293]]], dtype=float32) å¯ä»¥çœ‹å‡ºï¼Œembeddingå±‚å°†(1, 20)çš„ä¸€ä¸ªè¾“å…¥sampleï¼ˆæœ€é•¿ä¸º20ä¸ªå•è¯çš„å¥å­ï¼Œå…¶ä¸­æ¯ä¸ªå•è¯è¡¨ç¤ºä¸ºä¸€ä¸ªintæ•°å­—ï¼‰ï¼ŒåµŒå…¥ä¸ºä¸€ä¸ª(1, 20, 8)çš„å‘é‡ï¼Œå³å°†æ¯ä¸ªå•è¯embedä¸ºä¸€ä¸ª8ç»´çš„å‘é‡ï¼Œè€Œæ•´ä¸ªembeddingå±‚çš„å‚æ•°å°±ç”±ç¥ç»ç½‘ç»œå­¦ä¹ å¾—åˆ°ï¼Œæ•°æ®ç»è¿‡embeddingå±‚ä¹‹åå°±æ–¹ä¾¿åœ°è½¬æ¢ä¸ºäº†å¯ä»¥ç”±CNNæˆ–è€…RNNè¿›ä¸€æ­¥å¤„ç†çš„æ ¼å¼ã€‚ å‚è€ƒ How to Use Word Embedding Layers for Deep Learning with Keras - Machine Learning Mastery","categories":[],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"},{"name":"Keras","slug":"Keras","permalink":"http://frankchen.xyz/tags/Keras/"}]},{"title":"ç¥ç»ç½‘ç»œæœ¯è¯­å¤§ç™¾ç§‘ï¼šä¼˜åŒ–å‡½æ•°ã€æ¿€æ´»å‡½æ•°ã€æŸå¤±å‡½æ•°ã€æ­£åˆ™æ–¹æ³•çš„ç®€ä»‹","slug":"Neural-Network-Terms-Introduction-to-Optimization-Functions-Activation-Functions-Loss-Functions-and-Regular-Functions","date":"2017-12-15T04:45:44.000Z","updated":"2017-12-16T09:21:29.262Z","comments":true,"path":"2017/12/15/Neural-Network-Terms-Introduction-to-Optimization-Functions-Activation-Functions-Loss-Functions-and-Regular-Functions/","link":"","permalink":"http://frankchen.xyz/2017/12/15/Neural-Network-Terms-Introduction-to-Optimization-Functions-Activation-Functions-Loss-Functions-and-Regular-Functions/","excerpt":"ç®€è¿°å…³äºç¥ç»ç½‘ç»œçš„å„ç§ä¼˜åŒ–å‡½æ•°ï¼ˆSGDï¼ŒAdagradï¼ŒAdadeltaï¼ŒAdamï¼ŒAdamaxï¼ŒNadamï¼‰ã€å„ç§æ¿€æ´»å‡½æ•°ï¼ˆSigmoidï¼ŒTanhã€Hard Sigmoidã€Softplusã€ReLUã€ElUã€PReLUã€RReLUï¼‰ã€å„ç§æŸå¤±å‡½æ•°ä»¥åŠæ­£åˆ™æ–¹æ³•çš„ç®€è¿°ï¼Œå¹¶é™„å¸¦ä»£ç å®ç°ä¾‹å­ã€‚","text":"ç®€è¿°å…³äºç¥ç»ç½‘ç»œçš„å„ç§ä¼˜åŒ–å‡½æ•°ï¼ˆSGDï¼ŒAdagradï¼ŒAdadeltaï¼ŒAdamï¼ŒAdamaxï¼ŒNadamï¼‰ã€å„ç§æ¿€æ´»å‡½æ•°ï¼ˆSigmoidï¼ŒTanhã€Hard Sigmoidã€Softplusã€ReLUã€ElUã€PReLUã€RReLUï¼‰ã€å„ç§æŸå¤±å‡½æ•°ä»¥åŠæ­£åˆ™æ–¹æ³•çš„ç®€è¿°ï¼Œå¹¶é™„å¸¦ä»£ç å®ç°ä¾‹å­ã€‚ ä¼˜åŒ–å‡½æ•°å…ˆä¸Šä¸¤å¼ å›¾ æ¿€æ´»å‡½æ•°æ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œç¥ç»å…ƒå°±åªæ˜¯ä¸€ä¸ªçº¿æ€§å‡½æ•°ï¼Œé‚£ä¹ˆæ— è®ºå¤šå°‘å±‚çš„ç¥ç»å…ƒå åŠ æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚è€Œä¸»æµæ¿€æ´»å‡½æ•°ä¹Ÿéšç€ç¥ç»ç½‘ç»œã€æ·±åº¦å­¦ä¹ çš„å‘å±•è¿­ä»£è¿›åŒ–äº†è®¸å¤šæ¬¡ä»£ã€‚ SigmoidSigmoidæ˜¯Så½¢çŠ¶çš„æ„æ€ï¼Œåˆå› ä¸ºå®ƒæ˜¯é€»è¾‘å›å½’çš„æ¿€æ´»å‡½æ•°åˆå«logisticå‡½æ•°ï¼Œå‡½æ•°å¼ä¸º$y = 1 / (1 + exp(-x))$æ˜¯å¾ˆæ—©ä»¥å‰æœ€å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œå…¶å®ä¹Ÿæ˜¯æœ‰ä¸€äº›ä¼˜ç‚¹çš„ï¼Œæ¯”å¦‚ï¼Œ å€¼åŸŸä½äº0-1ï¼Œé‚£ä¹ˆå¯¹äºé€»è¾‘å›å½’ï¼Œè¿™æ˜¯å¯¹äºäºŒåˆ†ç±»çš„ä¸€ä¸ªå¾ˆè‡ªç„¶çš„è¡¨è¾¾ï¼Œä¹Ÿå°±æ˜¯æ¦‚ç‡ å¤„å¤„è¿ç»­å¯å¯¼ ä¸è¿‡å‘¢ï¼Œæˆ‘ä»¬è§‚å¯Ÿå®ƒçš„å½¢çŠ¶ï¼Œå¯ä»¥å¾—å‡ºï¼ŒSigmoidå‡½æ•°åœ¨ä¸¤ç«¯ï¼ˆé è¿‘0å’Œ1çš„éƒ¨åˆ†ï¼‰æ¢¯åº¦å¾ˆå°ï¼Œè¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœç¥ç»å…ƒçš„è¾“å‡ºè½åˆ°äº†è¿™ä¸ªåœ°æ–¹ï¼Œé‚£ä¹ˆå®ƒå‡ ä¹æ²¡ä»€ä¹ˆæ¢¯åº¦å¯ä»¥ä¼ åˆ°åé¢ï¼Œè€Œéšç€ç¥ç»ç½‘ç»œçš„å±‚å±‚å‰Šå¼±ï¼Œåé¢çš„å±‚ï¼ˆé è¿‘è¾“å…¥çš„å±‚ï¼‰æ²¡æœ‰å¤šå°‘æ¢¯åº¦èƒ½ä¼ è¿‡æ¥ï¼Œå‡ ä¹å°±â€œå­¦ä¸åˆ°ä»€ä¹ˆâ€äº†ã€‚è¿™å«åšæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä¸€åº¦æ˜¯é˜»ç¢ç¥ç»ç½‘ç»œå¾€æ›´æ·±çš„å±‚è¿›åŒ–çš„ä¸»è¦å›°éš¾ï¼Œå¯¼è‡´æ·±åº¦å­¦ä¹ ä¸“å®¶ä»¬ç»å°½è„‘æ±æƒ³äº†è®¸å¤šæ–¹æ³•æ¥å¯¹æŠ—è¿™ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚â€œXavier and He Initializationâ€ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æŠŠweightéšæœºåˆå§‹åŒ–ä¸ºå¦‚ä¸‹çš„èŒƒå›´ï¼Œ sigmoidçš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯å®ƒä¸æ˜¯0å‡å€¼çš„ï¼ŒSigmoidå‡½æ•°çš„è¾“å‡ºå€¼æ’å¤§äº0ï¼Œè¿™ä¼šå¯¼è‡´æ¨¡å‹è®­ç»ƒçš„æ”¶æ•›é€Ÿåº¦å˜æ…¢ã€‚ä¸¾ä¾‹æ¥è®²ï¼Œå¯¹ï¼Œå¦‚æœæ‰€æœ‰å‡ä¸ºæ­£æ•°æˆ–è´Ÿæ•°ï¼Œé‚£ä¹ˆå…¶å¯¹çš„å¯¼æ•°æ€»æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ï¼Œè¿™ä¼šå¯¼è‡´å¦‚ä¸‹å›¾çº¢è‰²ç®­å¤´æ‰€ç¤ºçš„é˜¶æ¢¯å¼æ›´æ–°ï¼Œè¿™æ˜¾ç„¶å¹¶éä¸€ä¸ªå¥½çš„ä¼˜åŒ–è·¯å¾„ã€‚æ·±åº¦å­¦ä¹ å¾€å¾€éœ€è¦å¤§é‡æ—¶é—´æ¥å¤„ç†å¤§é‡æ•°æ®ï¼Œæ¨¡å‹çš„æ”¶æ•›é€Ÿåº¦æ˜¯å°¤ä¸ºé‡è¦çš„ã€‚æ‰€ä»¥ï¼Œæ€»ä½“ä¸Šæ¥è®²ï¼Œè®­ç»ƒæ·±åº¦å­¦ä¹ ç½‘ç»œå°½é‡ä½¿ç”¨zero-centeredæ•°æ® (å¯ä»¥ç»è¿‡æ•°æ®é¢„å¤„ç†å®ç°) å’Œzero-centeredè¾“å‡ºã€‚ å¦‚ä»Šï¼Œsigmoidå‡½æ•°åº”ç”¨æœ€å¹¿æ³›çš„åœ¨äºå…¶å˜ç§softmaxåœ¨å¤šå…ƒåˆ†ç±»ä¸­ï¼Œæ¯”å¦‚æ‰‹å†™æ•°å­—è¯†åˆ«ï¼Œç»è¿‡å·ç§¯ç¥ç»ç½‘ç»œçš„å¤„ç†ï¼Œæœ€åæˆ‘ä»¬éœ€è¦ç½‘ç»œè¾“å‡ºæ¯ä¸ªé¢„æµ‹çš„æ¦‚ç‡å€¼ï¼Œæœ€åé¢„æµ‹ä¸ºæŸä¸€ä¸ªæ•°å­—ï¼Œè¿™é‡Œå°±éœ€è¦ç”¨åˆ°softmaxï¼Œä»¥ä¸‹æ˜¯softmaxçš„Kerasä»£ç ï¼Œæ³¨æ„å…¶ä¸­ä¸€ä¸ªtrickï¼Œe = K.exp(x - K.max(x, axis=axis, keepdims=True))è¿™é‡Œæ¯ä¸ªåˆ†é‡å‡å»æœ€å¤§å€¼æ˜¯ä¸ºäº†å‡å°‘è®¡ç®—é‡ã€‚1234567891011121314151617181920212223def softmax(x, axis=-1): \"\"\"Softmax activation function. # Arguments x : Tensor. axis: Integer, axis along which the softmax normalization is applied. # Returns Tensor, output of softmax transformation. # Raises ValueError: In case `dim(x) == 1`. \"\"\" ndim = K.ndim(x) if ndim == 2: return K.softmax(x) elif ndim &gt; 2: e = K.exp(x - K.max(x, axis=axis, keepdims=True)) s = K.sum(e, axis=axis, keepdims=True) return e / s else: raise ValueError('Cannot apply softmax to a tensor that is 1D') tanh tanh æ˜¯sigmoidçš„å˜å½¢ï¼š $tanh(x)=2sigmoid(2x)-1$ï¼Œä¸ sigmoid ä¸åŒçš„æ˜¯ï¼Œtanh æ˜¯0å‡å€¼çš„ã€‚å› æ­¤ï¼Œå®é™…åº”ç”¨ä¸­ï¼Œtanh ä¼šæ¯” sigmoid æ›´å¥½ä¸€äº›ï¼Œ ReLUå®¶æ—ç„¶è€Œæ ‡å‡†ReLUä¸æ˜¯å®Œç¾çš„ï¼Œæ¯”å¦‚å› ä¸ºReLUåœ¨å°äº0çš„åæ ‡æ¢¯åº¦éƒ½æ˜¯0ï¼Œé‚£ä¹ˆä¼šé€ æˆâ€œæ­»äº¡â€çš„ç¥ç»å…ƒçš„é—®é¢˜ï¼šä¸€æ—¦ç¥ç»å…ƒçš„è¾“å…¥ä¸æƒé‡ä¹‹ä¹˜ç§¯æ˜¯è´Ÿçš„ï¼Œé‚£ä¹ˆç»è¿‡ReLUçš„æ¿€æ´»ï¼Œè¾“å‡ºå°±æ˜¯0ï¼Œè€ŒReLUçš„0æ¢¯åº¦è®©â€œæ­»äº¡â€çš„ç¥ç»å…ƒæ— æ³•â€œå¤æ´»â€ï¼šæ²¡åŠæ³•å›åˆ°è¾“å‡ºä¸æ˜¯0çš„çŠ¶æ€ï¼Œè¿™æ ·å°±å‡ºç°äº†è®¸å¤šåœ¨ReLUçš„å˜ç§ï¼Œä¸€èˆ¬éƒ½æ˜¯å¯¹æ ‡å‡†ReLUåæ ‡è½´å·¦è¾¹çš„éƒ¨åˆ†åšæ–‡ç« ï¼Œæ¯”å¦‚leaky ReLUã€‚å…¶å…¬å¼å°±æ˜¯$LeakyReLU_ Î± (z) = max(\\alpha z,z)$ã€‚å¦‚å›¾ï¼Œ è¿™ç¯‡æ–‡ç« Empirical Evaluation of Rectified Activations in Convolution Networkå¯¹æ¯”äº†å‡ ç§leaky ReLUï¼Œæ¯”å¦‚æŠŠ$\\alpha$è®¾ç½®ä¸º0.2æ•ˆæœæ€»æ˜¯å¥½è¿‡0.01ï¼Œå¹¶ä¸”ï¼Œå¯¹äºrandomized leaky ReLU (RReLU)ï¼ˆå…¶ä¸­$\\alpha$è®¾ç½®ä¸ºä¸€ä¸ªåœ¨æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°ï¼‰ï¼Œæ•ˆæœä¹Ÿä¸é”™ï¼Œè€Œä¸”è¿˜å…·æœ‰ä¸€å®šçš„æ­£åˆ™ä½œç”¨ã€‚å¦å¤–ï¼Œå¯¹äºparametric leaky ReLU (PReLU)ï¼ˆå…¶ä¸­$\\alpha$ä½œä¸ºç½‘ç»œçš„ä¸€ä¸ªå‚æ•°ï¼Œè¢«åå‘ä¼ æ’­å­¦ä¹ å‡ºæ¥ï¼Œä¹‹å‰çš„$\\alpha$éƒ½æ˜¯è¶…å‚æ•°ï¼Œä¸èƒ½å­¦åªèƒ½è°ƒèŠ‚ï¼‰ï¼Œè¿™ç§å˜ç§å¯¹äºå¤§æ•°æ®é›†ä¸é”™ï¼Œä½†æ˜¯æ•°æ®é‡è¿‡å°å°±æœ‰è¿‡æ‹Ÿåˆçš„é£é™©ã€‚ä»¥ä¸‹æ˜¯Kerasé‡Œé¢reluçš„ä»£ç ï¼Œ 123456789101112131415161718192021222324def relu(x, alpha=0., max_value=None): \"\"\"Rectified linear unit. With default values, it returns element-wise `max(x, 0)`. # Arguments x: A tensor or variable. alpha: A scalar, slope of negative section (default=`0.`). max_value: Saturation threshold. # Returns A tensor. \"\"\" if alpha != 0.: negative_part = tf.nn.relu(-x) x = tf.nn.relu(x) if max_value is not None: max_value = _to_tensor(max_value, x.dtype.base_dtype) zero = _to_tensor(0., x.dtype.base_dtype) x = tf.clip_by_value(x, zero, max_value) if alpha != 0.: alpha = _to_tensor(alpha, x.dtype.base_dtype) x -= alpha * negative_part return x å¦å¤–ï¼Œåœ¨è¿™ç¯‡æ–‡ç« é‡Œé¢FAST AND ACCURATE DEEP NETWORK LEARNING BY EXPONENTIAL LINEAR UNITS (ELUS)ï¼Œå¼•å…¥äº†ä¸€ç§æ–°çš„ReLUï¼Œexponential linear unit (ELU)ï¼Œå…¬å¼å¦‚ä¸‹ï¼Œ$$ELU_{\\alpha}(z) = \\alpha (\\exp(z)-1) \\ if \\ z \\lt 0 ; \\ z \\ if \\ z \\gt 0;$$ ä¸æ ‡å‡†ReLUæœ€å¤§çš„åŒºåˆ«åœ¨äºå®ƒå¤„å¤„è¿ç»­å¯å¯¼ï¼Œè¿™ä½¿å¾—æ¢¯åº¦ä¸‹é™å¾—åˆ°åŠ é€Ÿï¼Œæ”¶æ•›å¾—åˆ°äº†åŠ é€Ÿï¼Œè€Œä½¿ç”¨äº†æŒ‡æ•°å‡½æ•°ä½¿å¾—å…¶æµ‹è¯•é˜¶æ®µçš„è®¡ç®—ä»£ä»·æ›´é«˜ã€‚Kerasé‡Œeluçš„å®ç°ï¼Œ 123456789101112131415def elu(x, alpha=1.): \"\"\"Exponential linear unit. # Arguments x: A tenor or variable to compute the activation function for. alpha: A scalar, slope of positive section. # Returns A tensor. \"\"\" res = tf.nn.elu(x) if alpha == 1: return res else: return tf.where(x &gt; 0, res, alpha * res) æ¿€æ´»å‡½æ•°çš„é€‰æ‹©ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„é€‰æ‹©é¡ºåºå¯ä»¥ç†è§£ä¸ºï¼šELU &gt; leaky ReLU (ä»¥åŠå…¶å˜ç§) &gt; ReLU &gt; tanh &gt; logisticã€‚ä½†æ˜¯ï¼Œ å¦‚æœæˆ‘ä»¬æ›´é¡¾è™‘æ¨¡å‹è¿è¡Œé€Ÿåº¦ï¼Œé‚£ä¹ˆleaky ReLUå¯èƒ½æ¯”ELUæ›´å¥½ï¼› å¦‚æœæˆ‘ä»¬ä¸æƒ³è°ƒèŠ‚è¶…å‚æ•°ï¼Œé‚£ä¹ˆç”¨é»˜è®¤çš„$\\alpha$å°±è¡Œï¼ŒReLUå’ŒELUçš„åˆ†åˆ«æ˜¯0.01å’Œ1ï¼› å¦‚æœç®—åŠ›è¶³å¤Ÿå¯ä»¥ç”¨æ¥è°ƒå‚ï¼Œé‚£ä¹ˆå¦‚æœç½‘ç»œè¿‡æ‹Ÿåˆæˆ‘ä»¬ä¼šé€‰æ‹©RReLUï¼Œå¦‚æœè®­ç»ƒé›†æ•°æ®è¶³å¤Ÿå¤šï¼Œé‚£å¯ä»¥ç”¨PReLUã€‚","categories":[],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"},{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"},{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"},{"name":"Python","slug":"Python","permalink":"http://frankchen.xyz/tags/Python/"}]},{"title":"å¦‚ä½•ç†è§£Pandas å’Œ Numpyé‡Œçš„axis","slug":"Understanding-the-axis-parameter-in-Pandas-and-Numpy","date":"2017-12-12T10:36:04.000Z","updated":"2018-03-09T11:12:08.000Z","comments":true,"path":"2017/12/12/Understanding-the-axis-parameter-in-Pandas-and-Numpy/","link":"","permalink":"http://frankchen.xyz/2017/12/12/Understanding-the-axis-parameter-in-Pandas-and-Numpy/","excerpt":"ç®€è¿°ä¸€ç§å¦‚ä½•ç›´è§‚çš„ç†è§£Pandas å’Œ Numpyé‡Œé¢çš„axiså‚æ•°çš„æ–¹æ³•ã€‚","text":"ç®€è¿°ä¸€ç§å¦‚ä½•ç›´è§‚çš„ç†è§£Pandas å’Œ Numpyé‡Œé¢çš„axiså‚æ•°çš„æ–¹æ³•ã€‚ Numpy å’Œ Pandasé‡Œçš„sortã€meanã€dropç­‰æ“ä½œï¼Œä¸æ˜¯åˆ†è¡Œæˆ–è€…åˆ—åˆ†åˆ«ç”¨ä¸€ä¸ªmethodæ¥å®šä¹‰ï¼Œè€Œæ˜¯ä¸€ä¸ªmethodé‡Œé¢ç”¨æˆ·æŒ‡å®šaxisæ¥æ“ä½œçš„ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š æˆ‘ä»¬å…ˆåœ¨æ­¤å¤„ä¸‹è½½äº†ä¸€ä»½å„å›½é…’ç±»æ¶ˆè´¹çš„csvæ–‡ä»¶ä¸ºä¾‹ã€‚å¦‚ä¸‹æ˜¯pandasé‡ŒæŒ‰axis 0å’Œ1è¿›è¡Œdropçš„æ“ä½œç¤ºä¾‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œaxis 0æ˜¯æŒ‰è¡Œdropï¼Œè€Œaxis 1æ˜¯æŒ‰åˆ—dropï¼š ä½†æ˜¯ï¼Œmeanæ“ä½œå‘¢ï¼Ÿ å®¹æ˜“çœ‹å‡ºï¼Œaxis 0å¾—å‡ºäº†æ¯ä¸€åˆ—çš„å‡å€¼ï¼Œè€Œaxis 1å¾—å‡ºäº†åˆ™æ˜¯æ¯ä¸€è¡Œçš„å‡å€¼ã€‚é‚£ä¹ˆï¼Œåœ¨Numpyé‡Œå‘¢ï¼Ÿ å®¹æ˜“çœ‹å‡ºï¼Œaxisä¸º1çš„æ—¶å€™å¾—å‡ºçš„æ˜¯æ¯è¡Œçš„sumï¼Œaxisä¸º0çš„æ—¶å€™å¾—å‡ºäº†æ¯åˆ—çš„sumã€‚ ç”±ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä¼¼ä¹å¯ä»¥çœ‹å‡ºï¼Œaxisä¸º1ä»£è¡¨æ°´å¹³æ–¹å‘ä¸Šçš„æ“ä½œï¼Œaxisä¸º0ä»£è¡¨å‚ç›´æ–¹å‘ä¸Šçš„æ“ä½œï¼Œæ¯”å¦‚axisä¸º1çš„sumå¾—å‡ºçš„å°±æ˜¯æ¯ä¸€è¡Œçš„å’Œã€‚ ä½†æ˜¯ï¼Œåœ¨Pandasçš„Dataframeé‡Œé¢ï¼Œä¸ºä»€ä¹ˆaxis=1ä»£è¡¨çš„æ˜¯dropæ•´ä¸ªåˆ—å‘¢ï¼Ÿä»¥ä¸‹è¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥è¯´æ˜ä¸€äº›æƒ…å†µï¼š è”ç³»è¿™ä¸ªè§†é¢‘How do I use the â€œaxisâ€ parameter in pandas? - YouTubeï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å¾—åˆ°ä¸€äº›ç»“è®ºï¼Œä½œè€…è¯´ï¼š 0 is the row axis, and 1 is the column axis. When you drop with axis=1, that means drop a column. When you take the mean with axis=1, that means the operation should â€œmove acrossâ€ the column axis, which produces row means.æŒ‡çš„å°±æ˜¯ä¸€ç§æ›´åŠ å®¹æ˜“ç†è§£çš„æ–¹å¼ï¼Œâ€œ0å°±æ˜¯è¡Œçš„axisï¼Œ1å°±æ˜¯åˆ—çš„axisï¼Œå½“ä»¥axis=1æ¥dropï¼Œé‚£ä¹ˆå°±æ˜¯dropä¸€ä¸ªcolumnï¼Œè€Œaxis=1 æ¥å–meanï¼Œé‚£ä¹ˆå°±æ˜¯è¿™ä¸ªæ“ä½œâ€˜ç©¿è¶Šâ€™äº†åˆ—çš„axisï¼Œäº§ç”Ÿäº†è¡Œä¸Šçš„meanâ€ã€‚ å¦å¤–ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·æ¥æ“ä½œï¼Œ å¯ä»¥çœ‹å‡ºï¼Œaxis=0ä¸axis=â€™rowsâ€™æ˜¯ä¸€æ ·çš„ï¼ˆåœ¨Pandasé‡Œï¼‰ï¼Œæ˜¯ä¸æ˜¯æ›´åŠ å®¹æ˜“ç†è§£äº†ï¼Ÿ How to Use t-SNE Effectivelyè¿™ä¸ªç½‘ç«™ç»™äº†ä¸€ä¸ªéå¸¸å½¢è±¡çš„t-SNEåœ¨çº¿å®éªŒç¯å¢ƒï¼Œæ¨èå¤§å®¶å»çœ‹ä¸€çœ‹ï¼","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"},{"name":"Numpy","slug":"Numpy","permalink":"http://frankchen.xyz/tags/Numpy/"},{"name":"Pandas","slug":"Pandas","permalink":"http://frankchen.xyz/tags/Pandas/"}]},{"title":"ç†è§£triplet loss","slug":"understanding-triplet-loss-and-example-code","date":"2017-12-01T09:19:05.000Z","updated":"2018-03-30T02:23:22.993Z","comments":true,"path":"2017/12/01/understanding-triplet-loss-and-example-code/","link":"","permalink":"http://frankchen.xyz/2017/12/01/understanding-triplet-loss-and-example-code/","excerpt":"ç†è§£triplet lossï¼Œä¸ç»™å‡ºTensorFlowå’Œnumpyä¸¤ç§å½¢å¼çš„example codeã€‚","text":"ç†è§£triplet lossï¼Œä¸ç»™å‡ºTensorFlowå’Œnumpyä¸¤ç§å½¢å¼çš„example codeã€‚ Triplet Loss æ˜¯å½“å‰åº”ç”¨çš„å¾ˆå¹¿æ³›çš„ä¸€ç§æŸå¤±å‡½æ•°ï¼Œåœ¨äººè„¸è¯†åˆ«å’Œèšç±»é¢†åŸŸï¼Œè¿™æ˜¯ä¸€ç§å¾ˆè‡ªç„¶çš„æ˜ å°„ä¸è®¡ç®—æŸå¤±çš„æ–¹å¼ï¼Œæ¯”å¦‚FaceNeté‡Œï¼Œé€šè¿‡æ„å»ºä¸€ç§embedding æ–¹å¼ï¼Œå°†äººè„¸å›¾åƒç›´æ¥æ˜ å°„åˆ°æ¬§å¼ç©ºé—´ï¼Œè€Œä¼˜åŒ–è¿™ç§embeddingçš„æ–¹æ³•å¯ä»¥æ¦‚æ‹¬ä¸ºï¼Œæ„å»ºè®¸å¤šç»„ä¸‰å…ƒç»„ï¼ˆAnchorï¼ŒPositiveï¼ŒNegativeï¼‰ï¼Œå…¶ä¸­Anchorä¸PositiveåŒlabelï¼ŒAnchorä¸Negativeä¸åŒlabelï¼ˆåœ¨äººè„¸è¯†åˆ«é‡Œé¢ï¼Œå°±æ˜¯Anchorä¸Positiveæ˜¯åŒä¸€ä¸ªä¸ªä½“ï¼Œè€Œä¸Negativeæ˜¯ä¸åŒä¸ªä½“ï¼‰ï¼Œé€šè¿‡å­¦ä¹ ä¼˜åŒ–è¿™ä¸ªembeddingï¼Œä½¿å¾—æ¬§å¼ç©ºé—´å†…çš„Anchorä¸Positive çš„è·ç¦»æ¯”ä¸Negativeçš„è·ç¦»è¦è¿‘ã€‚ å…¬å¼è¡¨ç¤ºç”¨å…¬å¼è¡¨ç¤ºå°±æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼š $$\\left\\lVert f(x^a_i) - f(x^p_i) \\right\\rVert ^2_2 +\\alpha \\lt \\left\\lVert f(x^a_i) - f(x^n_i) \\right\\rVert ^2_2 , \\\\forall (f(x^a_i) , f(x^p_i) , f(x^n_i)) \\in \\mathscr T$$ å…¶ä¸­$\\alpha$ æ˜¯å¼ºåˆ¶çš„æ­£ä¾‹å’Œè´Ÿä¾‹ä¹‹é—´çš„marginï¼Œ$\\mathscr T$æ˜¯å…·æœ‰åŸºæ•°ä¸º$N$çš„è®­ç»ƒé›†ä¸­çš„ä¸‰å…ƒç»„çš„é›†åˆã€‚ é‚£ä¹ˆï¼ŒæŸå¤±å‡½æ•°å¾ˆè‡ªç„¶çš„å¯ä»¥å†™ä¸ºï¼š $$\\sum^N_i\\Bigl [\\left\\lVert f(x^a_i) - f(x^p_i) \\right\\rVert ^2_2 + \\left\\lVert f(x^a_i) - f(x^n_i) \\right\\rVert ^2_2 + \\alpha \\Bigr ] _ +$$ å…¶ä¸­åŠ å·æŒ‡çš„ï¼Œå¦‚æœä¸­æ‹¬å·å†…éƒ¨åˆ†å¤§äº0ï¼Œåˆ™æ²¡æœ‰æŸå¤±ï¼ˆAnchorä¸Positiveçš„è·ç¦»åŠ ä¸Šmarginå°äºä¸Negativeçš„è·ç¦»ï¼‰ï¼Œå¦åˆ™è®¡ç®—è¿™ä¸ªè·ç¦»ä¸ºæŸå¤±ã€‚ ä»£ç è¡¨ç¤ºNumpy å®ç° 123456789101112131415import numpy as npbatch_size = 3*12embedding_size = 16# æ„é€ batch_size * embedding_size ç»´åº¦çš„éšæœºçŸ©é˜µemb = np.random.uniform(size=[])# å¯¹embé€¢ä¸‰å–1ã€2ã€3è¡Œåˆ†åˆ«ä¸ºAnchorã€Positiveã€Negative# è®¡ç®—å…¶2èŒƒæ•°çš„è·ç¦»å³æ¬§æ°è·ç¦»pos_dist_sqr = np.sum(np.square(emb[0::3,:]-emb[1::3,:]), axis=1) neg_dist_sqr = np.sum(np.square(emb[0::3,:]-emb[2::3,:]), axis=1)# è¿™é‡Œå°±æ˜¯ç…§æŠ„å…¬å¼äº†ï¼Œæ³¨æ„meanå’Œsumæ˜¯ä¸€æ ·çš„np_triplet_loss = np.mean(np.maximum(0., pos_dist_sqr-neg_dist_sqr+alpha)) TensorFlow å®ç° 123456789101112131415161718import tensorflow as tfbatch_size = 3*12embedding_size = 16alpha = 0.2def triplet_loss(anchor, positive, negative, alpha): with tf.variable_scope('triplet_loss'): pos_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, positive)), 1) neg_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, negative)), 1) basic_loss = tf.add(tf.subtract(pos_dist, neg_dist), alpha) loss = tf.reduce_mean(tf.maximum(basic_loss, 0.0), None) return loss# æ„å»ºçŸ©é˜µembeddings = tf.placeholder(np.float64, shape=(batch_size, embedding_size), name='embeddings')# å…ˆå°†embeddingsçŸ©é˜µç¬¬0ç»´resizeä¸º(?, 3)ç»´ï¼Œç¬¬1ç»´ä¸å˜ï¼Œå˜ä¸ºä¸‰ç»´çŸ©é˜µ(-1, 3, embedding_size)ï¼Œå†åœ¨å…¶ç¬¬äºŒç»´åº¦ä¸º3ä¸Šunstackä¸ºä¸‰ä»½anchor, positive, negative = tf.unstack(tf.reshape(embeddings, shape=(-1, 3, embedding_size)), axis=1) å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œè¿™é‡Œæµ‹è¯•å¯¹æ¯”äº†ä¸¤ç§å®ç°ï¼š 12345678910111213141516171819202122232425262728293031import tensorflow as tfimport numpy as npbatch_size = 3*12embedding_size = 16alpha = 0.2def triplet_loss(anchor, positive, negative, alpha): with tf.variable_scope('triplet_loss'): pos_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, positive)), 1) neg_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, negative)), 1) basic_loss = tf.add(tf.subtract(pos_dist, neg_dist), alpha) loss = tf.reduce_mean(tf.maximum(basic_loss, 0.0), None) return losswith tf.Graph().as_default(): embeddings = tf.placeholder(np.float64, shape=(batch_size, embedding_size), name='embeddings') anchor, positive, negative = tf.unstack(tf.reshape(embeddings, shape=(-1, 3, embedding_size)), axis=1) triplet_loss = triplet_loss(anchor, positive, negative, alpha) sess = tf.Session() with sess.as_default(): np.random.seed(666) emb = np.random.uniform(size=[batch_size, embedding_size]) tf_triplet_loss = sess.run(triplet_loss, feed_dict=&#123;embeddings:emb&#125;) pos_dist_sqr = np.sum(np.square(emb[0::3,:]-emb[1::3,:]), axis=1) neg_dist_sqr = np.sum(np.square(emb[0::3,:]-emb[2::3,:]), axis=1) np_triplet_loss = np.mean(np.maximum(0., pos_dist_sqr-neg_dist_sqr+alpha)) np.testing.assert_almost_equal(tf_triplet_loss, np_triplet_loss, decimal=5, err_msg='Triplet loss is incorrect')","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"},{"name":"TensorFlow","slug":"TensorFlow","permalink":"http://frankchen.xyz/tags/TensorFlow/"}]},{"title":"æ•°æ®çš„æ ‡å‡†åŒ–ä¸å½’ä¸€åŒ–","slug":"Data-Normalization-and-Standardization","date":"2017-11-29T03:53:57.000Z","updated":"2017-12-01T11:10:13.685Z","comments":true,"path":"2017/11/29/Data-Normalization-and-Standardization/","link":"","permalink":"http://frankchen.xyz/2017/11/29/Data-Normalization-and-Standardization/","excerpt":"èŠä¸€èŠNormalization and Standardization","text":"èŠä¸€èŠNormalization and Standardization ä»€ä¹ˆæ˜¯Normalizationå°±æ˜¯å½’ä¸€åŒ–ï¼Œæ˜¯æœ€å°-æœ€å¤§ç¼©æ”¾(min-max scaling)çš„ç‰¹ä¾‹ï¼ŒæŒ‡çš„æ˜¯å°†æ•°æ®ç¼©æ”¾åˆ°æŒ‡å®šrangeï¼Œè¿™ä¸ªrangeé€šå¸¸æ˜¯0~1æˆ–è€…-1~+1ï¼Œç›´è§‚æ¥è®²å°±æ˜¯ä¸‹å›¾ï¼Œåœ¨æ•°æ®ä¸åŒ…å«ç¦»ç¾¤ç‚¹æ—¶å¾ˆæœ‰ç”¨ï¼Œ å…¬å¼åˆ™æ˜¯ $$x^{(i)}_{norm} = \\frac {x^{(i)} - x_{min}} {x_{max} - x_{min}}$$ è‹¥è¦ç¼©æ”¾è‡³-1~+1ï¼Œåˆ™æ˜¯$$xâ€™ = \\frac{x - min}{max - min}$$ ä»£ç å®ç° 12345678#å¯¼å…¥æ•°æ®é¢„å¤„ç†åº“from sklearn import preprocessing#èŒƒå›´ç¼©æ”¾æ ‡å‡†åŒ–min_max_scaler = preprocessing.MinMaxScaler()#è®­ç»ƒé›†ç¼©æ”¾æ ‡å‡†åŒ–min_max_scaler.fit_transform(X_train) 12#æµ‹è¯•é›†ç¼©æ”¾æ ‡å‡†åŒ–min_max_scaler.fit_transform(X_test) Z-score æ ‡å‡†åŒ–æŒ‡çš„æ˜¯ï¼Œé€šè¿‡ç¼©æ”¾è®©æ•°æ®çš„å‡å€¼ä¸º0ï¼ˆç§»é™¤å‡å€¼ï¼‰ï¼Œæ ‡å‡†å·®ä¸ºå›ºå®šå€¼ï¼ˆæ¯”å¦‚1ï¼‰ã€‚åœ¨è®¸å¤šæ¨¡å‹é‡Œï¼Œå¦‚SVMçš„RBFã€çº¿æ€§æ¨¡å‹çš„ L1 &amp; L2 æ­£åˆ™é¡¹å¯¹äºæ‰€æœ‰çš„featureéƒ½æœ‰è¿™æ ·çš„å‡è®¾ã€‚$$x^{(i)}_{std} = \\frac{x^{(i)} - \\mu_x}{\\sigma_x}$$ ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­å±•ç¤ºäº†ä¸¤è€…çš„åŒºåˆ«ï¼š 12345678#å¯¼å…¥æ•°æ®é¢„å¤„ç†åº“from sklearn import preprocessing#æ•°æ®æ ‡å‡†åŒ–scaler = preprocessing.StandardScaler().fit(X_train)#è®­ç»ƒé›†æ•°æ®æ ‡å‡†åŒ–scaler.transform(X_train) åŒæ—¶å¯¹æµ‹è¯•é›†çš„æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œä»¥ä¿è¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„å˜æ¢æ–¹å¼ç›¸åŒã€‚ 12#æµ‹è¯•é›†æ•°æ®æ ‡å‡†åŒ–scaler.transform(X_test) å€¼å¾—æ³¨æ„ä»æµç¨‹ä¸Šè®²ï¼Œæ ‡å‡†åŒ–å’Œå½’ä¸€åŒ–åº”è¯¥åœ¨è¯»å…¥æ•°æ®ã€å¤„ç†ç¼ºå¤±å€¼ï¼Œåˆ‡åˆ†è®­ç»ƒæµ‹è¯•é›†ä¹‹åï¼Œè€Œä¸”æˆ‘ä»¬è¦åšçš„æ˜¯åœ¨åˆ‡åˆ†ä¹‹åï¼Œåœ¨è®­ç»ƒé›†fitï¼Œå†å»transformæµ‹è¯•é›†ï¼Œè€Œä¸æ˜¯åœ¨æ•´ä¸ªæ•°æ®ä¸Šè½¬æ¢ä»¥åå†åˆ‡åˆ†ï¼Œå› ä¸ºæ— è®ºæ˜¯æ ‡å‡†åŒ–è¿˜æ˜¯å½’ä¸€åŒ–ï¼Œæˆ‘ä»¬è¦ä¹ˆåˆ©ç”¨åˆ°äº†æ•°æ®çš„max minå€¼ï¼Œè¦ä¹ˆåˆ©ç”¨åˆ°äº†æ•°æ®çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼Œè¿™äº›æ•°å€¼åœ¨è®­ç»ƒä¹‹å‰æ˜¯ä¸èƒ½è¢«æµ‹è¯•é›†æ‰€å½±å“çš„ã€‚ ç±»ä¼¼äºç¼ºå¤±å€¼çš„å¡«å……ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡å€¼å¡«å……ä»¥ä¸‹æ•°æ®ï¼Œ 123456#ä½¿ç”¨å‡å€¼å¡«å……ç¼ºå¤±å€¼imp = Imputer(missing_values=\"NaN\", strategy='mean', axis=0)imp.fit(X_train)#å¡«å……è®­ç»ƒé›†X_train=imp.transform(X_train) ä»¥åŒæ ·çš„æ–¹å¼å¡«å……æµ‹è¯•é›†ï¼Œä»¥ä¿è¯æµ‹è¯•é›†å’Œè®­ç»ƒé›†çš„æ•°æ®å¡«å……æ–¹å¼ä¿æŒä¸€è‡´ã€‚ 12#å¡«å……æµ‹è¯•é›†X_test=imp.transform(X_test)","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"}]},{"title":"TensorFlow on a GTX 1080","slug":"TensorFlow-on-a-GTX-1080","date":"2017-11-13T10:23:28.000Z","updated":"2018-03-15T05:10:21.147Z","comments":true,"path":"2017/11/13/TensorFlow-on-a-GTX-1080/","link":"","permalink":"http://frankchen.xyz/2017/11/13/TensorFlow-on-a-GTX-1080/","excerpt":"Ubuntu 16.03 å®‰è£… CUDAã€NVIDIAé©±åŠ¨ï¼ŒCUDNNåŠGPUç‰ˆTensorFlowã€‚","text":"Ubuntu 16.03 å®‰è£… CUDAã€NVIDIAé©±åŠ¨ï¼ŒCUDNNåŠGPUç‰ˆTensorFlowã€‚GPU æ”¯æŒçš„TensorFlowè®©ç®—åŠ›å¤§å¹…æå‡ï¼Œä½†æ˜¯å®‰è£…å¥½ä¸€åˆ‡æ”¯æŒå´ä¸é‚£ä¹ˆå®¹æ˜“ï¼å…¶å®ä¸»è¦æ˜¯ä¸‰ä¸ªä¸œè¥¿ï¼š Nvidia é©±åŠ¨ï¼šæ˜¾å¡é©±åŠ¨ CUDA Toolkit CUDAå·¥å…·ç®± CUDNNï¼šCUDA Deep Neural Network library ç¥ç»ç½‘ç»œåº“å‡½æ•°ä¾èµ– 12345678910111213$ sudo apt-get update$ sudo apt-get install \\ freeglut3-dev \\ g++-4.9 \\ gcc-4.9 \\ libglu1-mesa-dev \\ libx11-dev \\ libxi-dev \\ libxmu-dev \\ nvidia-modprobe \\ python-dev \\ python-pip \\ python-virtualenv å®‰è£…Nvidiaé©±åŠ¨1234$ sudo apt-get purge nvidia-* åˆ é™¤nvidia ä¹‹å‰çš„$ sudo add-apt-repository ppa:graphics-drivers/ppa$ sudo apt-get update$ sudo apt-get install nvidia-384 å¯åœ¨Proprietary GPU Drivers : â€œGraphics Driversâ€ teamæŸ¥çœ‹å½“å‰ç¨³å®šç‰ˆæœ¬Nvidiaé©±åŠ¨ï¼Œå¦‚ç¬”è€…å½“å‰ï¼ˆ2017-11-13ï¼‰ç‰ˆæœ¬æ˜¯â€˜nvidia-384â€™ã€‚ æ¥ä¸‹æ¥é‡å¯$ sudo rebootã€‚é‡å¯åï¼Œæ£€æµ‹Nvidiaé©±åŠ¨å®‰è£…æƒ…å†µï¼Œ 1$ cat /proc/driver/nvidia/version 12NVRM version: NVIDIA UNIX x86_64 Kernel Module 384.98 Thu Oct 26 15:16:01 PDT 2017GCC version: gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4) æ˜¾ç¤ºNvidiaâ€™s system management interfaceï¼š 1$ sudo nvidia-smi 123456789101112131415161718+-----------------------------------------------------------------------------+| NVIDIA-SMI 384.98 Driver Version: 384.98 ||-------------------------------+----------------------+----------------------+| GPU Name Persistence-M| Bus-Id Disp.A | Volatile Uncorr. ECC || Fan Temp Perf Pwr:Usage/Cap| Memory-Usage | GPU-Util Compute M. ||===============================+======================+======================|| 0 GeForce GTX 1080 Off | 00000000:01:00.0 On | N/A || 0% 47C P8 12W / 215W | 7992MiB / 8112MiB | 2% Default |+-------------------------------+----------------------+----------------------++-----------------------------------------------------------------------------+| Processes: GPU Memory || GPU PID Type Process name Usage ||=============================================================================|| 0 994 G /usr/lib/xorg/Xorg 193MiB || 0 1889 G compiz 151MiB || 0 5068 C /home/frank/anaconda3/bin/python 7643MiB |+-----------------------------------------------------------------------------+ è®¾ç½®GCC 4.9ä¸ºé»˜è®¤ 12345$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 10$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 10$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 20 å®‰è£…CUDAå½“å‰è™½ç„¶CUDA-9.0å·²ç»å‘å¸ƒï¼Œä½†æ˜¯TensorFlowé»˜è®¤ç¼–è¯‘ç‰ˆæœ¬è¿˜æ˜¯åŸºäºCUDA-8.0çš„ï¼Œæˆ‘ä»¬åœ¨è¿™é‡ŒCUDA Toolkit 8.0 - Feb 2017 | NVIDIA Developerä¸‹è½½runfile ä½¿ç”¨å¦‚ä¸‹å®‰è£…1sudo cuda_8.0.61_375.26_linux.run --override å®‰è£…æ—¶è®°å¾— 12345678910111213141516171819202122232425262728293031Do you accept the previously read EULA? (accept/decline/quit): acceptYou are attempting to install on an unsupported configuration. Do you wish to continue? ((y)es/(n)o) [ default is no ]: yesInstall NVIDIA Accelerated Graphics Driver for Linux-x86_64 352.39? ((y)es/(n)o/(q)uit): noInstall the CUDA 8.0 Toolkit? ((y)es/(n)o/(q)uit): yesEnter Toolkit Location [ default is /usr/local/cuda-8.0 ]:Do you want to install a symbolic link at /usr/local/cuda? ((y)es/(n)o/(q)uit): yesInstall the CUDA 8.0 Samples? ((y)es/(n)o/(q)uit): noInstalling the CUDA Toolkit in /usr/local/cuda-8.0 ...============ Summary =8.0===========Driver: Not SelectedToolkit: Installed in /usr/local/cuda-8.0Samples: Not SelectedPlease make sure that - PATH includes /usr/local/cuda-8.0/bin - LD_LIBRARY_PATH includes /usr/local/cuda-8.0/lib64, or, add /usr/local/cuda-8.0/lib64 to /etc/ld.so.conf and run ldconfig as rootTo uninstall the CUDA Toolkit, run the uninstall script in /usr/local/cuda-8.0/binTo uninstall the NVIDIA Driver, run nvidia-uninstallPlease see CUDA_Installation_Guide_Linux.pdf in /usr/local/cuda-8.0/doc/pdf for detailed information on setting up CUDA.***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 352.00 is required for CUDA 8.0 functionality to work.To install the driver using this installer, run the following command, replacing &lt;CudaInstaller&gt; with the name of this run file: sudo &lt;CudaInstaller&gt;.run -silent -driverLogfile is /tmp/cuda_install_14557.log è®°å¾—ä¸Šé¢è¿™é‡Œä¹Ÿæœ‰ä¸ªè¯¢é—®ä½ æ˜¯å¦å®‰è£…Nvidiaé©±åŠ¨çš„åœ°æ–¹ï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…äº†æœ€æ–°çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œå½“ç„¶é€‰æ‹©noã€‚ æ·»åŠ ç¯å¢ƒå˜é‡ 123$ echo 'export PATH=/usr/local/cuda/bin:$PATH' &gt;&gt; ~/.bashrc$ echo 'export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH' &gt;&gt; ~/.bashrc$ source ~/.bashrc æŸ¥çœ‹CUDA compiler 1$ nvcc -V 1234nvcc: NVIDIA (R) Cuda compiler driverCopyright (c) 2005-2016 NVIDIA CorporationBuilt on Tue_Jan_10_13:22:03_CST_2017Cuda compilation tools, release 8.0, V8.0.61 å®‰è£…CUDA Deep Neural Network library ï¼šCUDNNåœ¨æ­¤å¤„ä¸‹è½½cuDNN Download | NVIDIA Developerï¼Œå¯èƒ½éœ€è¦æˆ‘ä»¬æ³¨å†Œè´¦å·ç™»å½•ã€‚é€‰æ‹©é€‚é…CUDAçš„ç‰ˆæœ¬ï¼Œä»¥åŠcuDNN v7.0 Library for Linuxï¼Œè¿™ä¸ªå°±æ˜¯ä¸ªtargzæ–‡ä»¶ã€‚ æ¥ä¸‹æ¥æ“ä½œå°±æ˜¯æŠŠcudnnçš„å‡ ä¸ªåº“æ”¾åˆ°cudaé‡Œé¢ï¼š1234$ tar xvf cudnn-8.0-linux-x64-v7.tgz$ sudo cp cuda/include/cudnn.h /usr/local/cuda/include/$ sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64/$ sudo chmod a+r /usr/local/cuda/lib64/libcudnn* TensorFlowå®‰è£…pip install --upgrade tfBinaryURLå³å¯ï¼Œè¿™é‡Œçš„tfBinaryURLå¯åœ¨Installing TensorFlow on Ubuntu | TensorFlowé€‰å–ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œé€‰å–Python3.6çš„GPU Supportï¼š éªŒè¯TensorFlowå®‰è£…1234567891011121314In [1]: import tensorflow as tfIn [2]: sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))2017-11-13 18:54:59.081831: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA2017-11-13 18:54:59.186280: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:892] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero2017-11-13 18:54:59.186604: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:name: GeForce GTX 1080 major: 6 minor: 1 memoryClockRate(GHz): 1.86pciBusID: 0000:01:00.0totalMemory: 7.92GiB freeMemory: 7.46GiB2017-11-13 18:54:59.186617: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 1080, pci bus id: 0000:01:00.0, compute capability: 6.1)Device mapping:/job:localhost/replica:0/task:0/device:GPU:0 -&gt; device: 0, name: GeForce GTX 1080, pci bus id: 0000:01:00.0, compute capability: 6.12017-11-13 18:54:59.216573: I tensorflow/core/common_runtime/direct_session.cc:299] Device mapping:/job:localhost/replica:0/task:0/device:GPU:0 -&gt; device: 0, name: GeForce GTX 1080, pci bus id: 0000:01:00.0, compute capability: 6.1 å¦‚ä¸Šï¼Œæ‰“å°å‡ºè¿™äº›ä¿¡æ¯å°±è¯æ˜å®‰è£…æˆåŠŸå•¦ï¼ CUDA ToolKit 8.0 å‡çº§åˆ°9.0æŒ‡å—ä¸»è¦å°±æ˜¯éœ€è¦ä¸‹è½½CUDA ToolKit 9.0 çš„å®‰è£…åŒ…ï¼Œå’Œ8.0ä¸€æ ·å®‰è£…ï¼Œæ³¨æ„ä¸‹é¢çš„å››æ­¥éª¤æˆ‘ä»¬åªéœ€è¦ç¬¬äºŒæ­¥ï¼ˆToolKitï¼‰å’Œç¬¬å››æ­¥ï¼ˆåˆ›å»ºè½¯é“¾æ¥ï¼ŒåŸæœ‰çš„æ˜¯æŒ‡å‘8.0çš„ï¼‰ å› ä¸ºCUDNNè¢«æ”¾åœ¨CUDA ToolKit 8.0å†…ï¼Œæ‰€æœ‰è¿™é‡Œæˆ‘ä»¬éœ€è¦é‡æ–°ä¸‹è½½CUDNNå¹¶è§£å‹åˆ°CUDA ToolKit 9.0æ–‡ä»¶å¤¹å†…ï¼Œ å†åœ¨Installing TensorFlow on Ubuntu | TensorFlow 12pip install --ignore-installed --upgrade \\&lt;url&gt; urlé€‰å–å¦‚ä¸‹çš„ä½ éœ€è¦çš„pythonç‰ˆæœ¬çš„GPUç½‘å€å³å¯ã€‚","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"},{"name":"TensorFlow","slug":"TensorFlow","permalink":"http://frankchen.xyz/tags/TensorFlow/"}]},{"title":"frpçš„å†…ç½‘ç©¿é€åŠå¤–ç½‘è®¿é—®å†…ç½‘jupyter-notebookçš„å®ç°","slug":"ftp-using","date":"2017-11-11T18:20:38.000Z","updated":"2017-11-13T08:02:04.255Z","comments":true,"path":"2017/11/12/ftp-using/","link":"","permalink":"http://frankchen.xyz/2017/11/12/ftp-using/","excerpt":"","text":"fatedier/frp: A fast reverse proxy to help you expose a local server behind a NAT or firewall to the internet.æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp, http, https åè®®ï¼Œ è¿™é‡Œæˆ‘ä»¬ç”¨å®ƒæ¥æ­å»ºå¤–ç½‘è®¿é—®å†…ç½‘jupyter-notebookçš„æœåŠ¡ã€‚æˆ‘ä»¬åŸºäºUbuntu16.04 é€‰ç”¨amd64ç‰ˆæœ¬ï¼Œ serverè®¾ç½®serverå°±æ˜¯ä½ æ‹¥æœ‰å¤–ç½‘IPçš„æœåŠ¡å™¨123[common]bind_port = 7000vhost_http_port = 8888 ç”¨./frps -c ./frps.iniå¯åŠ¨ï¼Œæ³¨æ„æœåŠ¡ç«¯éœ€è¦å…ˆå¯åŠ¨ã€‚ clientè®¾ç½®clientå°±æ˜¯æ²¡æœ‰å¤–ç½‘IPï¼Œä½†æ˜¯ä½ æƒ³åœ¨å¤–ç½‘è®¿é—®çš„æœºå™¨ï¼Œ XXXXXXXXXå°±æ˜¯ä¸Šé¢çš„serverçš„å¤–ç½‘IPã€‚ 12345678[common]server_addr = XXXXXXXXXserver_port = 7000[web]type = httplocal_port = 8888custom_domains = XXXXXXXXX ä»¥./frpc -c ./frpc.iniå¯åŠ¨ã€‚ ä½¿ç”¨æ¥ä¸‹æ¥ï¼Œåœ¨clientç«¯ï¼Œåœ¨8888æ®µç«¯å£å¯åŠ¨jupyter-notebookå³å¯åœ¨XXXXXXXXX:8888è®¿é—®å†…ç½‘æœºå™¨ä¸Šçš„Notebookäº†ã€‚ å¦å¤–ï¼Œç”±äºjupyter-notebookè‡ªå¸¦ç»ˆç«¯ï¼Œè¿™ä¹Ÿä¸€ä¸¾ä¸¤å¾—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå†…ç½‘ç©¿é€sshçš„æ–¹æ¡ˆã€‚å½“ç„¶ï¼Œå¿…é¡»ä½¿ç”¨ä¸€äº›è¿ç»´å·¥å…·æ¥ä¿è¯æœåŠ¡çš„ç¨³å®šæ€§ï¼Œå¦‚supervisorï¼Œå¯å‚è€ƒä½¿ç”¨supervisoræ”¯æŒPython3ç¨‹åº | ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶ã€‚","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"Pycharm Pro","slug":"pycharm-pro","date":"2017-11-08T10:44:13.000Z","updated":"2017-11-09T08:31:53.000Z","comments":true,"path":"2017/11/08/pycharm-pro/","link":"","permalink":"http://frankchen.xyz/2017/11/08/pycharm-pro/","excerpt":"Pycharmï¼Œåªä¸ºæé«˜pythonå¼€å‘è€…çš„ç”Ÿäº§åŠ›ï¼","text":"Pycharmï¼Œåªä¸ºæé«˜pythonå¼€å‘è€…çš„ç”Ÿäº§åŠ›ï¼ ç‰ˆæœ¬ç®¡ç†ç‰ˆæœ¬ç®¡ç†ï¼Œä¸»è¦æ˜¯ä¾é è¿™ä¸¤ä¸ªæŒ‰é’®ï¼Œå·¦è¾¹æ˜¯pullï¼Œå³è¾¹æ˜¯commitã€‚ä¸€èˆ¬æˆ‘ä»¬å¼€å‘ï¼Œæ‰“å¼€é¡¹ç›®ï¼Œå…ˆpullä¸‹ä»£ç ä»“åº“çš„å˜æ›´ï¼Œå¼€å§‹å¼€å‘ï¼Œç„¶åcommitï¼Œå†pullï¼Œåˆå¹¶å†²çªï¼Œå†pushã€‚pycharméå¸¸äººæ€§åŒ–åœ°ä¸ºæˆ‘ä»¬æ ‡å‡ºäº†ï¼Œé»‘è‰²åˆ™æ˜¯æ²¡æœ‰å˜æ›´ï¼Œè“è‰²æ˜¯æœ‰å˜æ›´ï¼Œç»¿è‰²æ˜¯æ–°addçš„æ–‡ä»¶ã€‚commitæ—¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°çœ‹å‡ºå˜æ›´å¯¹æ¯”ï¼Œå¯¹äºéœ€è¦å›æ»šçš„é›¶æ—¶æ“ä½œæ–‡ä»¶å¯ä»¥ç”¨ç´«è‰²çš„revertæŒ‰é’®å›é€€å˜æ›´ï¼Œæ€»ä¹‹å¡«å†™commit messageä¹‹åå°±å¯ä»¥commitäº†ã€‚ç„¶åï¼Œä¸ºé˜²æ­¢åœ¨æ­¤æœŸé—´ï¼Œä»£ç ä»“åº“åˆæœ‰äººpushäº†æ–°å˜æ›´ï¼Œåœ¨pushä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡pullï¼Œå¦‚æœæ²¡æœ‰å˜æ›´ï¼Œpushå³å¯ã€‚å¦‚æœæœ‰å†²çªå‘¢ï¼Œpycharmæœ‰éå¸¸humançš„è§£å†³å†²çªç•Œé¢ï¼Œæ€»ä¹‹ï¼Œé€‰æ‹©ä¿®æ”¹çš„ã€ä¸¢å¼ƒçš„ã€ä¿ç•™çš„ï¼Œå°±å¯ä»¥pushäº†ï¼Œå½“ç„¶ï¼Œè¿™æ¬¡pushä¼šæœ‰ä¸¤æ¡messageï¼Œç¬¬äºŒæ¡æ˜¯è§£å†³å†²çªçš„ã€‚ è¿œç¨‹è°ƒè¯•åˆ©ç”¨pycharmæˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡å™¨ç›´æ¥runã€debugï¼Œéå¸¸çš„ä¾¿æ·ã€‚é¦–å…ˆè¦è®¾ç½®deploymentï¼Œé€‰æ‹©SFTPï¼Œä¹Ÿå°±æ˜¯sshï¼Œè¿™é‡Œç”¨å¯†ç æˆ–è€…ç§é’¥éƒ½æ˜¯okçš„ã€‚è®¾ç½®å¥½æ˜ å°„ç›®å½•ï¼Œæ¥ä¸‹æ¥æ·»åŠ è¿œç¨‹è§£é‡Šå™¨ï¼Œï¼Œå¹¶å‹¾é€‰auto uploadï¼Œé‚£ä¹ˆï¼Œæ¯æ¬¡æœ¬åœ°çš„æ›´æ”¹éƒ½ä¼šåŒæ­¥åˆ°æœåŠ¡å™¨ï¼Œç›´æ¥runæˆ–è€…debugéƒ½æ˜¯è·å–æœåŠ¡å™¨çš„ç»“æœï¼Œéå¸¸æ–¹ä¾¿ã€‚ ## DEBUGDEBUGå¯è°“æ˜¯å¼€å‘ä¸­æœ€æœ€é‡è¦çš„æŠ€èƒ½äº†ï¼Œä¹Ÿè®¸æˆ‘ä»¬åœ¨åˆçº§çš„å¼€å‘çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥ä¾é å„ç§printå˜é‡æ¥æŸ¥çœ‹ï¼Œé‚£ä¹ˆå·¥ç¨‹ä¸€æ—¦å˜å¤æ‚ï¼Œdebugå°±å¿…ä¸å¯å°‘äº†ï¼Œï¼›ä¸¾ä¸ªæ —å­ï¼Œæˆ‘ä»¬ç”¨TensorFlowå†™æ·±åº¦å­¦ä¹ å·¥ç¨‹çš„æ—¶å€™ï¼Œå¦‚æœå‡ºç°çŸ©é˜µç»´åº¦ä¸åŒ¹é…çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™ç”¨debugå»è§‚å¯Ÿå„ä¸ªç»´åº¦å°±ç›¸å½“é«˜æ•ˆäº†ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œæˆ‘ä»¬åšdebugï¼Œå½“ç„¶å…ˆè¦åœ¨æˆ‘ä»¬å¸Œæœ›è§‚å¯Ÿçš„ä»£ç å¤„æ‰“æ–­ç‚¹ï¼ˆBreak Pointï¼‰ï¼Œå°±æ˜¯å·¦è¾¹çš„çº¢è‰²å°ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ–­ç‚¹debugåœä¸‹æ¥çš„åœ°æ–¹ã€‚æ¥ä¸‹æ¥å°±æ˜¯debugæŒ‰é’®äº†ï¼Œä¹Ÿå°±æ˜¯çº¢æ¡†å†…çš„è¿™äº›ç®­å¤´ï¼Œä¾æ¬¡æ˜¯ Step Over ç›´æ¥ä»å½“å‰æ–­ç‚¹æ­¥è¿›åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°ä¸­é—´çš„ä»»ä½•è°ƒç”¨ï¼Œç›´æ¥è·³è¿‡ Step Intoï¼Œä»å½“å‰æ–­ç‚¹ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨éƒ½è¿›å…¥ï¼Œå¦‚æœè°ƒç”¨æ¯”è¾ƒå¤šï¼Œå¯èƒ½å¾ˆç¹å› ä¸ºä¼šä¸€æ­¥æ­¥æ·±å…¥ Step Into Mycodeï¼Œç®€å•æ˜äº†ï¼Œä¸€è¡Œä¸€è¡Œçš„æ­¥è¿›ï¼Œä¸è·³è½¬åˆ°è°ƒç”¨ Force Step Intoï¼Œå¼ºåˆ¶æ­¥è¿›è¿›å…¥ Step Out è·³å‡ºå½“å‰è°ƒç”¨ï¼Œå’ŒStep Intoç»“åˆï¼Œä¸€ä¸ªè¿›å…¥ã€ä¸€ä¸ªè·³å‡º Run to Cursor ä¸éœ€æ‰“æ–­ç‚¹ï¼Œç›´æ¥æ­¥è¿›åˆ°å…‰æ ‡æ‰€åœ¨å¤„ï¼Œè¿™ä¸ªä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€æŠŠå…‰æ ‡æ”¾åœ¨æŸå¤„ç‚¹å‡»å³å¯æ­¤å¤„ç±»ä¼¼å †æ ˆï¼Œåé¢è°ƒç”¨çš„è¿›ç¨‹åœ¨ä¸Šé¢ã€‚å½“ç„¶ï¼Œæœ€ä¸»è¦çš„ï¼Œä¸Šé¢è¿™äº›æ­¥éª¤æŒ‰é’®çš„æœ€ç»ˆç›®çš„å°±æ˜¯è§‚å¯ŸVariableçš„å˜åŒ–ï¼Œé€šè¿‡æ­¥è¿›è§‚å¯Ÿå„ä¸ªå˜é‡çš„ä¿¡æ¯ï¼Œä»¥æ‰¾å‡ºbugç­‰ç­‰ã€‚ Python Consoleç›¸æ¯”iPythonä¸Notebookï¼ŒPycharmè‡ªå¸¦çš„Python Consoleæœ‰å…¶ç‹¬åˆ°çš„ä¼˜åŠ¿ï¼Œæ¯”å¦‚Special Variablesä¸Code History ï¼Œå¦‚å›¾ï¼Œåˆ†åˆ«ç”¨ä¸€ä¸ªä¸¤ä¸ªä¸‰ä¸ªä¸‹åˆ’çº¿ä»£è¡¨ä¸Šä¸€æ¬¡ä¸Šä¸¤æ¬¡ä¸Šä¸‰æ¬¡çš„å˜é‡ï¼Œåœ¨è¿™é‡Œå¯ä»¥ç›´æ¥åƒdebugä¸€æ ·æŸ¥çœ‹å„ä¸ªå˜é‡çš„å€¼ï¼›Code Historyåˆ™æ˜¯ä½¿ç”¨æˆ·æ–¹ä¾¿åœ°ä½¿ç”¨ä¹‹å‰çš„ä»£ç ã€‚ å¿«æ·é”®è°ƒæ•´ä»£ç è¡Œæ¬¡åºCommand + Shift + â¬†ï¸/â¬‡ï¸æœ‰æ—¶æˆ‘ä»¬éœ€è¦è°ƒæ•´ä¸¤è¡Œä»£ç çš„ä¸Šä¸‹æ¬¡åºï¼Œé‚£ä¹ˆç”¨å‰ªåˆ‡ã€ç²˜è´´çš„æ–¹æ³•ä¸å¦‚è¿™ä¸ªæ–¹æ³•ç®€æ´è‡ªç„¶ã€‚ æŸ¥çœ‹æºç åŠè·³è½¬æ‘ä½Commandé”®å»ç‚¹å‡»å³å¯è·³è½¬åˆ°æºç å¤„ï¼Œè€ŒæŸ¥çœ‹æºç æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡Command + [/]æ¥æ–¹ä¾¿çš„å‰è¿›æˆ–åé€€ã€‚ æ‰¹é‡å±•å¼€æ”¶ç¼©ä»£ç Command + Shift +/- å½“é¡¹ç›®å†™åˆ°ä¸€å®šè§„æ¨¡çš„æ—¶å€™ï¼Œéš¾å…æ–¹æ³•/å‡½æ•°ä¼šå¾ˆå¤šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤æ¥æ”¶ç¼©ä»£ç ï¼Œè¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ã€‚ å¿«é€Ÿæ’å…¥å¸¸ç”¨ä»£ç Command + J æ˜¯å¼¹å‡ºæ’å…¥å¸¸ç”¨ä»£ç å—çš„å¿«æ·é”®ï¼Œæ¯”å¦‚Dict/List/Set çš„comprehensionéƒ½æœ‰ï¼Œä¹‹å‰æˆ‘åªä¼šâ€˜mainâ€™ç„¶åè·³å‡ºif __name__ == &#39;__main__&#39;:ğŸ˜œ ä¸€é”® PEP8å…¶å®åœ¨äº†è§£è¿™ä¸ªtipsä¹‹å‰æˆ‘éƒ½æ˜¯ç‚¹å‡»å‡½æ•°åï¼Œç­‰å¾…ä¸€ä¸ªé»„è‰²çš„å°ç¯æ³¡å†å»ç‚¹å‡»ç¯æ³¡ã€‚ã€‚ã€‚å…¶å®åªéœ€è¦Command+Option+Lå³å¯ï¼ cheat sheeté¡ºä¾¿æ›´æ–°ä¸¤å¼ cheat sheet","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Pycharm","slug":"Pycharm","permalink":"http://frankchen.xyz/tags/Pycharm/"}]},{"title":"Go è¯­è¨€æ“ä½œä¸æ‰«æ Hbase å®ä¾‹","slug":"go-hbase","date":"2017-11-08T03:10:21.000Z","updated":"2017-11-09T02:01:07.000Z","comments":true,"path":"2017/11/08/go-hbase/","link":"","permalink":"http://frankchen.xyz/2017/11/08/go-hbase/","excerpt":"è®°å½•çº¯goè¯­è¨€çš„gohbaseå®¢æˆ·ç«¯çš„æ‰«ææ“ä½œã€‚","text":"è®°å½•çº¯goè¯­è¨€çš„gohbaseå®¢æˆ·ç«¯çš„æ‰«ææ“ä½œã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687package mainimport ( \"github.com/tsuna/gohbase\" \"github.com/tsuna/gohbase/hrpc\" \"context\" \"io\" \"fmt\" \"github.com/tsuna/gohbase/filter\" \"strconv\" \"time\")const table = \"user\"func beforeMiniTimeStamps(beforeMini int) string &#123; //å½“å‰æ—¶åˆ»æŸåˆ†é’Ÿä¹‹å‰çš„æ—¶é—´æˆ³ return strconv.Itoa(int(time.Now().Add(- time.Duration(beforeMini) * time.Minute).UnixNano() / 1000000))&#125;func fetch() []*hrpc.Result &#123; client := gohbase.NewClient(\"hmaster.shise.com,rm.shise.com,nn.shise.com\") //client := gohbase.NewClient(\"wwj.shise.com,czn.shise.com,czn.shise.com\") // åˆ—æ— family := hrpc.Families(map[string][]string&#123;\"c\": nil&#125;) // å…¨å±€hbase filteræ—¶é—´é—´éš” //timeRange := hrpc.TimeRange(time.Now().Add(- time.Duration(minute)*time.Minute), time.Now()) // æŸåˆ—valueçš„filter notRecommendFilter := filter.NewSingleColumnValueFilter([]byte(\"c\"), []byte(\"notRecommend\"), filter.NotEqual, filter.NewBinaryComparator(filter.NewByteArrayComparable([]byte(\"true\"))), true, true) violationFilter := filter.NewSingleColumnValueFilter([]byte(\"c\"), []byte(\"violation\"), filter.NotEqual, filter.NewBinaryComparator(filter.NewByteArrayComparable([]byte(\"true\"))), true, true) // filteræŸåˆ—valueçš„æ—¶é—´æˆ³ timeStartFilter := filter.NewSingleColumnValueFilter([]byte(\"c\"), []byte(\"createDate\"), filter.Greater, filter.NewBinaryComparator(filter.NewByteArrayComparable([]byte(beforeMiniTimeStamps(4*60)))), true, true) timeEndFilter := filter.NewSingleColumnValueFilter([]byte(\"c\"), []byte(\"createDate\"), filter.Less, filter.NewBinaryComparator(filter.NewByteArrayComparable([]byte(beforeMiniTimeStamps(2*60)))), true, true) //filter åˆ—è¡¨ filters := filter.NewList(filter.MustPassAll, notRecommendFilter, violationFilter, timeStartFilter, timeEndFilter) //åˆ›å»ºscanå¯¹è±¡ scan, _ := hrpc.NewScanStr(context.Background(), table, family, hrpc.Filters(filters)) var rsp []*hrpc.Result scanner := client.Scan(scan) for &#123; res, err := scanner.Next() if err == io.EOF &#123; break &#125; if err != nil &#123; print(err) &#125; if hasHeadImage(res) &#123; rsp = append(rsp, res) &#125; &#125; return rsp&#125;func hasHeadImage(res *hrpc.Result) bool &#123; return true&#125;func main() &#123; rsp := fetch() for _, item := range rsp &#123; fmt.Println(*item) break &#125; fmt.Println(len(rsp))&#125;","categories":[],"tags":[{"name":"Go","slug":"Go","permalink":"http://frankchen.xyz/tags/Go/"},{"name":"Hbase","slug":"Hbase","permalink":"http://frankchen.xyz/tags/Hbase/"}]},{"title":"Ubuntu16.04 å®‰è£…IKEV2 VPN å¹¶åœ¨Macä¸Šä½¿ç”¨ä»¥è§£å†³Google Drive åŒæ­¥é—®é¢˜","slug":"Google-Drive-Sync","date":"2017-11-01T01:56:43.000Z","updated":"2017-11-01T02:21:02.000Z","comments":true,"path":"2017/11/01/Google-Drive-Sync/","link":"","permalink":"http://frankchen.xyz/2017/11/01/Google-Drive-Sync/","excerpt":"","text":"Google Driveæ— æ³•è¯†åˆ«shadowsocksæ‰€ç”¨çš„socks5ä»£ç†ï¼Œæ•…è¿™è¾¹æœ‰éœ€æ±‚åœ¨VPSä¸Šéƒ¨ç½²httpä»£ç†çš„VPNã€‚ æœåŠ¡ç«¯å®‰è£…è¯´æ˜ ä¸‹è½½è„šæœ¬: wget --no-check-certificate https://raw.githubusercontent.com/quericy/one-key-ikev2-vpn/master/one-key-ikev2.sh è¿è¡Œè„šæœ¬ï¼š 12chmod +x one-key-ikev2.shbash one-key-ikev2.sh ç­‰å¾…è‡ªåŠ¨é…ç½®éƒ¨åˆ†å†…å®¹åï¼Œé€‰æ‹©vpsç±»å‹ï¼ˆOpenVZè¿˜æ˜¯Xenã€KVMï¼‰ï¼Œé€‰é”™å°†æ— æ³•æˆåŠŸè¿æ¥ï¼Œè¯·åŠ¡å¿…æ ¸å®æœåŠ¡å™¨çš„ç±»å‹ã€‚è¾“å…¥æœåŠ¡å™¨ipæˆ–è€…ç»‘å®šçš„åŸŸå(è¿æ¥vpnæ—¶æœåŠ¡å™¨åœ°å€å°†éœ€è¦ä¸æ­¤ä¿æŒä¸€è‡´,å¦‚æœæ˜¯å¯¼å…¥æ³›åŸŸåè¯ä¹¦è¿™é‡Œéœ€è¦å†™*.åŸŸåçš„å½¢å¼),è¿™é‡Œæ¨èç›´æ¥è¾“å…¥åŸŸåã€‚ é€‰æ‹©ä½¿ç”¨ä½¿ç”¨è¯ä¹¦é¢å‘æœºæ„ç­¾å‘çš„SSLè¯ä¹¦è¿˜æ˜¯ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©è‡ªç­¾åå³é€‰æ‹©noï¼šâ€˜â€™ å¦‚æœé€‰æ‹©no,ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼ˆå®¢æˆ·ç«¯å¦‚æœä½¿ç”¨IkeV2æ–¹å¼è¿æ¥ï¼Œå°†éœ€è¦å¯¼å…¥ç”Ÿæˆçš„è¯ä¹¦å¹¶ä¿¡ä»»ï¼‰åˆ™éœ€è¦å¡«å†™è¯ä¹¦çš„ç›¸å…³ä¿¡æ¯(C,O,CN)ï¼Œä¸ºç©ºå°†ä½¿ç”¨é»˜è®¤å€¼(default value)ï¼Œç¡®è®¤æ— è¯¯åæŒ‰ä»»æ„é”®ç»§ç»­,åç»­å®‰è£…è¿‡ç¨‹ä¸­ä¼šå‡ºç°è¾“å…¥ä¸¤æ¬¡pkcs12è¯ä¹¦çš„å¯†ç çš„æç¤º(å¯ä»¥è®¾ç½®ä¸ºç©º) æ¥ä¸‹æ¥ä¸€ç›´ç©ºæ ¼å³å¯ã€‚*çœ‹åˆ°install Completeå­—æ ·å³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚é»˜è®¤ç”¨æˆ·åå¯†ç å°†ä»¥é»„å­—æ˜¾ç¤ºï¼Œå¯æ ¹æ®æç¤ºè‡ªè¡Œä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç”¨æˆ·åå¯†ç ,å¤šç”¨æˆ·åˆ™åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‰æ ¼å¼ä¸€è¡Œä¸€ä¸ª(å¤šç”¨æˆ·æ—¶ç”¨æˆ·åä¸èƒ½ä½¿ç”¨%any),ä¿å­˜å¹¶é‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚ å°†æç¤ºä¿¡æ¯ä¸­çš„è¯ä¹¦æ–‡ä»¶ca.cert.pemæ‹·è´åˆ°å®¢æˆ·ç«¯ï¼Œä¿®æ”¹åç¼€åä¸º.ceråå¯¼å…¥ã€‚iosè®¾å¤‡ä½¿ç”¨Ikev1æ— éœ€å¯¼å…¥è¯ä¹¦ï¼Œè€Œæ˜¯éœ€è¦åœ¨è¿æ¥æ—¶è¾“å…¥å…±äº«å¯†é’¥ï¼Œå…±äº«å¯†é’¥å³æ˜¯æç¤ºä¿¡æ¯ä¸­çš„é»„å­—PSK. å®¢æˆ·ç«¯é…ç½®è¯´æ˜ iOS/OSX/Windows7+/WindowsPhone8.1+/Linux å‡å¯ä½¿ç”¨IkeV2,è®¤è¯æ–¹å¼ä¸ºç”¨æˆ·å+å¯†ç ã€‚ä½¿ç”¨SSLè¯ä¹¦åˆ™æ— éœ€å¯¼å…¥è¯ä¹¦ï¼›ä½¿ç”¨è‡ªç­¾åè¯ä¹¦åˆ™éœ€è¦å…ˆå¯¼å…¥è¯ä¹¦æ‰èƒ½è¿æ¥,å¯å°†ca.cert.pemæ›´æ”¹åç¼€åä½œä¸ºé‚®ä»¶é™„ä»¶å‘é€ç»™å®¢æˆ·ç«¯,æ‰‹æœºç«¯ä¹Ÿå¯é€šè¿‡æµè§ˆå™¨å¯¼å…¥,å…¶ä¸­: iOS/OSX çš„è¿œç¨‹IDå’ŒæœåŠ¡å™¨åœ°å€ä¿æŒä¸€è‡´,ç”¨æˆ·é‰´å®šé€‰æ‹©â€ç”¨æˆ·åâ€.å¦‚æœé€šè¿‡æµè§ˆå™¨å¯¼å…¥,å°†è¯ä¹¦æ”¾åœ¨å¯è®¿é—®çš„è¿œç¨‹å¤–é“¾ä¸Š,å¹¶åœ¨ç³»ç»Ÿæµè§ˆå™¨(Safari)ä¸­è®¿é—®å¤–é“¾åœ°å€; æ³¨æ„OSXå¯¼å…¥åéœ€è¦åœ¨é’¥åŒ™ä¸²å†…è®¾ç½®ä¿¡ä»»ï¼Œå¦‚ï¼š è®¾ç½®è¿æ¥æˆåŠŸåGoogle Driveå°±ä¼šè¿æ¥æˆåŠŸå¼€å§‹åŒæ­¥ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ å‚è€ƒè‡ª CentOS/Ubuntuä¸€é”®å®‰è£…IPSEC/IKEV2 VPNæœåŠ¡å™¨ | Quericy Eden* å®‰è£…å®Œæˆåï¼Œmacä¸èƒ½è¿æ¥ Â· Issue #58 Â· quericy/one-key-ikev2-vpn","categories":[],"tags":[{"name":"VPN","slug":"VPN","permalink":"http://frankchen.xyz/tags/VPN/"}]},{"title":"Install Opencv3.2 on Ununtu 16.04","slug":"Install-Opencv3-2-on-Ununtu-16-04","date":"2017-10-25T04:34:28.000Z","updated":"2017-11-09T02:00:24.000Z","comments":true,"path":"2017/10/25/Install-Opencv3-2-on-Ununtu-16-04/","link":"","permalink":"http://frankchen.xyz/2017/10/25/Install-Opencv3-2-on-Ununtu-16-04/","excerpt":"Opencv3.2 åœ¨ Ununtu 16.04 ä¸Šçš„ç¼–è¯‘å®‰è£…","text":"Opencv3.2 åœ¨ Ununtu 16.04 ä¸Šçš„ç¼–è¯‘å®‰è£… å‚è€ƒè‡ªUbuntu 16.04ç¼–è¯‘å®‰è£…OpenCVï¼ˆPythonï¼‰ â€“ WTF Daily Blogï¼Œä¸è¿‡è¿™ä½åšä¸»è£…çš„æ˜¯3.1ç‰ˆæœ¬ï¼Œè€Œä¸”æœ‰äº›é—®é¢˜ã€‚ å®‰è£…OpenCVä¾èµ–123456789sudo apt-get updatesudo apt-get upgradesudo apt-get install build-essential cmake pkg-config sudo apt-get install libjpeg8-dev libtiff5-dev libjasper-dev libpng12-dev sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev sudo apt-get install libxvidcore-dev libx264-devsudo apt-get install libgtk-3-devsudo apt-get install libatlas-base-dev gfortransudo apt-get install python2.7-dev python3.5-dev ä¸‹è½½OpenCVæºç è¿™é‡Œä¸‹è½½ 3.2.0 123$ cd ~$ wget -O opencv.zip https://github.com/Itseez/opencv/archive/3.2.0.zip$ unzip opencv.zip ä¸‹è½½å’ŒOpenCVç‰ˆæœ¬å¯¹åº”çš„opencv_contribï¼ˆä¸€äº›æ‰©å±•åŠŸèƒ½å’Œnon-freeä»£ç ï¼‰ï¼š12$ wget -O opencv_contrib.zip https://github.com/Itseez/opencv_contrib/archive/3.2.0.zip$ unzip opencv_contrib.zip ç¼–è¯‘å®‰è£…123$ cd ~/opencv-3.2.0/$ mkdir build$ cd build 12345cmake -D CMAKE_BUILD_TYPE=RELEASE \\ -D CMAKE_INSTALL_PREFIX=/usr/local \\ -D INSTALL_PYTHON_EXAMPLES=ON \\ -D INSTALL_C_EXAMPLES=OFF \\ -D OPENCV_EXTRA_MODULES_PATH=/root/Downloads/opencv_contrib-3.2.0/modules -D PYTHON_EXECUTABLE=/root/miniconda3/bin/python .. å…¶ä¸­OPENCV_EXTRA_MODULES_PATHæ˜¯opencv_contribçš„è§£å‹åçš„åœ°å€ï¼ŒPYTHON_EXECUTABLEæ˜¯# ä½ çš„python è§£é‡Šå™¨åœ°å€ å¯ç”¨witch python æŸ¥çœ‹ã€‚è‹¥å‡ºç°ï¼Œéœ€è¦ä¸‹è½½ippicv_linux_20151201.tgzçš„é•¿æ—¶é—´ç­‰å¾…ï¼Œå¯åœ¨æ­¤opencv_3rdparty/ippicv at ippicv/master_20151201 Â· opencv/opencv_3rdpartyæ‰‹åŠ¨ä¸‹è½½å¯¹åº”æ–‡ä»¶ï¼Œå¹¶æ”¾åœ¨å¯¹åº”ä½ç½®å¦‚Put the ippicv_linuxâ€¦tgz under&lt;â€¦&gt;/opencv-3.2.0/3rdparty/ippicv/downloads/linux-808b791a6eac9ed78d32a7666804320e/ï¼Œ å‚è€ƒè‡ªincorrect hash in cmake ippicv when installing Â· Issue #5973 Â· opencv/opencvã€‚ ç¼–è¯‘ï¼š $ make å®‰è£…ï¼š 12$ sudo make install$ sudo ldconfig å†pip install opencvå³å¯ğŸ˜","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"git notes in action | ç”Ÿäº§ç¯å¢ƒå„åœºæ™¯ä¸‹gitå¸¸ç”¨å‘½ä»¤","slug":"git-notes-in-action","date":"2017-10-21T06:03:47.000Z","updated":"2017-11-09T01:59:12.000Z","comments":true,"path":"2017/10/21/git-notes-in-action/","link":"","permalink":"http://frankchen.xyz/2017/10/21/git-notes-in-action/","excerpt":"","text":"æ›´æ”¹è¿œç¨‹é“¾æ¥ Changing a remoteâ€™s URL - User Documentation redo addå•æ–‡ä»¶æ“ä½œ Undo a git add - remove files staged for a git commit | Open Data ç§»é™¤æ‰€æœ‰å·²ç»addçš„æ–‡ä»¶ï¼Œåœºæ™¯ä¾‹å¦‚ä½ åˆšåˆšaddäº†allï¼Œæ‰å‘ç°æœ‰è®¸å¤šæ˜¯å¯ä»¥ignoreçš„ï¼Œé‚£ä¹ˆå°±è¿è¡Œgit rm --cached -r .ç§»é™¤ä¹Ÿå°±æ˜¯æ’¤å›åˆšåˆšaddçš„æ‰€æœ‰æ–‡ä»¶ï¼Œå†å»ç®¡ç†ignoreï¼Œå†addå°±å¥½äº†ã€‚ revertå½“å‰æ–‡ä»¶å˜æ›´ï¼Œåœºæ™¯ä¾‹å¦‚æ¯”å¦‚ä½ ä¸Šä¼ æœ¬åœ°çš„ä¸€ä¸ªconfigä¸ŠæœåŠ¡å™¨è°ƒè¯•ï¼Œè°ƒè¯•ç»“æŸï¼Œéœ€è¦å°†è¿™ä¸ªæ–‡ä»¶å›æ»šå˜æ›´ï¼Œé‚£ä¹ˆgit checkout -- &lt;file-you-want-revert&gt;å³å¯ã€‚","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://frankchen.xyz/tags/git/"}]},{"title":"æœåŠ¡å™¨è´Ÿè½½GUI ç¥å™¨sargraph çš„å®‰è£…","slug":"sargraph-install","date":"2017-10-11T03:40:21.000Z","updated":"2017-10-12T09:25:36.000Z","comments":true,"path":"2017/10/11/sargraph-install/","link":"","permalink":"http://frankchen.xyz/2017/10/11/sargraph-install/","excerpt":"é€šè¿‡Linux çš„sarå‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“çŸ¥é“æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œé‚£ä¹ˆå¦‚ä½•é€šè¿‡ç½‘é¡µç­‰æ›´å¥½åœ°å¯è§†åŒ–å‘¢ï¼Ÿæœ¬æ–‡ä»‹ç»å®ç°æ­¤åŠŸèƒ½çš„ç¥å™¨SARGRAPH-Graphical front-end for sarçš„ä½¿ç”¨åŠå®‰è£…ã€‚ sarçš„é…ç½®é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°sar æ‰¾å‡ºç³»ç»Ÿç“¶é¢ˆçš„åˆ©å™¨ â€” Linux Tools Quick Tutorialå®‰è£…sar æœ‰çš„linuxç³»ç»Ÿä¸‹ï¼Œé»˜è®¤å¯èƒ½æ²¡æœ‰å®‰è£…è¿™ä¸ªåŒ…ï¼Œä½¿ç”¨apt-get install sysstat æ¥å®‰è£…ï¼› å®‰è£…å®Œæ¯•ï¼Œå°†æ€§èƒ½æ”¶é›†å·¥å…·çš„å¼€å…³æ‰“å¼€ï¼š vi /etc/default/sysstat è®¾ç½® ENABLED=â€trueâ€ å¯åŠ¨è¿™ä¸ªå·¥å…·æ¥æ”¶é›†ç³»ç»Ÿæ€§èƒ½æ•°æ®ï¼š /etc/init.d/sysstat start","text":"é€šè¿‡Linux çš„sarå‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“çŸ¥é“æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œé‚£ä¹ˆå¦‚ä½•é€šè¿‡ç½‘é¡µç­‰æ›´å¥½åœ°å¯è§†åŒ–å‘¢ï¼Ÿæœ¬æ–‡ä»‹ç»å®ç°æ­¤åŠŸèƒ½çš„ç¥å™¨SARGRAPH-Graphical front-end for sarçš„ä½¿ç”¨åŠå®‰è£…ã€‚ sarçš„é…ç½®é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°sar æ‰¾å‡ºç³»ç»Ÿç“¶é¢ˆçš„åˆ©å™¨ â€” Linux Tools Quick Tutorialå®‰è£…sar æœ‰çš„linuxç³»ç»Ÿä¸‹ï¼Œé»˜è®¤å¯èƒ½æ²¡æœ‰å®‰è£…è¿™ä¸ªåŒ…ï¼Œä½¿ç”¨apt-get install sysstat æ¥å®‰è£…ï¼› å®‰è£…å®Œæ¯•ï¼Œå°†æ€§èƒ½æ”¶é›†å·¥å…·çš„å¼€å…³æ‰“å¼€ï¼š vi /etc/default/sysstat è®¾ç½® ENABLED=â€trueâ€ å¯åŠ¨è¿™ä¸ªå·¥å…·æ¥æ”¶é›†ç³»ç»Ÿæ€§èƒ½æ•°æ®ï¼š /etc/init.d/sysstat start å¯ä½¿ç”¨å‘½ä»¤vi /etc/cron.d/sysstatè°ƒæ•´æŠ¥å‘Šé¢‘ç‡ï¼Œä¾‹å¦‚ä¸‹é¢å°±å°†é»˜è®¤çš„ååˆ†é’Ÿä¿®æ”¹ä¸ºéš”ä¸¤åˆ†é’ŸæŠ¥å‘Šä¸€æ¬¡ã€‚ sargraph çš„å®‰è£…å®‰è£…ä¾èµ–æ ¹æ®Documentationï¼Œ å®‰è£…php sudo apt-get install php libapache2-mod-php å®‰è£…apache2 12sudo apt-get updatesudo apt-get install apache2 é…ç½®apache2systemctl status apache2æŸ¥çœ‹apache2çš„æƒ…å†µï¼Œè‹¥å‘ç°å…¶ä¸æ˜¯activeï¼Œå¯èƒ½æ˜¯ç”±äºä¸nginxç›‘å¬é»˜è®¤ç«¯å£å†²çªï¼Œé‚£ä¹ˆéœ€è¦åœ¨vim /etc/apache2/ports.confï¼ŒæŠŠ80ä¿®æ”¹ä¸º81å³å¯ã€‚å†â€˜service apache2 restartâ€™ï¼ŒæŸ¥çœ‹systemctl status apache2ä¸ºactiveå³æˆåŠŸï¼Œ sargraphå®‰è£…åŠé…ç½®å‚è€ƒDownload Sargraphå®‰è£…å³å¯ï¼Œ Download sargraph_version3.tgz to /tmp. Unzip and untar it. And run the INSTALLER tar xzf sargraph_version3.tgz cd sargraph_version3 ./INSTALLER æ³¨æ„éœ€è¦ä¿®æ”¹å…¶configï¼Œvim /etc/sargraph.confï¼Œ æ³¨æ„æ˜¯SARUSERä¿®æ”¹ä¸ºéœ€è¦ç›‘å¬çš„æœåŠ¡å™¨çš„ç”¨æˆ·åï¼ŒKEYä¿®æ”¹ä¸ºsargraphæœåŠ¡å™¨å½“å‰ç”¨æˆ·å…¬é’¥æ–‡ä»¶å³å¯ã€‚ æ·»åŠ serverä½¿ç”¨/var/www/html/sargraph/scripts/addserver datalabæ·»åŠ serverï¼Œæ¯”å¦‚ä¹‹å‰æˆ‘ä»¬æŠŠconfigé‡Œuseræ”¹ä¸ºrootï¼Œé‚£ä¹ˆè¿™é‡Œæˆ‘ä»¬æ·»åŠ çš„serverå°±æ˜¯root@datalabï¼Œå†å¯ç”¨/var/www/html/sargraph/scriptsé‡Œçš„è„šæœ¬æ·»åŠ åˆ é™¤ç”¨æˆ·ä¿®æ”¹å¯†ç ç­‰ç­‰ã€‚ æœ€ååœ¨å¦‚Sargraph Loginè®¿é—®å³å¯ï¼Œè´Ÿè½½ç­‰ä¿¡æ¯å¯è§†åŒ–å‡ºç°ï¼ ğŸ˜","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"é¿å… spark æäº¤ ä¸Šä¼ è‡ªå¸¦ jaråŒ…è§£å†³åŠæ³•","slug":"spark-submit-avoid-upload-jars","date":"2017-09-01T08:15:04.000Z","updated":"2017-09-01T08:25:21.000Z","comments":true,"path":"2017/09/01/spark-submit-avoid-upload-jars/","link":"","permalink":"http://frankchen.xyz/2017/09/01/spark-submit-avoid-upload-jars/","excerpt":"","text":"1217/09/01 15:38:59 INFO yarn.Client: Uploading resource file:/usr/local/spark-2.1.1-bin-without-hadoop/spark-46d1bd70-b346-4027-bce4-9540f4b6035a/__spark_libs__4051900056689219834.zip -&gt; hdfs://wwj.shise.com:9000/user/hadoop/.sparkStaging/application_1504148698505_0021/__spark_libs__4051900056689219834.zip17/09/01 15:41:45 INFO yarn.Client: Uploading resource file:/Users/frank/IdeaProjects/simpleApp/target/scala-2.11/simpleApp-assembly-1.0.jar -&gt; hdfs://wwj.shise.com:9000/user/hadoop/.sparkStaging/application_1504148698505_0021/simpleApp-assembly-1.0.jar å¯ä»¥çœ‹åˆ°ï¼Œä¸Šä¼ èŠ±è´¹çº¦3åˆ†é’Ÿï¼Œè¿™æ®µæ—¶é—´æ˜¯ä¸ºäº†å°†$SPARK_HOME/jarä¸‹çš„æ‰€æœ‰jaråŒ…ä¸Šä¼ åˆ°yarnï¼Œå®é™…ä¸Šå¯ä»¥å®Œå…¨é¿å…ã€‚ å®é™…ä¸Šè¿™éƒ¨åˆ†æ–‡ä»¶å®Œå…¨å¯ä»¥å°±æ”¾åœ¨hdfsä¸Šï¼Œ å…ˆå°†è¿™éƒ¨åˆ†jaråŒ…å¤åˆ¶åˆ°hdfsï¼šhadoop fs -mkdir /tmp/spark/lib_jars/hadoop fs -put $SPARK_HOME/jars/* /tmp/spark/lib_jars/ è®¾ç½®vim $SPARK_HOME/conf/spark-defaults.confï¼šæ·»åŠ è¿™è¡Œ1spark.yarn.jars /tmp/spark/lib_jars/* ##è¿™é‡Œç”¨hdfsç›¸å¯¹è·¯å¾„å³å¯ å†submitä¸ä¼šå‡ºç°å°†jaræ–‡ä»¶æ‰“åŒ…æˆzipæ–‡ä»¶ä¸Šä¼ çš„ä¿¡æ¯äº†ã€‚","categories":[],"tags":[{"name":"spark","slug":"spark","permalink":"http://frankchen.xyz/tags/spark/"}]},{"title":"hbase rest ç»‘å®šåˆ°å†…ç½‘localhost","slug":"hbase-rest-bindAddress-to-localhost","date":"2017-08-29T08:34:08.000Z","updated":"2017-08-29T08:42:14.000Z","comments":true,"path":"2017/08/29/hbase-rest-bindAddress-to-localhost/","link":"","permalink":"http://frankchen.xyz/2017/08/29/hbase-rest-bindAddress-to-localhost/","excerpt":"","text":"é€šè¿‡å¼€å¯Hbase çš„REST æœåŠ¡æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»¥APIçš„å½¢å¼è®¿é—®Hbaseï¼Œ 12345# Foreground$ bin/hbase rest start -p &lt;port&gt;# Background, logging to a file in $HBASE_LOGS_DIR$ bin/hbase-daemon.sh start rest -p &lt;port&gt; ä½†æ˜¯å…¶é»˜è®¤æ˜¯ç»‘å®š0.0.0.0åœ°å€çš„ï¼Œä¹Ÿå°±æ˜¯å¯¹å¤–ç½‘å¼€æ”¾ï¼Œè€Œé€šè¿‡REST æœåŠ¡åˆ«æœ‰ç”¨å¿ƒçš„äººæ˜¯å¯ä»¥åˆ è¡¨çš„ã€‚ã€‚ã€‚å¦‚ä½•åªå¯¹å†…ç½‘å¼€æ”¾å‘¢ï¼Ÿ æŸ¥äº†æ— æ•°ä¸­è‹±æ–‡ç½‘é¡µä¸å¾—ï¼Œæœ€åå†³å®šï¼šçœ‹æºç ï¼æœ€ååœ¨è¿™é‡Œå‘ç°å¦‚ä¸‹ç‰‡æ®µï¼Œhbase/RESTServer.java at master Â· apache/hbaseé‚£ä¹ˆè§£å†³æ–¹æ³•å°±æ˜¾è€Œæ˜“è§äº†ï¼š 1234567# sudo vim /usr/local/hbase/conf/hbase-site.xml&lt;configuration&gt;&lt;property&gt; &lt;name&gt;hbase.rest.host&lt;/name&gt; &lt;value&gt;127.0.0.1&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;","categories":[],"tags":[{"name":"Hbase","slug":"Hbase","permalink":"http://frankchen.xyz/tags/Hbase/"}]},{"title":"scala-notes","slug":"scala-note","date":"2017-08-22T03:06:48.000Z","updated":"2017-08-22T03:06:48.000Z","comments":true,"path":"2017/08/22/scala-note/","link":"","permalink":"http://frankchen.xyz/2017/08/22/scala-note/","excerpt":"","text":"call by name ä¸ call by valueçš„åŒºåˆ«ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯è°ƒç”¨ä¹‹å‰éœ€ä¸éœ€è¦evaluationï¼Œå‰è€…ä¸éœ€è¦ï¼Œåè€…éœ€è¦ã€‚ä¾‹å¦‚ä¸€ä¸ªå‡½æ•°$f(x, y) = x$ï¼Œæˆ‘ä»¬åˆ†åˆ«è°ƒç”¨$f(1+1, 2 )$ï¼Œcall by name ç›´æ¥å¼•ç”¨1+1ï¼Œå†è®¡ç®—å‡ºä¸º2ï¼Œè€Œ call by valueæ˜¯å…ˆç®—å‡ºå‡½æ•°å‚æ•°çš„å€¼ï¼Œå†å»è°ƒç”¨$f(2, 2 )$ï¼Œscalaé»˜è®¤æ˜¯call by valueï¼Œä½†æ˜¯å¯ä»¥åœ¨éœ€è¦call by name çš„å‚æ•°åŠ ç®­å¤´å¦‚=&gt;ã€‚ scalaé‡Œé¢å®šä¹‰å˜é‡defå’Œvalçš„åŒºåˆ«å³åœ¨æ­¤ï¼Œå‰è€…æ˜¯call by nameï¼Œä¾‹å¦‚æˆ‘ä»¬åˆ†åˆ«å®šä¹‰ä¸¤ä¸ªå‡½æ•°ï¼š 12345def loop: Boolean = loopdef x = loopval y = loop å‡½æ•°xå¯ä»¥è¢«æˆåŠŸå®šä¹‰ï¼Œè€Œåè€…ä¸è¡Œï¼Œå› ä¸ºåœ¨call by name çš„å‚æ•°evaluationçš„æ—¶å€™å°±è¿›å…¥æ­»å¾ªç¯äº†ã€‚","categories":[],"tags":[{"name":"scala","slug":"scala","permalink":"http://frankchen.xyz/tags/scala/"}]},{"title":"è¯¦è§£Coursera å¥–å­¦é‡‘ç”³è¯·æ­¥éª¤","slug":"coursera-scholarship","date":"2017-08-21T04:06:29.000Z","updated":"2017-09-05T09:30:38.000Z","comments":true,"path":"2017/08/21/coursera-scholarship/","link":"","permalink":"http://frankchen.xyz/2017/08/21/coursera-scholarship/","excerpt":"æœ€æ–°Coursera å¥–å­¦é‡‘ç”³è¯·æ­¥éª¤ï¼æˆåŠŸç‡100%ğŸ†","text":"æœ€æ–°Coursera å¥–å­¦é‡‘ç”³è¯·æ­¥éª¤ï¼æˆåŠŸç‡100%ğŸ† ä»¥è¿™é—¨Scala å‡½æ•°å¼ç¨‹åºè®¾è®¡åŸç† | Courseraä¸ºä¾‹ï¼š ä»¥ä¸‹é—®é¢˜å¿…é¡»å¡«å†™è‹±æ–‡ï¼Œå¿…é¡»å¤§äºç­‰äº150å­—ï¼Œä»æˆ‘çš„ç”³è¯·è®°å½•æ¥çœ‹ï¼ŒåŸºæœ¬ä¸ä¼šå®¡æ ¸ä½ ç©¶ç«Ÿå¡«å†™äº†ä»€ä¹ˆï¼Œè¿™åªæ˜¯ä¸ºå…è´¹ç”¨æˆ·è®¾ç½®ä¸€ä¸ªé—¨æ§›ï¼Œå¸å¼•ä½ æ°ªé‡‘ğŸ˜‚ğŸ˜ ä¹‹å‰æ˜¯ç«‹å³å¯ä»¥è·å¾—è¯ä¹¦ï¼Œç°åœ¨éœ€è¦ç­‰å¾…åäº”å¤©å³å¯ã€‚ å…³äºä¸Šé¢çš„ä¸‰ä¸ªé—®é¢˜å›å¤æä¾›ä¸€æ¨¡æ¿ï¼š I am a graduate student in mainland China, was born in a peasant family, the family has four people, my father, my mother, my brother and I, we four and grandparents living in the same home. Mom and Dad did not work, can only rely on two acres of the family to be barely subsistence income is very meager, good for my brother and I can learn, the family live frugally money supply year my brother and I go to school Reading used. The family also owe a lot of money, so my brother and I grew to know two people not to spend money. Dad, Mom no cultural knowledge, they know the importance of knowledge, so small they are strict requirements of our brothers and both learn to be good in the future to test a good university, find a good job, do not like them, did not work in the countryside. We two brothers are also very competitive, it has been among the best in school, in our view, only with honors in order to make my parents happy, to return to their pains. Monthly income of around one hundred US dollars to pay tuition for this course certificate will be spent half of my cost of living, it will bring a lot of economic pressure to my normal life, and this course is the first door I finished on the site class, have a special meaning for me, I wanted to get this certificate course, this will inspire my passion for learning and motivation. 1, many people have recommended this course for the learning experience to enhance learning method above, I think learning is a lifelong, this course I will gain the knowledge of my lifetime. All the copyright. This door exercise logic and thinking about Coursera course is one of the most popular courses, course descriptions and practical reasoning methods and common logical fallacies, teach you how to properly reasoning, learning a few simple but critical general rules apply to all topics, while avoiding prone to problems when reasoning. 2, almost all individuals can enhance the quality of life of the curriculum to enhance areas of interest I have, I will continue to follow up. 3. Harvest course certificate for me is a recognition of my pay, my motivation for future learning enhance the effect is self-evident, thank you! 1, I guarantee independence to complete a full course, to ensure that all academic tasks independently myself by myself. 2, actively participate in discussions and course work, upload your own achievement, strive to contribute their efforts for curriculum community. 3, actively publicize the site to friends and relatives, for future expansion of community development programs and make a contribution. 4, to participate in and complete the course more sites to learn more new knowledge.","categories":[],"tags":[{"name":"Coursera","slug":"Coursera","permalink":"http://frankchen.xyz/tags/Coursera/"}]},{"title":"server certificate verification failed solution","slug":"server-certificate-verification-failed-solution","date":"2017-08-15T10:23:03.000Z","updated":"2017-08-15T10:26:14.000Z","comments":true,"path":"2017/08/15/server-certificate-verification-failed-solution/","link":"","permalink":"http://frankchen.xyz/2017/08/15/server-certificate-verification-failed-solution/","excerpt":"","text":"server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none çš„æ­£ç¡®è§£å†³æ–¹æ³•ã€‚ å‡ºç°æ­¤é”™è¯¯æ—¶ï¼Œé—®é¢˜å‡ºåœ¨è¯ä¹¦çš„ç¼ºå¤±ï¼Œä¸å¯ç”¨å¦‚export GIT_SSL_NO_VERIFY=1æ–¹æ³•å»è§£é™¤å®‰å…¨é™åˆ¶ï¼Œæ­£ç¡®æ–¹æ³•æ˜¯ä¸‹è½½è¯ä¹¦ï¼Œ 1234hostname=XXXport=443trust_cert_file_location=`curl-config --ca`sudo bash -c \"echo -n | openssl s_client -showcerts -connect $hostname:$port 2&gt;/dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt;&gt; $trust_cert_file_location\" è‹¥ä¸èµ·ä½œç”¨ï¼Œå¯ç”¨IPä»£æ›¿çœŸå®hostnameã€‚","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"nginx åå‘ä»£ç† REST API","slug":"nginx-reverse-proxy-for-rest-API","date":"2017-08-04T08:31:16.000Z","updated":"2017-08-09T07:57:13.000Z","comments":true,"path":"2017/08/04/nginx-reverse-proxy-for-rest-API/","link":"","permalink":"http://frankchen.xyz/2017/08/04/nginx-reverse-proxy-for-rest-API/","excerpt":"åˆ©ç”¨nginx ä¸ºREST APIæä¾›è´Ÿè½½å‡è¡¡ã€‚åˆ©ç”¨nginxçš„è´Ÿè½½å‡è¡¡å¯ä»¥æå¤§æå‡APIæœåŠ¡çš„ç¨³å®šæ€§ï¼Œæœ¬æ–‡ç®€è¿°æ­¤è¿‡ç¨‹é…ç½®æ–¹æ³•ã€‚","text":"åˆ©ç”¨nginx ä¸ºREST APIæä¾›è´Ÿè½½å‡è¡¡ã€‚åˆ©ç”¨nginxçš„è´Ÿè½½å‡è¡¡å¯ä»¥æå¤§æå‡APIæœåŠ¡çš„ç¨³å®šæ€§ï¼Œæœ¬æ–‡ç®€è¿°æ­¤è¿‡ç¨‹é…ç½®æ–¹æ³•ã€‚ sudo apt install nginxå®‰è£…nginxï¼Œæ¥ä¸‹æ¥æ‰¾å‡ºnginxé…ç½®åœ°å€ï¼Œä½¿ç”¨ä»£ç nginx -Vå¯æ‰“å°å‡ºä¸€ç³»åˆ—é…ç½®ä¿¡æ¯ï¼Œä¸åŒå¹³å°å’Œå‘è¡Œç‰ˆå¯èƒ½ä¸åŒï¼Œæˆ‘è¿™è¾¹æ˜¯--prefix=/usr/share/nginxï¼Œå³ä¸ºnginxæ ¹ç›®å½•ï¼Œ--conf-path=/etc/nginx/nginx.confå³ä¸ºé…ç½®ç›®å½•ã€‚ vim /etc/nginx/nginx.confæ³¨æ„å…¶ä¸­çš„ 123...61 include /etc/nginx/conf.d/*.conf;62 include /etc/nginx/sites-enabled/*; åœ¨/etc/nginx/conf.d/æ–°å»ºservice.confï¼Œ 123456789101112131415upstream tornadoes &#123; server 127.0.0.1:6001; server 127.0.0.1:6002; server 127.0.0.1:6003; server 127.0.0.1:6004;&#125;server &#123; listen 5000; ## Individual nginx logs access_log /var/log/nginx/web_proxy_access.log; error_log /var/log/nginx/web_proxy_error.log; location / &#123; proxy_pass http://tornadoes; ## å’Œupstream åç§°ç»„å¯¹åº”å³å¯ &#125;&#125; è¿™é‡Œæˆ‘ä»¬å°†æœ¬åœ°çš„5000ç«¯å£è´Ÿè½½å‡è¡¡åˆ°å››ä¸ªREST TornadoæœåŠ¡ä¸Šã€‚service nginx restartå³å¯ã€‚","categories":[],"tags":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://frankchen.xyz/tags/è¿ç»´/"},{"name":"nginx","slug":"nginx","permalink":"http://frankchen.xyz/tags/nginx/"}]},{"title":"Personal Tips on Mac & Linux & Iphone","slug":"All_kinds_of_TIPS","date":"2017-07-18T02:43:17.000Z","updated":"2017-09-05T09:38:57.000Z","comments":true,"path":"2017/07/18/All_kinds_of_TIPS/","link":"","permalink":"http://frankchen.xyz/2017/07/18/All_kinds_of_TIPS/","excerpt":"éšæ‰‹è®°å½•è‡ªå·±åœ¨ç”¨Macå¼€å‘ä¸Šéšæ—¶å‘ç°çš„å„ç§Tipsã€‚","text":"éšæ‰‹è®°å½•è‡ªå·±åœ¨ç”¨Macå¼€å‘ä¸Šéšæ—¶å‘ç°çš„å„ç§Tipsã€‚ Linuxåˆ«ç”¨Bashå•¦ç”¨zshï¼ğŸˆ²zshçš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½å„ç§ç¥å¥‡ï¼Œå¯ä»¥è¡¥é½è·¯å¾„ï¼Œè¡¥é½å‘½ä»¤ï¼Œè¡¥é½å‚æ•°ç­‰ï¼Œå†ä¹Ÿä¸ç”¨RTFMäº†ã€‚æŒ‰ä¸‹è¿æŒ‰Tapè¿˜æœ‰äºŒçº§èœå•ã€‚ killå‘½ä»¤ä¸éœ€ps aux | grep xxxï¼Œåªéœ€kill xxxç„¶åtapå³å¯ï¼Œå¦‚ï¼Œè¿™é‡Œæˆ‘éœ€è¦kill jupyter notebookåªéœ€è¦kill pythonå†tapï¼Œéå¸¸æ–¹ä¾¿ã€‚ è·³è½¬æ—¶ï¼Œåªéœ€..å³å¯ä¸éœ€cdï¼Œè€Œ...ç­‰äº../../ã€‚ è¾“å…¥dï¼Œå°†åˆ—å‡ºå½“å‰ session è®¿é—®è¿‡çš„æ‰€æœ‰ç›®å½•ï¼Œå†æŒ‰æç¤ºçš„æ•°å­—å³å¯è¿›å…¥ç›¸åº”ç›®å½•ã€‚ æŸ¥æ‰¾ï¼šzsh çš„å†å²è®°å½•è·¨ sessionï¼Œå¯ä»¥å…±äº«ã€‚å†å²è®°å½•æ”¯æŒå—é™æŸ¥æ‰¾ã€‚æ¯”å¦‚ï¼Œè¾“å…¥gitï¼Œå†æŒ‰å‘ä¸Šç®­å¤´ï¼Œä¼šæœç´¢ç”¨è¿‡çš„æ‰€æœ‰ git å‘½ä»¤ã€‚æ­é…oh-my-zshæ›´ä½³å“¦ğŸ˜ å·¥å…·ç¯‡MWeb ç›®å‰ä½“éªŒæœ€å¥½çš„markdownç¼–è¾‘å™¨MWeb - ä¸“ä¸šçš„Markdownå†™ä½œã€è®°ç¬”è®°ã€é™æ€åšå®¢ç”Ÿæˆè½¯ä»¶ - MWebï¼Œå„ç§markdownç¼–è¾‘å™¨éƒ½ç”¨è¿‡ï¼Œä»€ä¹ˆMouã€Macdownç­‰ç­‰ï¼Œéƒ½æ˜¯è¿œä¸å¦‚è¿™ä¸ªMWebçš„ã€‚ä¸ªäººæœ€å–œæ¬¢å›¾ç‰‡æ‹–å…¥åŠŸèƒ½ï¼Œåœ¨æ­¤å¤„è®¾ç½®å¥½å ä¹‹é—´æ‹–å…¥å›¾ç‰‡ï¼Œå³å¯è‡ªåŠ¨å†™å…¥è·¯å¾„å¹¶å®æ—¶é¢„è§ˆï¼ˆæˆ‘ç”¨çš„hexoæ­çš„åšå®¢ï¼‰ğŸ˜˜æ€æ‰‹çº§åŠŸèƒ½ï¼Œæ•ˆç‡ç¥å™¨ï¼ï¼Œé™¤æ­¤ä¹‹å¤–å…¶ä»–çš„åŠŸèƒ½ä¹Ÿæ˜¯å„ç§æ–¹ä¾¿ï¼Œè¿™åªéœ€è¦ï¿¥98ï¼Œè¿˜åœ¨ç­‰ä»€ä¹ˆï¼Œèµ¶å¿«è¡ŒåŠ¨å§ï¼ TransserraiOS Appï¼Œå¯ä»¥ç¦»çº¿ä¸‹è½½Courseraè¯¾ç¨‹ï¼Œæ€æ‰‹åŠŸèƒ½ï¼šç¿»è¯‘å­—å¹•ï¼ï¼ï¼ï¼Œçœ‹å…¬å¼€è¯¾å®åœ¨æ˜¯å¤ªæ–¹ä¾¿å•¦ï¼ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œä¸è¦åœ¨è¿˜æœ‰ä¸‹è½½ä»»åŠ¡çš„æ—¶å€™å¼€å¯cellularï¼ˆèœ‚çªç½‘ç»œï¼‰ä¸‹ä½¿ç”¨ï¼Œæœ¬äººå°±æ˜¯è¿™æ ·åœ¨æœˆåˆè¢«çƒ§å®Œäº†æ•´ä¸ªæœˆçš„æµé‡ï¼ï¼ï¼ğŸ‘»ï¼Œ ç¿»è¯‘åŠŸèƒ½éœ€è¦ä»˜è´¹ï¼Œä¸è¿‡ä¸è´µã€‚ Iterm2iTerm2 - macOS Terminal Replacementæ˜¯ä¸€æ¬¾Macä¸Šä½“éªŒæä½³çš„ç»ˆç«¯è½¯ä»¶ï¼Œæ‹¥æœ‰è®¸å¤šå‡ºè‰²ç‰¹æ€§ï¼Œå¦‚æ‹–åŠ¨å­—ç¬¦ä¸²ã€å¤šTapå¹¿æ’­è¾“å…¥ç­‰ç­‰æŒ‰ä½âŒ˜é”®: å¯ä»¥æ‹–æ‹½é€‰ä¸­çš„å­—ç¬¦ä¸²ï¼› ç‚¹å‡» urlï¼šè°ƒç”¨é»˜è®¤æµè§ˆå™¨è®¿é—®è¯¥ç½‘å€ï¼› ç‚¹å‡»æ–‡ä»¶ï¼šè°ƒç”¨é»˜è®¤ç¨‹åºæ‰“å¼€æ–‡ä»¶ï¼› å¦‚æœæ–‡ä»¶åæ˜¯filename:42ï¼Œä¸”é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨æ˜¯ Macvimã€Textmateæˆ–BBEditï¼Œå°†ä¼šç›´æ¥æ‰“å¼€åˆ°è¿™ä¸€è¡Œï¼› ç‚¹å‡»æ–‡ä»¶å¤¹ï¼šåœ¨ finder ä¸­æ‰“å¼€è¯¥æ–‡ä»¶å¤¹ï¼› åŒæ—¶æŒ‰ä½optioné”®ï¼Œå¯ä»¥ä»¥çŸ©å½¢é€‰ä¸­ï¼Œç±»ä¼¼äºvimä¸­çš„ctrl væ“ä½œã€‚ å¸¸ç”¨å¿«æ·é”® åˆ‡æ¢ tabï¼šâŒ˜+â†, âŒ˜+â†’, âŒ˜+{, âŒ˜+}ã€‚âŒ˜+æ•°å­—ç›´æ¥å®šä½åˆ°è¯¥ tabï¼› æ–°å»º tabï¼šâŒ˜+tï¼› é¡ºåºåˆ‡æ¢ paneï¼šâŒ˜+[, âŒ˜+]ï¼› æŒ‰æ–¹å‘åˆ‡æ¢ paneï¼šâŒ˜+Option+æ–¹å‘é”®ï¼› åˆ‡åˆ†å±å¹•ï¼šâŒ˜+d æ°´å¹³åˆ‡åˆ†ï¼ŒâŒ˜+Shift+d å‚ç›´åˆ‡åˆ†ï¼› æ™ºèƒ½æŸ¥æ‰¾ï¼Œæ”¯æŒæ­£åˆ™æŸ¥æ‰¾ï¼šâŒ˜+fã€‚ iTerm2 å¯ä»¥è‡ªåŠ¨è¡¥é½å‘½ä»¤ï¼Œè¾“å…¥è‹¥å¹²å­—ç¬¦ï¼ŒæŒ‰âŒ˜+;å¼¹å‡ºè‡ªåŠ¨è¡¥é½çª—å£ï¼Œåˆ—å‡ºæ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤ã€‚iTerm2 ä¹Ÿå¯ä»¥ä½¿ç”¨å†å²è®°å½•ï¼ŒæŒ‰âŒ˜+Shift+hå¼¹å‡ºå†å²ç²˜è´´è®°å½•çª—å£ï¼Œ âŒ˜+Shift+;å¼¹å‡ºå†å²å‘½ä»¤è®°å½•çª—å£ã€‚âŒ˜+Option+eå…¨å±å±•ç¤ºæ‰€æœ‰çš„ tabï¼Œå¯ä»¥æœç´¢ã€‚ä¸€ä¸ªæ ‡ç­¾é¡µä¸­å¼€çš„çª—å£å¤ªå¤šï¼Œæœ‰æ—¶å€™ä¼šæ‰¾ä¸åˆ°å½“å‰çš„é¼ æ ‡ï¼ŒâŒ˜+/æ‰¾åˆ°å®ƒã€‚ è¿™é‡Œæ”¶é›†äº†å¤§é‡ iTerm2 çš„ä¸»é¢˜ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ã€‚æˆ‘ç”¨çš„æ˜¯Zenburnã€‚åœ¨å…¶ github repo é‡Œä¸‹è½½å¯¹åº”çš„xxx.itermcolorsæ–‡ä»¶ï¼ŒåŒå‡»å®‰è£…ä½¿ç”¨ã€‚ æ›´æ–°ï¼š å–æ¶ˆé¼ æ ‡æ»šè½®æµè§ˆå†å²è®°å½•çš„è®¾ç½®ï¼šå¦‚ä½•å…³é—­iTerm2ä¸­çš„â€œscrolling the historyâ€ - å…±äº«ç¬”è®° Mosh æ›¿ä»£SSHçš„Mosh: the mobile shellï¼Œæå¤§é™ä½sshå»¶è¿Ÿï¼Œå¹¶ä¸”æŒç»­æ—¶é—´æä½³ã€‚ å¿«æ·é”®è¡¨æƒ…ç¬¦å·æŒ‰ Control-Command-ç©ºæ ¼é”®ã€‚æ­¤æ—¶ä¼šæ˜¾ç¤ºâ€œå­—ç¬¦æ˜¾ç¤ºç¨‹åºâ€å¼¹å‡ºçª—å£ï¼š Linux ç»ˆç«¯å¿«é€Ÿæ¸…è¡Œæœ‰æ—¶å€™æˆ‘ä»¬åœ¨ç»ˆç«¯é‡Œæ‰“å‡ºäº†ä¸€ä¸ªå¾ˆé•¿å¾ˆé•¿çš„å‘½ä»¤ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æ¸…ç©ºé‡æ–°è¾“å…¥ï¼Œæœ‰ä¸ªå¿«æ·é”®å°±æ˜¯ctr+pï¼Œå³å¯å¿«é€Ÿæ¸…é™¤å½“å‰è¾“å…¥ã€‚ Linux åˆ‡åˆ°ä¸Šä¸€ä¸ªç›®å½•cd -å³å¯ï¼š æˆªå›¾ Command(âŒ˜)-Shift-3 å¯¹æ•´ä¸ªå±å¹•æ‹æ‘„å±å¹•å¿«ç…§ Command(âŒ˜)-Shift-4 å¯¹å±å¹•çš„æŸä¸ªéƒ¨åˆ†æ‹æ‘„å±å¹•å¿«ç…§ï¼Œå¯ä»¥é€‰æ‹©æˆªå›¾åŒºåŸŸ Command(âŒ˜)-Shift-4-ç©ºæ ¼é”® å¯¹æŸä¸ªçª—å£æ‹æ‘„å±å¹•å¿«ç…§ Command(âŒ˜)-Ctrl-Shift-4 å¯¹é€‰å®šåŒºåŸŸè¿›è¡Œæˆªå±ï¼Œå±å¹•æˆªå›¾ï¼Œæ–‡ä»¶ä¿å­˜åœ¨å‰ªè´´æ¿","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"},{"name":"Mac","slug":"Mac","permalink":"http://frankchen.xyz/tags/Mac/"}]},{"title":"Hive install on Ubuntuï¼Œå¹¶ä»¥Mysqlä½œä¸ºMetastore","slug":"Hive-install-on-Ubuntu","date":"2017-07-07T02:43:17.000Z","updated":"2017-07-07T03:03:35.000Z","comments":true,"path":"2017/07/07/Hive-install-on-Ubuntu/","link":"","permalink":"http://frankchen.xyz/2017/07/07/Hive-install-on-Ubuntu/","excerpt":"å®‰è£…é…ç½®Hiveè™½ç„¶æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç½‘ä¸Šçš„èµ„æ–™å„ç§å‘ï¼Œæ€»ç»“ä¸‹æ¥å†™ä¸‹æœ¬æ–‡ä½œä¸ºæˆåŠŸåçš„è®°å½•ã€‚","text":"å®‰è£…é…ç½®Hiveè™½ç„¶æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç½‘ä¸Šçš„èµ„æ–™å„ç§å‘ï¼Œæ€»ç»“ä¸‹æ¥å†™ä¸‹æœ¬æ–‡ä½œä¸ºæˆåŠŸåçš„è®°å½•ã€‚ ä¸‹è½½ä¸æ”¾ç½®HiveHiveä¸‹è½½åœ°å€ 12345$ sudo tar xzvf apache-hive-2.1.1-bin.tar.gz -C /usr/local$ cd /usr/local$ sudo mv apache-hive-2.1.1-bin/ hive$ sudo chown hadoop@hadoop -R hive$ mysql$ sudo apt-get install mysql-server mysql Javaè¿æ¥$ sudo apt-get install libmysql-javaå¹¶åˆ›å»ºè½¯è¿æ¥$ ln -s /usr/share/java/mysql-connector-java.jar $HIVE_HOME/lib/mysql-connector-java.jar ç¯å¢ƒå˜é‡åœ¨~/.profileé‡Œæ·»åŠ 12export HIVE_HOME=/usr/local/hiveexport PATH=$PATH:$HIVE_HOME/bin å¹¶source ~/.profile å»ºè¡¨ä¸è¿æ¥åˆå§‹è¡¨æ ¼åœ¨mysqlé‡Œåˆ›å»ºæ•°æ®åº“ï¼Œæ ¼å¼åŒhive-schema-2.1.0.mysql.sql ï¼Œè¿™é‡Œä¾æ®ä½ çš„ç‰ˆæœ¬å·æ¥ 12345$ mysql -u root -pEnter password:mysql&gt; CREATE DATABASE metastore;mysql&gt; USE metastore;mysql&gt; SOURCE /usr/local/hive/scripts/metastore/upgrade/mysql/hive-schema-2.1.0.mysql.sql;; åˆ›å»ºç”¨æˆ·å¹¶ç»™äºˆæƒé™123mysql&gt; CREATE USER 'hiveuser'@'%' IDENTIFIED BY 'hivepassword'; mysql&gt; GRANT all on *.* to 'hiveuser'@localhost identified by 'hivepassword';mysql&gt; flush privileges; hive-site.xmlåœ¨$HIVE_HOME/confæ–‡ä»¶å¤¹åˆ›å»ºhive-site.xmlæ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹ 12345678910111213141516171819202122&lt;configuration&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt; &lt;value&gt;jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true&lt;/value&gt; &lt;description&gt;metadata is stored in a MySQL server&lt;/description&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt; &lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt; &lt;description&gt;MySQL JDBC driver class&lt;/description&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt; &lt;value&gt;hiveuser&lt;/value&gt; &lt;description&gt;user name for connecting to mysql server&lt;/description&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt; &lt;value&gt;hivepassword&lt;/value&gt; &lt;description&gt;password for connecting to mysql server&lt;/description&gt; &lt;/property&gt;&lt;/configuration&gt; OKï¼Œå¯åŠ¨Hive Shellè¯•è¯•çœ‹å§æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨hive shellé‡Œå»ºè¡¨hive&gt; create table saurzcode(id int, name string); å†åœ¨mysqlé‡ŒæŸ¥çœ‹ 12345mysql -u root -pEnter password: mysql&gt; use metastore;mysql&gt; show tables ;mysql&gt; select * from TBLS; è‹¥å¯ä»¥çœ‹è§ä¸Šé¢åœ¨hiveé‡Œå»ºçš„è¡¨saurzcodeï¼Œæ­å–œä½ å¤§åŠŸå‘Šæˆï¼ğŸ˜†ğŸ˜ğŸ¤ ","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"},{"name":"Hive","slug":"Hive","permalink":"http://frankchen.xyz/tags/Hive/"},{"name":"Hadoop","slug":"Hadoop","permalink":"http://frankchen.xyz/tags/Hadoop/"}]},{"title":"ssh å»ºç«‹æœ¬åœ°localhostä¸è¿œç¨‹æœåŠ¡å™¨localhostçš„è¿æ¥","slug":"ssh-web-tunnel","date":"2017-07-06T06:23:29.000Z","updated":"2017-07-06T07:06:27.000Z","comments":true,"path":"2017/07/06/ssh-web-tunnel/","link":"","permalink":"http://frankchen.xyz/2017/07/06/ssh-web-tunnel/","excerpt":"","text":"è¿œç¨‹è¿æ¥æœåŠ¡å™¨å¼€å‘æ—¶ï¼Œç»å¸¸éœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨çš„localhostçš„webç•Œé¢æŸ¥çœ‹ï¼Œå¦‚æ·±åº¦å­¦ä¹ æœåŠ¡å™¨çš„jupyter notebookã€æœåŠ¡å™¨ä¸Šçš„hadoopçš„hdfså’Œyarnä»¥åŠsparkçš„webç•Œé¢ï¼Œè¿˜æœ‰Supervisorç­‰ç­‰ï¼Œå¾ˆå¤šæ—¶å€™æœåŠ¡å™¨éƒ½æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œå¾ˆå¤šæ—¶å€™ç”¨æœåŠ¡å™¨IPåœ¨æœ¬åœ°æŸ¥çœ‹åˆå› ä¸ºé˜²ç«å¢™çš„åŸå› è¢«é˜»æŒ¡ï¼Œé‚£ä¹ˆè¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆç®€å•çš„æ–¹æ³•å³å¯è¾¾åˆ°ç›®çš„ï¼šå³ä»æœ¬åœ°å»ºç«‹ä¸€ä¸ªsshé€šé“ï¼Œå¦‚ 1ssh username@address_of_remote -L 127.0.0.1:1234:127.0.0.1:8888 å³å¯åœ¨æœ¬åœ°çš„1234ç«¯å£è®¿é—®è¿œç¨‹æœåŠ¡å™¨çš„127.0.0.1:8888åœ°å€äº†ï¼","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"ä½¿ç”¨supervisoræ”¯æŒPython3ç¨‹åº","slug":"Use-supervisor-support-Python3-program","date":"2017-07-06T03:23:07.000Z","updated":"2017-08-03T07:54:40.000Z","comments":true,"path":"2017/07/06/Use-supervisor-support-Python3-program/","link":"","permalink":"http://frankchen.xyz/2017/07/06/Use-supervisor-support-Python3-program/","excerpt":"Supervisoræ˜¯python2å†™å°±çš„ä¸€æ¬¾å¼ºå¤§çš„è¿ç»´å·¥å…·ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œç›®å‰Supervisorè¿˜ä¸æ”¯æŒpython3ï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ©ç”¨Supervisorç›‘æ§python3ç¨‹åºå‘¢ï¼Ÿæœ¬æ–‡ä¸»è¦è®²è¿°Supervisoråœ¨Ubuntuä¸‹çš„å®‰è£…éƒ¨ç½²ä»¥åŠä¸Šè¿°é—®é¢˜çš„è§£å†³ã€‚","text":"Supervisoræ˜¯python2å†™å°±çš„ä¸€æ¬¾å¼ºå¤§çš„è¿ç»´å·¥å…·ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œç›®å‰Supervisorè¿˜ä¸æ”¯æŒpython3ï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ©ç”¨Supervisorç›‘æ§python3ç¨‹åºå‘¢ï¼Ÿæœ¬æ–‡ä¸»è¦è®²è¿°Supervisoråœ¨Ubuntuä¸‹çš„å®‰è£…éƒ¨ç½²ä»¥åŠä¸Šè¿°é—®é¢˜çš„è§£å†³ã€‚ å®‰è£…åŠè®¾ç½®å¯é€šè¿‡pipå®‰è£…ï¼Œå¦‚æœä½ å·²ç»æ˜¯python3çš„pipï¼Œä¼šå®‰è£…å¤±è´¥ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨sudo apt-get install supervisoræ¥å®‰è£…ï¼Œé»˜è®¤ç”±Ubuntuè‡ªå¸¦çš„/usr/bin/python2.7é©±åŠ¨ã€‚ è¿è¡Œecho_supervisord_conf &gt; /etc/supervisor/supervisord.confæ¥äº§ç”Ÿè®¾ç½®ï¼Œæœªé¿å…äº§ç”Ÿérootç”¨æˆ·çš„æƒé™é”™è¯¯ï¼Œå°†/etc/supervisor/supervisord.confå†…[unix_http_server]è¿™é¡¹æ”¹ä¸ºï¼ˆ;å³æ˜¯æ³¨é‡Šï¼‰ï¼š 123456[unix_http_server]file=/tmp/supervisor.sock ; (the path to the socket file)chmod=0766 ; socket file mode (default 0700);chown=nobody:nogroup ; socket file uid:gid owner;username=user ; (default is no username (open server));password=123 ; (default is no password (open server)) å†å°†æœ«å°¾çš„[include]éƒ¨åˆ†æ”¹ä¸ºï¼š123[include]files = /etc/supervisor/*.conffiles = /etc/supervisor/conf.d/*.conf è¿™æ ·æ–¹ä¾¿ä¸ºæ¯ä¸ªappå•ç‹¬è®¾ç½®confæ–‡ä»¶è€Œä¸å¿…å…¨éƒ¨å†™åœ¨å…¨å±€è®¾ç½®é‡Œé¢ã€‚ åœ¨å¯åŠ¨supervisorctlé¡»å…ˆå¯åŠ¨supervisordï¼Œå¦åˆ™ä¼šå‡ºç°error: &lt;class &#39;socket.error&#39;&gt;, [Errno 99] Cannot assign requested address: file: /usr/lib/python2.7/socket.py line: 575é”™è¯¯ï¼š 12sudo supervisord -c /etc/supervisor/supervisord.confsudo supervisorctl -c /etc/supervisor/supervisord.conf åœ¨/etc/supervisor/conf.d/é‡Œæ–°å»ºapp.confæ–‡ä»¶ï¼Œ12345678910111213[program:app]directory = ~/su/ ; ç¨‹åºçš„å¯åŠ¨ç›®å½•command = /home/hadoop/anaconda3/bin/python /home/hadoop/su/app.py ; å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡ºä¸æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„ï¼Œæ³¨æ„è¿™é‡Œhomeä¸å¯ç”¨~ä»£æ›¿autostart = true ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨startsecs = 5 ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†autorestart = true ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯startretries = 3 ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 3user = hadoop ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨redirect_stderr = true ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ falsestdout_logfile_maxbytes = 20MB ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ 50MBstdout_logfile_backups = 20 ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰stdout_logfile = /tmp/app.log å†ä»‹ç»ä¸¤ä¸ªæœ‰ç”¨çš„é…ç½®é¡¹stopasgroupå’Œkillasgroupï¼Œå¦‚æœæˆ‘ä»¬ç”¨Flaskç­‰RestæœåŠ¡ï¼Œé€šå¸¸å…¶ä¼šå¼€å¯å‡ ä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆå¦‚æœstopasgroupä¸å¯ç”¨çš„è¯ï¼Œsupervisoræ— æ³•é‡å¯æ­¤æœåŠ¡ï¼ˆå…³é—­ä¸»è¿›ç¨‹æ—¶å…¶å­è¿›ç¨‹æ²¡æœ‰å…³é—­ï¼Œå†å¼€å¯ä¸»è¿›ç¨‹æ—¶ä¼šæç¤ºç«¯å£è¢«å ç”¨ç­‰é”™è¯¯ä¿¡æ¯ï¼‰ã€‚ 1234; é»˜è®¤ä¸º falseï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œå½“è¿›ç¨‹æ”¶åˆ° stop ä¿¡å·æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯¥ä¿¡å·å‘ç»™è¯¥è¿›ç¨‹çš„å­è¿›ç¨‹ã€‚å¦‚æœè¿™ä¸ªé…ç½®é¡¹ä¸º trueï¼Œé‚£ä¹ˆä¹Ÿéšå« killasgroup ä¸º trueã€‚ä¾‹å¦‚åœ¨ Debug æ¨¡å¼ä½¿ç”¨ Flask æ—¶ï¼ŒFlask ä¸ä¼šå°†æ¥æ”¶åˆ°çš„ stop ä¿¡å·ä¹Ÿä¼ é€’ç»™å®ƒçš„å­è¿›ç¨‹ï¼Œå› æ­¤å°±éœ€è¦è®¾ç½®è¿™ä¸ªé…ç½®é¡¹ã€‚stopasgroup=false ; send stop signal to the UNIX process ; é»˜è®¤ä¸º falseï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œå½“è¿›ç¨‹æ”¶åˆ° kill ä¿¡å·æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯¥ä¿¡å·å‘ç»™è¯¥è¿›ç¨‹çš„å­è¿›ç¨‹ã€‚å¦‚æœè¿™ä¸ªç¨‹åºä½¿ç”¨äº† python çš„ multiprocessing æ—¶ï¼Œå°±èƒ½è‡ªåŠ¨åœæ­¢å®ƒçš„å­çº¿ç¨‹ã€‚killasgroup=false ; SIGKILL the UNIX process group (def false) è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶supervisoræ˜¯python2å†™çš„ï¼Œä½†åªè¦æˆ‘ä»¬æŒ‡å®šè¿è¡Œçš„python3è§£é‡Šå™¨å»è¿è¡Œç¨‹åºå°±è¡Œäº†ã€‚ è¿è¡Œsupervisorctlï¼Œå³å¯åœ¨shellé‡Œé¢æ–¹ä¾¿çš„æ“ä½œï¼Œå¦‚start appã€restart appç­‰ã€‚ è‹¥éœ€è¦webç•Œé¢ï¼Œå¯åœ¨/etc/supervisor/supervisord.confå†…ä¿®æ”¹ï¼Œ 1234[inet_http_server] ; inet (TCP) server disabled by defaultport=127.0.0.1:9001 ; (ip_address:port specifier, *:port for all iface, è‹¥çš„å½¢å¼*:portåˆ™å¼€æ”¾å¤–ç½‘è®¿é—® );username=user ; (default is no username (open server));password=123 ; (default is no password (open server)) é‡å¯supervisorctlåå³å¯åœ¨127.0.0.1:9001è§åˆ°webç•Œé¢ï¼Œ æ³¨æ„äº‹é¡¹ å¦‚æœä¿®æ”¹äº† /etc/supervisord.conf ,éœ€è¦æ‰§è¡Œ supervisorctl reload æ¥é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚ã€‚ã€‚ å¾ˆå¤šæ—¶å€™ç”¨supervisorç®¡ç†åå°è¿›ç¨‹å®¹æ˜“å¤±è´¥ï¼Œå¦‚hbase/bin/hbase-daemon.sh start thriftï¼Œè¿™æ—¶å€™å¯ä»¥æ”¹ç”¨å‰å°è¿›ç¨‹å¦‚/usr/local/hbase/bin/hbase thrift startã€‚","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://frankchen.xyz/tags/è¿ç»´/"}]},{"title":"Ubuntu16.04 å›ºå®šIPä¸è®¾ç½®DNS","slug":"Ubuntu-16-04-static-IP","date":"2017-06-20T07:13:31.000Z","updated":"2018-02-28T04:22:49.320Z","comments":true,"path":"2017/06/20/Ubuntu-16-04-static-IP/","link":"","permalink":"http://frankchen.xyz/2017/06/20/Ubuntu-16-04-static-IP/","excerpt":"è®¾ç½®Hadoopé›†ç¾¤çš„ç¬¬ä¸€æ­¥å¾ˆå¯èƒ½å°±æ˜¯è®¾ç½®å›ºå®šIPäºDNSï¼Œè€Œç½‘ä¸Šè¿™ä¸€åšæ³•ç”±äºUbuntuç‰ˆæœ¬åŠæ¡Œé¢ç‰ˆæœåŠ¡å™¨ç‰ˆçš„ä¸åŒå¯¼è‡´æ®‹å·®ä¸é½ï¼Œæœ¬æ–‡è®°å½•ä¸€ä¸‹Ubuntu16.04åœ¨éå›¾å½¢ç•Œé¢å›ºå®šIPä¸è®¾ç½®DNSçš„è¿‡ç¨‹ã€‚","text":"è®¾ç½®Hadoopé›†ç¾¤çš„ç¬¬ä¸€æ­¥å¾ˆå¯èƒ½å°±æ˜¯è®¾ç½®å›ºå®šIPäºDNSï¼Œè€Œç½‘ä¸Šè¿™ä¸€åšæ³•ç”±äºUbuntuç‰ˆæœ¬åŠæ¡Œé¢ç‰ˆæœåŠ¡å™¨ç‰ˆçš„ä¸åŒå¯¼è‡´æ®‹å·®ä¸é½ï¼Œæœ¬æ–‡è®°å½•ä¸€ä¸‹Ubuntu16.04åœ¨éå›¾å½¢ç•Œé¢å›ºå®šIPä¸è®¾ç½®DNSçš„è¿‡ç¨‹ã€‚ Ubuntu16.04 å›ºå®šIPStep-Oneã€Ubuntu-serverä¸éœ€ï¼Œè·³è¿‡å³å¯ã€‘123sudo vim /etc/NetworkManager/NetworkManager.conf# å°†`managed=false`ä¿®æ”¹æˆ`managed=true`sudo reboot Step-Twoå¦‚ä¸‹1234567891011121314151617# ä¿®æ”¹é…ç½®æ–‡ä»¶sudo vim /etc/network/interfaces``` æ”¹ä¸º``` bash# interfaces(5) file used by ifup(8) and ifdown(8)auto loiface lo inet loopbackauto enp0s31f6iface enp0s31f6 inet staticaddress 192.168.1.109netmask 255.255.255.0#network 192.168.1.0#broadcast 192.168.1.255gateway 192.168.1.254 å…¶ä¸­â€˜enp0s31f6â€™å°±æ˜¯ifconfigä¸­ä»¥å¤ªç½‘åç§°ã€‚ é™„Linuxä¸‹æŸ¥çœ‹ç½‘å…³gatewayæ–¹æ³•ï¼š route -n ip route show traceroute www.baidu.com -s 100 ã€ç¬¬ä¸€è¡Œå°±æ˜¯è‡ªå·±çš„ç½‘å…³ã€‘ netstat -r more /etc/network/interfaces ã€Debian/Ubuntu Linuxã€‘ more /etc/sysconfig/network-scripts/ifcfg-eth0 ã€Red Hat Linuxã€‘ å¦‚ä¸æ¸…æ¥šç½‘å…³å’Œå­ç½‘æ©ç ç­‰å‚æ•°ï¼Œå¯åœ¨Ubuntuè®¾ç½®é‡Œå°†networké‡Œçš„ipv4å…ˆè®¾ç½®ä¸ºDHCPï¼ˆè‡ªåŠ¨è·å–ç½‘ç»œï¼‰ï¼Œå†åˆ©ç”¨ifconfigå’Œä¸Šè¿°æ–¹æ³•æŸ¥çœ‹å‚æ•°åæ›´æ”¹å›ºå®šå‚æ•°ã€‚ Step-Three12# é‡å¯networkingæœåŠ¡sudo systemctl restart networking.service Ubuntu16.04 è®¾ç½®DNSä½†æ˜¯å›ºå®šIPä½¿å¾—ç”µè„‘å¾ˆå¯èƒ½æ— æ³•ä¸Šç½‘ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨è®¾ç½®DNSã€‚ 12# é»˜è®¤æ–‡ä»¶ä¸å­˜åœ¨sudo vim /etc/resolvconf/resolv.conf.d/base æ·»åŠ ä¸‹é¢å†…å®¹ï¼š 12345meserver 8.8.8.8nameserver 8.8.4.4nameserver 192.168.1.254nameserver 114.114.114.114 å…¶ä¸­114.114.114.114æ˜¯å›½å†…ç§»åŠ¨ã€ç”µä¿¡å’Œè”é€šé€šç”¨çš„DNSï¼Œ8.8.8.8å’Œ8.8.4.4æ˜¯GOOGLEå…¬å¸æä¾›çš„DNSï¼Œ192.168.1.254æ˜¯ç½‘å…³åœ°å€ã€‚ å‚è€ƒè‡ª ubuntu16.04å›ºå®šIPä¸è®¾ç½®DNS - ç®€ä¹¦","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"Learning Something from Fluent Python","slug":"Learning-Something-from-Fluent-Python","date":"2017-06-18T11:42:32.000Z","updated":"2017-06-18T12:01:59.000Z","comments":true,"path":"2017/06/18/Learning-Something-from-Fluent-Python/","link":"","permalink":"http://frankchen.xyz/2017/06/18/Learning-Something-from-Fluent-Python/","excerpt":"â€œFluent Pythonâ€ çœŸæ˜¯ä¸€æœ¬ä¸å¯å¤šå¾—çš„è¿›é˜¶Pythonç¥ä¹¦ï¼è¯»æ—¶æ„Ÿè§‰å°±åƒä¸€ä¸ªè€å¸æœºè®²ä»–çš„ç»å†ï¼Œè€Œä½ æƒ…ä¸è‡ªç¦çš„å–Šâ€œ666~â€ã€‚æœ¬æ–‡è®°å½•ä¸€äº›ä»ä¹¦é‡Œçœ‹åˆ°çš„ç²¾å½©ç‰‡æ®µä¸å¿ƒå¾—ã€‚","text":"â€œFluent Pythonâ€ çœŸæ˜¯ä¸€æœ¬ä¸å¯å¤šå¾—çš„è¿›é˜¶Pythonç¥ä¹¦ï¼è¯»æ—¶æ„Ÿè§‰å°±åƒä¸€ä¸ªè€å¸æœºè®²ä»–çš„ç»å†ï¼Œè€Œä½ æƒ…ä¸è‡ªç¦çš„å–Šâ€œ666~â€ã€‚æœ¬æ–‡è®°å½•ä¸€äº›ä»ä¹¦é‡Œçœ‹åˆ°çš„ç²¾å½©ç‰‡æ®µä¸å¿ƒå¾—ã€‚ singledispatchè£…é¥°å™¨functools.singledispatch è£…é¥°å™¨æ˜¯åœ¨Python 3.4ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œç±»ä¼¼java çš„æ–¹æ³•é‡è½½ï¼Œå¯ä»¥è®©ä½ æ–¹ä¾¿çš„ä¸ºä¸åŒçš„ç±»å‹å‚æ•°è°ƒç”¨ä¸åŒå‡½æ•°ã€‚ä¹¦ä¸­ä¸¾çš„ä¸€ä¸ªåœºæ™¯æ˜¯æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºä¸åŒçš„å‚æ•°ç”Ÿæˆä¸åŒæ ¼å¼çš„HTML tagï¼Œé‚£ä¹ˆå¦‚æœç”¨ä¸€ä¸ªå‡½æ•°æ¥è¡¨è¾¾è¿™ä¸ªé€»è¾‘ï¼Œå¯èƒ½éœ€è¦éå¸¸å¤šçš„if-elseé€»è¾‘çš„è·³è½¬ï¼Œè¿™ä¸ä»…å¾ˆç¹æ‚ï¼Œè€Œä¸”ä¸åˆ©äºåæœŸçš„ç»´æŠ¤ä¸è¿­ä»£ï¼Œé‚£ä¹ˆsingledispatch è£…é¥°å™¨å°±å¯ä»¥è®©ä½ ä»è¿™ä¸ªå±€é¢é‡Œè§£æ”¾å‡ºæ¥ï¼Œå¦‚ï¼š 123456789101112131415161718192021222324252627282930# -*- coding:utf8 -*-# Created by frank at 18/06/2017from functools import singledispatch@singledispatchdef myprint(): pass@myprint.register(str)def _(text): print(\"FUCKING STRING! &#123;0&#125;\".format(text))@myprint.register(int)def _(n): print(\"FUCKING INT! &#123;0&#125;\".format(n))@myprint.register(float)def _(f): print(\"FUCKING FLOAT! &#123;0&#125;\".format(f))@myprint.register(tuple)def _(seq): print(\"FUCKING TUPLE!\" + str([item for item in seq]))if __name__ == '__main__': myprint(1) myprint(0.5) myprint('frank') myprint((1, 2, 3)) ç»“æœæ˜¯1234FUCK INT! 1FUCK FLOAT! 0.5FUCK STRING! frankFUCK tuple![1, 2, 3] ä»¥ä¸Šçš„ç®€å•çš„ä¾‹å­ä¸­ï¼Œsingledispatchè£…é¥°å™¨ä¸ºmyprintå‡½æ•°çš„ä¸åŒå‚æ•°é€‰æ‹©äº†ä¸åŒçš„è°ƒç”¨ã€‚","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"}]},{"title":"programmer humor week 4","slug":"programmer-humor-week-4","date":"2017-06-18T11:28:36.000Z","updated":"2017-06-19T11:50:07.000Z","comments":true,"path":"2017/06/18/programmer-humor-week-4/","link":"","permalink":"http://frankchen.xyz/2017/06/18/programmer-humor-week-4/","excerpt":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ","text":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ Passwords Haters will say he/she doesnâ€™t even code Just a bit. Happy Birthday Linux! How to get tomorrowâ€™s date å¼•ç”¨è‡ªProgrammer Humor","categories":[],"tags":[{"name":"Funny","slug":"Funny","permalink":"http://frankchen.xyz/tags/Funny/"}]},{"title":"Python PATHæ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Ÿä»â€œimport pysparkâ€æŠ¥é”™è¯´èµ·","slug":"About-Python-PATH","date":"2017-06-14T18:57:57.000Z","updated":"2017-06-17T06:11:39.000Z","comments":true,"path":"2017/06/15/About-Python-PATH/","link":"","permalink":"http://frankchen.xyz/2017/06/15/About-Python-PATH/","excerpt":"ä¸ºä½•import pysparkæŠ¥é”™ï¼Ÿè®©æˆ‘ä»¬ä»æ‹ä¸€æ‹Pythonçš„ç¯å¢ƒå˜é‡PATHå¼€å§‹ï¼","text":"ä¸ºä½•import pysparkæŠ¥é”™ï¼Ÿè®©æˆ‘ä»¬ä»æ‹ä¸€æ‹Pythonçš„ç¯å¢ƒå˜é‡PATHå¼€å§‹ï¼ Sparkè£…å¥½åç›´æ¥åœ¨ä»£ç å¼€å¤´import pysparkä¸å‡ºæ„å¤–æ˜¯è¦æŠ¥é”™çš„ï¼Œæ²¡æœ‰è¿™ä¸ªæ¨¡å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œåªæ˜¯pythonæ‰¾ä¸åˆ°è¿™ä¸ªåœ°å€è€Œå·²ï¼Œæœ‰å¾ˆquick and dirtyçš„è§£å†³æ–¹æ³•ï¼Œå°±æ˜¯åˆ©ç”¨åŒ…findsparkï¼Œåªè¦åœ¨å¼€å¤´12import findsparkfindspark.init() æ¥ä¸‹æ¥å³å¯é¡ºåˆ©import pysparkï¼Œä¸è¿‡è¿™ä¸ªåœ¨â€œimportå…¶ä»–ä¾èµ–ä¹‹å‰å…ˆè¿è¡Œå‡½æ•°â€å®åœ¨æ˜¯æœ‰ç¢è§‚èµæ€§ã€‚ã€‚ã€‚ä»€ä¹ˆæ˜¯â€œä¼˜é›…çš„è§£å†³æ–¹æ³•â€å‘¢ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹import findsparkåšäº†ä»€ä¹ˆå§ï¼š 12345678910111213141516# ensure SPARK_HOME is definedos.environ['SPARK_HOME'] = spark_home# ensure PYSPARK_PYTHON is definedos.environ['PYSPARK_PYTHON'] = python_path# add pyspark to sys.pathspark_python = os.path.join(spark_home, 'python')py4j = glob(os.path.join(spark_python, 'lib', 'py4j-*.zip'))[0]sys.path[:0] = [spark_python, py4j]if edit_rc: change_rc(spark_home, spark_python, py4j) if edit_profile: edit_ipython_profile(spark_home, spark_python, py4j) debugä¸€ä¸‹ï¼ŒåŸæ¥init()çš„ä½œç”¨å³æ˜¯å°†å¦‚â€™/usr/local/spark/pythonâ€™å’Œâ€™/usr/local/spark/python/lib/py4j-0.9-src.zipâ€™å†™å…¥ sys.pathå†…ï¼Œå…¶ä¸­å¯é€‰æ˜¯å¦å†™å…¥â€™~/.bashrcâ€™æˆ–è€…IPython profileé‡Œã€‚å†é€šè¿‡æŸ¥é˜…ä¸€äº›èµ„æ–™ï¼Œæˆ‘ä»¬å¼€å§‹éªŒè¯æƒ³æ³•ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨æ¡Œé¢å»ºç«‹â€™fuck.pyâ€™æ–‡ä»¶ï¼š echo &quot;print(&#39;FUCK&#39;)&quot; &gt; fuck.pyé‚£ä¹ˆï¼Œåªè¦æˆ‘ä»¬import fuck æˆåŠŸå³æ‰“å°æ­¤æ–‡å­—ï¼Œæˆ‘ä»¬åœ¨Desktopä¸‹ï¼š 1234frank@mac:Desktop$ python -c \"import fuck\"FUCKfrank@mac:Desktop$ python -c \"import sys; print(sys.path)\"['', '/Users/frank/Desktop', '/Users/frank/anaconda/lib/python36.zip', '/Users/frank/anaconda/lib/python3.6', '/Users/frank/anaconda/lib/python3.6/lib-dynload', '/Users/frank/anaconda/lib/python3.6/site-packages', '/Users/frank/anaconda/lib/python3.6/site-packages/Sphinx-1.5.1-py3.6.egg', '/Users/frank/anaconda/lib/python3.6/site-packages/aeosa', '/Users/frank/anaconda/lib/python3.6/site-packages/setuptools-27.2.0-py3.6.egg'] æ²¡é—®é¢˜ï¼Œå› ä¸ºsys.pathè™½ä¸åŒ…æ‹¬å½“å‰ç›®å½•ï¼Œä½†æ˜¯buildinå‡½æ•°importé»˜è®¤å¯»æ‰¾å½“å‰ç›®å½•ã€‚ é‚£æˆ‘ä»¬åˆ‡åˆ°å…¶ä»–æ–‡ä»¶å¤¹ï¼Ÿ 12345678frank@mac:tmp$ pythonfrank@mac:tmp$ python -c \"import fuck\"Traceback (most recent call last): File \"&lt;string&gt;\", line 1, in &lt;module&gt;ModuleNotFoundError: No module named 'fuck'frank@mac:tmp$ python -c \"import sys; print(sys.path)\"['', '/Users/frank/anaconda/lib/python36.zip', '/Users/frank/anaconda/lib/python3.6', '/Users/frank/anaconda/lib/python3.6/lib-dynload', '/Users/frank/anaconda/lib/python3.6/site-packages', '/Users/frank/anaconda/lib/python3.6/site-packages/Sphinx-1.5.1-py3.6.egg', '/Users/frank/anaconda/lib/python3.6/site-packages/aeosa', '/Users/frank/anaconda/lib/python3.6/site-packages/setuptools-27.2.0-py3.6.egg'] fuck.pyæ—¢ä¸åœ¨å½“å‰ç›®å½•ä¹Ÿä¸åœ¨sys.pathï¼Œé‚£ä¹ˆå¦‚ä½•æ·»åŠ å‘¢ï¼Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€æ˜¯æ·»åŠ è¿›sys.pathé‡Œï¼š 123&gt;&gt;&gt; sys.path.append('/Users/frank/Desktop')&gt;&gt;&gt; import fuckFUCK ä¸è¿‡è¿™ä¸ªåªå¯¹å½“å‰ç¨‹åºèµ·ä½œç”¨ï¼Œæƒ³è¦æŒä¹…æ•ˆæœçš„è¯ï¼Œé€šè¿‡æŸ¥é˜…29.1. sys â€” System-specific parameters and functions â€” Python 3.6.1 documentationå¯å¾—ï¼Œsys.pathæ˜¯é€šè¿‡PYTHONPATHç¯å¢ƒå˜é‡èµ·ä½œç”¨çš„ï¼Œé‚£ä¹ˆæŠŠéœ€è¦çš„ç›®å½•æ·»åŠ åˆ°PYTHONPATHå³å¯ï¼š 1frank@mac:~$ echo \"export PYTHONPATH=/Users/frank/Desktop:$PYTHONPATH\" &gt;&gt; ~/.profile &amp;&amp; source ~/.profile å†importå³å¯æˆåŠŸï¼š 12frank@mac:tmp$ python -c \"import fuck\"FUCK ç»¼ä¸Šï¼Œéœ€è¦ä¸€åŠ³æ°¸é€¸è§£å†³import pysparkå¤±è´¥çš„é—®é¢˜ï¼Œé‚£ä¹ˆåœ¨`~/.profileâ€™å†…æ·»åŠ å¦‚ä¸‹å³å¯ï¼ˆpy4j-0.10.4-éƒ¨åˆ†ç‰ˆæœ¬å·å¯èƒ½ä¸åŒï¼‰ï¼‰ï¼š 12export SPARK_HOME=/usr/local/sparkexport PYTHONPATH=$SPARK_HOME/python:$SPARK_HOME/python/lib/py4j-0.10.4-src.zip:$PYTHONPATH åœ¨source ~/.profileå³å¯ã€‚","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"}]},{"title":"programmer humor week 3","slug":"programmer-humor-week-3","date":"2017-05-27T09:58:39.000Z","updated":"2017-06-07T08:45:31.000Z","comments":true,"path":"2017/05/27/programmer-humor-week-3/","link":"","permalink":"http://frankchen.xyz/2017/05/27/programmer-humor-week-3/","excerpt":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ","text":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ â€œwhat sales doesâ€ Harry Potter can code Python The neverending story. relationship Functional Programming For Beginners å¼•ç”¨è‡ªProgrammer Humor","categories":[],"tags":[{"name":"Funny","slug":"Funny","permalink":"http://frankchen.xyz/tags/Funny/"}]},{"title":"Ubuntu 16.04 æ­å»º Spark & Hadoopé›†ç¾¤çš„è¯¦ç»†æ­¥éª¤åŠæŠ¥é”™å¡«å‘","slug":"Ubuntu-16-04-install-Spark-Hadoop","date":"2017-05-27T08:13:04.000Z","updated":"2017-08-02T06:06:53.000Z","comments":true,"path":"2017/05/27/Ubuntu-16-04-install-Spark-Hadoop/","link":"","permalink":"http://frankchen.xyz/2017/05/27/Ubuntu-16-04-install-Spark-Hadoop/","excerpt":"åœ¨Ubuntu 16.04 å®‰è£… Spark &amp; Hadoopåˆ†å¸ƒå¼é›†ç¾¤çš„è®°å½•","text":"åœ¨Ubuntu 16.04 å®‰è£… Spark &amp; Hadoopåˆ†å¸ƒå¼é›†ç¾¤çš„è®°å½• ç¯å¢ƒé…ç½®å¦‚ä¸‹è®¾ç½®é»˜è®¤éƒ½åœ¨æ¯ä¸€å°æœºå™¨ä¸Šéƒ½è¦è¿›è¡Œã€‚ é…ç½®hadoopç”¨æˆ·é¦–å…ˆæ˜¯åœ¨æ¯ä¸ªæœºå™¨ä¸Šåˆ›å»ºhadoopç”¨æˆ·ï¼Œè®¾ç½®å¯†ç ï¼ˆæ–¹ä¾¿èµ·è§å»ºè®®éƒ½è®¾ç½®ä¸€æ ·çš„ï¼‰ï¼Œå¹¶èµ‹äºˆå…¶rootæƒé™ 123sudo useradd -m hadoop -s /bin/bashsudo passwd hadoopsudo adduser hadoop sudo å›ºå®šIPä¸ºé˜²æ­¢é‡å¯å¯¼è‡´IPå˜åŒ–ï¼Œéœ€è¦å›ºå®šIpæ–¹æ³•å‚è€ƒUbuntu16.04 å›ºå®šIPä¸è®¾ç½®DNS | ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶ é…ç½®hostsä¸ºæ–¹ä¾¿éƒ¨ç½²ï¼Œå¯é…ç½®hostsåï¼Œæ–¹ä¾¿è¾“å…¥åœ°å€ï¼Œå¦‚ä¸‹ 12345vim /etc/hosts192.168.1.113 czn.shise.com192.168.1.102 czm.shise.com192.168.1.120 wwj.shise.com192.168.1.123 bas.shise.com æµ‹è¯•èƒ½å¦pingé€šping czn.shise.com -c 3 é…ç½® ssh æ— å¯†ç è®¿é—®é›†ç¾¤æœºå™¨æ¯å°æœºå™¨ä¹‹é—´ä»¥åŠæ¯å°æœºå™¨ä¸è‡ªå·±çš„localhostéƒ½éœ€é…ç½®sshå…å¯†ç ç™»å½•ã€‚å¦‚æœªå®‰è£…sshéœ€ sudo apt install openssh-server 1234ssh localhostexit # é€€å‡ºåˆšæ‰çš„ ssh localhostcd ~/.ssh/ # è‹¥æ²¡æœ‰è¯¥ç›®å½•ï¼Œè¯·å…ˆæ‰§è¡Œä¸€æ¬¡ssh localhostssh-keygen -t rsa # ä¼šæœ‰æç¤ºï¼Œéƒ½æŒ‰å›è½¦å°±å¯ä»¥ å†ç”¨ssh-copy-idæ¥è®¾ç½®å…å¯†ç ç™»å½•ï¼Œå¦‚ 1234ssh-copy-id localhostssh-copy-id czn.shise.comssh-copy-id czm.shise.comssh-copy-id bas.shise.com åœ¨æ¯ä¸ªæœºå™¨ä¸Šéƒ½å¦‚æ­¤è®¾ç½®ä¸å…¶å®ƒæœºå™¨çš„å…å¯†ç ç™»å½•ã€‚è¿™é‡Œé»˜è®¤éƒ½æ˜¯hadoopç”¨æˆ·ï¼Œæ‰€ä»¥ä¸éœ€å¸¦ç”¨æˆ·åï¼Œå¦‚æœä¸æ˜¯åˆ™éœ€è¦å¸¦ç”¨æˆ·åå¦‚ssh-copy-id hadoop@czn.shise.com Javaç¯å¢ƒç»Ÿä¸€ä½¿ç”¨openjdk-8ï¼Œsudo apt-get install openjdk-8-jre openjdk-8-jdkä¼šé»˜è®¤å®‰è£…åœ¨/usr/lib/jvm/java-8-openjdk-amd64 Hadoopé›†ç¾¤é…ç½®æˆ‘ä»¬å…ˆç™»å½•è‡³ä½œä¸ºmasterçš„æœºå™¨ï¼Œé…ç½®å¥½ä¹‹åå†å°†hadoopç¯å¢ƒå¤åˆ¶è‡³å„slaveå³å¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚é¦–å…ˆæ˜¯Hadoopé›†ç¾¤çš„é…ç½®ï¼Œä¸‹è½½Index of /apache/hadoop/commonï¼Œæˆ‘ä»¬é€‰æ‹©2.7.3ç‰ˆæœ¬ã€‚æ”¾ç½®1234sudo tar -zxf ~/Downloads/hadoop-2.7.3.tar.gz -C /usr/local # è§£å‹åˆ°/usr/localä¸­cd /usr/local/sudo mv ./hadoop-2.7.3/ ./hadoop # å°†æ–‡ä»¶å¤¹åæ”¹ä¸ºhadoopsudo chown -R hadoop:hadoop ./hadoop # ä¿®æ”¹æ–‡ä»¶æƒé™ å„æ–‡ä»¶é…ç½®é…ç½®hadoop/etc/hadoopæ–‡ä»¶å¤¹ä¸‹çš„å„æ–‡ä»¶ï¼Œ åœ¨hadoop-env.shé‡Œæ·»åŠ 12export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64export HADOOP_PREFIX=/usr/local/hadoop åœ¨core-site.xmlé‡Œæ·»åŠ  12345678910&lt;configuration&gt; &lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://wwj.shise.com:9000&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;file:/usr/local/hadoop/tmp&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; åœ¨yarn-site.xmlé‡Œæ·»åŠ  12345678910&lt;configuration&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt; &lt;value&gt;wwj.shise.com&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt; &lt;value&gt;mapreduce_shuffle&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; æ”¹å†™slavesä¸º 1234czn.shise.comczm.shise.comwwj.shise.combas.shise.com æ”¹å†™mapred-site.xmlæ–‡ä»¶ 1234567891011121314&lt;configuration&gt; &lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt; &lt;value&gt;wwj.shise.com:10020&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt; &lt;value&gt;wwj.shise.com:19888&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; hdfs-site.xmlæ–‡ä»¶ 123456789101112131415161718&lt;configuration&gt; &lt;property&gt; &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt; &lt;value&gt;wwj.shise.com:50090&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;3&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt; &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/name&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt; &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/data&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; å¤åˆ¶é…ç½®å¥½çš„hadoopè‡³å„æœºå™¨åœ¨masterä¸Šå‹ç¼©æ–‡ä»¶12345678cd /usr/localsudo rm -r ./hadoop/tmp # åˆ é™¤ Hadoop ä¸´æ—¶æ–‡ä»¶sudo rm -r ./hadoop/logs/* # åˆ é™¤æ—¥å¿—æ–‡ä»¶tar -zcf ~/hadoop.master.tar.gz ./hadoop # å…ˆå‹ç¼©å†å¤åˆ¶cd ~scp ./hadoop.master.tar.gz czn.shise.com:/home/hadoop # å¤åˆ¶è‡³å„æœºå™¨scp ./hadoop.master.tar.gz czm.shise.com:/home/hadoopscp ./hadoop.master.tar.gz bas.shise.com:/home/hadoop å†ç™»å½•è‡³å¤åˆ¶è¿‡å»çš„æ¯ä¸ªslave123sudo rm -r /usr/local/hadoop # åˆ æ‰æ—§çš„ï¼ˆå¦‚æœå­˜åœ¨ï¼‰sudo tar -zxf ~/hadoop.master.tar.gz -C /usr/localsudo chown -R hadoop /usr/local/hadoop å„æœºå™¨ç¯å¢ƒå˜é‡sudo vim ~/.profileæˆ‘çš„ç¯å¢ƒå˜é‡è®¾ç½®å¦‚ä¸‹123456789# Java Envexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64export JRE_HOME=$JAVA_HOME/jreexport CLASSPATH=.:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar:$JRE_HOME/libexport PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin# Hadoop Envexport HADOOP_HOME=/usr/local/hadoopexport PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin source ~/.profile å¯åŠ¨æ£€æŸ¥ç™»å½•masteræœºå™¨ï¼Œæ‰§è¡Œ NameNode çš„æ ¼å¼åŒ–ï¼šhdfs namenode -formatå…ˆdfsã€å†yarn123start-dfs.shstart-yarn.shmr-jobhistory-daemon.sh start historyserver éªŒè¯hadoopå®‰è£…å¯ä»¥é€šè¿‡jpså‘½ä»¤æŸ¥çœ‹å„ä¸ªèŠ‚ç‚¹å¯åŠ¨çš„è¿›ç¨‹æ˜¯å¦æ­£å¸¸ã€‚åœ¨ master ä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š 12345$ jps #run on master3407 SecondaryNameNode3218 NameNode3552 ResourceManager3910 Jps åœ¨æ¯ä¸ªslaveä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š1234$ jps #run on slaves2072 NodeManager2213 Jps1962 DataNode Sparkåˆ†å¸ƒå¼é…ç½®ä¸‹è½½åŠå®‰ç½®å®˜ç½‘ä¸‹è½½ï¼ŒDownloads | Apache Spark ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©2.2.1ç‰ˆæœ¬ï¼Œ åŠPre-build with user-provided Apache Hadoopï¼Œ 1234sudo tar -zxf ~/Downloads/spark-2.1.1-bin-without-hadoop.tgz -C /usr/local/cd /usr/localsudo mv ./spark-2.1.1-bin-without-hadoop/ ./sparksudo chown -R hadoop:hadoop ./spark # æ­¤å¤„çš„ hadoop ä¸ºä½ çš„ç”¨æˆ·å é…ç½®Spark123cd /usr/local/spark/conf #è¿›å…¥sparké…ç½®ç›®å½•cp spark-env.sh.template spark-env.sh #ä»é…ç½®æ¨¡æ¿å¤åˆ¶vim spark-env.sh #æ·»åŠ é…ç½®å†…å®¹ åœ¨spark-env.shæœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆè¿™æ˜¯æˆ‘çš„é…ç½®ï¼Œä½ å¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼‰ï¼š 1234567#export SCALA_HOME=/home/spark/workspace/scala-2.10.4export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64export HADOOP_HOME=/usr/local/hadoopexport HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoopSPARK_MASTER_IP=wwj.shise.comSPARK_LOCAL_DIRS=/usr/local/sparkSPARK_DRIVER_MEMORY=1G å‚è€ƒUsing Sparkâ€™s â€œHadoop Freeâ€ Build - Spark 2.2.0 Documentationï¼Œspark-env.shè¿˜éœ€åŠ ä¸Šexport SPARK_DIST_CLASSPATH=$(/usr/local/hadoop/bin/hadoop classpath)ã€‚ vim slavesåœ¨slavesæ–‡ä»¶ä¸‹å¡«ä¸Šslaveä¸»æœºåï¼š 1234czn.shise.comczm.shise.comwwj.shise.combas.shise.com å¤åˆ¶é…ç½®å¥½çš„Sparkè‡³å„æœºå™¨12345tar -zcf ~/spark.master.tar.gz ./spark # å…ˆå‹ç¼©å†å¤åˆ¶cd ~/scp ./spark.master.tar.gz czn.shise.com:/home/hadoop #ä¼ è¾“æ•°æ®scp ./spark.master.tar.gz czm.shise.com:/home/hadoop #ä¼ è¾“æ•°æ®scp ./spark.master.tar.gz bas.shise.com:/home/hadoop #ä¼ è¾“æ•°æ® å¯åŠ¨Sparksbin/start-all.shç”¨jpsæ£€æŸ¥ï¼Œåœ¨ master ä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š 123456$ jps7949 Jps7328 SecondaryNameNode7805 Master7137 NameNode7475 ResourceManager åœ¨ slave ä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š 12345$jps3132 DataNode3759 Worker3858 Jps3231 NodeManager æŠ¥é”™åŠè§£å†³ Python in worker has different version 2.7 than that in driver 3.6, PySpark cannot run with different minor versions.Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯ä¸ºworkerä¸driverè®¾ç½®äº†ä¸åŒçš„Pythonç‰ˆæœ¬ï¼Œè§£å†³æ–¹æ³•æ˜¯ï¼ˆä»¥anaconda3.6ä¸ºä¾‹ï¼‰ï¼š vim /usr/local/spark/conf/spark-env.shï¼Œæ·»åŠ  123export ANACONDA_ROOT=/home/hadoop/anaconda3export PYSPARK_DRIVER_PYTHON=$ANACONDA_ROOT/bin/pythonexport PYSPARK_PYTHON=$ANACONDA_ROOT/bin/pythonexport PYSPARK_PYTHON=$ANACONDA_ROOT/bin/python å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¾ˆå¤šæ•™ç¨‹ä¼šè®©ä½ åœ¨.bashrcé‡Œè®¾ç½®ï¼Œè¿™ä¸æ˜¯æ¨èçš„æ–¹æ³•ã€‚å‚è€ƒè‡ªpyspark - How do I set the driverâ€™s python version in spark? - Stack Overflowã€‚ å‚è€ƒè‡ª Spark On YARN é›†ç¾¤å®‰è£…éƒ¨ç½² | Jarkâ€™s Blog Hadoopé›†ç¾¤å®‰è£…é…ç½®æ•™ç¨‹_Hadoop2.6.0_Ubuntu/CentOS_å¦å¤§æ•°æ®åº“å®éªŒå®¤åšå®¢ Hadoopé›†ç¾¤å®Œå…¨åˆ†å¸ƒå¼æ­å»ºæ•™ç¨‹-CentOS - åœ¨è·¯ä¸Š - åšå®¢é¢‘é“ - CSDN.NET Hadoop 2.6.4åˆ†å¸ƒå¼é›†ç¾¤ç¯å¢ƒæ­å»º - JackieYeahçš„ä¸ªäººç©ºé—´ Spark On YARN é›†ç¾¤å®‰è£…éƒ¨ç½² - ç®€ä¹¦","categories":[],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"http://frankchen.xyz/tags/Hadoop/"},{"name":"Spark","slug":"Spark","permalink":"http://frankchen.xyz/tags/Spark/"}]},{"title":"è§£å†³Excelé•¿æ•°å­—è¢«è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„é—®é¢˜","slug":"examples-for-processing-excel-and-time-series","date":"2017-05-12T03:43:34.000Z","updated":"2017-05-12T05:34:50.000Z","comments":true,"path":"2017/05/12/examples-for-processing-excel-and-time-series/","link":"","permalink":"http://frankchen.xyz/2017/05/12/examples-for-processing-excel-and-time-series/","excerpt":"è®°å½•ä¸€äº›åˆ©ç”¨Pandaså¤„ç†Excelå’Œæ—¶é—´æˆ³çš„ä¾‹å­ã€‚","text":"è®°å½•ä¸€äº›åˆ©ç”¨Pandaså¤„ç†Excelå’Œæ—¶é—´æˆ³çš„ä¾‹å­ã€‚ è¯»å–å’Œä¿å­˜Excel1234# sheetnameæŒ‡å®šè¯»å–å­è¡¨dfs = pd.read_excel('/Users/frank/Desktop/hebing.xlsx', sheetname=0)c.to_excel('/Users/frank/Desktop/result.xlsx',index=False) DataFrameåˆå¹¶åŠæ’åº12dfs_group = dfs.groupby(by='è®¢å•å·').sum()dfs_group.sort_values(ascending=False, by='å­è®¢å•é‡‘é¢') æ—¶é—´æ®µåˆ‡ç‰‡è¿™ä¸ªæˆ‘æš‚æ—¶æ²¡å‘ç°å¦‚ä½•ç”¨ä¸€è¡Œè¡¨è¾¾å¼å®Œæˆï¼Œæš‚æ—¶ç”¨çš„è¿™ç§lowæ–¹å¼ğŸ¤£12a = dfs.loc[dfs[\"ä»˜æ¬¾æ—¶é—´\"] &lt; '2017-05-10 09:00:00']b = a.loc[a[\"ä»˜æ¬¾æ—¶é—´\"] &gt; '2017-05-08 10:00:00'] è§£å†³é•¿æ•°å­—è¢«è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„é—®é¢˜æ¯”å¦‚å¥½å¥½çš„è®¢å•å·ï¼Œ ä¿å­˜ä¸ºxlsxæˆ–è€…csvå°±å˜æˆäº†è¿™æ ·ï¼Œè¿™æ˜¯ä»€ä¹ˆç©æ„å„¿ï¼Œå®Œå…¨ä¸èƒ½å¿å•Šï¼ğŸ¤¡ğŸ¤“ğŸ¤‘ å¦‚ä½•è§£å†³å‘¢ï¼Ÿå¦‚ä¸‹ 1c['è®¢å•å·'] = c['è®¢å•å·'].apply(lambda x: '&#123;:.0f&#125;'.format(x)) å³å°†å…¶é•¿æ•°å­—è½¬ä¸ºä¸å¸¦å°æ•°ç‚¹çš„æµ®ç‚¹æ•°å½¢å¼å³å¯ğŸ˜","categories":[],"tags":[{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"},{"name":"Pandas","slug":"Pandas","permalink":"http://frankchen.xyz/tags/Pandas/"}]},{"title":"é¢è¯•å¸¸è§åŸºç¡€ç®—æ³•:æ’åº/æŸ¥æ‰¾/æ ‘çš„éå†ç­‰ï¼ˆpythonç‰ˆï¼‰","slug":"Basic-Algorithms-in-Python","date":"2017-05-04T06:08:10.000Z","updated":"2017-12-15T04:52:33.616Z","comments":true,"path":"2017/05/04/Basic-Algorithms-in-Python/","link":"","permalink":"http://frankchen.xyz/2017/05/04/Basic-Algorithms-in-Python/","excerpt":"æ€»ç»“ä¸€ä¸‹åŸºæœ¬ç®—æ³•ï¼Œä»¥å¤‡å¿˜ï¼Œä»¥å¤ä¹ ã€‚å½“ç„¶ï¼Œä½ åˆ«æŒ‡æœ›è€ƒå®˜ä¼šç›´æ¥è€ƒä½ è¿™äº›ï¼Œå¤ªåŸºç¡€ï¼Œä½†æ˜¯ï¼Œå½“ä»–çŸ¥é“ä½ è¿™äº›éƒ½å†™ä¸å‡ºæ¥çš„æ—¶å€™ï¼Œä½ é¢è¯•ç»å¯¹æ²¡å¸Œæœ›äº†ã€‚ PS: çœŸçš„æœ‰é¢è¯•å®˜ä¼šè€ƒå•Šï¼Œè‡³å°‘Baiduä¼šè€ƒâ€¦â€¦â€¦â€¦","text":"æ€»ç»“ä¸€ä¸‹åŸºæœ¬ç®—æ³•ï¼Œä»¥å¤‡å¿˜ï¼Œä»¥å¤ä¹ ã€‚å½“ç„¶ï¼Œä½ åˆ«æŒ‡æœ›è€ƒå®˜ä¼šç›´æ¥è€ƒä½ è¿™äº›ï¼Œå¤ªåŸºç¡€ï¼Œä½†æ˜¯ï¼Œå½“ä»–çŸ¥é“ä½ è¿™äº›éƒ½å†™ä¸å‡ºæ¥çš„æ—¶å€™ï¼Œä½ é¢è¯•ç»å¯¹æ²¡å¸Œæœ›äº†ã€‚ PS: çœŸçš„æœ‰é¢è¯•å®˜ä¼šè€ƒå•Šï¼Œè‡³å°‘Baiduä¼šè€ƒâ€¦â€¦â€¦â€¦ 8å¤§æ’åºå†’æ³¡æ’åº ç¨³å®šæ’åºï¼Œç®€å•æ˜“äºå®ç°ï¼Œå¤æ‚åº¦$ÎŸ(n ^2)$1234567def bubble_sort(arr): length = len(arr) for i in range(length): for j in range(i, length): if arr[i] &gt; arr[j]: arr[i], arr[j] = arr[j], arr[i] return arr é€‰æ‹©æ’åº ä¸ç¨³å®šæ’åºï¼Œå¤æ‚åº¦$ÎŸ(n ^2)$123456789def select_sort(arr): length = len(arr) for i in range(length): _min = i for j in range(i+1, length): if arr[_min] &gt; arr[j]: _min = j arr[i], arr[_min] = arr[_min], arr[i] return arr æ’å…¥æ’åº123456789101112def insert_sort(alist): \"\"\"æ’å…¥æ’åº\"\"\" n = len(alist) for j in range(1, n): # æ§åˆ¶å°†æ‹¿åˆ°çš„å…ƒç´ æ”¾åˆ°å‰é¢æœ‰åºåºåˆ—ä¸­æ­£ç¡®ä½ç½®çš„è¿‡ç¨‹ for i in range(j, 0, -1): # å¦‚æœæ¯”å‰é¢çš„å…ƒç´ å°ï¼Œåˆ™å¾€å‰ç§»åŠ¨ if alist[i] &lt; alist[i - 1]: alist[i], alist[i - 1] = alist[i - 1], alist[i] # å¦åˆ™ä»£è¡¨æ¯”å‰é¢çš„æ‰€æœ‰å…ƒç´ éƒ½å°ï¼Œä¸éœ€è¦å†ç§»åŠ¨ else: break å¸Œå°”æ’åº1234567891011121314def shell_sort(alist): \"\"\"å¸Œå°”æ’åº\"\"\" n = len(alist) gap = n // 2 while gap &gt;= 1: for j in range(gap, n): i = j while (i - gap) &gt;= 0: if alist[i] &lt; alist[i - gap]: alist[i], alist[i - gap] = alist[i - gap], alist[i] i -= gap else: break gap //= 2 å½’å¹¶æ’åºç¨³å®šæ’åºï¼Œå¤æ‚åº¦ $ÎŸ(n log n)$ ï¼Œè¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸ºäºŒè·¯å½’å¹¶ã€‚ 1234567891011121314151617def msort2(x): if len(x) &lt; 2: return x result = [] mid = int(len(x) / 2) y = msort2(x[:mid]) z = msort2(x[mid:]) while (len(y) &gt; 0) and (len(z) &gt; 0): if y[0] &gt; z[0]: result.append(z[0]) z.pop(0) else: result.append(y[0]) y.pop(0) result += y result += z return result å¿«é€Ÿæ’åº QuickSortä¸ºä¸ç¨³å®šæ’åºï¼Œå¿«é€Ÿæ’åºé€šå¸¸æ˜æ˜¾æ¯”åŒä¸º $ÎŸ(n log n)$ çš„å…¶ä»–ç®—æ³•æ›´å¿«ï¼Œå› æ­¤å¸¸è¢«é‡‡ç”¨ï¼Œè€Œä¸”å¿«æ’é‡‡ç”¨äº†åˆ†æ²»æ³•çš„æ€æƒ³ï¼Œæ‰€ä»¥åœ¨å¾ˆå¤šç¬”è¯•é¢è¯•ä¸­èƒ½ç»å¸¸çœ‹åˆ°å¿«æ’çš„å½±å­ã€‚å¯è§æŒæ¡å¿«æ’çš„é‡è¦æ€§. 123456789def quicksort(arr): if len(arr) &lt;= 1: return arr pivot = arr[len(arr) // 2] left = [i for i in arr if i&lt;pivot] middle = [i for i in arr if i==pivot] right = [i for i in arr if i&gt;pivot] return quicksort(left) + middle + quicksort(right) å †æ’åº HeapSort1234567891011121314151617181920212223242526import randomdef MAX_Heapify(heap,HeapSize,root):#åœ¨å †ä¸­åšç»“æ„è°ƒæ•´ä½¿å¾—çˆ¶èŠ‚ç‚¹çš„å€¼å¤§äºå­èŠ‚ç‚¹ left = 2*root + 1 right = left + 1 larger = root if left &lt; HeapSize and heap[larger] &lt; heap[left]: larger = left if right &lt; HeapSize and heap[larger] &lt; heap[right]: larger = right if larger != root:#å¦‚æœåšäº†å †è°ƒæ•´åˆ™largerçš„å€¼ç­‰äºå·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹çš„ï¼Œè¿™ä¸ªæ—¶å€™åšå¯¹è°ƒå€¼æ“ä½œ heap[larger],heap[root] = heap[root],heap[larger] MAX_Heapify(heap, HeapSize, larger)def Build_MAX_Heap(heap):#æ„é€ ä¸€ä¸ªå †ï¼Œå°†å †ä¸­æ‰€æœ‰æ•°æ®é‡æ–°æ’åº HeapSize = len(heap)#å°†å †çš„é•¿åº¦å½“ç‹¬æ‹¿å‡ºæ¥æ–¹ä¾¿ for i in xrange((HeapSize -2)//2,-1,-1):#ä»åå¾€å‰å‡ºæ•° MAX_Heapify(heap,HeapSize,i)def HeapSort(heap):#å°†æ ¹èŠ‚ç‚¹å–å‡ºä¸æœ€åä¸€ä½åšå¯¹è°ƒï¼Œå¯¹å‰é¢len-1ä¸ªèŠ‚ç‚¹ç»§ç»­è¿›è¡Œå¯¹è°ƒæ•´è¿‡ç¨‹ã€‚ Build_MAX_Heap(heap) for i in range(len(heap)-1,-1,-1): heap[0],heap[i] = heap[i],heap[0] MAX_Heapify(heap, i, 0) return heap åŸºæ•°æ’åº123456789import randomdef radixSort(): A=[random.randint(1,9999) for i in xrange(10000)] for k in xrange(4): #4è½®æ’åº s=[[] for i in xrange(10)] for i in A: s[i/(10**k)%10].append(i) A=[a for b in s for a in b] return A æŸ¥æ‰¾ï¼šäºŒåˆ†æŸ¥æ‰¾åªé€‚ç”¨äºæœ‰åºæ•°ç»„ï¼Œå¤æ‚åº¦$ÎŸ(log n)$1234567891011def binary_search(arr, key): low = 0 high = len(arr) - 1 while low &lt;= high: mid = (low + high) // 2 if arr[mid] == key: return mid elif arr[mid] &lt; key: low = mid + 1 elif arr[mid] &gt; key: high = mid - 1 return -1 æ ‘çš„éå†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146class Node(object): \"\"\"èŠ‚ç‚¹ç±»\"\"\" def __init__(self, elem=-1, lchild=None, rchild=None): self.elem = elem self.lchild = lchild self.rchild = rchildclass Tree(object): \"\"\"æ ‘ç±»\"\"\" def __init__(self): self.root = Node() self.myQueue = [] def add(self, elem): \"\"\"ä¸ºæ ‘æ·»åŠ èŠ‚ç‚¹\"\"\" node = Node(elem) if self.root.elem == -1: # å¦‚æœæ ‘æ˜¯ç©ºçš„ï¼Œåˆ™å¯¹æ ¹èŠ‚ç‚¹èµ‹å€¼ self.root = node self.myQueue.append(self.root) else: treeNode = self.myQueue[0] # æ­¤ç»“ç‚¹çš„å­æ ‘è¿˜æ²¡æœ‰é½ã€‚ if treeNode.lchild == None: treeNode.lchild = node self.myQueue.append(treeNode.lchild) else: treeNode.rchild = node self.myQueue.append(treeNode.rchild) self.myQueue.pop(0) # å¦‚æœè¯¥ç»“ç‚¹å­˜åœ¨å³å­æ ‘ï¼Œå°†æ­¤ç»“ç‚¹ä¸¢å¼ƒã€‚ def front_digui(self, root): \"\"\"åˆ©ç”¨é€’å½’å®ç°æ ‘çš„å…ˆåºéå†\"\"\" if root == None: return print root.elem, self.front_digui(root.lchild) self.front_digui(root.rchild) def middle_digui(self, root): \"\"\"åˆ©ç”¨é€’å½’å®ç°æ ‘çš„ä¸­åºéå†\"\"\" if root == None: return self.middle_digui(root.lchild) print root.elem, self.middle_digui(root.rchild) def later_digui(self, root): \"\"\"åˆ©ç”¨é€’å½’å®ç°æ ‘çš„ååºéå†\"\"\" if root == None: return self.later_digui(root.lchild) self.later_digui(root.rchild) print root.elem, def front_stack(self, root): \"\"\"åˆ©ç”¨å †æ ˆå®ç°æ ‘çš„å…ˆåºéå†\"\"\" if root == None: return myStack = [] node = root while node or myStack: while node: #ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘ print node.elem, myStack.append(node) node = node.lchild node = myStack.pop() #whileç»“æŸè¡¨ç¤ºå½“å‰èŠ‚ç‚¹nodeä¸ºç©ºï¼Œå³å‰ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘äº† node = node.rchild #å¼€å§‹æŸ¥çœ‹å®ƒçš„å³å­æ ‘ def middle_stack(self, root): \"\"\"åˆ©ç”¨å †æ ˆå®ç°æ ‘çš„ä¸­åºéå†\"\"\" if root == None: return myStack = [] node = root while node or myStack: while node: #ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘ myStack.append(node) node = node.lchild node = myStack.pop() #whileç»“æŸè¡¨ç¤ºå½“å‰èŠ‚ç‚¹nodeä¸ºç©ºï¼Œå³å‰ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘äº† print node.elem, node = node.rchild #å¼€å§‹æŸ¥çœ‹å®ƒçš„å³å­æ ‘ def later_stack(self, root): \"\"\"åˆ©ç”¨å †æ ˆå®ç°æ ‘çš„ååºéå†\"\"\" if root == None: return myStack1 = [] myStack2 = [] node = root myStack1.append(node) while myStack1: #è¿™ä¸ªwhileå¾ªç¯çš„åŠŸèƒ½æ˜¯æ‰¾å‡ºååºéå†çš„é€†åºï¼Œå­˜åœ¨myStack2é‡Œé¢ node = myStack1.pop() if node.lchild: myStack1.append(node.lchild) if node.rchild: myStack1.append(node.rchild) myStack2.append(node) while myStack2: #å°†myStack2ä¸­çš„å…ƒç´ å‡ºæ ˆï¼Œå³ä¸ºååºéå†æ¬¡åº print myStack2.pop().elem, def level_queue(self, root): \"\"\"åˆ©ç”¨é˜Ÿåˆ—å®ç°æ ‘çš„å±‚æ¬¡éå†\"\"\" if root == None: return myQueue = [] node = root myQueue.append(node) while myQueue: node = myQueue.pop(0) print node.elem, if node.lchild != None: myQueue.append(node.lchild) if node.rchild != None: myQueue.append(node.rchild)if __name__ == '__main__': \"\"\"ä¸»å‡½æ•°\"\"\" elems = range(10) #ç”Ÿæˆåä¸ªæ•°æ®ä½œä¸ºæ ‘èŠ‚ç‚¹ tree = Tree() #æ–°å»ºä¸€ä¸ªæ ‘å¯¹è±¡ for elem in elems: tree.add(elem) #é€ä¸ªæ·»åŠ æ ‘çš„èŠ‚ç‚¹ print 'é˜Ÿåˆ—å®ç°å±‚æ¬¡éå†:' tree.level_queue(tree.root) print '\\n\\né€’å½’å®ç°å…ˆåºéå†:' tree.front_digui(tree.root) print '\\né€’å½’å®ç°ä¸­åºéå†:' tree.middle_digui(tree.root) print '\\né€’å½’å®ç°ååºéå†:' tree.later_digui(tree.root) print '\\n\\nå †æ ˆå®ç°å…ˆåºéå†:' tree.front_stack(tree.root) print '\\nå †æ ˆå®ç°ä¸­åºéå†:' tree.middle_stack(tree.root) print '\\nå †æ ˆå®ç°ååºéå†:' tree.later_stack(tree.root)","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"}]},{"title":"ä¸ªäººé¢ç»ï¼ˆç™¾åº¦ã€è…¾è®¯ã€é¹å…ƒæ•°æ®ã€è¡Œäº‘æ™ºèƒ½æ•°æ®å²—ï¼‰","slug":"ä¸ªäººé¢ç»","date":"2017-04-22T06:51:17.000Z","updated":"2017-04-25T01:23:44.000Z","comments":true,"path":"2017/04/22/ä¸ªäººé¢ç»/","link":"","permalink":"http://frankchen.xyz/2017/04/22/ä¸ªäººé¢ç»/","excerpt":"è®°å½•è‡ªæ‰¾å·¥ä½œä»¥æ¥ä¸ªäººçš„é¢è¯•ç»å†ä¸ä¸€äº›æ€è€ƒã€‚","text":"è®°å½•è‡ªæ‰¾å·¥ä½œä»¥æ¥ä¸ªäººçš„é¢è¯•ç»å†ä¸ä¸€äº›æ€è€ƒã€‚ ç™¾åº¦æ•°æ®æŒ–æ˜ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰ ä»‹ç»é¡¹ç›® é—®é¢˜ åŸºç¡€çŸ¥è¯†ï¼šjavaçš„å¤šæ€ã€mapå’Œåƒåœ¾å›æ”¶ å¦‚ä½•ç”¨ç½‘ç»œçŸ¥è¯†è®©æŠ¢ç«è½¦ç¥¨æ›´å¿« å¿«æ’çš„æ€æƒ³ã€æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€å¦‚æœæ˜¯æ•´æ•°æ’åºæœ‰æ²¡æœ‰O(n)çš„è§£æ³• é€»è¾‘å›å½’çº¿æ€§å›å½’åŒºåˆ« linuxæ€ä¹ˆæŸ¥çœ‹æŸæ–‡ä»¶å½“å‰è¢«å“ªäº›è¿›ç¨‹è®¿é—® vimå¦‚ä½•æŸ¥æ‰¾æ›¿æ¢ ç™¾åº¦è¿ç»´ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰ èŠé¡¹ç›® pythonå­—ç¬¦ä¸²çš„æ›¿æ¢ SQLçš„ä¼˜åŒ– LInux å¦‚ä½•æ‰¾è¿›ç¨‹æ€è¿›ç¨‹ ç™¾åº¦è¿ç»´äºŒé¢ï¼ˆç°åœºé¢ï¼‰ èŠé¡¹ç›® æ‰‹å†™å†’æ³¡ è¡Œäº‘æ™ºèƒ½ä¸€é¢ï¼ˆç°åœºé¢ï¼‰é‡åˆ°é¢è¯•å®˜æ˜¯è¥¿ç”µæ ¡å‹ èŠé¡¹ç›® CNNçš„æ€æƒ³ï¼špoolingçš„æ–¹å¼ã€å·ç§¯çš„æ€æƒ³ è®¾è®¡æ¨¡å¼æœ‰ä»€ä¹ˆäº†è§£ å¤šçº¿ç¨‹å¤šè¿›ç¨‹çš„äº†è§£ å¿«æ’çš„æ€æƒ³ æ‰‹å†™ä»£ç äºŒå‰æ ‘åˆ é™¤ ä¸­ç§‘ä¹åˆ›ä¸€é¢ï¼ˆç°åœºé¢ï¼‰æœ€å°´å°¬çš„ä¸€æ¬¡ï¼Œé¢è¯•å®˜æ˜¯å—æ´‹ç†å·¥çš„ï¼ŒèŠäº†èŠæˆ‘çš„é¡¹ç›®å°±ä¼¼ä¹å¯¹æˆ‘ä¸æ„Ÿå…´è¶£ï¼Œå°±å¼€å§‹å’Œæˆ‘èŠå®¶å¸¸ã€‚ã€‚ã€‚ é¹å…ƒæ•°æ®ä¸€é¢ï¼ˆç°åœºé¢ï¼‰ èŠé¡¹ç›® åšäº†å¼ è¯•å·å¦‚ æ¨å¯¼æå¤§ä¼¼ç„¶ä¼°è®¡ èšç±»ä¸åˆ†ç±»åŒºåˆ«ï¼Œåˆ—ä¸¾å¸¸ç”¨èšç±»ç®—æ³•åŠç¨‹åºåŒ… ä¸€äº›ç®€å•çš„SQLå‘½ä»¤ ç¼–ç¨‹é¢˜ï¼šåˆ—ä¸¾ä¸€ä¸²æ•°å­—å†…å¥‡å¶æ•°å‡ºç°æ¬¡æ•°åŠå¼•ç”³å‡ºçš„ç»“åˆä»–ä»¬ä¸šåŠ¡çš„è¯„çº§è½¬æ¢çŸ©é˜µçš„æ‰“å° è…¾è®¯åŸºç¡€ç ”ç©¶ä¸€é¢ï¼ˆç°åœºé¢ï¼‰ èŠé¡¹ç›® èšç±»ä¸åˆ†ç±»åŒºåˆ«ï¼Œå¸¸ç”¨èšç±»ç®—æ³•æ€è€ƒï¼šè¯¸å¦‚æ­¤ç±»åˆ—ä¸¾ç®—æ³•çš„é—®é¢˜ï¼Œæœ€å¥½æ˜¯è¿…é€Ÿæµåˆ©çš„åˆ—ä¸¾å‡ºå¤šä¸ªï¼Œä¸è¦æœ‰è¿Ÿç–‘ï¼Œä¸è¿‡å¯¹äºå…¶åŸºæœ¬å«ä¹‰è¦æœ‰äº†è§£ã€‚ åœºæ™¯é¢˜ï¼Œä¸¤ä¸ªå«æœ‰æ•°å­—çš„æ–‡ä»¶ï¼Œæ‰¾å‡ºåŒæ—¶å‡ºç°åœ¨ä¸¤ä¸ªæ–‡ä»¶å†…çš„æ•°å­—ï¼›è‹¥æ–‡ä»¶å¤ªå¤§æ”¾ä¸è¿›å†…å­˜è¯¥æ€ä¹ˆåŠï¼Ÿæ€è€ƒï¼šè¿™ç§é—®é¢˜å¯å°å¯å¤§ï¼Œå¯éš¾å¯æ˜“ã€‚å› ä¸ºå“ªæ€•å†å°çš„é—®é¢˜åœ¨è§„æ¨¡å˜å¤§ä¹Ÿå°±æ˜¯æ¶‰åŠåˆ°å¤§æ•°æ®éƒ½æ˜¯ä¸ç®€å•çš„ï¼Œè¿™ä¸ªé—®é¢˜ï¼Œå¯¹äºå°æ–‡ä»¶ï¼Œä¸¤ä¸‰è¡Œä»£ç å³å¯æå®šï¼Œé‚£ä¹ˆä½ å†™å‡ºæ¥ä¹‹åï¼Œé¢è¯•å®˜åŸºæœ¬ä¸Šå°±ä¼šè¿›ä¸€æ­¥é—®ä½ ï¼šå¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œæ— æ³•åŒæ—¶æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶è£…è¿›å†…å­˜ï¼Œæ€ä¹ˆåŠï¼Ÿæˆ‘å½“æ—¶å›ç­”çš„æ˜¯ç”¨Pandasçš„read_csvåˆ†å—è¯»å–ï¼Œè¿™æ˜¯ä¸ªå¾ˆä¸å¥½çš„å›ç­”ï¼Œå› ä¸ºæ‰åŒ…ä¸æ˜¯åŸºæœ¬åŠŸã€‚æˆ‘å›å¤´æƒ³äº†æƒ³ï¼Œä¹Ÿè®¸è¿™ä¸ªç­”æ¡ˆæ˜¯ç”¨generatoræ¯”è¾ƒå¥½ã€‚","categories":[],"tags":[{"name":"Interview","slug":"Interview","permalink":"http://frankchen.xyz/tags/Interview/"}]},{"title":"Ubuntu 16.04ä¸‹ä¸ºTITAN 1080 æ˜¾å¡å®‰è£…é©±åŠ¨(Cuda&CudNN)åŠGpuç‰ˆTensorFlow","slug":"Ubuntu-16-04ä¸‹ä¸ºTITAN-1080-æ˜¾å¡å®‰è£…é©±åŠ¨-Cuda-CudNN-åŠGpuç‰ˆTensorFlow","date":"2017-04-20T01:29:22.000Z","updated":"2017-04-20T07:49:47.000Z","comments":true,"path":"2017/04/20/Ubuntu-16-04ä¸‹ä¸ºTITAN-1080-æ˜¾å¡å®‰è£…é©±åŠ¨-Cuda-CudNN-åŠGpuç‰ˆTensorFlow/","link":"","permalink":"http://frankchen.xyz/2017/04/20/Ubuntu-16-04ä¸‹ä¸ºTITAN-1080-æ˜¾å¡å®‰è£…é©±åŠ¨-Cuda-CudNN-åŠGpuç‰ˆTensorFlow/","excerpt":"è¿‘æ¥å…¥å‘äº†TITAN 1080æ˜¾å¡ï¼Œåœ¨Ubuntu 16.04ä¸‹ä¸ºè£…å¥½é©±åŠ¨ä»¥ä½¿ç”¨Gpuç‰ˆTensorFlowå¯ä¸ç®€å•ï¼Œè¸©äº†è®¸å¤šå‘ä¹‹åå†™ä¸‹æ­¤ç¯‡ä¸ºè®°å½•ã€‚","text":"è¿‘æ¥å…¥å‘äº†TITAN 1080æ˜¾å¡ï¼Œåœ¨Ubuntu 16.04ä¸‹ä¸ºè£…å¥½é©±åŠ¨ä»¥ä½¿ç”¨Gpuç‰ˆTensorFlowå¯ä¸ç®€å•ï¼Œè¸©äº†è®¸å¤šå‘ä¹‹åå†™ä¸‹æ­¤ç¯‡ä¸ºè®°å½•ã€‚ ä¸‹è½½CudaæŒ‰è£…å®˜æ–¹æ•™ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åº”è¯¥å®‰è£…Cuda8.0å’ŒCudnn V5.1ï¼Œåœ¨æ­¤ä¸‹è½½CUDA 8.0 Downloads | NVIDIA Developer åœ¨è¿™é‡Œæœ€å¥½é€‰runfile localï¼Œå› ä¸ºé€‰debçš„è¯ä¼šé‡åˆ°apt getçš„æºæŸåé—®é¢˜ã€‚ é™çº§gccå’Œg++ç”±äºCudaä¸æ”¯æŒæ–°ç‰ˆæœ¬çš„gccå’Œg++ï¼Œæ‰€ä»¥å¦‚æœå»ºè®®å…ˆé™çº§åˆ°4ç‰ˆæœ¬ï¼Œæ–¹æ³•è§ubuntu ä¸­ gcc/g++ç‰ˆæœ¬é™çº§ å®‰è£…æ˜¾å¡é©±åŠ¨sudo apt-get install nvidia-367 å®‰è£…Cudaå…³é—­ä½ çš„å›¾å½¢ç•Œé¢sudo service lightdm stop æ­¤æ—¶ç”µè„‘åº”è¯¥ä¼šé»‘å±ï¼Œ CTRL + ALT + F1è¿›å…¥å‘½ä»¤è¡Œï¼Œç™»å½•ï¼Œcd åˆ°ä½ å­˜æ”¾ä¸‹è½½çš„ç›®å½•ï¼Œæ‰§è¡Œ sudo bash cuda_8.0.44_linux.run ç„¶åä½ ä¼šçœ‹åˆ°å¦‚Do you accept the previously read EULA?accept/decline/quit: è¾“å…¥accept Install NVIDIA Accelerated Graphics Driver for Linux-x86_64 3xx.xx? è¾“å…¥ no ä¹‹åè¿˜ä¼šé—®ä½ æ˜¯å¦å®‰è£…X configuration è¾“å…¥no å®‰è£…å¥½äº†ä¹‹åï¼Œå†ç”¨å‘½ä»¤sudo bash cuda_8.0.44_linux.run -slient -driver æ¥å®‰è£…é©±åŠ¨ã€‚ æœ€åsudo service lightdm startæˆ–è€…é‡å¯ã€‚ è®¾ç½®Cudaç¯å¢ƒå˜é‡sudo vi ~/.bashrc æ·»åŠ  12export LD_LIBRARY_PATH=&quot;$LD_LIBRARY_PATH:/usr/local/cuda-8.0/lib64:/usr/local/cuda-8.0/extras/CUPTI/lib64&quot;export CUDA_HOME=/usr/local/cuda-8.0 ä¿å­˜é€€å‡º å†source .bashrc Cudnn å®‰è£…ä¸‹è½½Cudnnåœ¨æ­¤å¤„ä¸‹è½½ï¼šMembership Required | NVIDIA Developerï¼Œè¿™é‡Œä½ å…ˆå¾—æ³¨å†Œä¸€ä¸ªNVIDAè´¦å·ï¼Œå¡«å†™ä¸€å †é—®å·ã€‚æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯debå®‰è£…åŒ…ï¼ŒäºŒæ˜¯ä¸‹è½½tar æ–¹æ³•ä¸€é€‰æ‹© Download cuDNN v5.1 (Jan 20, 2017), for CUDA 8.0ä¸‹è½½cuDNN v5.1 Runtime Library for Ubuntu16.04 Power8 (Deb)å®‰è£… æ–¹æ³•äºŒäºŒæ˜¯ä¸‹è½½tarï¼Œè§£å‹åä¼šå¾—åˆ°ä¸€ä¸ªCudaæ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åˆ°Cuda-8.0æ–‡ä»¶å¤¹ä¸­123sudo cp cuda/include/cudnn.h /usr/local/cuda-8.0/includesudo cp cuda/lib64/libcudnn* /usr/local/cuda-8.0/lib64sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda-8.0/lib64/libcudnn* å®‰è£…TensorFlowè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Anacondaè£…Python3ï¼Œ ä¸‹è½½ä¸‹è½½å¥½å®‰è£…è„šæœ¬ä¹‹åï¼Œbash ~/Downloads/Anaconda3-4.3.0-Linux-x86_64.shå®‰è£…ï¼Œè®°å¾—åœ¨è¯¢é—®æ˜¯å¦æ·»åŠ PATHæ—¶é€‰æ‹©yes pip install tensorflow-gpu å»ºç«‹è™šæ‹Ÿç¯å¢ƒæ–°å»ºç¯å¢ƒconda create -n tensorflowæ¿€æ´»ç¯å¢ƒsource activate tensorflowæ­¤æ—¶å·²å¤„äºæ­¤ç¯å¢ƒä¸‹ å®‰è£…TensorFlowconda install tensorflow-gpuè¿™é‡ŒAnacondaä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œç›´åˆ°å…¨éƒ¨å®Œæˆ æµ‹è¯•TF123456789101112$ python...&gt;&gt;&gt; import tensorflow as tf&gt;&gt;&gt; hello = tf.constant('Hello, TensorFlow!')&gt;&gt;&gt; sess = tf.Session()&gt;&gt;&gt; print(sess.run(hello))Hello, TensorFlow!&gt;&gt;&gt; a = tf.constant(10)&gt;&gt;&gt; b = tf.constant(32)&gt;&gt;&gt; print(sess.run(a + b))42&gt;&gt;&gt; è‹¥æ‰“å°ä¸€ç³»åˆ—åŒ…å«Gpuä¿¡æ¯çš„è¯´æ˜ï¼Œæ­å–œä½ ï¼Œå®‰è£…æˆåŠŸï¼ï¼ï¼","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"},{"name":"TensorFlow","slug":"TensorFlow","permalink":"http://frankchen.xyz/tags/TensorFlow/"}]},{"title":"åˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬","slug":"åˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬","date":"2017-04-19T01:36:49.000Z","updated":"2017-04-19T01:48:15.000Z","comments":true,"path":"2017/04/19/åˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬/","link":"","permalink":"http://frankchen.xyz/2017/04/19/åˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬/","excerpt":"åœ¨Mac&amp;Linuxä¸Šåˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬çš„æ–¹æ³•ã€‚","text":"åœ¨Mac&amp;Linuxä¸Šåˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬çš„æ–¹æ³•ã€‚ Macé¦–å…ˆåˆ›å»ºæµ‹è¯•è„šæœ¬touch clickexe.shopen -e clickexe.shåœ¨è„šæœ¬ä¸­è¾“å…¥å†…å®¹echo &quot;hello world&quot; å†æ‰§è¡Œå‘½ä»¤chmod +x clickexe.sh ç„¶ååœ¨å–æ™¯å™¨å³é”®å•å‡»æ–‡ä»¶ï¼Œå¹¶é€‰æ‹©â€œget infoâ€ï¼Œç„¶åé€‰æ‹©â€œOpen withâ€ è¿™é‡Œä½ å¯ä»¥é€‰æ‹©ä½ æƒ³è¦çš„æ–‡ä»¶æ‰§è¡Œåˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œä¸ºäº†èƒ½å¤Ÿé€‰æ‹©ä½ éœ€è¦ä»â€œæ¨èåº”ç”¨â€åˆ°â€œæ‰€æœ‰åº”ç”¨ç¨‹åºâ€é€‰ä¸­â€œTerminalâ€å³å¯ã€‚ Linuxåœ¨Ubuntuä¸­ï¼Œè‡ªä»13.04ä»¥åï¼ŒåŒå‡»shè„šæœ¬æ–‡ä»¶å°±å·²ç»é»˜è®¤æ˜¯geidtæ‰“å¼€äº†ï¼Œè¦æƒ³è¿è¡Œï¼Œä»æ–‡ä»¶ç®¡ç†å™¨â€“&gt;æ–‡ä»¶â€“&gt;é¦–é€‰é¡¹â€“&gt;è¡Œä¸ºâ€“&gt;å¯æ‰§è¡Œæ–‡ä»¶ æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼Œé»˜è®¤æ˜¯ç¬¬äºŒä¸ªï¼Œå¦‚æœæƒ³è¦ç›´æ¥è¿è¡Œï¼Œé€‰ç¬¬ä¸€ä¸ªï¼Œè€Œæ¯æ¬¡è¯¢é—®å°±æ˜¯å¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œé—®ä½ æ˜¯è¿è¡Œï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œè¿˜æ˜¯ç”¨geditæŸ¥çœ‹ã€‚ è®°å¾—åœ¨è„šæœ¬æ–‡ä»¶å³é”®â€“&gt;å±æ€§â€“&gt;æƒé™ï¼šå…è®¸ä»¥ç¨‹åºæ‰§è¡Œæ–‡ä»¶ å‚è€ƒè‡ª ubuntu shè„šæœ¬åŒå‡»è¿è¡Œ - Findxiaoxun - åšå®¢å›­","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"},{"name":"Mac","slug":"Mac","permalink":"http://frankchen.xyz/tags/Mac/"},{"name":"bash","slug":"bash","permalink":"http://frankchen.xyz/tags/bash/"}]},{"title":"Python2 Python3çš„å„ç§å†²çªåŠè§£å†³æ–¹æ³•","slug":"Python3-å®‰è£…opencvçš„ç®€æ˜“æ–¹æ³•","date":"2017-04-18T09:52:06.000Z","updated":"2017-04-18T10:05:33.000Z","comments":true,"path":"2017/04/18/Python3-å®‰è£…opencvçš„ç®€æ˜“æ–¹æ³•/","link":"","permalink":"http://frankchen.xyz/2017/04/18/Python3-å®‰è£…opencvçš„ç®€æ˜“æ–¹æ³•/","excerpt":"æœ¬æ–‡ä¸»è¦è®°å½•Python2 Python3çš„å„ç§å†²çªåŠè§£å†³æ–¹æ³•ã€‚","text":"æœ¬æ–‡ä¸»è¦è®°å½•Python2 Python3çš„å„ç§å†²çªåŠè§£å†³æ–¹æ³•ã€‚ Opencvåœ¨Python3ä¸‹çš„å®‰è£…ç›®å‰opencvå¯¹äºPython2.7æ”¯æŒä¸é”™ï¼Œæˆ‘æŠ˜è…¾äº†è®¸ä¹…æ‰å¼„å¥½Python3ä¸‹çš„å®‰è£…æ–¹æ³•ï¼Œæœ€ç®€å•çš„æ—¢æ˜¯åˆ©ç”¨Anacondaæ¥å®‰è£…ï¼Œæ­¥éª¤å¦‚ å®‰è£…Anacondaä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…Download Anaconda Now! | Continuum ä¸‹è½½å®Œæ¯•ï¼Œç”¨ç»ˆç«¯å‘½ä»¤å®‰è£…åˆšä¸‹çš„åŒ…bash Anaconda3-4.3.0-MacOSX-x86_64.sh å‘½ä»¤è¡Œä¼šè¯¢é—®æ˜¯å¦éœ€è¦æ·»åŠ PATHå¦‚.bash_profile &gt;&gt;å¡«yes åˆ·æ–° cd &amp;&amp; source .bash_profile æ£€æµ‹å®‰è£…ä½ç½®check pythonï¼Œç»“æœè‹¥æ˜¯$ which python $ /.../anaconda/bin/pythonåˆ™OK æœ€åç”¨è¿™æ¡å‘½ä»¤å®‰è£…pip install opencv-pyhtonï¼ˆä¸éœ€è¦pip3ï¼‰ urlparseimport urlparse éœ€è¦å˜ä¸º import urllib.parse as urlparse æ•´æ•°ç›¸é™¤python2çš„ / ç­‰ä»·äº3é‡Œçš„ // map ä¸ zipPython3é‡Œçš„mapä¸zipè¿”å›ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥éœ€è¦å°†list(map(func, b))ï¼Œ list(zip(a,b))ä¹‹åæ‰å¯ä»¥æŒ‰ä¸‹æ ‡è®¿é—®ã€‚","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"}]},{"title":"programmer humor week 2","slug":"programmer-humor-week-2","date":"2017-04-17T09:58:39.000Z","updated":"2017-04-17T09:41:37.000Z","comments":true,"path":"2017/04/17/programmer-humor-week-2/","link":"","permalink":"http://frankchen.xyz/2017/04/17/programmer-humor-week-2/","excerpt":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ","text":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ â€œHey, you know Binary Search Trees?â€ â€œSay no more.â€ After setting up a new floor on campusâ€¦ Logins should be unique [Cringe] How to do coding How to learn coding in a single night. å¼•ç”¨è‡ªProgrammer Humor","categories":[],"tags":[{"name":"Funny","slug":"Funny","permalink":"http://frankchen.xyz/tags/Funny/"}]},{"title":"åˆ©ç”¨git åŒæ­¥æœ¬åœ°ä¸æœåŠ¡å™¨ä»£ç ","slug":"åˆ©ç”¨git-åŒæ­¥æœ¬åœ°ä¸æœåŠ¡å™¨ä»£ç ","date":"2017-04-12T16:53:49.000Z","updated":"2017-04-18T08:12:17.000Z","comments":true,"path":"2017/04/13/åˆ©ç”¨git-åŒæ­¥æœ¬åœ°ä¸æœåŠ¡å™¨ä»£ç /","link":"","permalink":"http://frankchen.xyz/2017/04/13/åˆ©ç”¨git-åŒæ­¥æœ¬åœ°ä¸æœåŠ¡å™¨ä»£ç /","excerpt":"åœ¨æœåŠ¡å™¨ç«¯ç›´æ¥ç”¨vimå†™ä»£ç å›ºç„¶ä¸æ˜¯ä¸ªå¥½ä½“éªŒï¼Œæœ¬æ–‡ä»‹ç»ç”¨gitåœ¨ä¸¤è€…ä¹‹é—´åŒæ­¥çš„æ–¹æ³•ã€‚","text":"åœ¨æœåŠ¡å™¨ç«¯ç›´æ¥ç”¨vimå†™ä»£ç å›ºç„¶ä¸æ˜¯ä¸ªå¥½ä½“éªŒï¼Œæœ¬æ–‡ä»‹ç»ç”¨gitåœ¨ä¸¤è€…ä¹‹é—´åŒæ­¥çš„æ–¹æ³•ã€‚ å…è®¤è¯ç™»å½•å…ˆè®¾ç½®sshå…¬é’¥ç§é’¥æ¥å…å¯†ç ç™»å½•ã€‚ 12cd ~/.sshssh-keygen -t rsa -C \"mail@domain.com\" å¤åˆ¶è¿‡å» 123scp ~/.ssh/id_rsa.pub user@vps:./ssh user@vpscat id_rsa.pub &gt;&gt; /home/user/.ssh/authorized_keys æ³¨æ„cat åæ˜¯&gt;&gt; ä¸æ˜¯&gt;ï¼Œå‰è€…æ˜¯è¿½åŠ ï¼Œåè€…æ˜¯è¦†ç›–ã€‚è‹¥22ç«¯å£ä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡-P port_numberæŒ‡å®šä½¿ç”¨çš„ç«¯å£å· è¿›å…¥æœåŠ¡å™¨é¡¹ç›®1234567ssh user@vps cd /home/projectgit initecho &quot;hello&quot; &gt;&gt; READMEgit add READMEgit commit -m &quot;add README&quot;exit åœ¨æœ¬æœºä¸ŠæŠŠé¡¹ç›® Clone ä¸‹æ¥ï¼š git clone user@vps:/home/project è‹¥22ç«¯å£ä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥æ‰§è¡Œï¼š git clone ssh://user@vps:1280/home/project ä¿®æ”¹é’©å­ä½¿å…¶æ¥å—pushåœ¨æœåŠ¡å™¨ç«¯git config receive.denyCurrentBranch ignore ç¼–è¾‘ VPS ç«¯ Git é’©å­.git/hooks/post-receive æ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š123#!/bin/shcd ..env -i git reset --hard æœ€åå°†æ–‡ä»¶è®¾ç½®ä¸ºå¯æ‰§è¡Œï¼šchmod a+x .git/hooks/post-receive","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"åˆ©ç”¨Pandasè¯»å–è¿œç¨‹mysqlæ•°æ®åº“","slug":"åˆ©ç”¨Pandasè¯»å–è¿œç¨‹mysqlæ•°æ®åº“","date":"2017-04-11T09:31:49.000Z","updated":"2017-04-11T10:03:12.000Z","comments":true,"path":"2017/04/11/åˆ©ç”¨Pandasè¯»å–è¿œç¨‹mysqlæ•°æ®åº“/","link":"","permalink":"http://frankchen.xyz/2017/04/11/åˆ©ç”¨Pandasè¯»å–è¿œç¨‹mysqlæ•°æ®åº“/","excerpt":"åˆ©ç”¨pymysqlä¸Pandasè¯»å–è¿œç¨‹æ•°æ®åº“ä¸Šçš„è¡¨æ ¼ï¼Œå¹¶å­˜å‚¨ä¸ºæœ¬åœ°csvæ–‡ä»¶ã€‚","text":"åˆ©ç”¨pymysqlä¸Pandasè¯»å–è¿œç¨‹æ•°æ®åº“ä¸Šçš„è¡¨æ ¼ï¼Œå¹¶å­˜å‚¨ä¸ºæœ¬åœ°csvæ–‡ä»¶ã€‚ å› ä¸ºä¸šåŠ¡éœ€è¦è¯»å–æœåŠ¡å™¨ä¸Šçš„æ•°æ®è¿›è¡Œåˆ†æï¼Œèƒ½è¿æ¥åˆ°sqlæœåŠ¡å™¨ï¼Œä½†æ˜¯å½“æˆ‘ä¼å›¾ç”¨mysqldumpå¤‡ä»½ï¼ˆå¤åˆ¶ï¼‰databaseåˆ°æœ¬åœ°å´ç»å¸¸å‡ºç°mysqldump: Error 2013: Lost connection to MySQL server during query when dumping tableé”™è¯¯ï¼Œè¿™ä¸ªéœ€è¦æ”¹net_write_timeoutæ¥å¢åŠ ç­‰å¾…æ—¶é•¿æ¥è§£å†³ï¼Œè‹¦äºæˆ‘çš„è´¦å·å¹¶æ²¡æœ‰æƒé™ï¼Œéš¾ä¸æˆåªå¥½ä¹‹é—´ä¸Šsqlç”¨odbså¤§æ³•ç›´æ¥åšæ•°æ®åˆ†æï¼Ÿæˆ‘çš„å¤©ï¼Œé‚£å¾—å¤šéº»çƒ¦ï¼Œç»è¿‡å‡ ç•ªæ€è€ƒï¼Œæˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šç”¨sqlçš„pythonæ¥å£åŒ…pymysqlè¿›è¡Œsqlç™»å½•ä»¥åŠæ“ä½œï¼Œå†ç”¨Pandasä»¥DataFrameæ ¼å¼æ¥å—tableæ•°æ®ï¼Œæœ€åå­˜ä¸ºcsvæ–‡ä»¶ã€‚ ç™»å½•æ¨¡å—æ³¨æ„ï¼Œè‹¥æ•°æ®åº“å«æœ‰ä¸­æ–‡ï¼Œéœ€è¦use_unicode=Trueé¿å…ä¹±ç  1234567891011121314151617181920212223# -*_coding:utf8-*-# Created by frank at 07/04/2017import pymysqlhost = '#########'port = ####user = '########'password = '#######'def get_database(): \"\"\" :return: return the pre-connect database \"\"\" connection = pymysql.connect(host=host, user=user, password=password, port=port, charset='utf8mb4', use_unicode=True,) return connection å¤„ç†æ¨¡å—123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960# -*_coding:utf8-*-# Created by frank at 07/04/2017# è¿æ¥æ•°æ®åº“from connection import get_databaseimport pandas as pd# æ‰§è¡Œsqlå‘½ä»¤ï¼Œæ‰“å°è¿”å›ç»“æœdef execute(sql_command): try: with connection.cursor() as cursor: cursor.execute(sql_command) result = cursor.fetchall() print(\"COMMAND: \", sql_command) print(\"RESULT: \", result) print() dic[sql_command] = result except: print(\"Command %s failed!\" % sql_command) print()# å»ºç«‹è¿æ¥connection = get_database()connection.commit()# å­˜æ”¾å‘½ä»¤ä¸å¯¹åº”ç»“æœï¼Œä¾¿äºä¹‹åè°ƒè¯•dic = &#123;&#125;# SQL æŸ¥è¯¢è¯­å¥sql_commands = [# \"SHOW DATABASES;\",\"use wind_data;\",# \"show tables;\",# \"SHOW COLUMNS FROM absdescription;\",# \"SHOW COLUMNS FROM absdescription2;\",# \"SHOW COLUMNS FROM ashareagency;\"# \"select * from absdescription;\",# \"select count(*) from absdescription;\"# \"SHOW COLUMNS FROM xcashflow;\",]for sql_command in sql_commands: execute(sql_command)# å°†æ‰€æœ‰tableåå­—å­˜äºlisttables = []l = list(dic[\"show tables;\"])for i in l: tables.append(i[0])# å–å¾—æ‰€æœ‰tableï¼Œåˆ†åˆ«å­˜æ”¾äºcsvæ–‡ä»¶for table in tables:# table = 'absdescription' sql_cmd = \"select * from %s\" % table df = pd.read_sql(sql=sql_cmd, con=connection) df.to_csv(\"data/%s.csv\" % table)# æ–­å¼€è¿æ¥connection.close() å‚è€ƒè‡ª mysqldump é”™è¯¯2013 Lost connection - ç®€ä¹¦ MySQLå¸¸è§é”™è¯¯åˆ†æä¸è§£å†³æ–¹æ³•æ€»ç»“ - è¿ç»´ç”Ÿå­˜æ—¶é—´ Pythonä¸­ä»SQLå‹æ•°æ®åº“è¯»å†™dataframeå‹æ•°æ® - Arkenstone - åšå®¢å›­ pandasæ•™ç¨‹ï¼š[19]è¯»å†™sqlæ•°æ®åº“_ç™¾åº¦ç»éªŒ","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Pandas","slug":"Pandas","permalink":"http://frankchen.xyz/tags/Pandas/"},{"name":"SQL","slug":"SQL","permalink":"http://frankchen.xyz/tags/SQL/"}]},{"title":"Data Science cheatsheet","slug":"machine-learning-cheat-sheet","date":"2017-04-05T08:45:56.000Z","updated":"2017-04-07T01:24:01.000Z","comments":true,"path":"2017/04/05/machine-learning-cheat-sheet/","link":"","permalink":"http://frankchen.xyz/2017/04/05/machine-learning-cheat-sheet/","excerpt":"è®°å½•è‹¥å¹²å…³äºæ•°æ®ç§‘å­¦çš„cheatsheet","text":"è®°å½•è‹¥å¹²å…³äºæ•°æ®ç§‘å­¦çš„cheatsheet Pandas Sklearn Anaconda å¼•ç”¨è‡ª scikit-learn/ML_MAPS_README.rst at 4d9a12d175a38f2bcb720389ad2213f71a3d7697 Â· scikit-learn/scikit-learn pandas/doc/cheatsheet at master Â· pandas-dev/pandas Conda cheat sheet â€” Conda documentation","categories":[],"tags":[{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"},{"name":"Machine Learning","slug":"Machine-Learning","permalink":"http://frankchen.xyz/tags/Machine-Learning/"}]},{"title":"programmer humor week 1","slug":"programmer-humor-week-1","date":"2017-04-01T09:58:39.000Z","updated":"2017-04-01T10:13:57.000Z","comments":true,"path":"2017/04/01/programmer-humor-week-1/","link":"","permalink":"http://frankchen.xyz/2017/04/01/programmer-humor-week-1/","excerpt":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ","text":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ How OS fanboys (and girls) meet The doors at work are version-controlled. 5 word horror story Windows has a built-in java code optimizer with a simple drag-and-drop interface GitHub. The place where I fork. å¼•ç”¨è‡ªProgrammer Humor","categories":[],"tags":[{"name":"Funny","slug":"Funny","permalink":"http://frankchen.xyz/tags/Funny/"}]},{"title":"Learn More,Study Less","slug":"learn more study less","date":"2017-03-26T07:11:56.000Z","updated":"2017-03-26T07:47:48.000Z","comments":true,"path":"2017/03/26/learn more study less/","link":"","permalink":"http://frankchen.xyz/2017/03/26/learn more study less/","excerpt":"å…³äºlearn more study less çš„æ€ç»´å¯¼å›¾","text":"å…³äºlearn more study less çš„æ€ç»´å¯¼å›¾ holistic learning çš„æµç¨‹Acquire è·å– å‡†ç¡®ã€ç²¾ç‚¼åœ°å¾—åˆ°ä¿¡æ¯ ç®€åŒ– æå–ç²¾åã€ç•¥å»æ— ç”¨ä¿¡æ¯ å®¹é‡ çŸ¥é“çš„ä¿¡æ¯è¶Šå¤šè¶Šå¥½ é€Ÿåº¦ å°½å¿«å®Œæˆè·å–é˜¶æ®µ Understand ç†è§£ äº†è§£ä¿¡æ¯çš„åŸºæœ¬æ„æ€ï¼Œå¹¶è”ç³»ä¸Šä¸‹æ–‡æ¥ç†è§£ ç†è§£ä¿¡æ¯çš„ç¬¬ä¸€é˜¶æ®µï¼šç†è§£ä¿¡æ¯çš„è¡¨å±‚å«ä¹‰ å½“é‡åˆ°ä¸æ˜ç™½ä¹‹å¤„ï¼Œåº”è¯¥åˆ†è§£é—®é¢˜ï¼Œæ‰¾åˆ°çœŸæ­£ä¸æ˜ç™½ä¹‹å¤„ Explore æ‰©å±• å½¢æˆé«˜é€Ÿå…¬è·¯ã€æ¨¡å‹åŠå†…éƒ¨è”ç³»è‰¯å¥½çš„ç»“æ„ æ·±åº¦æ‰©å±• çŸ¥è¯†çš„ç”±æ¥ã€èƒŒæ™¯çš„æ¢ç©¶ æ¨ªå‘æ‰©å±• æ„é€ æ¨¡å‹ï¼šå¯»æ‰¾ç±»ä¼¼çš„çŸ¥è¯†çš„è”ç³» çºµå‘æ‰©å±• åˆ›å»ºé«˜é€Ÿå…¬è·¯ï¼šè·¨å­¦ç§‘ã€è·¨é¢†åŸŸçš„çŸ¥è¯†è”ç³» æœ€é‡è¦ã€æœ€æœ‰æŒ‘æˆ˜æ€§çš„æ‰©å±•æ–¹æ³•ï¼Œæœ‰ç›Šäºåˆ›é€ æ€§æ€è€ƒ æ¯”å–»metaphor å†…åœ¨æ³•visceralization Getting Started with Visceralization Test æµ‹è¯•Debugçº é”™ åœ¨æ¨¡å‹å’Œé«˜é€Ÿå…¬è·¯ä¸­å¯»æ‰¾æ”¹æ­£é”™è¯¯ çŸ¥è¯†ç½‘ç»œçš„ä¿®å‰ªï¼Œæ·»åŠ ç‰¹æ®Šä¾‹å­ï¼Œåˆ å‡é”™è¯¯çš„è”ç³»ç­‰ é˜…è¯»ä¸ä½ è§‚ç‚¹ç›¸åçš„ä¹¦ç± å°†ä½ çš„çŸ¥è¯†æ”¾å…¥ç°å®ä¸–ç•Œæ¥è§‚å¯Ÿç­‰ Apply åº”ç”¨ åˆ›é€ æ–°é€”å¾„ï¼Œå°†æ‰€å­¦çŸ¥è¯†çŸ¥è¯†åº”ç”¨èµ·æ¥ï¼Œè¿™æ˜¯å­¦ä¹ çš„æœ€ç»ˆç›®çš„ é€šè¿‡æ¯”è¾ƒçŸ¥è¯†å¦‚ä½•åœ¨ç°å®ä¸­åº”ç”¨æ¥è°ƒæ•´ï¼Œé˜²æ­¢æˆä¸ºâ€œä¹¦å‘†å­â€ æ‰¾å‡ºè‡ªå·±çš„è–„å¼±ç¯èŠ‚è·å– ç—‡çŠ¶ é˜…è¯»å’Œå¬è®²é€Ÿåº¦æ…¢ éœ€è¦åå¤é˜…è¯» åŸå›  é˜…è¯»/å­¦ä¹ ä¹ æƒ¯ä¸å¥½ è®°ç¬”è®°ä¹ æƒ¯ä¸å¥½ ä¸ç†è§£åŸºæœ¬æ¦‚å¿µã€æœ¯è¯­ è§£å†³ å…»æˆè‰¯å¥½çš„å­¦ä¹ ã€é˜…è¯»å’Œè®°ç¬”è®°çš„ä¹ æƒ¯ ç†è§£ è¡¨ç° é˜…è¯»æ—¶ä¸æ˜ç™½ä½œè€…æ„æ€ ç¬”è®°å¾ˆå®Œå–„ï¼Œå´ä¸æ˜ç™½å…¶å«ä¹‰ è§£å†³ æ”¾æ…¢é˜…è¯»é€Ÿåº¦ï¼Œå¯»æ‰¾å…¶ä»–èµ„æ–™ï¼Œä»¥æ±‚å¾—æ›´åŠ è¯¦ç»†ï¼Œå¦ä¸€è§’åº¦çš„é˜è¿° åŸºæœ¬çš„ç†è§£æ˜¯åç»­é«˜çº§æŠ€å·§çš„åŸºçŸ³ æ‰©å±• è¡¨ç° ç¼ºå°‘çµæ´»æ€§ å·²ç»æŒæ¡äº†ä¸€ä¸ªæ–°ä¸œè¥¿ï¼Œä½†æ˜¯æ²¡æœ‰æˆ–ä¸ä¼šå°† å®ƒä¸å…¶ä»–å­¦è¿‡çš„çŸ¥è¯†è”ç³»èµ·æ¥ï¼Œå‡å¦‚è®©ä½ ç”¨è¿™ä¸ªæ–°çš„çŸ¥è¯†å»è§£å†³ä¸€ä¸ªéå¸¸è§„é—®é¢˜ï¼Œå°±å¸¸å¸¸æŸæ‰‹æ— ç­–ã€‚ çº é”™ è¡¨ç° é”™è¯¯è”ç³»å¤ªå¤š åœ¨è¯¾å ‚ä¸Šå¾ˆå°‘å‡ºç°ï¼Œè€Œåœ¨å®é™…ä¸–ç•Œä¸­å´å¾ˆæ™®é è¯¾å ‚ä¸Šäººä»¬å¾ˆå°‘å»æ‰©å±•ï¼šå‘ç”Ÿé”™è¯¯æœºä¼šå°‘ å®é™…ä¸­äººä»¬ç»å¸¸æƒ³å‡ºå„ç§è”ç³»ï¼Œå´ä¸éªŒè¯è¿™äº›è”ç³»æ˜¯å¦æ­£ç¡®ï¼šå„ç§è¿·ä¿¡çš„äº§ç”Ÿ åº”ç”¨ è¡¨ç° ä¸èƒ½åœ¨çœŸå®ä¸–ç•Œä¸­å¾ˆå¥½åœ°è¿ç”¨çŸ¥è¯† è§£å†³ æ›´å¤šçš„å®è·µï¼ŒæŠ›å¼€ä¹¦æœ¬ï¼Œèµ°å‡ºå»ï¼Œå»åšå®éªŒï¼Œå»æ¥è§¦ç”Ÿæ´»ï¼Œå»èå…¥ç¤¾ä¼š holistic learning techniquesè·å–çŸ¥è¯† å¿«é€Ÿé˜…è¯»æ³• æŒ‡è¯»æ³• ç”¨é£ŸæŒ‡æ”¾åœ¨ä½ è¦è¯»çš„é‚£ä¸€è¡Œä¸‹é¢ï¼Œä¸æ–­ç§»åŠ¨é£ŸæŒ‡ ç»ƒä¹ é˜…è¯» å¯¹æ¯”æŒ‡è¯»æ³•ä¸å¸¸è§„è¯»æ³•ï¼Œæµ‹è¯•é˜…è¯»é€Ÿåº¦æé«˜æ½œåŠ› å¯¹æ¯”å…ˆè¯»åè®°ä¸è¾¹è¯»è¾¹è®°æ¥æµ‹è¯•ç†è§£èƒ½åŠ› ç§¯æé˜…è¯» è¾¹è¯»è¾¹è®°ç¬”è®° è¿™ä¸€èŠ‚ä¸­ä¸»è¦ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ æ˜¯å¦å®Œæ•´åœ°è·å–ä¿¡æ¯ æˆ‘æ€æ ·æ‰èƒ½è®°ä½ä¸»è¦ç‚¹ï¼Ÿ è”ç³»ä¿¡æ¯ï¼Œè§†è§‰åŒ–å’Œæ¯”å–»æ³• æˆ‘è¦æ€æ ·å°†ä¸»è¦ç‚¹æ‹“å±•å¼€ä»¥åŠåº”ç”¨å®ƒ å°†ä¿¡æ¯åº”ç”¨åœ¨ä¸åŒçš„æƒ…å¢ƒä¸­ æµç¬”è®°æ³• é‡ç‚¹åœ¨äºæå–ä¸»è¦ä¿¡æ¯ï¼Œåˆ å‡æ¬¡è¦ä¿¡æ¯ï¼Œé‡ç‚¹è®°å½•è”ç³»å’ŒæŒ‰ç…§ä½ ç†è§£çš„æ–¹å¼ç»™ä¿¡æ¯åˆ†ç±» ç”¨å¾ˆçŸ­çš„å•è¯æ¥è®°ä¸‹æœ€ä¸»è¦çš„è§‚ç‚¹ åœ¨ç›¸è”ç³»çš„è§‚ç‚¹ä¹‹é—´åˆ’ä¸Šä¸€äº›ç®­å¤´ ç†è§£ä¸æ‰©å±• å…³é”®ä¿¡æ¯ å­¦ä¹ å…¶ä»–çŸ¥è¯†çš„åŸºç¡€ï¼Œä¸ä¹‹åçš„ä¿¡æ¯å…³ç³»æå¼ºï¼Œå¯¹äºä¹‹åçš„ç†è§£è‡³å…³é‡è¦ æ¯”å–» è¦ç‚¹ï¼šä¸ç†Ÿæ‚‰çš„çŸ¥è¯†å’Œç†Ÿæ‚‰çš„çŸ¥è¯†è”ç³»èµ·æ¥ ç¡®å®šä½ è¦æ·±å…¥ç†è§£å’Œè®°å¿†ä¿¡æ¯ åœ¨ä½ çš„ä¸ªäººç»éªŒä¸­å¯»æ‰¾ä¸ä¿¡æ¯éƒ¨åˆ†ç›¸ä¼¼çš„ä¸œè¥¿ï¼Œä¸æ±‚è¾¾åˆ°å®Œå…¨ç¬¦åˆï¼Œå¯æ‰¾åˆ°å¤šä¸ªéƒ¨åˆ†ç¬¦åˆçš„â€œä¸å®Œç¾æ¯”å–»â€ã€‚ é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œæ£€æŸ¥æ¯”å–»ä¸æ°å½“çš„åœ°æ–¹ è¿ç”¨æŠ€å·§ï¼šè¦æœ‰å¯»æ‰¾æ¯”å–»çš„æ¬²æœ› é‡åˆ°æœ‰ç†è§£å›°éš¾çš„çŸ¥è¯†ï¼Œé¦–å…ˆåº”æƒ³åˆ°æ¯”å–» æ³¨æ„ç¬¬ä¸€ä¸ªå‡ºç°åœ¨è„‘æµ·ä¸­çš„å¿µå¤´ ä¼˜åŒ–å’Œæµ‹è¯•ä½ çš„æ¯”å–» å¤šæ‰¾å‡ ä¸ªä¸åŒè§’åº¦çš„æ¯”å–» æŠ½è±¡ä¿¡æ¯è¾ƒé€‚åˆæ¯”å–» å†…åœ¨åŒ– è°ƒåŠ¨æ›´å¤šçš„æ„ŸçŸ¥ã€æƒ…æ„Ÿä¸çŸ¥è¯†è”ç³»åœ¨ä¸€èµ·ï¼Œå½¢æˆå¼ºè”ç³» è§†è§‰ å¬è§‰ è¿åŠ¨ æƒ…æ„Ÿ æ­¥éª¤ æ˜ç¡®è¦å†…åœ¨åŒ–æ¦‚å¿µ ä»å»ºç«‹è„‘æµ·ä¸­çš„é™æ€å›¾åƒå¼€å§‹ å°†è„‘æµ·ä¸­çš„é™æ€å›¾åƒè½¬æ¢ä¸ºæ ©æ ©å¦‚ç”Ÿçš„åŠ¨æ€åœºæ™¯ åŠ ä¸Šå…¶ä»–æ„Ÿå®˜ï¼Œè¯•ç€ç”¨æ‰‹å»æ‹¿ï¼Œå»æ‘¸ï¼Œå»æ‰“å®ƒï¼Œå»å—…å®ƒçš„å‘³é“ï¼Œå»å¬å®ƒçš„å£°éŸ³ï¼ŒåŠ¨ç”¨ä½ èº«ä½“çš„æ‰€æœ‰æ„Ÿå®˜ï¼Œå°†æ‰€æœ‰çš„æ„Ÿè§‰ä¸è¿åŠ¨çš„å›¾åƒç›¸è”ç³»ã€‚ åŠ å…¥æ›´å¤šçš„æ„Ÿè§‰æˆ–æƒ…æ„Ÿ ä¸æ–­é‡å¤å’Œä¼˜åŒ–å›¾åƒ å…·ä½“ä¿¡æ¯è¾ƒé€‚åˆå†…åœ¨åŒ– ç®€å›¾æ³• ç®€å›¾ä¸æ¯”å–»å’Œå†…åœ¨åŒ–ç»“åˆåœ¨ä¸€èµ· ç®€å›¾å¯ä»¥å’Œæ¯”å–»åŠå†…åœ¨åŒ–æ··åˆåœ¨ä¸€èµ·ï¼Œä»¥åŠ æ·±å¯¹çŸ¥è¯†çš„ç†è§£ æµç®€å›¾ ä»ä¸€ä¸ªç®€å•çš„å…ƒç´ å¼€å§‹ï¼Œç„¶ååœ¨è¿™ä¸ªæˆåˆ†åŠä¸ä¹‹ç›¸è”ç³»çš„ä¸åŒçŸ¥è¯†ä¹‹é—´ ç”»å‡ºè”ç³»ç®­å¤´ æ¦‚å¿µå›¾ å°†è§‚ç‚¹è”ç³»åœ¨ä¸€èµ·ï¼Œä¸æµç¬”è®°å¯†åˆ‡ç›¸å…³ã€‚æ¦‚å¿µå›¾é‡Œçš„å…³ç³»è§‚ç‚¹ä¹‹é—´çš„å†…åœ¨å…³ç³»ï¼Œåœ¨ä¸åŒè§‚ç‚¹ä¹‹é—´ç”»ä¸Šç®­å¤´ï¼Œ ç®­å¤´ä¸Šè¿˜éœ€è¦åŠ ä¸Šä¸€äº›ç®€å•çš„è¯è¯­ å›¾åƒç®€å›¾ ç²—ç³™ç®€å•çš„æ¶‚é¸¦æ¥ä»£æ›¿æ–‡å­— å›°éš¾ä¿¡æ¯ è”æƒ³æ³• å°†ä¸€ç³»åˆ—è§‚ç‚¹ä¸²åœ¨ä¸€èµ·ï¼Œå°±åƒé“¾æ¡ æ­¥éª¤ åˆ›é€ é¡ºåº å…ˆåœ¨çº¸ä¸Šå†™ä¸‹ä½ æ‰“ç®—è®°ä½çš„å¾ˆå¤šä¿¡æ¯ï¼Œåœ¨ä½ èƒ½ç†è§£çš„å‰æä¸‹ï¼Œè¿…é€Ÿåœ°å°†ä¿¡æ¯åˆ†æˆå‡ ä¸ªç±» åˆ« è®¾è®¡ç¬¦å· è¦èƒ½è¿…é€Ÿè®©ä½ è”æƒ³åˆ°åŸå§‹çš„çŸ¥è¯† åˆ›å»ºå±äºè‡ªå·±çš„è”æƒ³ å‘æŒ¥æƒ³è±¡åŠ›ï¼ŒæŠŠç¬¦å·ä¹‹é—´è¿æ¥èµ·æ¥ éš¾ç‚¹ ç¬¦å·é‡å¤ å¯ä»¥å°è¯•ä¸åŒé¢œè‰²æ¥åŒºåˆ† æ–­è£‚çš„è”ç³» ç¬¦å·ä¸²ä¸å®œå¤ªé•¿ éš¾ä»¥è¾¨è®¤çš„ç¬¦å· ç”¨åªæœ‰è‡ªå·±èƒ½æ‡‚çš„å¾ˆå¥½ï¼Œä½†æ˜¯ä¸€å®šä¸èƒ½è®©è‡ªå·±è¿·æƒ‘ è§¦å‘ç‰©ä¸¢å¤± é˜²æ­¢è®°ä¸èµ·ç¬¬ä¸€ä¸ªï¼šå¢åŠ ä¸­ç¬¬ä¸€é¡¹å’Œè§¦å‘ç‰©ä¹‹é—´çš„è”æƒ³ æŠ½è±¡ä¿¡æ¯ã€éšæ„ä¿¡æ¯ï¼Œå…³è”ç¨‹åº¦ä¸å¼º ä¿¡æ¯çš„ç»“æ„éšæ„ä¿¡æ¯ ç‰¹ç‚¹ ç¼ºå°‘å†…åœ¨é€»è¾‘è”ç³»ï¼Œéœ€è¦æ­»è®°ç¡¬èƒŒçš„çŸ¥è¯† æ–¹æ³• ç€åŠ›å»å¯»æ‰¾çŸ¥è¯†ç‚¹ä¹‹é—´çš„è”ç³» è§‚ç‚¹ä¿¡æ¯ ç‰¹ç‚¹ å­˜åœ¨äº‰è®®çš„ä¿¡æ¯ æ–¹æ³• åœ¨è·å–é˜¶æ®µï¼Œå¿«é€Ÿæ£€ç´¢å¤§é‡ä¿¡æ¯ï¼šæ‰¾å¯»å…¶ä¸­çš„æ¨¡å¼ï¼ˆä¸è®°å¿†å…·ä½“ç»†èŠ‚ï¼‰ é€Ÿè¯» å›¾ç¤ºï¼šä»¥åŠ å¼ºå¯¹æ¯”ä»¥æå–æ¨¡å¼ï¼Œå¢è¿›ç†è§£ å¤§å¤šæ•°å­¦ç§‘éƒ½æ˜¯è¿™å‡ ç§ä¿¡æ¯ä¸åŒæ¯”ä¾‹çš„ç»„åˆè¿‡ç¨‹ä¿¡æ¯ ç‰¹ç‚¹ æ•™å¯¼å¦‚ä½•è¡ŒåŠ¨ï¼Œä¸€ç³»åˆ—æ“ä½œçš„é›†åˆ æ–¹æ³• æ‰“é€ è‰¯å¥½çš„ç»“æ„ä¸æ¨¡å‹ï¼šåŠ é€Ÿè¿‡ç¨‹ä¿¡æ¯çš„å­¦ä¹  éœ€è¦å¤§é‡æ—¶é—´æŠ•å…¥ç»ƒä¹  å…·ä½“ä¿¡æ¯ ç‰¹ç‚¹ èƒ½ä¸æ„Ÿå®˜ã€å®é™…ç›¸è”ç³»çš„ä¿¡æ¯ æ–¹æ³• å†…åœ¨åŒ–ï¼šæœ‰åŠ©äºä½ å°†ä¿¡æ¯ä¸å¤šä¸ªæ„Ÿ å®˜ç›¸è”ç³» è¿ç”¨å„ç§æ–¹æ³•æ‰¾å¯»ä¿¡æ¯ä¹‹é—´çš„è”ç³»ï¼šä»¥æŠŠå¼±ç»“æ„çš„ä¿¡æ¯è½¬åŒ–ä¸ºå¼ºç»“æ„çš„ä¿¡æ¯æŠ½è±¡ä¿¡æ¯ ç‰¹ç‚¹ ç¼ºå°‘ä¸æ„Ÿå®˜çš„ç›´æ¥è”ç³» æ–¹æ³• è¿ç”¨æ–¹æ³•å°†æŠ½è±¡ä¿¡æ¯é™ä½åˆ°ä¸€ä¸ªåŸºæœ¬çš„çº§åˆ« å†…åœ¨æ³• æ¯”å–» ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µConstructs Familiar Constructs æ„Ÿå®˜ç»“æ„ æ¥è‡ªäººç±»çš„æ„Ÿå®˜çŸ¥è§‰ï¼Œæ˜¯æœ€ç†Ÿæ‚‰ã€æœ€ç”ŸåŠ¨çš„ç»“æ„ å…³ç³»ç»“æ„ æ¥è‡ªäººç±»ç”Ÿæ´»ç»éªŒä¸­äººä¸äº‹åŠ¡ã€äº‹ç‰©ä¹‹é—´çš„è”ç³» åŸºæœ¬æ•°å­¦ç»“æ„ æ¥è‡ªæˆ‘ä»¬ä»¥æŒæ¡çš„ç®€å•çš„åŸºæœ¬æ•°å­¦æ¦‚å¿µ ç»“æ„ï¼šå°±æ˜¯ä¸€ç³»åˆ—è”ç³»ç´§å¯†çš„çŸ¥è¯†ï¼Œä¸€ä¸ªçŸ¥è¯†ç‚¹ä¸è¶Šå¤šçš„å…¶å®ƒçš„çŸ¥è¯†ç‚¹ç›¸è”ç³»ï¼Œåˆ™ä½ å¯¹äºè¿™ä¸ªçŸ¥è¯†ç‚¹çš„æŒæ¡å°±è¶Šç‰¢å›ºï¼Œåº”ç”¨èµ·æ¥ä¹Ÿå°±è¶Šç®€å•æ˜äº†ã€‚ Model æ¨¡å‹æ˜¯å¯¹ç»“æ„çš„ç´¢å¼•ï¼Œæ˜¯å¯¹äºç»“æ„çš„å½¢è±¡åŒ–çš„æŠ½è±¡ï¼Œå®ƒå°†å…³é”®çš„ç»“æ„å‹ç¼©å’Œæ¦‚æ‹¬ï¼Œ Highway é«˜é€Ÿå…¬è·¯æ˜¯ä¸åŒç»“æ„ä¹‹é—´çš„è”ç³»ï¼Œè¿™ç§è”ç³»æ˜¯è·¨å­¦ç§‘çš„ï¼Œä¹Ÿå³æ˜¯æˆ‘ä»¬å¯ä»¥æŠŠAé¢†åŸŸçš„çŸ¥è¯†è¿ç§»åˆ°Bé¢†åŸŸã€‚ å°†æ¯ä¸ª çŸ¥è¯†ç‚¹éƒ½è¦ç»è¿‡æ•´ä½“æ€§å­¦ä¹ é‡Œçš„æ˜ç™½ã€æ‹“å±•å’Œåº”ç”¨ä¸‰ä¸ªé˜¶æ®µæ¯”å–»æ³•ã€å›¾è¡¨æ³•ä»¥åŠä¿¡æ¯å‹ ç¼©æŠ€æœ¯","categories":[],"tags":[{"name":"Time Management","slug":"Time-Management","permalink":"http://frankchen.xyz/tags/Time-Management/"},{"name":"Life","slug":"Life","permalink":"http://frankchen.xyz/tags/Life/"}]},{"title":"Basic Linux/Unix command Interview Questions","slug":"Basic-Linux-Unix-command-Interview-Questions","date":"2017-03-18T16:53:08.000Z","updated":"2017-03-19T05:42:16.000Z","comments":true,"path":"2017/03/19/Basic-Linux-Unix-command-Interview-Questions/","link":"","permalink":"http://frankchen.xyz/2017/03/19/Basic-Linux-Unix-command-Interview-Questions/","excerpt":"Overview of Basic Linux/Unix command Interview Questions: å¸¸è§Linuxå‘½ä»¤çš„æ¦‚è¿°è®°å½•","text":"Overview of Basic Linux/Unix command Interview Questions: å¸¸è§Linuxå‘½ä»¤çš„æ¦‚è¿°è®°å½• åˆçº§é—®é¢˜ åˆ—å‡ºç›®å½•å†…æ‰€æœ‰çš„è½¯é“¾æ¥æ–‡ä»¶ ls -la | grep &quot;^l&quot; ls -laä¼šä»¥ASCIIåˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼Œè€Œè½¯é“¾æ¥æ–‡ä»¶éƒ½æ˜¯ä»¥lå¼€å¤´çš„ï¼Œgrep &quot;^l&quot;ä¼šæ‰¾å‡ºå®ƒä»¬ã€‚å…³äºgrepçš„æ­£åˆ™patternå¯ä»¥è§æ­¤ï¼šUsing Grep &amp; Regular Expressions to Search for Text Patterns in Linux | DigitalOcean åˆ›å»ºä¸€ä¸ªåªè¯»çš„æ–‡ä»¶ï¼Ÿ 12touch filechmod 400 file æ›´å¤šå¯è§ï¼šFile permissions in UNIX Linux with Example &gt;&gt; Unix Tutorial å¦‚ä½•å°†ä¸€ä¸ªè¿›ç¨‹åœ¨åç«¯è¿è¡Œï¼Ÿå¦‚ä½•å°†å…¶è¿”å›å‰ç«¯ï¼Ÿå¦‚ä½•æ€æ­»è¿›ç¨‹ï¼Ÿ åˆ†åˆ«æ˜¯åœ¨å‘½ä»¤ååŠ ä¸Š&amp;ï¼›fg jobid(ç”¨jobsæ¥çœ‹jobid)ï¼›kill -KILL PID å¯è§How do I run a Unix process in the background? æµ‹è¯•è¿œç¨‹é“¾æ¥ï¼Ÿ ç”¨pingæˆ–telnetå³å¯ æ‰¾å¯»å†å²å‘½ä»¤ï¼Ÿ history | grep &quot;Pattern&quot; è¿œç¨‹å¤åˆ¶æ–‡ä»¶ï¼Ÿ scpï¼Œæˆ–è€…rsyncï¼Œsftp è¿›ç¨‹çš„CPUå ç”¨ï¼Ÿ top å½“å‰ç£ç›˜ç”¨é‡ï¼Ÿ df -h Swappingäº¤æ¢å’ŒPagingåˆ†é¡µçš„åŒºåˆ«ï¼Ÿ pagingæŒ‡çš„æ˜¯ä»¥é¡µä¸ºå•ä½çš„äº¤æ¢ï¼ŒswappingæŒ‡çš„æ˜¯ä»¥æ•´ä¸ªè¿›ç¨‹ä¸ºå•ä½çš„äº¤æ¢ã€‚ pagingæœºåˆ¶æ˜¯è¿›ç¨‹å†…å¤–äº¤æ¢çš„ä¸»æµï¼ŒæŸäº›æƒ…å†µä¸‹ä»ç„¶ä¼šä½¿ç”¨swappingæœºåˆ¶ï¼Œæ¯”å¦‚ï¼š1ã€ç³»ç»Ÿå†…å­˜ä¸¥é‡çŸ­ç¼ºï¼Œpagingæœºåˆ¶çš„é€Ÿåº¦å·²ç»ä¸è¶³ä»¥æ»¡è¶³éœ€è¦ã€‚2ã€è¿›ç¨‹å¤„äºå®Œå…¨éæ¿€æ´»çŠ¶æ€è¶…è¿‡10ç§’é’Ÿã€‚swappingä¼šæŠŠæ•´ä¸ªè¿›ç¨‹ç§»å‡ºä¸»å­˜ï¼Œè€Œä¸åƒpagingé‚£æ ·åªå¼„ç‚¹é¡µé¢å‡ºå»ã€‚ swappingå’Œpagingéƒ½æ˜¯å†…å­˜ä¸ç£ç›˜(è™šæ‹Ÿå†…å­˜)ä¹‹é—´çš„äº¤äº’æ–¹å¼å½“å†…å­˜ä¸å¤Ÿç”¨æ—¶ï¼Œä¸ºäº†åŠ è½½æ€¥éœ€çš„ç¨‹åºè¿›å†…å­˜ï¼Œéœ€è¦å°†ä¸€éƒ¨åˆ†æš‚æ—¶ä¸ç”¨çš„å†…å­˜å­˜åˆ°ç£ç›˜ä¸Šï¼Œä¸¤è€…å¯¹æ¯”swappingæ›´å¿«æ›´ç²—æš´ï¼Œpagingæ›´æ…¢æ›´flexiblyï¼Œæ›´å¤šå¯è§æ­¤[è½¬è½½]å†…å­˜çš„åˆ†é¡µä¸äº¤æ¢_æµè‹_æ–°æµªåšå®¢ ä¸­çº§é—®é¢˜ ps -ef å’Œ ps -auxwwwæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ps -auxwwwå¯ä»¥æ‰“å°æ­»è¿›ç¨‹ï¼Ÿï¼Ÿ cpuä¿¡æ¯ï¼Ÿ cat /proc/cpuinfo è½¯é“¾æ¥ä¸ç¡¬é“¾æ¥åŒºåˆ« How to Create, Update and Remove Soft link in UNIX ä»€ä¹ˆæ˜¯åƒµå°¸è¿›ç¨‹ï¼Ÿå¦‚ä½•æ‰¾åˆ°åƒµå°¸è¿›ç¨‹ï¼Ÿ When a program forks and the child finishes before the parent, the kernel still keeps some of its information about the child in case the parent might need it - for example, the parent may need to check the childâ€™s exit status. To be able to get this information, the parent calls â€˜wait()â€™; In the interval between the child terminating and the parent calling â€˜wait()â€™, the child is said to be a â€˜zombieâ€™ psä¸­ï¼Œåƒµå°¸è¿›ç¨‹çš„çŠ¶æ€å°†å¸¦æœ‰â€™Zâ€™ å¦‚ä½•ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶å†…å­—ç¬¦â€Unixâ€å‡ºç°æ¬¡æ•°ï¼Ÿ grep -c &quot;Unix&quot; filename chmodæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿr-- -w- --xä»£è¡¨ç€ä»€ä¹ˆï¼Ÿ chmodç”¨äºæ”¹å˜ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•åœ¨Linuxé‡Œçš„æƒé™ï¼Œrwxåˆ†åˆ«ä»£è¡¨è¯»å†™æ‰§è¡Œï¼Œè€Œå­—ç¬¦é¡ºåºä»£è¡¨ç€ç”¨æˆ· ç»„ ä»¥åŠ å…¶ä»–ï¼Œ é‚£ä¹ˆè¿™é‡Œçš„æ„æ€å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ç”¨æˆ·å¯è¯»ï¼Œç»„å†…ç”¨æˆ·å¯å†™ï¼Œå…¶ä»–åªèƒ½æ‰§è¡Œã€‚ ç³»ç»Ÿå†…æœ‰ä¸ªæ–‡ä»¶åŒ…å«å­—ç¬¦â€UnixCommandInterviewQuestionsâ€ï¼Œå¦‚ä½•æ‰¾åˆ°ï¼Ÿ è§æ­¤10 Example of find command in Unix and Linux å¦‚ä½•æ£€æŸ¥æ˜¯å¦æŸè¿›ç¨‹åœ¨ç›‘å¬æŸç«¯å£ï¼Ÿ telnet hostname port Top 10 basic networking commands in linux/unix é«˜çº§é—®é¢˜ æ€ä¹ˆçŸ¥é“æŸä¸ªæ–‡ä»¶è¢«å“ªäº›è¿›ç¨‹ä½¿ç”¨ï¼Ÿ lsofï¼Œå°¼ç›å‘€ï¼Œè¿™å°±æ˜¯æˆ‘baiduç”µè¯é¢è¯•æ—¶ç¢°åˆ°çš„é—®é¢˜ã€‚ã€‚ æŸ¥çœ‹ä½ çš„æŸä¸ªç«¯å£è¢«ä»€ä¹ˆè¿œç¨‹æœåŠ¡å™¨è¿æ¥ï¼Ÿ netstat -a | grep &quot;port&quot; nohupæ˜¯ä»€ä¹ˆï¼Ÿ ç”¨äºåœ¨åç«¯è¿è¡Œç¨‹åºï¼Œä½†æ˜¯å’Œ&amp;ä¸åŒï¼Œnohupåœ¨ç”¨æˆ·log off æ—¶ä¸ä¼šåœæ­¢è¿è¡Œï¼Œè€Œ&amp;ä¼šç»ˆæ­¢ã€‚ ephemeral portï¼Ÿ ä¸´æ—¶ç«¯å£ä¹Ÿå«åšæš‚æ—¶ç«¯å£ã€‚é€šå¸¸å­˜åœ¨äºå®¢æˆ·æœºä¸­ã€‚å®ƒåœ¨å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºéœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨æ—¶å»ºç«‹è€Œåœ¨å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºç»ˆæ­¢æ—¶å–æ¶ˆã€‚å®ƒçš„ç«¯å£å·æ˜¯éšæœºé€‰å–çš„ï¼Œæ•°å€¼å¤§äº1023ã€‚ å¦‚æœä¸€ä¸ªè¿›ç¨‹æ­£åœ¨å¾€MYSQLé‡Œå†™æ•°æ®ï¼Œå¦‚ä½•ç®¡æŸ¥å®ƒå†™å…¥çš„é€Ÿåº¦ï¼Ÿ watch æ›¿æ¢æŸæ–‡ä»¶å†…æ‰€æœ‰æŸå­—ç¬¦ï¼Ÿ sed s/Unix/UNIX/g fileName æŸæ–‡ä»¶åŒ…å«ä»¥tabåˆ†éš”çš„Name, Address and Phone Numberï¼Œå¦‚ä½•æå–æ‰€æœ‰çš„Phone Numberï¼Ÿ cut -f3 filename æœåŠ¡å™¨è¿è¡Œæ—¶é—´ï¼Ÿ uptime IP ä¸ hostnameäº’è½¬ï¼Ÿ nslookup","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"pythonæºç è§£æ0ï¼šè¶£äº‹","slug":"python-source-code-reading-0","date":"2017-03-17T19:56:23.000Z","updated":"2017-04-18T01:14:26.000Z","comments":true,"path":"2017/03/18/python-source-code-reading-0/","link":"","permalink":"http://frankchen.xyz/2017/03/18/python-source-code-reading-0/","excerpt":"About ä¸¤å¤„pythonæºç çš„è¶£å‘³è§£è¯»ã€‚","text":"About ä¸¤å¤„pythonæºç çš„è¶£å‘³è§£è¯»ã€‚ The Zen of Pythonæˆ‘ä»¬çŸ¥é“ï¼Œimport thisä¼šæ‰“å°å¦‚ä¸‹â€œèŸ’è›‡ä¹‹ç¦…â€ï¼š 123456789101112131415161718192021The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.Complex is better than complicated.Flat is better than nested.Sparse is better than dense.Readability counts.Special cases aren't special enough to break the rules.Although practicality beats purity.Errors should never pass silently.Unless explicitly silenced.In the face of ambiguity, refuse the temptation to guess.There should be one-- and preferably only one --obvious way to do it.Although that way may not be obvious at first unless you're Dutch.Now is better than never.Although never is often better than *right* now.If the implementation is hard to explain, it's a bad idea.If the implementation is easy to explain, it may be a good idea.Namespaces are one honking great idea -- let's do more of those! ä½†æ˜¯åœ¨sourceé‡Œé¢ä¹Ÿå°±æ˜¯2.7/Lib/this.pyé‡Œï¼Œæ˜¯è¿™æ ·çš„ï¼š 12345678910111213141516171819202122232425262728s = \"\"\"Gur Mra bs Clguba, ol Gvz CrgrefOrnhgvshy vf orggre guna htyl.Rkcyvpvg vf orggre guna vzcyvpvg.Fvzcyr vf orggre guna pbzcyrk.Pbzcyrk vf orggre guna pbzcyvpngrq.Syng vf orggre guna arfgrq.Fcnefr vf orggre guna qrafr.Ernqnovyvgl pbhagf.Fcrpvny pnfrf nera'g fcrpvny rabhtu gb oernx gur ehyrf.Nygubhtu cenpgvpnyvgl orngf chevgl.Reebef fubhyq arire cnff fvyragyl.Hayrff rkcyvpvgyl fvyraprq.Va gur snpr bs nzovthvgl, ershfr gur grzcgngvba gb thrff.Gurer fubhyq or bar-- naq cersrenoyl bayl bar --boivbhf jnl gb qb vg.Nygubhtu gung jnl znl abg or boivbhf ng svefg hayrff lbh'er Qhgpu.Abj vf orggre guna arire.Nygubhtu arire vf bsgra orggre guna *evtug* abj.Vs gur vzcyrzragngvba vf uneq gb rkcynva, vg'f n onq vqrn.Vs gur vzcyrzragngvba vf rnfl gb rkcynva, vg znl or n tbbq vqrn.Anzrfcnprf ner bar ubaxvat terng vqrn -- yrg'f qb zber bs gubfr!\"\"\"d = &#123;&#125;for c in (65, 97): for i in range(26): d[chr(i+c)] = chr((i+13) % 26 + c)print \"\".join([d.get(c, c) for c in s]) å“ˆå“ˆï¼Œè¿™ä¸å°±æ˜¯å‡¯æ’’å¯†ç ä¹ˆã€‚ã€‚ã€‚æ¯ä¸ªå­—æ¯åˆ†å¤§å°å†™(65:A, 97:a)éƒ½è¢«å¯¹åº”åˆ°ASCII è¡¨å13ä¸ªä½ç½®ï¼Œäºæ˜¯å°±æœ‰ 123456789101112131415&#123;'A': 'N', 'B': 'O', 'C': 'P', 'D': 'Q', 'E': 'R', 'F': 'S',....'s': 'f', 't': 'g', 'u': 'h', 'v': 'i', 'w': 'j', 'x': 'k', 'y': 'l', 'z': 'm'&#125; æ‰€ä»¥ï¼ŒåŸä½œè€…åº”è¯¥æ˜¯è¿™æ ·å†™å‡ºæ¥çš„å¯†ç çš„ 12345678910111213141516171819202122232425262728s = \"\"\"The Zen of Python, by Tim PetersBeautiful is better than ugly.Explicit is better than implicit.Simple is better than complex.Complex is better than complicated.Flat is better than nested.Sparse is better than dense.Readability counts.Special cases aren't special enough to break the rules.Although practicality beats purity.Errors should never pass silently.Unless explicitly silenced.In the face of ambiguity, refuse the temptation to guess.There should be one-- and preferably only one --obvious way to do it.Although that way may not be obvious at first unless you're Dutch.Now is better than never.Although never is often better than *right* now.If the implementation is hard to explain, it's a bad idea.If the implementation is easy to explain, it may be a good idea.Namespaces are one honking great idea -- let's do more of those!\"\"\"d = &#123;&#125;for c in (65, 97): for i in range(26): d[chr(i+c)] = chr((i-13) % 26 + c)print(\"\".join([d.get(c, c) for c in s])) å¾ˆç¥å¥‡å§ï¼Ÿå“ˆå“ˆï¼Œå…¶å®å°±æ˜¯é€†å‘ä¸€ä¸‹å°±okğŸ˜ antigravity æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨pythoné‡Œï¼Œimport antigravityä¼šè®©æˆ‘ä»¬å¼¹åˆ°ä¸€ä¸ªç½‘ç«™ï¼Œé‡Œé¢æœ‰è¿™å¹…è‘—åçš„å›¾ç”» pythonå¸¦æˆ‘ä»¬é£ï¼é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ çœ‹çœ‹æºç ï¼Œ 123import webbrowserwebbrowser.open(\"http://xkcd.com/353/\") å“ˆå“ˆï¼ŒåŸæ¥å°±è¿™ä¸¤è¡Œï¼ŒAre you kidding me? å…³äºè¿™ä¸ªçš„æ¥é¾™å»è„‰ï¼Œå¯ä»¥çœ‹çœ‹è¿™é‡Œï¼šThe History of Python: import antigravityä»¥åŠè¿™é‡Œï¼šimport antigravity | sciyoshi.comï¼Œå¤§æ„æ˜¯æºè‡ªgoogleçš„ä¸€ä¸ªå¤æ´»èŠ‚å½©è›‹ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œpython3çš„antigravityå½©è›‹å‡çº§äº†ï¼ä¸ä¿¡ä½ çœ‹ 12345678910111213141516import webbrowserimport hashlibwebbrowser.open(\"https://xkcd.com/353/\")def geohash(latitude, longitude, datedow): '''Compute geohash() using the Munroe algorithm. &gt;&gt;&gt; geohash(37.421542, -122.085589, b'2005-05-26-10458.68') 37.857713 -122.544543 ''' # http://xkcd.com/426/ h = hashlib.md5(datedow).hexdigest() p, q = [('%f' % float.fromhex('0.' + x)) for x in (h[:16], h[16:32])] print('%d%s %d%s' % (latitude, p[1:], longitude, q[1:])) é‡Œé¢éšè—äº†ä¸€ä¸ªè®¡ç®—Geohashingçš„ç®—æ³•ï¼Œå¯ä»¥æ ¹æ®ç»™å®šç‚¹åæ ‡çš„ç»çº¬åº¦ä»¥åŠå½“å‰æ—¶é—´è®¡ç®—ä¸€ä¸ªéšæœºçš„æ–°çš„ç‚¹åæ ‡ã€‚","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"}]},{"title":"programmer humor week 0","slug":"programmer-humor-week-0","date":"2017-03-15T10:33:39.000Z","updated":"2017-03-15T11:51:39.000Z","comments":true,"path":"2017/03/15/programmer-humor-week-0/","link":"","permalink":"http://frankchen.xyz/2017/03/15/programmer-humor-week-0/","excerpt":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ","text":"programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ Huge improvements in both code quality and performance Coding in MS Paint What debuggers actually do Every time One last compilation å¼•ç”¨è‡ªProgrammer Humor","categories":[],"tags":[{"name":"Funny","slug":"Funny","permalink":"http://frankchen.xyz/tags/Funny/"}]},{"title":"æ•°æ®æŒ–æ˜æµç¨‹ï¼šæ•°æ®å¯è§†åŒ–ä¸é¢„å¤„ç†","slug":"æ•°æ®æŒ–æ˜æµç¨‹ï¼šæ•°æ®å¯è§†åŒ–ä¸é¢„å¤„ç†","date":"2017-03-15T03:14:11.000Z","updated":"2017-03-16T10:46:45.000Z","comments":true,"path":"2017/03/15/æ•°æ®æŒ–æ˜æµç¨‹ï¼šæ•°æ®å¯è§†åŒ–ä¸é¢„å¤„ç†/","link":"","permalink":"http://frankchen.xyz/2017/03/15/æ•°æ®æŒ–æ˜æµç¨‹ï¼šæ•°æ®å¯è§†åŒ–ä¸é¢„å¤„ç†/","excerpt":"æ•°æ®æŒ–æ˜çš„ç¬¬ä¸€æ­¥ï¼Œå½“æˆ‘ä»¬æ‰‹ä¸­æ‹¿åˆ°ä¸€ä»½æ•°æ®ï¼Œå½“ç„¶æ˜¯å¯¹æ•°æ®è¿›è¡Œè§‚å¯Ÿä¸é¢„å¤„ç†äº†ã€‚æœ¬æ–‡ä¸»è¦å¯¹è¿™ä¸¤ä¸ªæ–¹é¢åšä¸€ä¸ªä¸ªäººçš„æ€»ç»“ã€‚","text":"æ•°æ®æŒ–æ˜çš„ç¬¬ä¸€æ­¥ï¼Œå½“æˆ‘ä»¬æ‰‹ä¸­æ‹¿åˆ°ä¸€ä»½æ•°æ®ï¼Œå½“ç„¶æ˜¯å¯¹æ•°æ®è¿›è¡Œè§‚å¯Ÿä¸é¢„å¤„ç†äº†ã€‚æœ¬æ–‡ä¸»è¦å¯¹è¿™ä¸¤ä¸ªæ–¹é¢åšä¸€ä¸ªä¸ªäººçš„æ€»ç»“ã€‚ import æ‰åŒ…ï¼Ÿç¬¬0æ­¥ï¼Œè°ƒåŒ…ã€‚ã€‚ é€šå¸¸numpyã€pandasã€scipyã€seabornå·²ç»matplotlibæ˜¯å¿…é¡»çš„ ä¸ºé˜²æ­¢çƒ¦äººçš„warningï¼Œè¿˜éœ€è¦ 12import warningswarnings.filterwarnings(&apos;ignore&apos;) å› ä¸ºæˆ‘ä»¬ä¸ç®¡warningåªç®¡errorï¼Œå“ˆå“ˆğŸ˜‚ seabornçš„è®¾ç½®é¢œè‰²æ ¼å¼ 1sns.set_style(&apos;whitegrid&apos;) ä»¥åŠ 1%matplotlib inline è§‚å¯Ÿä¸å¯è§†åŒ–ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åº”è¯¥é¦–å…ˆè§‚å¯Ÿæ ‡ç­¾çš„åˆ†å¸ƒä»¥åŠç‰¹å¾çš„åˆ†å¸ƒï¼Œå¯¹äºå‰è€…é€šå¸¸ä½¿ç”¨pandas Dataframeçš„columnsï¼Œå¯¹äºåè€…åˆ™æ˜¯value_counts()å’Œdescribe()æ¥å±•ç¤ºã€‚å¦‚ 1df_train.columns 1int_level = train_df[&apos;interest_level&apos;].value_counts() 1df_train[&apos;SalePrice&apos;].describe() describe()ä¼šç»™å‡ºæ ‡ç­¾çš„å„ç§æ•°å€¼ä¿¡æ¯ï¼Œå¦‚ 123456789count 1460.000000mean 180921.195890std 79442.502883min 34900.00000025% 129975.00000050% 163000.00000075% 214000.000000max 755000.000000Name: SalePrice, dtype: float64 åŒæ—¶ä¹Ÿå¯ä»¥å€ŸåŠ©äºseabornå›¾æ¥æ˜¾ç¤º 1sns.distplot(df_train[&apos;SalePrice&apos;]); æ¥ä¸‹æ¥å¯ä»¥çœ‹çœ‹æ ‡ç­¾çš„ååº¦å’Œå³°åº¦(skewness and kurtosis) 12print(&quot;Skewness: %f&quot; % df_train[&apos;SalePrice&apos;].skew())print(&quot;Kurtosis: %f&quot; % df_train[&apos;SalePrice&apos;].kurt()) ç‰¹å¾ä¸æ ‡ç­¾å…³ç³»å¯¹äºæ•°å€¼ç‰¹å¾å¯ç”¨æ•£ç‚¹å›¾æ¥å±•ç¤º 123var = 'GrLivArea'data = pd.concat([df_train['SalePrice'], df_train[var]], axis=1)data.plot.scatter(x=var, y='SalePrice', ylim=(0,800000)); å¯¹äºç±»åˆ«ç‰¹å¾ï¼Œåˆ™å¯ç”¨ç®±å‹å›¾ 12345var = &apos;OverallQual&apos;data = pd.concat([df_train[&apos;SalePrice&apos;], df_train[var]], axis=1)f, ax = plt.subplots(figsize=(8, 6))fig = sns.boxplot(x=var, y=&quot;SalePrice&quot;, data=data)fig.axis(ymin=0, ymax=800000); æ—¶é—´ç‰¹å¾ç±»ä¼¼ 123456var = &apos;YearBuilt&apos;data = pd.concat([df_train[&apos;SalePrice&apos;], df_train[var]], axis=1)f, ax = plt.subplots(figsize=(16, 8))fig = sns.boxplot(x=var, y=&quot;SalePrice&quot;, data=data)fig.axis(ymin=0, ymax=800000);plt.xticks(rotation=90); ç‰¹å¾ä¸ç‰¹å¾çš„å…³ç³»ç”¨å…³è”çŸ©é˜µCorrelation matrixçš„heatmapç±»å‹å¯ä»¥å±•ç¤ºæ‰€æœ‰ç‰¹å¾ä¸ç‰¹å¾çš„å…³ç³» 1234#correlation matrixcorrmat = df_train.corr()f, ax = plt.subplots(figsize=(12, 9))sns.heatmap(corrmat, vmax=.8, square=True); ä»å…³è”çŸ©é˜µæˆ‘ä»¬å¯ä»¥å¯¹ç‰¹å¾çš„æ€»ä½“å…³ç³»æœ‰ä¸ªè®¤è¯†ï¼Œé‚£ä¹ˆè¿›ä¸€æ­¥å¯ä»¥ç”¨zoomed heatmapæ¥ç­›é€‰å‡ ä¸ªç‰¹å¾è¿›è¡Œè§‚å¯Ÿå…¶ä¹‹é—´çš„å…³ç³» 1234567#saleprice correlation matrixk = 10 #number of variables for heatmapcols = corrmat.nlargest(k, &apos;SalePrice&apos;)[&apos;SalePrice&apos;].indexcm = np.corrcoef(df_train[cols].values.T)sns.set(font_scale=1.25)hm = sns.heatmap(cm, cbar=True, annot=True, square=True, fmt=&apos;.2f&apos;, annot_kws=&#123;&apos;size&apos;: 10&#125;, yticklabels=cols.values, xticklabels=cols.values)plt.show() å¤§æ€å™¨åˆ™æ˜¯scatterplotï¼Œå¦‚ 12345#scatterplotsns.set()cols = [&apos;SalePrice&apos;, &apos;OverallQual&apos;, &apos;GrLivArea&apos;, &apos;GarageCars&apos;, &apos;TotalBsmtSF&apos;, &apos;FullBath&apos;, &apos;YearBuilt&apos;]sns.pairplot(df_train[cols], size = 2.5)plt.show(); é¢„å¤„ç†ç¼ºå¤±å€¼ Missing dataÂ¶é¦–å…ˆè§‚å¯ŸåŒ…å«ç¼ºå¤±å€¼çš„ç‰¹å¾ 12345#missing datatotal = df_train.isnull().sum().sort_values(ascending=False)percent = (df_train.isnull().sum()/df_train.isnull().count()).sort_values(ascending=False)missing_data = pd.concat([total, percent], axis=1, keys=[&apos;Total&apos;, &apos;Percent&apos;])missing_data.head(20) ä»¥ä¸Šå°†æ‰“å°åŒ…å«ç¼ºå¤±å€¼çš„ç‰¹å¾çš„ç¼ºå¤±ä¸ªæ•°å’Œæ¯”ä¾‹ å½“ç„¶å¯¹äºç¼ºå¤±å€¼ï¼Œä¸åŒæƒ…å†µæœ‰ä¸åŒçš„å¤„ç†æ–¹æ³•ï¼Œä¾‹å¦‚ è¿™é‡Œæˆ‘ä»¬ç®€å•çš„å°†missingè¶…è¿‡1çš„featureä¸¢å¼ƒï¼Œå†å°†missingå€¼ä¸º1çš„æ ·æœ¬åˆ å»ï¼Œå…¶ä»–æ–¹æ³•æœ‰å¾…ä¹‹åè¡¥å……ã€‚ 1234#dealing with missing datadf_train = df_train.drop((missing_data[missing_data[&apos;Total&apos;] &gt; 1]).index,1)df_train = df_train.drop(df_train.loc[df_train[&apos;Electrical&apos;].isnull()].index)df_train.isnull().sum().max() ç¦»ç¾¤ç‚¹å•ç‰¹å¾æƒ…å†µï¼Œå¯ä»¥ä»¥å¦‚ä¸‹å½¢å¼è§‚å¯Ÿ 12345678#standardizing datasaleprice_scaled = StandardScaler().fit_transform(df_train[&apos;SalePrice&apos;][:,np.newaxis]);low_range = saleprice_scaled[saleprice_scaled[:,0].argsort()][:10]high_range= saleprice_scaled[saleprice_scaled[:,0].argsort()][-10:]print(&apos;outer range (low) of the distribution:&apos;)print(low_range)print(&apos;\\nouter range (high) of the distribution:&apos;)print(high_range) 1234567891011121314151617181920212223outer range (low) of the distribution:[[-1.83820775] [-1.83303414] [-1.80044422] [-1.78282123] [-1.77400974] [-1.62295562] [-1.6166617 ] [-1.58519209] [-1.58519209] [-1.57269236]]outer range (high) of the distribution:[[ 3.82758058] [ 4.0395221 ] [ 4.49473628] [ 4.70872962] [ 4.728631 ] [ 5.06034585] [ 5.42191907] [ 5.58987866] [ 7.10041987] [ 7.22629831]] åŒç‰¹å¾å…³ç³»å¦‚ç‰¹å¾æ ‡ç­¾å…³ç³»é‚£æ ·ï¼Œå…ˆconcatå†scatter1234#bivariate analysis saleprice/grlivareavar = &apos;GrLivArea&apos;data = pd.concat([df_train[&apos;SalePrice&apos;], df_train[var]], axis=1)data.plot.scatter(x=var, y=&apos;SalePrice&apos;, ylim=(0,800000)); ç¦»ç¾¤ç‚¹å¯ä»¥ç®€å•åˆ å»ï¼Œå¦‚ æ­£æ€åˆ†å¸ƒç”¨histogram å’Œ normal probabilityå¯ä»¥è§‚å¯Ÿæ•°æ®çš„å³°åº¦ååº¦ä»¥åŠæ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒ 123sns.distplot(df_train[&apos;SalePrice&apos;], fit=norm);fig = plt.figure()res = stats.probplot(df_train[&apos;SalePrice&apos;], plot=plt) å¯¹äºæ­£ååº¦ï¼Œå–logé€šå¸¸ä¸é”™ 1234567#applying log transformationdf_train[&apos;SalePrice&apos;] = np.log(df_train[&apos;SalePrice&apos;])In [22]:#transformed histogram and normal probability plotsns.distplot(df_train[&apos;SalePrice&apos;], fit=norm);fig = plt.figure()res = stats.probplot(df_train[&apos;SalePrice&apos;], plot=plt) æœ‰æ—¶æˆ‘ä»¬ä¼šé‡åˆ°å…·æœ‰è®¸å¤š0å€¼å¾—ç‰¹å¾ï¼Œè€Œä»istogram å’Œ normal probabilityå¯ä»¥çœ‹å‡ºå…¶å…·æœ‰ååº¦ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼šå°†éé›¶ç‚¹å–logä¿ç•™é›¶ç‚¹ã€‚ 12345678#create column for new variable (one is enough because it&apos;s a binary categorical feature)#if area&gt;0 it gets 1, for area==0 it gets 0df_train[&apos;HasBsmt&apos;] = pd.Series(len(df_train[&apos;TotalBsmtSF&apos;]), index=df_train.index)df_train[&apos;HasBsmt&apos;] = 0df_train.loc[df_train[&apos;TotalBsmtSF&apos;]&gt;0,&apos;HasBsmt&apos;] = 1In [28]:#transform datadf_train.loc[df_train[&apos;HasBsmt&apos;]==1,&apos;TotalBsmtSF&apos;] = np.log(df_train[&apos;TotalBsmtSF&apos;]) å¯¹äºæ ‡ç­¾ï¼Œå¦‚æœååº¦å¤ªå¤§ï¼Œå¯ä»¥ä½¿ç”¨log1pæ¥å¤„ç†ï¼Œå¹¶å¯¹æ¯”å‰åçš„å·®è· 12345matplotlib.rcParams[&apos;figure.figsize&apos;] = (12.0, 6.0)prices = pd.DataFrame(&#123;&quot;price&quot;:train[&quot;SalePrice&quot;], &quot;log(price + 1)&quot;:np.log1p(train[&quot;SalePrice&quot;]) &#125;)prices.hist() å¯¹å…¨éƒ¨Dataframeå¤„ç†éœ€è¦concat testä¸trainï¼Œä¸€å¹¶å¤„ç†ï¼Œ 1all_data = pd.concat((train.loc[:,&quot;MSSubClass&quot;: &quot;SaleCondition&quot;], test.loc[:,&quot;MSSubClass&quot;: &quot;SaleCondition&quot;])) æœ€åéœ€è¦å°†é¢„æµ‹çš„æ ‡ç­¾å€¼æ”¾å¤§è¿˜åŸï¼Œå¦‚ 1lasso_preds = np.expm1(model_lasso.predict(X_test)) å‚è€ƒå‡ºå¤„ House Prices: Advanced Regression Techniques | Kaggle","categories":[],"tags":[{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"}]},{"title":"Amdahl's law","slug":"Amdahl-s-law","date":"2017-02-22T10:03:29.000Z","updated":"2017-03-15T05:19:46.000Z","comments":true,"path":"2017/02/22/Amdahl-s-law/","link":"","permalink":"http://frankchen.xyz/2017/02/22/Amdahl-s-law/","excerpt":"å…³äºAmdahlâ€™s lawã€‚","text":"å…³äºAmdahlâ€™s lawã€‚ Amdahlâ€™s lawï¼Œåˆå«åšé˜¿å§†è¾¾å°”å®šå¾‹ï¼Œå…¶æ„ä¹‰åœ¨äºè¡¨ç¤ºäº†è®¡ç®—æœºå¹¶è¡Œè®¡ç®—å¤„ç†ä»»åŠ¡çš„åŠ é€Ÿçš„æé™ã€‚ ç®€ç•¥è¯æ˜è§£é‡Šå¦‚ä¸‹ï¼Œå‡è®¾ä¸€ä¸ªä»»åŠ¡éœ€è¦æ—¶é—´$T$æ¥å®Œæˆï¼Œè€Œå…¶ä¸­å¯ä»¥è¢«å¹¶è¡Œå¤„ç†åŠ é€Ÿçš„éƒ¨åˆ†æ¯”ä¾‹ä¸º$p$ï¼Œé‚£ä¹ˆä¸èƒ½è¢«å¹¶è¡Œè®¡ç®—åŠ é€Ÿçš„éƒ¨åˆ†å°±ä¸º$1-p$ï¼Œæ¯”å¦‚ä»ç£ç›˜ä¸Šè¯»å–ç¨‹åºæ®µå°±ä¸èƒ½å¹¶è¡ŒåŠ é€Ÿï¼Œè€Œè¯»å–å®Œæˆåˆ°å†…å­˜ä¸­å°±å¯ä»¥å¼€å¤šä¸ªè¿›ç¨‹æˆ–è€…åˆ©ç”¨åˆ†å¸ƒå¼çš„æ–¹æ³•å¹¶è¡Œå¤„ç†æ¥åŠ é€Ÿã€‚ $$T = (1-p)T + pT$$ å¼€å¯åŠ é€Ÿåï¼Œå¯ä»¥åŠ é€Ÿçš„éƒ¨åˆ†æ—¶é—´å‡å°‘è‡³åŸæ¥çš„ $\\frac {p} {s}$ $$Tâ€™ = (1-p)T + \\frac p s T$$ åˆ™åŠ é€Ÿæ¯”å°±ä¸º $$S_{\\text{latency}}(s) = \\frac {T} {Tâ€™} = \\frac{1}{1 - p + \\frac p s}$$ æ„ä¹‰Amdahlâ€™s lawæ­ç¤ºäº†ä¸ç®¡å¦‚ä½•çš„è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œåªè¦ä»»åŠ¡åŒ…å«æ— æ³•è¢«å¹¶è¡ŒåŠ é€Ÿçš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆåŠ é€Ÿæ¯”æ˜¯æœ‰ä¸Šé™çš„ï¼Œå› ä¸º $$\\lim_{s \\rightarrow \\infty} S_{\\text{latency}}(s) = \\frac {T} {Tâ€™} = \\frac{1}{1 - p}$$ ä¾‹å¦‚å¦‚ä¸‹å›¾ä¸­çš„ä¾‹å­ï¼Œå¦‚æœä»»åŠ¡çš„95%å¯ä»¥å¹¶è¡Œï¼Œé‚£ä¹ˆåŠ é€Ÿçš„æé™çº¦ä¸º20å€ã€‚","categories":[],"tags":[{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"}]},{"title":"Deep Learning Interview","slug":"Deep-Learning-Interview","date":"2017-02-18T02:25:31.000Z","updated":"2017-02-18T03:21:37.000Z","comments":true,"path":"2017/02/18/Deep-Learning-Interview/","link":"","permalink":"http://frankchen.xyz/2017/02/18/Deep-Learning-Interview/","excerpt":"æ•´ç†ä¸€äº›å…³äºDeep Learningçš„é¢è¯•é—®é¢˜ã€‚","text":"æ•´ç†ä¸€äº›å…³äºDeep Learningçš„é¢è¯•é—®é¢˜ã€‚ é—®é¢˜åˆ—è¡¨ CNNæœ€æˆåŠŸçš„åº”ç”¨æ˜¯åœ¨CVï¼Œé‚£ä¸ºä»€ä¹ˆNLPå’ŒSpeechçš„å¾ˆå¤šé—®é¢˜ä¹Ÿå¯ä»¥ç”¨CNNè§£å‡ºæ¥ï¼Ÿä¸ºä»€ä¹ˆAlphaGoé‡Œä¹Ÿç”¨äº†CNNï¼Ÿè¿™å‡ ä¸ªä¸ç›¸å…³çš„é—®é¢˜çš„ç›¸ä¼¼æ€§åœ¨å“ªé‡Œï¼ŸCNNé€šè¿‡ä»€ä¹ˆæ‰‹æ®µæŠ“ä½äº†è¿™ä¸ªå…±æ€§ï¼Ÿ ä»¥ä¸Šå‡ ä¸ªä¸ç›¸å…³é—®é¢˜çš„ç›¸å…³æ€§åœ¨äºï¼Œéƒ½å­˜åœ¨å±€éƒ¨ä¸æ•´ä½“çš„å…³ç³»ï¼Œç”±ä½å±‚æ¬¡çš„ç‰¹å¾ç»è¿‡ç»„åˆï¼Œç»„æˆé«˜å±‚æ¬¡çš„ç‰¹å¾ï¼Œå¹¶ä¸”å¾—åˆ°ä¸åŒç‰¹å¾ä¹‹é—´çš„ç©ºé—´ç›¸å…³æ€§ã€‚å¦‚ä¸‹å›¾ï¼šä½å±‚æ¬¡çš„ç›´çº¿ï¼æ›²çº¿ç­‰ç‰¹å¾ï¼Œç»„åˆæˆä¸ºä¸åŒçš„å½¢çŠ¶ï¼Œæœ€åå¾—åˆ°æ±½è½¦çš„è¡¨ç¤ºã€‚ CNNæŠ“ä½æ­¤å…±æ€§çš„æ‰‹æ®µä¸»è¦æœ‰å››ä¸ªï¼šå±€éƒ¨è¿æ¥ï¼æƒå€¼å…±äº«ï¼æ± åŒ–æ“ä½œï¼å¤šå±‚æ¬¡ç»“æ„ã€‚ å±€éƒ¨è¿æ¥ä½¿ç½‘ç»œå¯ä»¥æå–æ•°æ®çš„å±€éƒ¨ç‰¹å¾ï¼› æƒå€¼å…±äº«å¤§å¤§é™ä½äº†ç½‘ç»œçš„è®­ç»ƒéš¾åº¦ï¼Œä¸€ä¸ªFilteråªæå–ä¸€ä¸ªç‰¹å¾ï¼Œåœ¨æ•´ä¸ªå›¾ç‰‡ï¼ˆæˆ–è€…è¯­éŸ³ï¼æ–‡æœ¬ï¼‰ ä¸­è¿›è¡Œå·ç§¯ï¼› æ± åŒ–æ“ä½œä¸å¤šå±‚æ¬¡ç»“æ„ä¸€èµ·ï¼Œå®ç°äº†æ•°æ®çš„é™ç»´ï¼Œå°†ä½å±‚æ¬¡çš„å±€éƒ¨ç‰¹å¾ç»„åˆæˆä¸ºè¾ƒé«˜å±‚æ¬¡çš„ç‰¹å¾ï¼Œä»è€Œå¯¹æ•´ä¸ªå›¾ç‰‡è¿›è¡Œè¡¨ç¤ºã€‚ ä¸ºä»€ä¹ˆå¾ˆå¤šåšäººè„¸çš„Paperä¼šæœ€ååŠ å…¥ä¸€ä¸ªLocal Connected Convï¼Ÿ å¦‚æœæ¯ä¸€ä¸ªç‚¹çš„å¤„ç†ä½¿ç”¨ç›¸åŒçš„Filterï¼Œåˆ™ä¸ºå…¨å·ç§¯ï¼Œå¦‚æœä½¿ç”¨ä¸åŒçš„Filterï¼Œåˆ™ä¸ºLocal-Convã€‚ åæ¥äº†3ä¸ªLocal-Convå±‚ï¼Œè¿™é‡Œæ˜¯ç”¨Local-Convçš„åŸå› æ˜¯ï¼Œäººè„¸åœ¨ä¸åŒçš„åŒºåŸŸå­˜åœ¨ä¸åŒçš„ç‰¹å¾ï¼ˆçœ¼ç›ï¼é¼»å­ï¼å˜´çš„åˆ†å¸ƒä½ç½®ç›¸å¯¹å›ºå®šï¼‰ï¼Œå½“ä¸å­˜åœ¨å…¨å±€çš„å±€éƒ¨ç‰¹å¾åˆ†å¸ƒæ—¶ï¼ŒLocal-Convæ›´é€‚åˆç‰¹å¾çš„æå–ã€‚ ä»€ä¹ˆæ ·çš„èµ„æ–™é›†ä¸é€‚åˆç”¨æ·±åº¦å­¦ä¹ ? æ•°æ®é›†å¤ªå°ï¼Œæ•°æ®æ ·æœ¬ä¸è¶³æ—¶ï¼Œæ·±åº¦å­¦ä¹ ç›¸å¯¹å…¶å®ƒæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ²¡æœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚ æ•°æ®é›†æ²¡æœ‰å±€éƒ¨ç›¸å…³ç‰¹æ€§ï¼Œç›®å‰æ·±åº¦å­¦ä¹ è¡¨ç°æ¯”è¾ƒå¥½çš„é¢†åŸŸä¸»è¦æ˜¯å›¾åƒï¼è¯­éŸ³ï¼è‡ªç„¶è¯­è¨€å¤„ç†ç­‰é¢†åŸŸï¼Œè¿™äº›é¢†åŸŸçš„ä¸€ä¸ªå…±æ€§æ˜¯å±€éƒ¨ç›¸å…³æ€§ã€‚å›¾åƒä¸­åƒç´ ç»„æˆç‰©ä½“ï¼Œè¯­éŸ³ä¿¡å·ä¸­éŸ³ä½ç»„åˆæˆå•è¯ï¼Œæ–‡æœ¬æ•°æ®ä¸­å•è¯ç»„åˆæˆå¥å­ï¼Œè¿™äº›ç‰¹å¾å…ƒç´ çš„ç»„åˆä¸€æ—¦è¢«æ‰“ä¹±ï¼Œè¡¨ç¤ºçš„å«ä¹‰åŒæ—¶ä¹Ÿè¢«æ”¹å˜ã€‚å¯¹äºæ²¡æœ‰è¿™æ ·çš„å±€éƒ¨ç›¸å…³æ€§çš„æ•°æ®é›†ï¼Œä¸é€‚äºä½¿ç”¨æ·±åº¦å­¦ä¹ ç®—æ³•è¿›è¡Œå¤„ç†ã€‚ä¸¾ä¸ªä¾‹å­ï¼šé¢„æµ‹ä¸€ä¸ªäººçš„å¥åº·çŠ¶å†µï¼Œç›¸å…³çš„å‚æ•°ä¼šæœ‰å¹´é¾„ã€èŒä¸šã€æ”¶å…¥ã€å®¶åº­çŠ¶å†µç­‰å„ç§å…ƒç´ ï¼Œå°†è¿™äº›å…ƒç´ æ‰“ä¹±ï¼Œå¹¶ä¸ä¼šå½±å“ç›¸å…³çš„ç»“æœã€‚ å¯¹æ‰€æœ‰ä¼˜åŒ–é—®é¢˜æ¥è¯´, æœ‰æ²¡æœ‰å¯èƒ½æ‰¾åˆ°æ¯”ç¾åœ¨å·²çŸ¥ç®—æ³•æ›´å¥½çš„ç®—æ³•? No Free Lunchå®šå¾‹ï¼šä¸å­˜åœ¨ä¸€ä¸ªé€šç”¨æ™®é€‚çš„æ¨¡å‹ï¼Œå¯¹äºæ‰€æœ‰çš„å­¦ä¹ é—®é¢˜éƒ½èƒ½åšåˆ°æ€§èƒ½æœ€ä½³ã€‚ å¯¹äºè®­ç»ƒæ ·æœ¬ï¼ˆé»‘ç‚¹ï¼‰ï¼Œä¸åŒçš„ç®—æ³•A/Båœ¨ä¸åŒçš„æµ‹è¯•æ ·æœ¬ï¼ˆç™½ç‚¹ï¼‰ä¸­æœ‰ä¸åŒçš„è¡¨ç°ï¼Œè¿™è¡¨ç¤ºï¼šå¯¹äºä¸€ä¸ªå­¦ä¹ ç®—æ³•Aï¼Œè‹¥å®ƒåœ¨æŸäº›é—®é¢˜ä¸Šæ¯”å­¦ä¹ ç®—æ³• Bæ›´å¥½ï¼Œåˆ™å¿…ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œåœ¨é‚£é‡ŒBæ¯”Aå¥½ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼šå¯¹äºæ‰€æœ‰é—®é¢˜ï¼Œæ— è®ºå­¦ä¹ ç®—æ³•Aå¤šèªæ˜ï¼Œå­¦ä¹ ç®—æ³• Bå¤šç¬¨æ‹™ï¼Œå®ƒä»¬çš„æœŸæœ›æ€§èƒ½ç›¸åŒã€‚ ä½†æ˜¯ï¼šæ²¡æœ‰å…è´¹åˆé¤å®šåŠ›å‡è®¾æ‰€æœ‰é—®é¢˜å‡ºç°å‡ ç‡ç›¸åŒï¼Œå®é™…åº”ç”¨ä¸­ï¼Œä¸åŒçš„åœºæ™¯ï¼Œä¼šæœ‰ä¸åŒçš„é—®é¢˜åˆ†å¸ƒï¼Œæ‰€ä»¥ï¼Œåœ¨ä¼˜åŒ–ç®—æ³•æ—¶ï¼Œé’ˆå¯¹å…·ä½“é—®é¢˜è¿›è¡Œåˆ†æï¼Œæ˜¯ç®—æ³•ä¼˜åŒ–çš„æ ¸å¿ƒæ‰€åœ¨ã€‚ ç”¨è´å¶æ–¯æœºç‡è¯´æ˜Dropoutçš„åŸç† Dropout as a Bayesian Approximation: Insights and Applications ä½•ä¸ºå…±çº¿æ€§, è·Ÿè¿‡æ‹Ÿåˆæœ‰å•¥å…³è”? Multicollinearityï¼Wikipedia å…±çº¿æ€§ï¼šå¤šå˜é‡çº¿æ€§å›å½’ä¸­ï¼Œå˜é‡ä¹‹é—´ç”±äºå­˜åœ¨é«˜åº¦ç›¸å…³å…³ç³»è€Œä½¿å›å½’ä¼°è®¡ä¸å‡†ç¡®ã€‚ å…±çº¿æ€§ä¼šé€ æˆå†—ä½™ï¼Œå¯¼è‡´è¿‡æ‹Ÿåˆã€‚ è§£å†³æ–¹æ³•ï¼šæ’é™¤å˜é‡çš„ç›¸å…³æ€§ï¼åŠ å…¥æƒé‡æ­£åˆ™ã€‚ è¯´æ˜å¦‚ä½•ç”¨æ”¯æŒå‘é‡æœºå®ç°æ·±åº¦å­¦ä¹ (åˆ—å‡ºç›¸å…³æ•°å­¦å…¬å¼) å¹¿ä¹‰çº¿æ€§æ¨¡å‹æ˜¯æ€è¢«åº”ç”¨åœ¨æ·±åº¦å­¦ä¹ ä¸­? A Statistical View of Deep Learning (I): Recursive GLMs â† The Spectator æ·±åº¦å­¦ä¹ ä»ç»Ÿè®¡å­¦è§’åº¦ï¼Œå¯ä»¥çœ‹åšé€’å½’çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ã€‚ å¹¿ä¹‰çº¿æ€§æ¨¡å‹ç›¸å¯¹äºç»å…¸çš„çº¿æ€§æ¨¡å‹(y=wx+b)ï¼Œæ ¸å¿ƒåœ¨äºå¼•å…¥äº†è¿æ¥å‡½æ•°g(.)ï¼Œå½¢å¼å˜ä¸ºï¼šy=gâˆ’1(wx+b)ã€‚ æ·±åº¦å­¦ä¹ æ—¶é€’å½’çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼Œç¥ç»å…ƒçš„æ¿€æ´»å‡½æ•°ï¼Œå³ä¸ºå¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„é“¾æ¥å‡½æ•°ã€‚é€»è¾‘å›å½’ï¼ˆå¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„ä¸€ç§ï¼‰çš„Logisticå‡½æ•°å³ä¸ºç¥ç»å…ƒæ¿€æ´»å‡½æ•°ä¸­çš„Sigmoidå‡½æ•°ï¼Œå¾ˆå¤šç±»ä¼¼çš„æ–¹æ³•åœ¨ç»Ÿè®¡å­¦å’Œç¥ç»ç½‘ç»œä¸­çš„åç§°ä¸ä¸€æ ·ï¼Œå®¹æ˜“å¼•èµ·åˆå­¦è€…çš„å›°æƒ‘ã€‚ä¸‹å›¾æ˜¯ä¸€ä¸ªå¯¹ç…§è¡¨ï¼š ä»€ä¹ˆé€ æˆæ¢¯åº¦æ¶ˆå¤±é—®é¢˜? æ¨å¯¼ä¸€ä¸‹ How does the ReLu solve the vanishing gradient problem? - Quora Yes you should understand backprop â€“ Medium ç¥ç»ç½‘ç»œçš„è®­ç»ƒä¸­ï¼Œé€šè¿‡æ”¹å˜ç¥ç»å…ƒçš„æƒé‡ï¼Œä½¿ç½‘ç»œçš„è¾“å‡ºå€¼å°½å¯èƒ½é€¼è¿‘æ ‡ç­¾ä»¥é™ä½è¯¯å·®å€¼ï¼Œè®­ç»ƒæ™®éä½¿ç”¨BPç®—æ³•ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œè®¡ç®—å‡ºè¾“å‡ºä¸æ ‡ç­¾é—´çš„æŸå¤±å‡½æ•°å€¼ï¼Œç„¶åè®¡ç®—å…¶ç›¸å¯¹äºæ¯ä¸ªç¥ç»å…ƒçš„æ¢¯åº¦ï¼Œè¿›è¡Œæƒå€¼çš„è¿­ä»£ã€‚æ¢¯åº¦æ¶ˆå¤±ä¼šé€ æˆæƒå€¼æ›´æ–°ç¼“æ…¢ï¼Œæ¨¡å‹è®­ç»ƒéš¾åº¦å¢åŠ ã€‚é€ æˆæ¢¯åº¦æ¶ˆå¤±çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œè®¸å¤šæ¿€æ´»å‡½æ•°å°†è¾“å‡ºå€¼æŒ¤å‹åœ¨å¾ˆå°çš„åŒºé—´å†…ï¼Œåœ¨æ¿€æ´»å‡½æ•°ä¸¤ç«¯è¾ƒå¤§èŒƒå›´çš„å®šä¹‰åŸŸå†…æ¢¯åº¦ä¸º0ã€‚é€ æˆå­¦ä¹ åœæ­¢ Weights Initialization. ä¸åŒçš„æ–¹å¼ï¼Œé€ æˆçš„åæœã€‚ä¸ºä»€ä¹ˆä¼šé€ æˆè¿™æ ·çš„ç»“æœã€‚ å‡ ç§ä¸»è¦çš„æƒå€¼åˆå§‹åŒ–æ–¹æ³•ï¼šlecun_uniform / glorot_normal / he_normal / batch_normal lecun_uniformï¼šEfficient BackProp (PDF Download Available) glorot_normalï¼šUnderstanding the difficulty of training deep feedforward neural networks he_normalï¼šDelving Deep into Rectifiers:Surpassing Human-Level Performance on ImageNet Classification batch_normalï¼šBatch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift ä¸ºä»€ä¹ˆç½‘ç»œå¤Ÿæ·±(Neurons è¶³å¤Ÿå¤š)çš„æ—¶å€™ï¼Œæ€»æ˜¯å¯ä»¥é¿å¼€è¾ƒå·®Local Optimaï¼Ÿ [1412.0233] The Loss Surfaces of Multilayer Networks Loss. æœ‰å“ªäº›å®šä¹‰æ–¹å¼ï¼ˆåŸºäºä»€ä¹ˆï¼Ÿï¼‰ï¼Œ æœ‰å“ªäº›ä¼˜åŒ–æ–¹å¼ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼Œå„è‡ªçš„å¥½å¤„ï¼Œä»¥åŠè§£é‡Šã€‚ Cross-Entropy / MSE / K-Læ•£åº¦ Dropoutã€‚ æ€ä¹ˆåšï¼Œæœ‰ä»€ä¹ˆç”¨å¤„ï¼Œè§£é‡Šã€‚ How does the dropout method work in deep learning? - Quora An empirical analysis of dropout in piecewise linear networks Improving neural networks by preventing co-adaptation of feature detectors Activation Function. é€‰ç”¨ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆå¥½å¤„ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„å¥½å¤„ã€‚ å‡ ç§ä¸»è¦çš„æ¿€æ´»å‡½æ•°ï¼šSigmond / ReLU ï¼PReLU Deep Sparse Rectifier Neural Networks Delving Deep into Rectifiers: Surpassing Human-Level Performance on ImageNet Classification å‚è€ƒ å¦‚æœä½ æ˜¯é¢è¯•å®˜ï¼Œä½ æ€ä¹ˆå»åˆ¤æ–­ä¸€ä¸ªé¢è¯•è€…çš„æ·±åº¦å­¦ä¹ æ°´å¹³ï¼Ÿ - çŸ¥ä¹ æ·±åº¦å­¦ä¹ ç›¸å…³çš„èŒä½é¢è¯•æ—¶ä¸€èˆ¬ä¼šé—®ä»€ä¹ˆï¼Ÿä¼šé—®ä¸€äº›ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•å—ï¼Ÿ - çŸ¥ä¹","categories":[],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"}]},{"title":"åœ¨Windowsä¸Šå®‰è£…å¹¶åŠ é€Ÿæ‹‰å–Dockeré•œåƒçš„æ–¹æ³•","slug":"Docker-Windows-Speed-up","date":"2017-02-17T06:38:44.000Z","updated":"2017-02-17T06:53:01.000Z","comments":true,"path":"2017/02/17/Docker-Windows-Speed-up/","link":"","permalink":"http://frankchen.xyz/2017/02/17/Docker-Windows-Speed-up/","excerpt":"Dockerå®¹å™¨æœåŠ¡è¿‘æ¥å¯è°“æ˜¯ä¸€æ—¥åƒé‡Œçˆ†ç‚¸å¼çš„å‘å±•ï¼Œä½†æ˜¯åœ¨å›½å†…å®‰è£…Dockeræˆ–è€…æ‹‰å–åºå¤§çš„Dockeré•œåƒéƒ½ä¸å¯é¿å…çš„é‡åˆ°èœ—ç‰›å¼é€Ÿåº¦çš„é—®é¢˜ï¼Œæœ¬æ–‡ä¸»è¦å…³äºåŠ é€Ÿä¸‹è½½DockerWindowså®¢æˆ·ç«¯å’Œé•œåƒçš„æ–¹æ³•ã€‚","text":"Dockerå®¹å™¨æœåŠ¡è¿‘æ¥å¯è°“æ˜¯ä¸€æ—¥åƒé‡Œçˆ†ç‚¸å¼çš„å‘å±•ï¼Œä½†æ˜¯åœ¨å›½å†…å®‰è£…Dockeræˆ–è€…æ‹‰å–åºå¤§çš„Dockeré•œåƒéƒ½ä¸å¯é¿å…çš„é‡åˆ°èœ—ç‰›å¼é€Ÿåº¦çš„é—®é¢˜ï¼Œæœ¬æ–‡ä¸»è¦å…³äºåŠ é€Ÿä¸‹è½½DockerWindowså®¢æˆ·ç«¯å’Œé•œåƒçš„æ–¹æ³•ã€‚ ä¸‹è½½Docker Windowså®¢æˆ·ç«¯ä½¿ç”¨Daocloudæä¾›çš„ä¸‹è½½åœ°å€ï¼ŒåŸºæœ¬ä¸Šå‡ åˆ†é’Ÿå³å¯ä¸‹è½½å®Œ100Mbå·¦å³çš„Docker Windowså®¢æˆ·ç«¯ï¼Œè€Œç”¨Dockerå®˜ç½‘çš„ä¸‹è½½åœ°å€å¯è°“å‡ ä¹æ²¡æœ‰é€Ÿåº¦ã€‚ åŠ é€Ÿæ‹‰å–Dockeré•œåƒä¸æŒ‚VPNç›´æ¥æ‹‰å–Dockeré•œåƒç»å¯¹æ˜¯ç¾éš¾æ€§çš„ä½“éªŒï¼Œä¸ä»…æ…¢å¦‚ç‹—è€Œä¸”æå®¹æ˜“ä¸­æ–­è¿æ¥ã€‚è¿™é‡Œæˆ‘ä»¬åŒæ ·ä½¿ç”¨Daocloudæä¾›çš„é•œåƒç«™å¦‚è¿™é‡Œï¼Œä½¿ç”¨æ–¹æ³•ä¸ºåœ¨Dockerå³é”®èœå•çš„è®¾ç½®é€‰é¡¹å†…çš„DockerDaemoné‡Œé¢ï¼ŒåŠ ä¸Šä¸€æ®µåœ°å€æ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼Œ 123456&#123; &quot;registry-mirrors&quot;: [ &quot;http://59dcc468.m.daocloud.io&quot; ], &quot;insecure-registries&quot;: []&#125; ä¹‹åDockerä¼šè‡ªåŠ¨é‡å¯ï¼Œä¹‹åå†Poolé•œåƒå³å¯äº«å—ç«ç®­åŠ é€Ÿèˆ¬çš„æå‡ï¼","categories":[],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://frankchen.xyz/tags/Docker/"}]},{"title":"Explanation of Convolutional Neural Networks","slug":"Explanation-of-Convolutional-Neural-Networks","date":"2017-02-16T06:56:16.000Z","updated":"2017-02-17T12:16:54.000Z","comments":true,"path":"2017/02/16/Explanation-of-Convolutional-Neural-Networks/","link":"","permalink":"http://frankchen.xyz/2017/02/16/Explanation-of-Convolutional-Neural-Networks/","excerpt":"å·ç§¯ç¥ç»ç½‘ç»œ(Convolutional Neural Network)ï¼Œç®€ç§°CNNï¼Œæ˜¯æœºå™¨è§†è§‰é¢†åŸŸçš„ä¸»è¦ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚æœ¬æ–‡ä¸»è¦å¯¹CNNåšä¸€ä¸ªç®€æ˜å…¨é¢çš„ä»‹ç»ã€‚","text":"å·ç§¯ç¥ç»ç½‘ç»œ(Convolutional Neural Network)ï¼Œç®€ç§°CNNï¼Œæ˜¯æœºå™¨è§†è§‰é¢†åŸŸçš„ä¸»è¦ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚æœ¬æ–‡ä¸»è¦å¯¹CNNåšä¸€ä¸ªç®€æ˜å…¨é¢çš„ä»‹ç»ã€‚ ä¸Šå›¾æ˜¯90å¹´ä»£çš„LeNetçš„ç»“æ„ï¼Œå½“æ—¶ä¸»è¦ç”¨äºå­—ç¬¦çš„è¯†åˆ«ï¼Œå½“å‰æœ‰è®¸å¤šçš„æ–°çš„CNNç»“æ„ï¼Œä½†æ˜¯å¤§ä½“ä¸Šéƒ½æ˜¯é‡‡ç”¨äº†ä¸LeNetç±»ä¼¼çš„ä¸»è¦æ€æƒ³ã€‚æœ¬æ–‡ä¸»è¦ä»¥LeNetä¸ºä¾‹æ¥åšè®²è§£ã€‚ LeNetçš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š å·ç§¯å±‚ éçº¿æ€§å˜æ¢(ReLU) æ± åŒ–å±‚æˆ–è€…ä¸‹é‡‡æ · åˆ†ç±»(å…¨è¿æ¥) å›¾ç‰‡å°±æ˜¯çŸ©é˜µåœ¨è®²å·ç§¯ä¸å·ç§¯å±‚ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆä»‹ç»ä¸€ä¸‹å›¾ç‰‡çš„ç›¸å…³çš„æ¦‚å¿µã€‚æœ¬è´¨ä¸Šï¼Œæ¯å¼ å›¾ç‰‡éƒ½æ˜¯åƒç´ å€¼çš„çŸ©é˜µã€‚ å½©è‰²å›¾ç‰‡å…·æœ‰ä¸‰ä¸ªé€šé“ï¼Œæ‰€è°“çš„RGBå›¾ç‰‡ï¼Œä¹Ÿå°±æ˜¯åœ¨çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²ä¸‰ä¸ªé¢œè‰²çš„çŸ©é˜µï¼Œæ¯ä¸ªåƒç´ å€¼éƒ½æ˜¯[0,255]çš„å€¼ã€‚ç°åº¦å›¾ç‰‡åªæœ‰ä¸€ä¸ªé€šé“ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªçŸ©é˜µã€‚ å·ç§¯å±‚CNNç”±å·ç§¯è€Œå¾—åï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯å·ç§¯å‘¢ï¼Ÿå…ˆæ¥çœ‹å›¾ç‰‡ é¦–å…ˆæˆ‘ä»¬æœ‰å¦‚ä¸‹çš„5*5çš„çŸ©é˜µï¼Œå®ƒçš„æ¯ä¸ªåƒç´ å€¼éƒ½ç”±0æˆ–è€…1ç»„æˆ å†æ¥ä¸€å¼ å¦‚ä¸‹çš„3*3çš„çŸ©é˜µ ç”¨è¿™ä¸ª33çš„çŸ©é˜µå¯¹ä»¥ä¸Š55çš„çŸ©é˜µè¿›è¡Œå·ç§¯ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºå¦‚ä¸‹çš„è¿‡ç¨‹ï¼Œ ä¸Šè¿°è¿‡ç¨‹å¯ä»¥æè¿°æˆï¼Œ33çš„çŸ©é˜µé¦–å…ˆå®šä½åˆ°55çš„çŸ©é˜µçš„å·¦ä¸Šè§’ï¼Œä¸¤è€…è¦†ç›–é‡å åˆ°çš„éƒ¨ä½è¿›è¡Œç‚¹ä¹˜å†æ±‚å’Œï¼Œå¾—åˆ°çš„å€¼æ˜¯æ–°çš„çŸ©é˜µçš„å·¦ä¸Šè§’ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ¥ç€33çŸ©é˜µå‘å³ç§»åŠ¨ä¸€ä¸ªåƒç´ ï¼Œä¹Ÿå«ä¸€ä¸ªstrideï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å·ç§¯æ“ä½œï¼ŒçŸ¥é“éå†å®Œæ¯•ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„çŸ©é˜µã€‚åœ¨CNNä¸­ï¼Œè¿™ä¸ª33çš„çŸ©é˜µå«åšæ»¤æ³¢å™¨æˆ–è€…å·ç§¯æ ¸ï¼Œå¾—åˆ°çš„æ–°çš„çŸ©é˜µå«åšç‰¹å¾æ˜ å°„ã€‚å¯ä»¥è¯´ï¼Œå·ç§¯æ ¸çš„ä½œç”¨å°±æ˜¯ä»åŸå›¾ç‰‡ä¸­å‘ç°ç‰¹å¾ã€‚æ‰€ä»¥å¯¹äºåŒä¸€å¼ å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„å·ç§¯æ ¸å»æ“ä½œï¼Œå¾—åˆ°å®Œå…¨ä¸åŒçš„ç‰¹å¾æ˜ å°„ã€‚è€ƒè™‘å¦‚ä¸‹çš„å›¾ç‰‡ï¼Œ æˆ‘ä»¬ç”¨ä¸åŒçš„å·ç§¯æ ¸è¿›è¡Œæ“ä½œï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼Œ å¦ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼Œ å¦‚å›¾ï¼Œä¸¤ä¸ªéå¸¸ç›¸ä¼¼ä½†æ˜¯æ–¹å‘ä¸åŒçš„å·ç§¯æ ¸å¯¹åŒä¸€å¼ å›¾ç‰‡è¿›è¡Œå·ç§¯ï¼Œå¾—åˆ°çš„ä¸åŒçš„ç»“æœã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒCNNä¼šè‡ªåŠ¨å­¦ä¹ åˆ°è¿™äº›å·ç§¯æ ¸çš„å‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰ä¸€äº›è¶…å‚æ•°éœ€è¦æ‰‹åŠ¨ç¡®å®šï¼Œå¦‚å·ç§¯æ ¸ä¸ªæ•°ã€å¤§å°ä»¥åŠç½‘ç»œçš„ç»“æ„ç­‰ç­‰ã€‚è€Œç‰¹å¾æ˜ å°„çš„å¤§å°ç”±ä¸‰ä¸ªå‚æ•°æ¥ç¡®å®šï¼Œ Depthï¼šä¹Ÿå°±æ˜¯å·ç§¯æ ¸çš„ä¸ªæ•°ï¼Œæˆ‘ä»¬ç”¨å‡ ä¸ªå·ç§¯æ ¸è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾—åˆ°å¤šå°‘ä¸ªé‡å ç€çš„ç‰¹å¾æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯ç‰¹å¾æ˜ å°„çš„æ·±åº¦ã€‚ Strideï¼šå·ç§¯æ—¶æ¯æ­¥ç§»åŠ¨çš„å¤§å°ï¼Œå®¹æ˜“å¾—çŸ¥ï¼Œæ­¥å­è¶Šå¤§ï¼Œé‚£ä¹ˆå·ç§¯çš„æ¬¡æ•°ä¹Ÿå°±è¶Šå°ï¼Œé‚£ä¹ˆç‰¹å¾æ˜ å°„çŸ©é˜µä¹Ÿå°±è¶Šå°ã€‚ Zero-Paddingï¼šæŒ‡çš„æ˜¯æ˜¯å¦åœ¨åŸå›¾åƒå‘¨å›´è¡¥ä¸Šé›¶å†è¿›è¡Œå·ç§¯ï¼Œï¼Œè¿™æ ·ä¹Ÿæ˜¯æ§åˆ¶ç‰¹å¾æ˜ å°„å¤§å°çš„æ–¹æ³•ï¼Œå¸¦æœ‰Paddingå’Œä¸å¸¦æœ‰Paddingçš„å·ç§¯åˆ†åˆ«å«åšå®½å·ç§¯å’Œçª„å·ç§¯ã€‚ éçº¿æ€§æ˜ å°„(ReLU)ReLUå‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿåˆä¸€çœ‹å®ƒçš„å…¨ç§°Rectified Linear Unitå¥½åƒç‰¹åˆ«é«˜å¤§ä¸Šï¼Œå…¶å®å®ƒçš„å‡½æ•°å½¢å¼éå¸¸ç®€å•ï¼Œå°±æ˜¯ $$output = max(0, input)$$ ä¹Ÿå°±æ˜¯å°†åŸè¾“å…¥çš„è´Ÿå€¼å…¨éƒ¨æ›¿æ¢ä¸º0ã€‚é¡ºä¾¿ä¸€è¯´ï¼Œæ·±åº¦å­¦ä¹ ä¸šç•Œå……æ–¥ç€è¿™ç§ç°è±¡ï¼Œå¦‚å¤šå±‚æ„ŸçŸ¥æœºä¸ç¥ç»ç½‘ç»œã€ç”šè‡³æ˜¯Deep Learningè¿™ä¸ªç§°å·æœ¬èº«éƒ½æ˜¯è¿™æ ·æ”¹è¿‡æ¥çš„â€œå¥½åå­—â€ï¼Œä¸å¾—ä¸è¯´ï¼Œèµ·ä¸ªå¥½åå­—å¯¹äºæˆåŠŸä¹Ÿæ˜¯éå¸¸ä¸»è¦çš„å•Šï¼ è¯è¯´å›æ¥ï¼Œç”¨ReLUå¤„ç†è¿‡çš„å›¾ç‰‡çš„æ•ˆæœå¦‚ä¸‹ï¼š é™¤ReLUä¹‹å¤–ï¼Œè¿˜æœ‰sigmoidå‡½æ•°å’ŒtanhåŒæ›²å‡½æ•°ç­‰éçº¿æ€§å˜æ¢ï¼Œä½†æ˜¯ReLUè¢«è¯æ˜è¡¨ç°æ›´åŠ ï¼Œæ‰€ä»¥ä¹Ÿå°±æ›´å¸¸ç”¨ã€‚ æ± åŒ–å±‚æ± åŒ–(pooling)ä¹Ÿå°±æ˜¯ä¿¡å·å¤„ç†é¢†åŸŸçš„ä¸‹é‡‡æ ·Downsamplingï¼Œå…¶ä½œç”¨æ˜¯å¯¹ç‰¹å¾æ˜ å°„ä¿ç•™ä¸»è¦ä¿¡æ¯çš„åŒæ—¶è¿›è¡Œé™ç»´ã€‚æ ¹æ®è®¡ç®—æ–¹å¼çš„ä¸åŒå¯ä»¥æœ‰Maxã€Averageã€Sumç­‰å¤šç§poolingæ–¹å¼ã€‚ ä»¥ä¸Šå±•ç¤ºäº†ä½¿ç”¨2*2çš„çª—å£å¯¹ç»è¿‡å·ç§¯å’Œéçº¿æ€§æ˜ å°„çš„çŸ©é˜µçš„Max poolingæ“ä½œã€‚è¿™é‡Œçš„strideæ˜¯2ä¸ªåƒç´ ï¼Œå¯¹æ¯ä¸ªåŒºåŸŸé‡‡ç”¨æœ€å¤§å€¼ã€‚åœ¨ç½‘ç»œä¸­ï¼Œpoolingæ˜¯å¯¹æ¯ä¸ªç‰¹å¾æ˜ å°„å•ç‹¬æ“ä½œçš„ï¼Œäºæ˜¯æˆ‘ä»¬ä¼šå¾—åˆ°ç›¸åŒæ•°ç›®çš„è¾“å‡ºã€‚ ä¸‹å›¾å±•ç¤ºäº†poolingæ“ä½œï¼Œ poolingæ“ä½œæ˜¾è‘—åœ°å‡å°äº†è¾“å…¥çš„ç©ºé—´å¤§å°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œ ä½¿å¾—è¾“å…¥æ›´åŠ å°ï¼Œæ›´åŠ å®¹æ˜“è®¡ç®— å‡å°ç½‘ç»œçš„å¤æ‚ç¨‹åº¦ï¼Œæœ‰åˆ©äºå¯¹æŠ—è¿‡æ‹Ÿåˆ ä½¿å¾—ç½‘ç»œå¯¹äºæ‰°åŠ¨ç­‰å™ªéŸ³æ›´åŠ é²æ£’ï¼Œå› ä¸ºå¾®å°çš„æ‰°åŠ¨å¯¹äºpoolingç»“æœæ²¡æœ‰å½±å“ æœ‰ç›Šäºç‰©ä½“æ¢æµ‹çš„å‡†ç¡®æ€§ å…¨è¿æ¥å±‚ç»è¿‡ä¸¤è½®çš„å·ç§¯-ReLU-poolingæ“ä½œï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ ‡å‡†çš„å…¨è¿æ¥ç¥ç»ç½‘ç»œç»“æ„äº†ï¼Œæ‰€è°“å…¨è¿æ¥ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€å±‚çš„æ¯ä¸ªç¥ç»å…ƒéƒ½ä¸ä¸‹ä¸€å±‚çš„æ¯ä¸ªç¥ç»å…ƒæœ‰è¿æ¥ï¼Œå€’æ•°ç¬¬äºŒå±‚çš„è¾“å‡ºæ˜¯æ¯ä¸ªç±»çš„æ¦‚ç‡ï¼Œå†ç»è¿‡ä¸€ä¸ªsoftmaxå±‚è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æœ€ç»ˆçš„è¾“å‡ºï¼šå’Œä¸º1çš„æ¯ä¸ªåˆ†ç±»çš„æ¦‚ç‡ã€‚ è®­ç»ƒè¿‡ç¨‹ä¸Šé¢æŠŠCNNæ‹†å¼€äº†è®²ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠå„ä¸ªç»„ä»¶åˆèµ·æ¥çœ‹ä¸€ä¸‹CNNçš„è®­ç»ƒè¿‡ç¨‹ã€‚æ¯”å¦‚æˆ‘ä»¬çš„è¾“å…¥æ˜¯ä¸€å¼ èˆ¹çš„å›¾ç‰‡ï¼Œè€Œè¾“å‡ºåˆ™æ˜¯å±äºèˆ¹çš„æ¦‚ç‡æ˜¯1ï¼Œå¦‚[0,0,1,0]ã€‚ é‚£ä¹ˆè®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹ æ­¥éª¤1ï¼šä»¥éšæœºå€¼åˆå§‹åŒ–å·ç§¯æ ¸å’Œæƒé‡å‚æ•° æ­¥éª¤2ï¼šç½‘ç»œå¾—åˆ°è¾“å…¥ï¼Œè¿›è¡Œå‰å‘çš„è®¡ç®—ï¼ˆå·ç§¯ã€ReLUå’Œpoolingï¼‰å¾—åˆ°æœ€ç»ˆå„åˆ†ç±»çš„æ¦‚ç‡ï¼Œå‡è®¾æ˜¯[0.1, 0.3, 0.2, 0.4]ï¼Œå› ä¸ºå‚æ•°éƒ½æ˜¯éšæœºçš„ï¼Œé‚£ä¹ˆç»“æœè‚¯å®šä¹Ÿæ˜¯éšæœºçš„ æ­¥éª¤3ï¼šåˆ©ç”¨å¹³æ–¹è¯¯å·®è®¡ç®—é”™è¯¯çš„æŸå¤±å‡½æ•°å¤§å° æ­¥éª¤4ï¼šåå‘ä¼ æ’­è®¡ç®—errorå¯¹äºå„ä¸ªå‚æ•°çš„æ¢¯åº¦ï¼Œå¯¹å‚æ•°è¿›è¡Œæ›´æ–°ï¼Œä»¥å‡å°é”™è¯¯ç¨‹åº¦ æ³¨æ„åˆ°æˆ‘ä»¬åªæ›´æ–°å·ç§¯æ ¸çš„å‚æ•°ä»¥åŠå…¨è¿æ¥çš„æƒé‡ï¼Œå…¶ä½™çš„å‚æ•°å·²ç»åœ¨è®­ç»ƒä¹‹å‰æŒ‡å®š åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç½‘ç»œé€æ¸â€œå­¦ä¹ â€åˆ°å¦‚ä½•æ­£ç¡®åˆ†ç±»å›¾ç‰‡ï¼Œè¿™æ˜¯é€šè¿‡é€æ¸ä¿®æ”¹æ›´æ–°å‚æ•°å¾—åˆ°çš„ æ­¥éª¤5ï¼šå¯¹äºæ‰€æœ‰è®­ç»ƒé›†å†…çš„å›¾ç‰‡é‡å¤æ­¥éª¤2-4 CNNçš„å¯è§†åŒ– CNNåœ¨äººè„¸è¯†åˆ«å†…çš„åº”ç”¨ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚å¯¹äºCNNçš„åŸç†ï¼Œç»“åˆä¸Šå›¾æˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„è§£é‡Šï¼šCNNçš„å·ç§¯æ ¸ç”±ä¸‹åˆ°ä¸Šæ˜¯é€æ¸æ¢æµ‹å¤æ‚çš„ç‰¹å¾çš„ï¼Œæ¯”å¦‚ç¬¬ä¸€å±‚å·ç§¯æ ¸çš„ç‰¹å¾æ˜ å°„æ˜¯ç®€å•çš„æ˜æš—çº¿æ®µçº¹ç†ï¼Œç¬¬äºŒå±‚å°±å¯ä»¥å¾—åˆ°æ›²çº¿ç­‰å¤æ‚ä¸€äº›çš„ç‰¹å¾ï¼Œåˆ°äº†ç¬¬ä¸‰å±‚æ¢æµ‹çš„ç‰¹å¾å·²ç»æ˜¯äººè„¸çš„å½¢çŠ¶è½®å»“äº†ï¼Œåé¢çš„å±‚å¯¹äºå‰é¢å±‚çš„ç‰¹å¾è¿›è¡Œç»„åˆå˜åŒ–è€Œå¾—åˆ°æ›´åŠ å¤æ‚çš„ç»„åˆã€‚è¿™å°±ç±»ä¼¼å•å±‚æ„ŸçŸ¥æœºè¿å¼‚æˆ–å‡½æ•°éƒ½æ— æ³•è¡¨ç¤ºï¼Œå¤šå±‚æ„ŸçŸ¥æœºç»„åˆèµ·æ¥ä¹Ÿå°±æ˜¯ç¥ç»ç½‘ç»œå´å¯ä»¥æ‹Ÿåˆä»»æ„å¤æ‚çš„å‡½æ•°çš„åŸç†ä¸€æ ·ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆæ£’çš„å…³äºCNNåŸç†çš„å±•ç¤ºdemoï¼Œå¦‚å›¾ å‚è€ƒ An Intuitive Explanation of Convolutional Neural Networks","categories":[],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"},{"name":"CNN","slug":"CNN","permalink":"http://frankchen.xyz/tags/CNN/"}]},{"title":"Macä¸Šå®‰è£…Kaggle Docker é•œåƒçš„æ–¹æ³•","slug":"Install-Kaggle-Docker-on-Mac","date":"2017-02-12T18:31:56.000Z","updated":"2017-02-17T06:40:55.000Z","comments":true,"path":"2017/02/13/Install-Kaggle-Docker-on-Mac/","link":"","permalink":"http://frankchen.xyz/2017/02/13/Install-Kaggle-Docker-on-Mac/","excerpt":"ä½œä¸ºæ•°æ®ç§‘å­¦ä¸šç•Œç‹¬å é³Œå¤´çš„ç«èµ›ç½‘ç«™Kaggleä¸ºæˆ‘ä»¬æä¾›äº†ç®€ä¾¿çš„ä¸€é”®å®‰è£…çš„Dockeré•œåƒï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„åœ¨æœ¬åœ°ä½¿ç”¨ä¸Kaggleç½‘ç«™åœ¨çº¿å®Œå…¨ä¸€è‡´çš„ç¯å¢ƒï¼Œé‚£ä¹ˆåœ¨Macä¸Šå¦‚ä½•å®‰è£…å’Œä½¿ç”¨Kaggleçš„Dockeré•œåƒå‘¢ï¼Ÿ","text":"ä½œä¸ºæ•°æ®ç§‘å­¦ä¸šç•Œç‹¬å é³Œå¤´çš„ç«èµ›ç½‘ç«™Kaggleä¸ºæˆ‘ä»¬æä¾›äº†ç®€ä¾¿çš„ä¸€é”®å®‰è£…çš„Dockeré•œåƒï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„åœ¨æœ¬åœ°ä½¿ç”¨ä¸Kaggleç½‘ç«™åœ¨çº¿å®Œå…¨ä¸€è‡´çš„ç¯å¢ƒï¼Œé‚£ä¹ˆåœ¨Macä¸Šå¦‚ä½•å®‰è£…å’Œä½¿ç”¨Kaggleçš„Dockeré•œåƒå‘¢ï¼Ÿ å®‰è£…Dockerå‚è€ƒDockerå®˜ç½‘çš„æ•™ç¨‹å¯ä»¥æ–¹ä¾¿çš„ä¸‹è½½å®‰è£…Dockeråœ¨Macä¸Šã€‚ æ‹‰å–é•œåƒå®‰è£…å¥½Dockerå¹¶è¿è¡ŒæˆåŠŸåï¼Œå‚è€ƒè¿™é‡Œï¼Œåœ¨ç»ˆç«¯ç”¨å¦‚ä¸‹è¿™è¡Œå‘½ä»¤docker run --rm -it kaggle/pythonï¼Œå°±ä¼šä¸‹è½½kaggleçš„pythonç¯å¢ƒDockeré•œåƒåˆ°æœ¬åœ°ï¼Œå¤§å°æ•°Gï¼Œå¦‚æœå‡ºç°æ¡æ‰‹å¤±è´¥ç­‰æç¤ºå¯ä»¥å°è¯•æŒ‚VPNæˆ–è€…ç”¨Daocloudçš„æœåŠ¡æ¥åŠ é€Ÿã€‚ jupyter notebookè®¾ç½®æˆ‘ä»¬è£…å¥½ç¯å¢ƒåå½“ç„¶ä¸æ˜¯åªæ˜¯ä¸ºäº†åœ¨å‘½ä»¤è¡Œå†…ä½¿ç”¨pythonç¯å¢ƒï¼Œå¿…é¡»ç”¨jupyter notebookï¼é‚£ä¹ˆæ€ä¹ˆè®¾ç½®æ‰èƒ½åœ¨æœ¬åœ°çš„æµè§ˆå™¨ä¸Šè¿æ¥å®¹å™¨å†…è¿è¡Œçš„å†…æ ¸å‘¢ï¼Ÿå‚è€ƒè¿™é‡Œï¼Œåœ¨ä½ çš„.bashrcæˆ–è€….bash_profileæ–‡ä»¶å†…æ·»åŠ å¦‚ä¸‹æ•°è¡Œï¼Œ 12345678910kpython()&#123; docker run -v $PWD:/tmp/working -w=/tmp/working --rm -it kaggle/python python &quot;$@&quot;&#125;ikpython() &#123; docker run -v $PWD:/tmp/working -w=/tmp/working --rm -it kaggle/python ipython&#125;kjupyter() &#123; (sleep 3 &amp;&amp; open &quot;http://$(docker-machine ip docker):8888&quot;)&amp; docker run -v $PWD:/tmp/working -w=/tmp/working -p 8888:8888 --rm -it kaggle/python jupyter notebook --no-browser --ip=&quot;0.0.0.0&quot; --notebook-dir=/tmp/working&#125; åˆ«å¿˜äº†source .bashrcï¼Œä¹‹åå°±å¯ä»¥ç”¨kjupyterå‘½ä»¤æ¥è¿è¡Œjupyter notebookï¼Œåªè¦è¿›å…¥å‘½ä»¤è¡Œä¸­æä¾›çš„ç½‘å€å¦‚http://0.0.0.0:8888/?token=16185adf197d30dc82e9b88508a5ac585e6fa072c682117då°±å¯è¿›å…¥jupyter notebookã€‚","categories":[],"tags":[{"name":"Data Science","slug":"Data-Science","permalink":"http://frankchen.xyz/tags/Data-Science/"},{"name":"Docker","slug":"Docker","permalink":"http://frankchen.xyz/tags/Docker/"}]},{"title":"Note for SoloLearn SQL","slug":"Note-for-SoloLearn-SQL","date":"2017-01-17T08:11:48.000Z","updated":"2017-01-17T15:57:03.000Z","comments":true,"path":"2017/01/17/Note-for-SoloLearn-SQL/","link":"","permalink":"http://frankchen.xyz/2017/01/17/Note-for-SoloLearn-SQL/","excerpt":"æœ¬æ–‡ä¸»è¦å…³äºSQLçš„åŸºæœ¬è¯­æ³•çš„ç¬”è®°ï¼Œæ¥è‡ªSoloLearnã€‚","text":"æœ¬æ–‡ä¸»è¦å…³äºSQLçš„åŸºæœ¬è¯­æ³•çš„ç¬”è®°ï¼Œæ¥è‡ªSoloLearnã€‚ åŸºæœ¬æ¦‚å¿µä»‹ç»æ•°æ®åº“æ•°æ®åº“æ•°æ®åº“æ˜¯æŒ‡ä»¥åˆ©äºå®¹æ˜“åœ°è¿æ¥ã€æœ‰æ•ˆç®¡ç†å’Œæ›´æ–°çš„æ–¹å¼æ¥ç®¡ç†çš„ä¸€ç³»åˆ—çš„æ•°æ®ã€‚æ•°æ®åº“ç”±å‚¨å­˜ç›¸å…³è”çš„ä¿¡æ¯çš„è¡¨æ ¼ç»„æˆï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªå¦‚YouTubeçš„ç½‘ç«™ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ•°æ®åº“æ¥å­˜å‚¨è§†é¢‘ä¿¡æ¯ã€ç”¨æˆ·åä¸å¯†ç ä»¥åŠè¯„è®ºç­‰ç­‰ã€‚ æ•°æ®åº“è¡¨æ ¼æ•°æ®åº“è¡¨æ ¼ç”¨ç±»ä¼¼Excelçš„æ–¹å¼å­˜å‚¨å’Œå±•ç¤ºæ•°æ®ï¼Œæ•°æ®åº“é€šå¸¸ç”±è®¸å¤šçš„è¡¨æ ¼æ„æˆï¼Œä¾‹å¦‚æƒ³è±¡ä¸€ä¸ªç”±åå­—å’Œç”µè¯å·ç æ„æˆçš„è¡¨æ ¼ã€‚ primary keyprimary keyæ˜¯è¡¨æ ¼ä¸­ç‰¹æ®Šçš„ä¸€åˆ—ï¼Œä¸»è¦ç‰¹æ€§æ˜¯ æ¯è¡Œéƒ½æœ‰ç‹¬ç‰¹çš„primary key ä¸èƒ½ä¸ºnull ä¾‹å¦‚ä¸‹å›¾ä¸­ï¼ŒIDæ˜¯ä¸ªprimary keyçš„å¥½é€‰æ‹©ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰é‡åçš„æƒ…å†µã€‚ ä»€ä¹ˆæ˜¯SQLæˆ‘ä»¬å·²ç»ç†è§£äº†ä»€ä¹ˆæ˜¯æ•°æ®åº“ï¼Œé‚£ä¹ˆç†è§£ä»€ä¹ˆæ˜¯SQLå°±å¾ˆç®€å•äº†ã€‚SQL å…¨ç§°æ˜¯ç»“æ„åŒ–åºåˆ—è¯­è¨€ï¼ˆStructured Query Languageï¼‰ã€‚SQLç”¨äºè¿æ¥å’Œæ“ä½œæ•°æ®åº“ï¼Œè€ŒMySQLæŒ‡çš„æ˜¯ä¸€ç§èƒ½ç†è§£SQLçš„ç¨‹åºè¯­è¨€ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼ŒSQLæ˜¯ä¸€ç§æ ‡å‡†ï¼Œè€Œæœ‰è®¸å¤šéµå¾ªè¿™ä¸ªç‰ˆæœ¬å´è‡ªå¸¦è®¸å¤šç‰¹æ€§çš„ç¨‹åºè¯­è¨€çš„å®ç°ã€‚ SQLå¯ä»¥ï¼š æ’å…¥ã€æ›´æ–°ã€åˆ é™¤æ•°æ®åº“é‡Œçš„è®°å½• åˆ›å»ºæ–°çš„æ•°æ®åº“ã€è¡¨æ ¼ã€å­˜å‚¨ç¨‹åºå’Œå¤–è§‚ ä»æ•°æ®åº“å–å›æ•°æ® SQLè¯­å¥ SELECTåŸºæœ¬SQLè¯­å¥SHOW DATABASESï¼šè¿”å›æœåŠ¡å™¨ä¸Šæ‰€æœ‰æ•°æ®åº“çš„åºåˆ— SHOW TABLESï¼šè¿”å›å½“å‰æ•°æ®åº“ä¸Šçš„æ‰€æœ‰è¡¨æ ¼ SHOW COLUMNS FROM customersï¼šè¿”å›é€‰å®šè¡¨æ ¼å†…çš„åˆ—ä¿¡æ¯ SELECT è¯­å¥12SELECT column_listFROM table_name åœ¨åˆ¶å®šè¡¨æ ¼å†…é€‰ä¸­ä¸€åˆ—æˆ–è€…å¤šåˆ— è¯­æ³•è§„åˆ™å¤šè¡Œè¯­å¥SQLå…è®¸åŒæ—¶è¿è¡Œå¤šå¥è¯­å¥ 12SELECT FirstName FROM customers;SELECT City FROM customers; å¤§å°å†™ä¸æ•æ„ŸSQLæ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼Œå¦‚ä¸‹ä¸‰è¡Œæ˜¯åŒæ ·çš„æ•ˆæœ 123select City from customers;SELECT City FROM customers;sElEct City From customers; å¿½ç•¥ç©ºç™½whitespaceå’Œå¤šè¡Œè¢«å¿½ç•¥ï¼Œä»¥ä¸‹è¯­å¥æ˜¯okçš„ 1234SELECT CityFROM customers; é€‰æ‹©å¤šåˆ—é€‰æ‹©å¤šåˆ—ä»¥é€—å·åˆ†éš”ï¼Œå¯ä»¥åŒæ—¶é€‰æ‹©å¤šåˆ— 12SELECT FirstName, LastName, CityFROM customers; é€‰æ‹©æ‰€æœ‰åˆ—SELECT * FROM customers; DISTINCTå’ŒLIMITDISTINCTå…³é”®è¯DISTINCTå…³é”®è¯æŒ‡æ’é™¤é‡å¤é¡¹12SELECT DISTINCT column_name1, column_name2FROM table_name; LIMITå…³é”®è¯æŒ‡å®šè¿”å›çš„å­é›†å¤§å° 123SELECT column listFROM table_nameLIMIT [number of records]; å¦‚é€‰æ‹©å‰äº”é¡¹ 12SELECT ID, FirstName, LastName, CityFROM customers LIMIT 5; é€‰æ‹©ä»3åé¢çš„4é¡¹ 12SELECT ID, FirstName, LastName, City FROM customers LIMIT 3, 4; æ’åºå…¨åå½“è¦æ“ä½œæ‹¥æœ‰ç›¸åŒåˆ—åå­—çš„å¤šä¸ªè¡¨æ ¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…¨åå¦‚ 123SELECT City FROM customers;SELECT customers.City FROM customers; Order ByOrder Byç”¨äºä¸SELECTæ¥æ’åºæ•°æ®ç”¨ Firstnameæ’åº 12SELECT * FROM customersORDER BY FirstName; å¤šåˆ—æ’åº12SELECT * FROM customersORDER BY LastName, Age; å…ˆç”¨LastNameæ’åºï¼Œåœ¨LastNameç›¸åŒçš„æƒ…å†µä¸‹ï¼Œç”¨Ageæ’åº Filtering, Functions, SubqueriesWHEREè¯­å¥WHEREè¯­å¥WHEREè¯­å¥ç±»ä¼¼ä¸€ä¸ªè¿‡æ»¤å™¨çš„ä½œç”¨123SELECT column_listFROM table_nameWHERE condition; SQLæ“ä½œç¬¦æ¯”è¾ƒæ“ä½œç¬¦å’Œé€»è¾‘æ“ä½œç¬¦ç”¨äºWHEREè¯­å¥å†… BETWEEN æ“ä½œç¬¦ç”¨äºé€‰ä¸­ä¸€å®šèŒƒå›´å†…çš„å€¼ 123SELECT column_name(s)FROM table_nameWHERE column_name BETWEEN value1 AND value2; Text å€¼éœ€è¦ç”¨å•å¼•å·123SELECT ID, FirstName, LastName, CityFROM customersWHERE City = &apos;New York&apos;; AND ORé€»è¾‘æ“ä½œç¬¦é€»è¾‘æ“ä½œç¬¦ç”¨äºæ“ä½œä¸¤ä¸ªå¸ƒå°”å€¼ï¼Œè¿”å›trueã€falseã€æˆ–è€…null 123SELECT ID, FirstName, LastName, AgeFROM customersWHERE Age &gt;= 30 AND Age &lt;= 40; 12SELECT * FROM customersWHERE City = &apos;New York&apos; OR City = &apos;Chicago&apos;; ç»“åˆAND &amp; OR123SELECT * FROM customersWHERE City = &apos;New York&apos;AND (Age=30 OR Age=35); IN NOT ININæ“ä½œç¬¦ç”¨äºéœ€è¦å°†ä¸€åˆ—ä¸è®¸å¤šå€¼æ¯”è¾ƒçš„æƒ…å†µï¼Œå¦‚ç”¨ORè¯­å¥ 1234SELECT * FROM customersWHERE City = &apos;New York&apos;OR City = &apos;Los Angeles&apos;OR City = &apos;Chicago&apos;; ç”¨INè¯­å¥æ›¿ä»£å¯ç®€å†™ä¸º12SELECT * FROM customersWHERE City IN (&apos;New York&apos;, &apos;Los Angeles&apos;, &apos;Chicago&apos;); NOT INå°±æ˜¯åé¢æƒ…å†µ 12SELECT * FROM customersWHERE City NOT IN (&apos;New York&apos;, &apos;Los Angeles&apos;, &apos;Chicago&apos;); Custom åˆ—CONCATè¯­å¥CONCATè¯­å¥ç”¨äºè”åˆå¤šä¸ªTextå€¼ï¼Œè¿”å›å­—ç¬¦ä¸² SELECT CONCAT(FirstName, &#39;, &#39; , City) FROM customers; AS æ“ä½œç¬¦AS æ“ä½œç¬¦ç”¨äºç”Ÿæˆæ–°çš„åˆ— 12SELECT CONCAT(FirstName,&apos;, &apos;, City) AS new_columnFROM customers; ç®—æ•°æ“ä½œç¬¦ / å¦‚å°†Salaryè‡ªå¢50012SELECT ID, FirstName, LastName, Salary+500 AS SalaryFROM employees; å‡½æ•°UPPER LOWERå‡½æ•°ç”¨äºè½¬æ¢ä¸ºå¤§å°å†™æ ¼å¼ 12SELECT FirstName, UPPER(LastName) AS LastNameFROM employees; SQRT ã€ AVGSQRTè¿”å›å¹³æ–¹æ ¹ 12SELECT Salary, SQRT(Salary)FROM employees; AVGè¿”å›å‡å€¼ 1SELECT AVG(Salary) FROM employees; SUMå‡½æ•°è¿”å›åˆ—çš„åŠ å’Œ 1SELECT SUM(Salary) FROM employees; å­è¯­å¥å­è¯­å¥æ˜¯æŒ‡å«æœ‰å…¶ä»–è¯­å¥çš„è¯­å¥ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦é€‰ä¸­å…¨éƒ¨è–ªæ°´å¤§äºå‡å€¼çš„äººï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦å…ˆè·å–å‡å€¼ SELECT AVG(Salary) FROM employees; å† 123SELECT FirstName, Salary FROM employeesWHERE Salary &gt; 3100ORDER BY Salary DESC; å…¶å®å¯ä»¥ç»“åˆèµ·æ¥ 123SELECT FirstName, Salary FROM employeesWHERE Salary &gt; (SELECT AVG(Salary) FROM employees)ORDER BY Salary DESC; LIKEå’ŒMINLIKEå‡½æ•°LIKEç”¨äºåœ¨WHEREé‡ŒæŒ‡å®šæ¡ä»¶ 123SELECT column_name(s)FROM table_nameWHERE column_name LIKE pattern; ä¾‹å¦‚ï¼Œé€‰æ‹©æ‰€æœ‰Aå¼€å¤´çš„äºº 12SELECT * FROM employeesWHERE FirstName LIKE &apos;A%&apos;; é€‰æ‹©æ‰€æœ‰sç»“å°¾åå­—çš„äºº12SELECT * FROM employeesWHERE LastName LIKE &apos;%s&apos;; MINå‡½æ•°ç”¨äºé€‰æ‹©æœ€å°å€¼ SELECT MIN(Salary) AS Salary FROM employees; JOINã€è¡¨æ“ä½œåˆå¹¶è¡¨æ ¼å¯¹äºä»¥ä¸‹ä¸¤ä¸ªè¡¨æ ¼ å¯ç”¨ä»¥ä¸‹è¯­å¥ç»“åˆ 1234SELECT customers.ID, customers.Name, orders.Name, orders.AmountFROM customers, ordersWHERE customers.ID=orders.Customer_IDORDER BY customers.ID; ç»“æœ Joinçš„ç±»å‹å¯ä»¥ç”¨â€œå°åâ€æ¥ç®€åŒ–joinæ“ä½œ 1234SELECT ct.ID, ct.Name, ord.Name, ord.AmountFROM customers AS ct, orders AS ordWHERE ct.ID=ord.Customer_IDORDER BY ct.ID; JOINç±»å‹ INNER JOIN LEFT JOIN RIGHT JOIN INNER JOINç­‰åŒäºJOIN 123SELECT column_name(s)FROM table1 INNER JOIN table2ON table1.column_name=table2.column_name; å…³ç³»å¦‚å›¾ LEFT JOIN è¿”å›æ‰€æœ‰å·¦è¾¹è¡¨æ ¼çš„è¡Œï¼Œç”šè‡³æ˜¯åœ¨å³è¾¹è¡¨æ ¼æ²¡æœ‰ç¬¦åˆçš„ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ åŸºæœ¬è¯­æ³•ä¸º 123SELECT table1.column1, table2.column2...FROM table1 LEFT OUTER JOIN table2ON table1.column_name = table2.column_name; ä¸¾ä¾‹æ¥è¯´ï¼Œè€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªä¾æ¬¡æ˜¯customerså’Œitemsï¼Œ 123SELECT customers.Name, items.NameFROM customers LEFT OUTER JOIN itemsON customers.ID=items.Seller_id; ç»“æœ å¦‚æœç”¨RIGHT JOIN 123SELECT table1.column1, table2.column2...FROM table1 RIGHT OUTER JOIN table2ON table1.column_name = table2.column_name; ç»“æœæ˜¯ UNIONå½“éœ€è¦åˆå¹¶ç›¸ä¼¼çš„è¡¨æ ¼æ—¶ï¼Œå¯ä»¥ç”¨åˆ°UNION and UNION ALLï¼Œä¸¤è€…ä¸»è¦åŒºåˆ«æ˜¯å‰è€…ä¼šä¸¢å¼ƒé‡å¤é¡¹ã€‚ å¦‚è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªè¡¨æ ¼ ä½¿ç”¨è¯­å¥123SELECT ID, FirstName, LastName, City FROM FirstUNIONSELECT ID, FirstName, LastName, City FROM Second; ç»“æœä¸º è€Œä½¿ç”¨UNION ALL 123SELECT ID, FirstName, LastName, City FROM FirstUNION ALLSELECT ID, FirstName, LastName, City FROM Second; ç»“æœä¸º INSERTè¯­å¥æ’å…¥è¯­å¥INSERTè¯­å¥ç”¨äºåœ¨è¡¨æ ¼æ’å…¥ä¸€æ¡æ•°æ® 12INSERT INTO table_nameVALUES (value1, value2, value3,...); ä¹Ÿå¯ä»¥æŒ‡å®šæ’å…¥åˆ— 12INSERT INTO table_name (column1, column2, column3, ...,columnN) VALUES (value1, value2, value3,...valueN); äº¦å¯åªæ’å…¥æŒ‡å®šåˆ— 12INSERT INTO table_name (column1, column2, column3, ...,columnN) VALUES (value1, value2, value3,...valueN); UPDATEã€DELETEè¯­å¥UPDATEè¯­å¥ç”¨äºæ›´æ”¹è¡¨æ ¼ 123UPDATE table_nameSET column1=value1, column2=value2, ...WHERE condition; ä¾‹å¦‚ 123UPDATE EmployeesSET Salary=5000WHERE ID=1; ä¹Ÿå¯ä»¥åŒæ—¶æ›´æ”¹æ•°é¡¹ 123UPDATE EmployeesSET Salary=5000, FirstName=&apos;Robert&apos;WHERE ID=1; DELETEç”¨äºåˆ é™¤æ•°æ® 12DELETE FROM table_name WHERE condition; åˆ›å»ºè¡¨æ ¼CREATE TABLE ç”¨äºåˆ›å»ºè¡¨æ ¼ åŸºæœ¬è¯­æ³• 12345678CREATE TABLE table_name(column_name1 data_type(size),column_name2 data_type(size),column_name3 data_type(size),....columnN data_type(size)); column_namesæŒ‡å®šåˆ—å data_typeæŒ‡å®šå­˜å‚¨æ•°æ®çš„ç±»å‹å¦‚int sizeæŒ‡å®šæœ€å¤§é•¿åº¦ å¦‚ 1234567CREATE TABLE Users( UserID int, FirstName varchar(100), LastName varchar(100), City varchar(100)); varcharæŒ‡çš„æ˜¯å­—ç¬¦ç±»å‹ æ•°æ®ç±»å‹æ•°å€¼INT - å¸¦ç¬¦å·æˆ–è€…éç¬¦å·integerFLOAT(M,D) - å¸¦ç¬¦å·æµ®ç‚¹æ•°Mæ˜¯å±•ç¤ºé•¿åº¦ï¼ŒDæ˜¯å°æ•°ç‚¹ä½DOUBLE(M,D) - å¸¦ç¬¦å·longç±»å‹æµ®ç‚¹æ•°Mæ˜¯å±•ç¤ºé•¿åº¦ï¼ŒDæ˜¯å°æ•°ç‚¹ä½ æ—¥æœŸå’Œæ—¶é—´DATE - YYYY-MM-DD æ ¼å¼DATETIME - YYYY-MM-DD HH:MM:SS æ ¼å¼TIMESTAMP - ä» 1970å¹´1æœˆ1æ—¥åˆå¤œå¼€å§‹è®¡ç®—çš„æ—¶é—´é•¿åº¦TIME - Stores the time in HH:MM:SS format. å­—ç¬¦ä¸²CHAR(M) - å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼ŒMæ˜¯é•¿åº¦ï¼Œæœ€å¤§ä¸º255 byte.VARCHAR(M) - å¯å˜é•¿åº¦å­—ç¬¦ä¸²ï¼ŒMæ˜¯æœ€å¤§é•¿åº¦BLOB - â€œäºŒè¿›åˆ¶å¤§å‹å¯¹è±¡â€ Binary Large Objectsï¼Œ ç”¨äºå­˜å‚¨å›¾ç‰‡ç­‰TEXT - å¤§è§„æ¨¡çš„textæ•°æ® æŒ‡å®šprimary key 12345678CREATE TABLE Users( UserID int, FirstName varchar(100), LastName varchar(100), City varchar(100), PRIMARY KEY(UserID)); NOT NULL å’Œ AUTO_INCREMENTSQLçº¦æŸNOT NULL - å¼ºåˆ¶åˆ—ä¸èƒ½å«æœ‰NULLUNIQUE - ä¸å…è®¸åˆ—ä¸­å‡ºç°é‡å¤å€¼PRIMARY KEY - å¼ºåˆ¶è¡¨æ ¼å¯¹äºç‰¹å®šçš„åˆ—æ¥å—æ•°æ®å¹¶åˆ›å»ºå•ç‹¬çš„åŠ é€Ÿç´¢å¼•CHECK - é€šè¿‡é€»è¾‘è¡¨è¾¾å¼æ¥åˆ¤æ–­å€¼æ˜¯å¦æœ‰æ•ˆDEFAULT - å¾€è¡¨æ ¼æ’å…¥æ•°æ®æ—¶ï¼Œè‹¥æŸåˆ—æœªæŒ‡å®šå€¼ï¼Œåˆ™è‡ªåŠ¨æ’å…¥é»˜è®¤å€¼ ä¾‹å¦‚ï¼Œå¦‚ä¸‹è¯­å¥æŒ‡nameåˆ—ä¸å…è®¸å‡ºç°NULL name varchar(100) NOT NULL AUTO INCREMENTå½“æ–°ä¸€æ¡è®°å½•åŠ å…¥æ—¶ï¼Œè‡ªåŠ¨ç”ŸæˆæŸæ•°ï¼Œé€šå¸¸ä»1å¼€å§‹ï¼Œæ¯æ¬¡æ–°çºªå½•åŠ å…¥ï¼Œè‡ªå¢1ã€‚ 12UserID int NOT NULL AUTO_INCREMENT,PRIMARY KEY (UserID) ALTER DROP RANAMEALTERç”¨äºå¯¹è¡¨æ ¼ä¸­çš„åˆ—è¿›è¡Œæ·»åŠ ã€åˆ é™¤å’Œç¼–è¾‘æ“ä½œï¼Œä¹Ÿå¯ä»¥å¯¹è¡¨æ ¼çš„çº¦æŸè¿›è¡Œæ·»åŠ æˆ–ç§»é™¤ã€‚ ALTER TABLE People ADD DateOfBirth date; DROPç”¨äºåˆ é™¤æ•´åˆ— 12ALTER TABLE PeopleDROP COLUMN DateOfBirth; è¦åˆ é™¤æ•´ä¸ªè¡¨æ ¼ DROP TABLE People; RENAMEç”¨äºåˆ—æ”¹åæˆ–è€…å¯¹è¡¨æ ¼æ”¹å å°†Peopleçš„FirstNameåˆ—æ”¹åä¸ºname 12ALTER TABLE PeopleCHANGE FirstName name varchar(100); å°†æ•´ä¸ªè¡¨æ ¼æ”¹å RENAME TABLE People TO Users; è§†å›¾ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„ç»„ç»‡å’Œæ“ä½œæ•°æ®åº“ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨è§†å›¾ã€‚è§†å›¾åŒ…å«è¡Œå’Œåˆ—ï¼Œå°±åƒä¸€ä¸ªçœŸå®çš„è¡¨ã€‚è§†å›¾ä¸­çš„å­—æ®µå°±æ˜¯æ¥è‡ªä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ä¸­çš„çœŸå®çš„è¡¨ä¸­çš„å­—æ®µã€‚æˆ‘ä»¬å¯ä»¥å‘è§†å›¾æ·»åŠ  SQL å‡½æ•°ã€WHERE ä»¥åŠ JOIN è¯­å¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æäº¤æ•°æ®ï¼Œå°±åƒè¿™äº›æ¥è‡ªäºæŸä¸ªå•ä¸€çš„è¡¨ã€‚ åˆ›å»ºè¯­å¥å¦‚ 1234CREATE VIEW view_name ASSELECT column_name(s)FROM table_nameWHERE condition; å‡è®¾ä¸€è¡¨æ ¼ï¼Œå¦‚ æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªè§†å›¾æ¥å±•ç¤ºèŒå·¥çš„åå­—å’Œè–ªæ°´ 123CREATE VIEW List ASSELECT FirstName, SalaryFROM Employees; æ¥ä¸‹æ¥å¯ä»¥ç±»ä¼¼å±•ç¤ºè¡¨æ ¼ä¸€æ ·å±•ç¤ºè§†å›¾ SELECT * FROM List; å¯ä»¥ç”¨ä»¥ä¸‹è¯­å¥æ¥æ›´æ–°è§†å›¾ 1234CREATE OR REPLACE VIEW view_name ASSELECT column_name(s)FROM table_nameWHERE condition; ä¾‹å¦‚ 123CREATE OR REPLACE VIEW List ASSELECT FirstName, LastName, SalaryFROM Employees; ä¸¢å¼ƒè§†å›¾DROP VIEW List;","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"http://frankchen.xyz/tags/SQL/"},{"name":"Note","slug":"Note","permalink":"http://frankchen.xyz/tags/Note/"}]},{"title":"Note of Recommendation System in Action","slug":"Action","date":"2017-01-15T16:19:00.000Z","updated":"2017-01-15T16:25:13.000Z","comments":true,"path":"2017/01/16/Action/","link":"","permalink":"http://frankchen.xyz/2017/01/16/Action/","excerpt":"æœ¬æ–‡ä¸»è¦å…³äºé¡¹äº®çš„ã€Šæ¨èç³»ç»Ÿå®è·µã€‹çš„ç¬”è®°ã€‚","text":"æœ¬æ–‡ä¸»è¦å…³äºé¡¹äº®çš„ã€Šæ¨èç³»ç»Ÿå®è·µã€‹çš„ç¬”è®°ã€‚ æ¨èç³»ç»Ÿçš„è¯„æµ‹æ–¹å¼ä»¥ä¸‹ä¹Ÿæ˜¯ä¸€é¡¹æœ€ç»ˆèƒ½ä¸Šçº¿çš„æ¨èç®—æ³•çš„ä¾æ¬¡æµ‹è¯•é¡ºåºï¼Œ ç¦»çº¿è¯„æµ‹ å°†æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œç¦»çº¿å¯¹ç®—æ³•è¿›è¡Œè¯„æµ‹ ç”¨æˆ·è°ƒæŸ¥ åœ¨ä¸Šçº¿ä¹‹å‰é€šè¿‡è°ƒæŸ¥å¾—åˆ°ç”¨æˆ·æ»¡æ„åº¦çš„ä¿¡æ¯ åœ¨çº¿è¯„æµ‹ è¿›è¡ŒABæµ‹è¯•ï¼Œå¯¹æ¯”æ¨èç®—æ³•æŒ‡æ ‡ æ¨èç³»ç»Ÿçš„è¯„æµ‹æŒ‡æ ‡ æ»¡æ„åº¦ æ˜¯æ¨èç³»ç»Ÿçš„æœ€é‡è¦æ ‡å‡† æ— æ³•ç¦»çº¿è®¡ç®—ï¼Œåªèƒ½é€šè¿‡ç”¨æˆ·è°ƒæŸ¥å’Œåœ¨çº¿å®éªŒå¾—åˆ° å¯é€šè¿‡åœç•™æ—¶é—´ã€ç‚¹å‡»ç‡å’Œè½¬åŒ–ç‡æ¥ç»Ÿè®¡ é¢„æµ‹å‡†ç¡®åº¦ æœ€é‡è¦çš„ç¦»çº¿æµ‹è¯•æ ‡å‡† ä¸»è¦æ–¹æ³•æ˜¯ï¼Œåœ¨ç¦»çº¿æ•°æ®é›†å†…çš„è®­ç»ƒé›†è®­ç»ƒçš„ç»“æœä¸æµ‹è¯•é›†å¯¹æ¯”ï¼Œæ¯”è¾ƒé‡åˆåº¦ã€‚ åˆåˆ†ä¸ºè¯„åˆ†é¢„æµ‹å’ŒTop Næ¨è å¯¹äºè¯„åˆ†é¢„æµ‹ï¼Œæœ‰å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰å’Œå¹³å‡ç»å¯¹è¯¯å·®ï¼ˆMAEï¼‰è®¡ç®—ä¸¤ç§æ–¹å¼ï¼Œç›¸å·®ä¸å¤§ï¼Œå‰è€…å¯¹äºåç¦»é¡¹æƒ©ç½šå¤§ï¼Œåè€…å¯¹äºè¯„åˆ†å–æ•´çš„æƒ…å†µä¼šé™ä½è¯¯å·®ã€‚ å¯¹äºTop Næ¨èï¼Œé€šå¸¸é€šè¿‡å‡†ç¡®ç‡å’Œæ‹›å‘¼ç‡æ¥è¯„æµ‹ å‡è®¾$R(u)$å’Œ$T(u)$åˆ†åˆ«æ˜¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„æ¨èï¼Œé‚£ä¹ˆä¸¤è€…çš„äº¤é›†é•¿åº¦é™¤ä»¥$R(u)$çš„é•¿åº¦å°±æ˜¯precisionï¼Œäº¤é›†é•¿åº¦é™¤ä»¥$T(u)$å°±æ˜¯recallã€‚ è¯„åˆ†é¢„æµ‹å…³æ³¨é¢„æµ‹ç”¨æˆ·çœ‹äº†ç”µå½±åä¼šç»™ç”µå½±ä»€ä¹ˆæ ·çš„è¯„åˆ†ï¼Œè€ŒTop Næ˜¯æ‰¾åˆ°ç”¨æˆ·æœ€æœ‰å¯èƒ½æ„Ÿå…´è¶£çš„ç”µå½± è¦†ç›–ç‡coverage ç²—ç•¥å®šä¹‰ä¸ºæ¨èç³»ç»Ÿå‘æ˜çš„ç‰©å“å å…¨éƒ¨ç‰©å“çš„æ¯”ç‡ï¼Œç²¾ç¡®å®šä¹‰ä¸ºç‰©å“æµè¡Œåº¦ä¸å…¨éƒ¨ç‰©å“æµè¡Œåº¦çš„æ¯”ç‡ å¯é€šè¿‡ä¿¡æ¯ç†µå’ŒåŸºå°¼ç³»æ•°æ¥è®¡ç®— ä¸¤è€…éƒ½æ˜¯è®¡ç®—ä¸åŒç‰©å“æµè¡Œåº¦ä¹‹é—´çš„å¹³è¡¡åº¦ æ¨èç³»ç»Ÿä¸€èˆ¬å…·æœ‰é©¬å¤ªæ•ˆåº”ï¼šå¼ºè€…æ›´å¼º å¤šæ ·æ€§ è¦è¦†ç›–æ»¡è¶³ç”¨æˆ·å¹¿å¤§çš„å…´è¶£ï¼Œå¯ä»¥ç”¨ä¸åŒçš„ç‰©å“ç›¸ä¼¼åº¦åº¦é‡å‡½æ•°æ¥å®šä¹‰ä¸åŒçš„å¤šæ ·æ€§ å¤šæ ·æ€§å’Œç›¸ä¼¼æ€§æ˜¯trade offçš„ï¼Œéœ€è¦è¾¾åˆ°ä¸€å®šçš„å¹³è¡¡ï¼Œè®©æ¨èæ•ˆæœæœ€å¥½ æ–°é¢–æ€§ æ¨èç”¨æˆ·æœªè§è¿‡çš„ç‰©å“ï¼Œæœ€ç®€å•çš„æ˜¯æ¨èæµè¡Œåº¦ä½çš„ç‰©å“ éš¾ç‚¹åœ¨äºä¸ç‰ºç‰²ç²¾åº¦çš„å‰æä¸‹æé«˜å¤šæ ·æ€§å’Œæ–°é¢–æ€§ æƒŠå–œåº¦ æ¨èç»“æœå’Œç”¨æˆ·çš„å†å²å…´è¶£ä¸ç›¸ä¼¼ï¼Œä½†å´è®©ç”¨æˆ·è§‰å¾—æ»¡æ„ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¯´æ¨èç»“æœçš„æƒŠå–œåº¦å¾ˆé«˜ï¼Œè€Œæ¨èçš„æ–°é¢–æ€§ä»…ä»…å–å†³äºç”¨æˆ·æ˜¯å¦å¬è¯´è¿‡è¿™ä¸ªæ¨èç»“æœã€‚ ä¿¡ä»»åº¦ ç”¨æˆ·å¯¹æ¨èç³»ç»Ÿçš„ä¿¡ä»»åº¦é«˜ï¼Œèƒ½å¢åŠ ç”¨æˆ·ä¸æ¨èç³»ç»Ÿçš„äº¤äº’ æå‡ç”¨æˆ·å¯¹æ¨èç³»ç»Ÿçš„ä¿¡ä»»åº¦çš„æ–¹æ³• å¢åŠ æ¨èç³»ç»Ÿçš„é€æ˜åº¦ï¼šå¯¹ç”¨æˆ·çš„æ¨èéœ€è¦è¿›è¡Œè§£é‡Š æé«˜ç”¨æˆ·çš„ç¤¾äº¤å…³ç³»è¿›è¡Œæ¨è å®æ—¶æ€§ å®æ—¶æ›´æ–°è¿½è¸ªç”¨æˆ·çš„è¡Œä¸ºå’ŒçŠ¶æ€çš„å˜åŒ– èƒ½å¤Ÿå°†æ–°åŠ å…¥çš„ç‰©å“æ¨èç»™ç”¨æˆ· é²æ£’æ€§ åä½œå¼Šæ€§ ä½œå¼Šæ–¹æ³• è¡Œä¸ºæ³¨å…¥æ”»å‡» è¯„åˆ†ç³»ç»Ÿæ”»å‡»ï¼šå¤§æ‰¹ç»™æŸç‰©å“æ‰“é«˜åˆ† å¦‚ä½•å¯¹æŠ—ä½œå¼Š é‡‡ç”¨ä½œå¼Šä»£ä»·é«˜çš„è¡Œä¸ºä½œä¸ºæ¨èç³»ç»Ÿé‡‡çº³çš„æ•°æ® ä½¿ç”¨æ•°æ®å‰è¿›è¡Œæ£€æµ‹ã€æ¸…ç† å•†ä¸šç›®æ ‡ ä¸åŒåˆ©ç›Šæ–¹å…³æ³¨ä¸åŒ","categories":[],"tags":[{"name":"Recommendation System","slug":"Recommendation-System","permalink":"http://frankchen.xyz/tags/Recommendation-System/"}]},{"title":"Sort Algorithms of Linear Time Complexity","slug":"Sort-Algorithms-of-Linear-Time-Complexity","date":"2017-01-13T12:05:31.000Z","updated":"2017-01-14T10:48:52.000Z","comments":true,"path":"2017/01/13/Sort-Algorithms-of-Linear-Time-Complexity/","link":"","permalink":"http://frankchen.xyz/2017/01/13/Sort-Algorithms-of-Linear-Time-Complexity/","excerpt":"å¸¸ç”¨æ’åºç®—æ³•å¦‚å½’å¹¶ã€å¿«æ’ã€å †æ’åºç­‰åŸºäºæ¯”è¾ƒçš„æ’åºæ–¹æ³•éƒ½æ˜¯ä¸èƒ½çªç ´$O(n \\log n)$æ—¶é—´å¤æ‚åº¦çš„ï¼Œæœ¬æ–‡ç€é‡ä»‹ç»å‡ ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºæ–¹æ³•ã€‚","text":"å¸¸ç”¨æ’åºç®—æ³•å¦‚å½’å¹¶ã€å¿«æ’ã€å †æ’åºç­‰åŸºäºæ¯”è¾ƒçš„æ’åºæ–¹æ³•éƒ½æ˜¯ä¸èƒ½çªç ´$O(n \\log n)$æ—¶é—´å¤æ‚åº¦çš„ï¼Œæœ¬æ–‡ç€é‡ä»‹ç»å‡ ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºæ–¹æ³•ã€‚ åŸºäºæ¯”è¾ƒçš„æ’åºä¸ºä½•ä¸èƒ½çªç ´$O(n \\log n)$æ—¶é—´å¤æ‚åº¦ï¼Ÿå› ä¸º$N$ä¸ªæ•°æœ‰$N!$ä¸ªå¯èƒ½çš„æ’åˆ—æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•çš„åˆ¤å®šæ ‘æœ‰$N!$ä¸ªå¶å­ç»“ç‚¹ï¼Œæ¯”è¾ƒæ¬¡æ•°è‡³å°‘ä¸º$\\log(N!)= O(N \\log N)$ (æ–¯ç‰¹æ—å…¬å¼) è€Œçº¿æ€§å¤æ‚åº¦çš„æ’åºæ–¹æ³•é€šå¸¸æ¥è¯´æœ‰è®¡æ•°æ’åºã€æ¡¶æ’åºå’ŒåŸºæ•°æ’åºä¸‰ç§ã€‚ è®¡æ•°æ’åºè®¡æ•°æ’åºï¼ˆCounting sortï¼‰æ˜¯ä¸€ç§ç¨³å®šçš„çº¿æ€§æ—¶é—´æ’åºç®—æ³•ï¼ŒÎ˜(n + k)çš„æ—¶é—´å¤æ‚åº¦ã€‚n æ˜¯å¾…æ’åºæ•°ç»„çš„å¤§å°ï¼Œk æ˜¯è¾…åŠ©æ•°ç»„ count çš„å¤§å°ã€‚ å› ä¸ºå®ƒå¹¶ä¸æ˜¯åŸºäºæ¯”è¾ƒçš„çš„æ’åºç®—æ³•ï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰O(NlogN)çš„ä¸‹é™ã€‚å¹¶ä¸”åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹ï¼Œä½¿ç”¨è¯¥ç®—æ³•æ¯”ä½¿ç”¨å¿«æ’èƒ½å¸¦æ¥æ›´å¥½çš„æ•ˆç‡ã€‚ä¾‹å¦‚åœ¨åŸºæ•°æ’åºä¸­å°±è¿ç”¨äº†è®¡æ•°æ’åºï¼Œå› ä¸ºå®ƒåªéœ€è¦é¢å¤–çš„10ä¸ªå…ƒç´ å¤§å°çš„è¾…åŠ©æ•°ç»„ï¼Œçº¿æ€§çš„æ•ˆç‡ï¼Œå¹¶ä¿è¯äº†ç¨³å®šæ€§ã€‚ åŸç†è®¡æ•°æ’åºçš„ä¸»è¦æ€æƒ³æ˜¯å°†å¾…æ’åºå…ƒç´ çš„å€¼ä½œä¸ºä¸‹æ ‡ï¼Œåˆ©ç”¨è¾…åŠ©æ•°ç»„ count è®°å½•æ‰€æœ‰çš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚å³ count[i] çš„å€¼ä»£è¡¨å…ƒç´  i åœ¨åŸå§‹æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚è¿™æ ·ï¼ŒåŸå§‹æ•°ç»„çš„æ‰€æœ‰å…ƒç´ å°±è¢«æœ‰æœ‰åºåœ°è®°å½•ä¸‹æ¥ã€‚ å½“ç„¶ï¼ŒåªçŸ¥é“æŸä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°æ˜¯ä¸è¶³ä»¥æ’åºçš„ã€‚ä»”ç»†è§‚å¯Ÿ count æ•°ç»„ï¼Œå‘ç°å¯¹ count æ•°ç»„è¿›è¡Œç´¯åŠ ï¼ˆcount[i] += count[i-1]ï¼‰åï¼Œcount[i] çš„å«ä¹‰å°±å˜æˆäº†åŸå§‹æ•°ç»„ i å‰é¢æœ‰ count[i]ä¸ªæ•°æ˜¯ä¸å¤§äºå®ƒçš„ã€‚æœ€åå°±å¯ä»¥æ ¹æ® count æ•°ç»„ä¸­çš„æ’åå»æ„é€ ä¸€ä¸ªå·²æ’åºçš„æ•°ç»„äº†ã€‚ ä¸‹é¢ä»¥åŸå§‹æ•°ç»„d = {8, 13, 0, 3, 20, 16, 9, 7, 11, 5} å»æ¼”ç¤ºä¸Šè¿°çš„è¿‡ç¨‹ï¼š æˆ–è€…æ˜¯æ•°ç»„ä¸­æœ‰é‡å¤å…ƒç´ çš„æƒ…å†µï¼š ç‰¹ç‚¹è®¡æ•°æ’åºè™½ç„¶æ•ˆç‡é«˜ï¼Œå´æœ‰å…¶å—é™çš„æ¡ä»¶ã€‚ åªèƒ½å¯¹[0, K]åŒºé—´çš„éè´Ÿæ•´æ•°è¿›è¡Œæ’åºã€‚å½“ K å¾ˆå¤§æ—¶ï¼Œç©ºé—´å¤æ‚åº¦ä¼šå˜å¾—å¾ˆå¤§ã€‚æ‰€ä»¥ï¼Œå¦‚æœæ˜¯å¯¹äº[0, 100]è¿™æ ·çš„åŒºé—´ï¼Œè®¡æ•°æ’åºæ˜¯ä¸ªå¥½çš„é€‰æ‹©ã€‚è€ƒè™‘åˆ°ç©ºé—´å¤æ‚åº¦çš„ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨åŸå§‹æ•°ç»„ä¸­çš„ (æœ€å¤§å€¼ - æœ€å°å€¼ + 1) ä½œä¸º count æ•°ç»„çš„å¤§å°ã€‚ å‚è€ƒä»£ç 1234567891011121314151617181920212223242526/* æ•°ç»„ d çš„å…ƒç´ åªèƒ½ä½äº[0, K)åŒºé—´çš„éè´Ÿæ•´æ•°ï¼ŒO(n + K)*/void counting_sort(int d[], int n)&#123; int max = 0, min = Integer.MAX_VALUE; for (int i = 0; i &lt; n; i++) &#123; if (max &lt; d[i]) max = d[i]; if (min &gt; d[i]) min = d[i]; &#125; max++; int[] count = new int[max - min; //ä¼˜åŒ–ç©ºé—´ int[] ans = new int[n]; for (int i = 0; i &lt; max; ++i) count[i] = 0; for (int i = 0; i &lt; n; ++i) count[d[i] - min]++; for (int i = 1; i &lt; max; ++i) count[i] += count[i - 1]; //è¿™é‡Œå¿…é¡»é€†åºå¾ªç¯ï¼Œä¸ç„¶ä¼šé€ æˆæ’åºç»“æœå¤±å»ç¨³å®šæ€§ã€‚ for (int i = n - 1; i &gt;= 0; --i) ans[ --count[d[i]- min] ] = d[i]; return ans;&#125; åŸºæ•°æ’åºæ¡¶æ’åº","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"},{"name":"Java","slug":"Java","permalink":"http://frankchen.xyz/tags/Java/"}]},{"title":"Polymorphism of Java","slug":"Polymorphism-of-Java","date":"2017-01-13T10:15:27.000Z","updated":"2017-01-13T14:49:38.000Z","comments":true,"path":"2017/01/13/Polymorphism-of-Java/","link":"","permalink":"http://frankchen.xyz/2017/01/13/Polymorphism-of-Java/","excerpt":"æœ€è¿‘é¢è¯•è¢«é—®åˆ°Javaçš„å¤šæ€æ€ä¹ˆç†è§£ï¼Œè‡ªå·±å«å«ç³Šç³Šçš„æ„Ÿè§‰è‡ªå·±çŸ¥é“ç‚¹å«ä¹‰å¯æ˜¯å°±æ˜¯å…·ä½“æ€ä¹ˆè¯´æ‰“ä¸å‡ºæ¥ï¼Œå°´å°¬æ­»ã€‚æ¥ä¸‹æ¥æ‰“ç®—æŠŠä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€éƒ½å¥½å¥½çš„å†™ä¸‹æ¥ï¼Œä»¥å‚è€ƒã€‚æœ¬æ–‡å…ˆå†™å…³äºJavaçš„å¤šæ€å§ã€‚","text":"æœ€è¿‘é¢è¯•è¢«é—®åˆ°Javaçš„å¤šæ€æ€ä¹ˆç†è§£ï¼Œè‡ªå·±å«å«ç³Šç³Šçš„æ„Ÿè§‰è‡ªå·±çŸ¥é“ç‚¹å«ä¹‰å¯æ˜¯å°±æ˜¯å…·ä½“æ€ä¹ˆè¯´æ‰“ä¸å‡ºæ¥ï¼Œå°´å°¬æ­»ã€‚æ¥ä¸‹æ¥æ‰“ç®—æŠŠä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€éƒ½å¥½å¥½çš„å†™ä¸‹æ¥ï¼Œä»¥å‚è€ƒã€‚æœ¬æ–‡å…ˆå†™å…³äºJavaçš„å¤šæ€å§ã€‚ å¤šæ€ï¼Œç”¨ä¸€å¥è¯æ¥è¯´ï¼Œå°±æ˜¯äº‹ç‰©åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å­˜åœ¨ä¸åŒçš„çŠ¶æ€ã€‚å¤šæ€çš„å­˜åœ¨æœ‰ä¸‰ä¸ªå‰æ: è¦æœ‰ç»§æ‰¿å…³ç³» å­ç±»è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³• çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹ å®éªŒæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªçˆ¶ç±»Animal 12345678910111213141516class Animal&#123; int num = 10; int age = 20; public void eat()&#123; System.out.println(\"åŠ¨ç‰©åœ¨åƒé¥­\"); &#125; public stastic void sleep()&#123; System.out.println(\"åŠ¨ç‰©åœ¨ç¡è§‰\"); &#125; public void run()&#123; System.out.println(\"åŠ¨ç‰©åœ¨å¥”è·‘\"); &#125;&#125; å†å®šä¹‰ä¸€ä¸ªå­ç±»Cat 1234567891011121314151617class Cat extends Animal&#123; int num = 30; int age = 40; String name = \"Tom\"; public void eat()&#123; System.out.println(\"çŒ«åœ¨åƒé¥­\"); &#125; public stastic void sleep()&#123; System.out.println(\"çŒ«åœ¨ç¡è§‰\"); &#125; public void catchMouse()&#123; System.out.println(\"çŒ«åœ¨æŠ“è€é¼ \"); &#125;&#125; å†æ¥ä¸€ä¸ªæµ‹è¯• 12345678910111213class Demo_Test&#123; public stastic void main(String[] args)&#123; Animal am = new Cat(); am.eat(); am.sleep(); am.run(); System.out.println(am.num); System.out.println(am.age); am.catchMouse(); System.out.println(am.name); &#125;&#125; å…ˆæ¥çœ‹çœ‹ä¸Šé¢æ˜¯å¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼š å­ç±»Catç»§æ‰¿äº†çˆ¶ç±»Animalï¼› å­ç±»é‡å†™äº†çˆ¶ç±»çš„eat()ã€sleep()æ–¹æ³•ï¼Œå…¶ä¸­å‰è€…æ˜¯éé™æ€ï¼Œåè€…æ˜¯é™æ€æ–¹æ³•ï¼› åœ¨å †å†…å­˜ä¸­å¼€è¾Ÿäº†å­ç±»Cat()å¯¹è±¡ï¼Œå¹¶æŠŠå­˜åœ¨äºæ ˆå†…å­˜ä¸­çš„Animal()å¼•ç”¨æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚ ç„¶åæˆ‘ä»¬çœ‹ä¸€ä¸‹è¿è¡Œç»“æœï¼Œåº”è¯¥æ˜¯ çŒ«åœ¨åƒé¥­åŠ¨ç‰©åœ¨ç¡è§‰åŠ¨ç‰©åœ¨å¥”è·‘1020 é‚£ä¹ˆä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å­ç±»é‡å†™äº†çˆ¶ç±»çš„éé™æ€æˆå‘˜æ–¹æ³•ï¼Œå¯¹è±¡am.eat()çš„è¾“å‡ºç»“æœæ˜¯â€œçŒ«åœ¨åƒé¥­â€ï¼› å­ç±»é‡å†™äº†çˆ¶ç±»çš„é™æ€æˆå‘˜æ–¹æ³•ï¼Œå¯¹è±¡am.sleep()çš„è¾“å‡ºç»“æœæ˜¯â€œåŠ¨ç‰©åœ¨ç¡è§‰â€ï¼› æœªè¢«å­ç±»é‡å†™çš„æ–¹æ³•am.run()çš„è¾“å‡ºç»“æœæ˜¯â€œåŠ¨ç‰©åœ¨å¥”è·‘â€ã€‚ é‚£ä¹ˆå¯ä»¥æ€»ç»“å‡ºå¤šæ€æˆå‘˜è®¿é—®çš„ç‰¹ç‚¹ï¼š æˆå‘˜å˜é‡ï¼šç¼–è¯‘çœ‹å·¦è¾¹(çˆ¶ç±»),è¿è¡Œçœ‹å·¦è¾¹(çˆ¶ç±») æˆå‘˜æ–¹æ³•ï¼šç¼–è¯‘çœ‹å·¦è¾¹(çˆ¶ç±»)ï¼Œè¿è¡Œçœ‹å³è¾¹(å­ç±»)ã€‚åŠ¨æ€ç»‘å®š é™æ€æ–¹æ³•ï¼šç¼–è¯‘çœ‹å·¦è¾¹(çˆ¶ç±»)ï¼Œè¿è¡Œçœ‹å·¦è¾¹(çˆ¶ç±»)(é™æ€å’Œç±»ç›¸å…³ï¼Œç®—ä¸ä¸Šé‡å†™ï¼Œæ‰€ä»¥ï¼Œè®¿é—®è¿˜æ˜¯å·¦è¾¹çš„) åªæœ‰éé™æ€çš„æˆå‘˜æ–¹æ³•,ç¼–è¯‘çœ‹å·¦è¾¹,è¿è¡Œçœ‹å³è¾¹ï¼Œè€Œä»¥ä¸Šçš„è¿™ä¸ªè¿‡ç¨‹å°±å«åšå¤šæ€çš„å‘ä¸Šè½¬å‹ã€‚ å¤šæ€çš„ç¼ºç‚¹å¤šæ€ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼Œä¹Ÿå°±æ˜¯æ— æ³•å°è¯•è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•ï¼Œå¦‚ä¸Šé¢æœªå±•ç¤ºam.catchMouse();System.out.println(am.name);ä¸¤è¡Œä»£ç éƒ½æ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºè¿™æ˜¯å­ç±»ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å±æ€§ã€‚ å¦‚æœæˆ‘ä»¬éœ€è¦è°ƒç”¨å­ç±»çš„ç‰¹æœ‰æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å±æ€§ï¼Œé‚£ä¹ˆåº”è¯¥å°†è¿™ä¸ªçˆ¶ç±»å¼ºåˆ¶è½¬æ¢ä¸ºå­ç±»ç±»å‹ï¼Œå¦‚ 1234567891011121314151617181920class Demo_Test &#123; public static void main(String[] args) &#123; Animal am = new Cat(); am.eat(); am.sleep(); am.run();// am.catchMouse();// System.out.println(am.name); System.out.println(am.num); System.out.println(am.age); System.out.println(\"------------------------------\"); Cat ct = (Cat)am; ct.eat(); ct.sleep(); ct.run(); ct.catchMouse(); &#125; &#125; æ‰§è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢Cat ct = (Cat)amåï¼Œè¿™æ—¶ctå°±æŒ‡å‘å †é‡Œæœ€å…ˆåˆ›å»ºçš„Cat()å¯¹è±¡äº†ï¼Œè‡ªç„¶èƒ½ä½¿ç”¨Catç±»çš„ä¸€åˆ‡æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å±æ€§äº†ã€‚è¿™ä¹Ÿæ˜¯å¤šæ€çš„é­…åŠ›ï¼Œä¸ºäº†ä½¿ç”¨å­ç±»çš„æŸäº›æ–¹æ³•ä¸éœ€è¦é‡æ–°å†å¼€è¾Ÿå†…å­˜ã€‚ä»¥ä¸Šå°±æ˜¯å¤šæ€ä¸­çš„å‘ä¸‹è½¬å‹ã€‚ é€šä¿—è§£é‡ŠèŠ±æœ¨å…°æ›¿çˆ¶ä»å†›å¤§å®¶éƒ½çŸ¥é“èŠ±æœ¨å…°æ›¿çˆ¶ä»å†›çš„ä¾‹å­ï¼ŒèŠ±æœ¨å…°æ›¿çˆ¶äº²èŠ±å¼§ä»å†›ã€‚é‚£ä¹ˆè¿™æ—¶å€™èŠ±æœ¨å…°æ˜¯å­ç±»ï¼ŒèŠ±å¼§æ˜¯çˆ¶ç±»ã€‚èŠ±å¼§æœ‰è‡ªå·±çš„æˆå‘˜å±æ€§å¹´é¾„ï¼Œå§“åï¼Œæ€§åˆ«ã€‚èŠ±æœ¨å…°ä¹Ÿæœ‰è¿™äº›å±æ€§ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾äºŒè€…çš„å±æ€§å®Œå…¨ä¸ä¸€æ ·ã€‚èŠ±å¼§æœ‰è‡ªå·±çš„éé™æ€æˆå‘˜æ–¹æ³•â€˜éª‘é©¬æ€æ•Œâ€™ï¼ŒåŒæ ·èŠ±æœ¨å…°ä¹Ÿé—ä¼ äº†çˆ¶äº²ä¸€æ ·çš„æ–¹æ³•â€˜éª‘é©¬æ€æ•Œâ€™ã€‚èŠ±å¼§è¿˜æœ‰ä¸€ä¸ªé™æ€æ–¹æ³•â€˜è‡ªæˆ‘ä»‹ç»â€™ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥é—®èŠ±å¼§å§“ç”šåè°ã€‚åŒæ—¶èŠ±æœ¨å…°è¿˜æœ‰ä¸€ä¸ªè‡ªå·±ç‰¹æœ‰çš„éé™æ€æˆå‘˜æ–¹æ³•â€˜æ¶‚è„‚æŠ¹ç²‰â€™ã€‚ä½†æ˜¯ï¼Œç°åœ¨èŠ±æœ¨å…°æ›¿çˆ¶ä»å†›ï¼Œå¥³æ‰®ç”·è£…ã€‚è¿™æ—¶å€™ç›¸å½“äºçˆ¶ç±»çš„å¼•ç”¨ï¼ˆèŠ±å¼§è¿™ä¸ªåå­—ï¼‰æŒ‡å‘äº†å­ç±»å¯¹è±¡ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªäººï¼‰ï¼Œé‚£ä¹ˆåœ¨å…¶ä»–ç±»ï¼ˆå…¶ä»–çš„äººï¼‰ä¸­è®¿é—®å­ç±»å¯¹è±¡ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªäººï¼‰çš„æˆå‘˜å±æ€§ï¼ˆå§“åï¼Œå¹´é¾„ï¼Œæ€§åˆ«ï¼‰æ—¶ï¼Œå…¶å®çœ‹åˆ°çš„éƒ½æ˜¯èŠ±æœ¨å…°å¥¹çˆ¶äº²çš„åå­—ï¼ˆèŠ±å¼§ï¼‰ã€å¹´é¾„ï¼ˆ60å²ï¼‰ã€æ€§åˆ«ï¼ˆç”·ï¼‰ã€‚å½“è®¿é—®å­ç±»å¯¹è±¡ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªäººï¼‰çš„éé™æ€æˆå‘˜æ–¹æ³•ï¼ˆéª‘é©¬æ‰“ä»—ï¼‰æ—¶ï¼Œå…¶å®éƒ½æ˜¯çœ‹åˆ°èŠ±æœ¨å…°è‡ªå·±è¿ç”¨åå…«èˆ¬æ­¦è‰ºåœ¨éª‘é©¬æ‰“ä»—ã€‚å½“è®¿é—®èŠ±æœ¨å…°çš„é™æ€æ–¹æ³•æ—¶ï¼ˆè‡ªæˆ‘ä»‹ç»ï¼‰ï¼ŒèŠ±æœ¨å…°è‡ªå·±éƒ½æ˜¯ç”¨å¥¹çˆ¶äº²çš„åå­—ä¿¡æ¯åœ¨å‘åˆ«äººä½œè‡ªæˆ‘ä»‹ç»ã€‚å¹¶ä¸”è¿™æ—¶å€™èŠ±æœ¨å…°ä¸èƒ½ä½¿ç”¨è‡ªå·±ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•â€˜æ¶‚è„‚æŠ¹ç²‰â€™ã€‚â€”â€“å¤šæ€ä¸­çš„å‘ä¸Šè½¬å‹é‚£ä¹ˆç»ˆäºä¸€å°†åŠŸæˆä¸‡éª¨æ¯ï¼Œæ‰“ä»—æ——å¼€å¾—èƒœäº†ï¼ŒèŠ±æœ¨å…°å‘Šåˆ«äº†æˆ˜äº‰ç”Ÿæ´»ã€‚æœ‰ä¸€å¤©ï¼Œé‡åˆ°äº†è‡ªå·±å¿ƒçˆ±çš„ç”·äººï¼Œè¿™æ—¶å€™çˆ±æƒ…çš„åŠ›é‡å°†çˆ¶ç±»å¯¹è±¡çš„å¼•ç”¨ï¼ˆèŠ±å¼§è¿™ä¸ªåå­—ï¼‰å¼ºåˆ¶è½¬æ¢ä¸ºå­ç±»å¯¹è±¡æœ¬æ¥çš„å¼•ç”¨ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªåå­—ï¼‰ï¼Œé‚£ä¹ˆèŠ±æœ¨å…°åˆä»æ–°æˆä¸ºäº†å¥¹è‡ªå·±ï¼Œè¿™æ—¶å€™å¥¹å®Œå…¨æ˜¯å¥¹è‡ªå·±äº†ã€‚åå­—æ˜¯èŠ±æœ¨å…°ï¼Œå¹´é¾„æ˜¯28ï¼Œæ€§åˆ«æ˜¯å¥³ï¼Œæ‰“ä»—ä¾ç„¶é‚£æ ·ç”ŸçŒ›å¥³æ±‰å­ï¼Œè‡ªæˆ‘ä»‹ç»åˆ™å ‚å ‚æ­£æ­£åœ°å‘Šè¯‰åˆ«äººæˆ‘å«èŠ±æœ¨å…°ã€‚OMGï¼ç»ˆäºï¼Œç»ˆäºå¯ä»¥ä½¿ç”¨è‡ªå·±ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•â€˜æ¶‚è„‚æŠ¹ç²‰â€™äº†ã€‚ä»æ­¤ï¼ŒèŠ±æœ¨å…°å®Œå…¨å›åˆ°äº†æ›¿çˆ¶ä»å†›å‰çš„é‚£ä¸ªèŠ±æœ¨å…°äº†ã€‚å¹¶ä¸”å’Œè‡ªå·±å¿ƒçˆ±çš„ç”·äººå¹¸ç¦çš„è¿‡å®Œäº†ä¸€ç”Ÿã€‚â€”â€“å¤šæ€ä¸­çš„å‘ä¸‹è½¬å‹ã€‚ å‚è€ƒå‡ºå¤„ ä½œè€…ï¼šç¨‹åºç‹—é“¾æ¥ï¼šhttps://www.zhihu.com/question/30082151/answer/120520568æ¥æºï¼šçŸ¥ä¹","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://frankchen.xyz/tags/Java/"},{"name":"OOP","slug":"OOP","permalink":"http://frankchen.xyz/tags/OOP/"}]},{"title":"Map 0f Java","slug":"Map-0f-Java","date":"2017-01-13T05:53:14.000Z","updated":"2017-01-13T11:37:57.000Z","comments":true,"path":"2017/01/13/Map-0f-Java/","link":"","permalink":"http://frankchen.xyz/2017/01/13/Map-0f-Java/","excerpt":"æ•´ç†å…³äºJavaçš„Mapç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘é¢è¯•æœ‰è¢«é—®åˆ°å…³äºæ­¤ç±»æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼Œæ•…å†™ä¸‹æ¥æ€»ç»“ä¸€ç•ªã€‚","text":"æ•´ç†å…³äºJavaçš„Mapç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘é¢è¯•æœ‰è¢«é—®åˆ°å…³äºæ­¤ç±»æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼Œæ•…å†™ä¸‹æ¥æ€»ç»“ä¸€ç•ªã€‚ Listå’ŒMapéƒ½æ˜¯java.utilé‡Œé¢æœ‰å…³é›†åˆçš„æ•°æ®ç»“æ„ç±»ã€‚Mapä¸»è¦çš„åŠŸèƒ½æ˜¯å…ƒç´ å¯¹ï¼ˆé”®å€¼å¯¹ï¼‰çš„å½¢å¼ï¼Œæ¯ä¸ªé”®éƒ½æ˜ å°„åˆ°ä¸€ä¸ªç±»ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»Mapçš„åˆ†ç±»ã€åˆå§‹åŒ–ã€éå†çš„æ–¹å¼ã€æ’åºæ–¹æ³•ä»¥åŠå¸¸ç”¨APIã€‚ Mapç±»Javaä¸­çš„Mapç±»å¯åˆ†ä¸ºä¸‰ç§ï¼š é€šç”¨Mapï¼šç”¨äºåœ¨åº”ç”¨ç¨‹åºå†…ç®¡ç†æ˜ å°„ï¼Œé€šå¸¸åœ¨java.utilså†… HashMapã€ Hashtableã€ Propertiesã€ LinkedHashMapã€ IdentityHashMapã€ TreeMapã€WeakHashMapã€ ConcurrentHashMap ä¸“ç”¨Mapï¼šä¸å¿…æˆ‘ä»¬è‡ªå·±åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡å…¶ä»–åº”ç”¨ç¨‹åºè®¿é—® java.util.jar.Attributeã€javax.print.attribute.standard.PrinterStateReasonsã€java.security.Providerã€java.awt.RenderingHintsã€javax.swing.UIDefaults è‡ªå®šä¹‰Map å¸¸ç”¨ç±»å‹çš„åŒºåˆ« HashMap æœ€å¸¸ç”¨çš„Mapï¼Œé€Ÿåº¦å¿«ï¼ŒéåŒæ­¥ï¼ˆä¸æ”¯æŒçº¿ç¨‹åŒæ­¥ï¼‰ å…è®¸ä¸€æ¡é”®ä¸ºnullï¼šå¤šäº†è¦†ç›– å…è®¸å¤šæ¡å€¼ä¸ºnull TreeMap ç”¨Iteratoréå†çš„æ—¶å€™è¿”å›ä»¥keyä¸ºåºçš„åºåˆ— æ•…ä¸å…è®¸keyä¸ºç©º éåŒæ­¥ HashTable ç±»ä¼¼HashMapï¼Œä½†æ˜¯å†™å…¥é€Ÿåº¦æ…¢ å› ä¸ºæ”¯æŒçº¿ç¨‹åŒæ­¥ï¼šåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€çº¿ç¨‹èƒ½å†™HashTable LinkedHashMap ä¿æŒäº†æ’å…¥é¡ºåºï¼ŒIteratoréå†æ—¶å…ˆè¿›å…ˆå‡º keyã€valueéƒ½å…è®¸ä¸ºç©º ç”¨æ³•1234567891011//å»ºç«‹HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();//å¯»å€¼map.get(\"key1\");//æ’å…¥map.put(\"key2\", \"value2\");//ç§»é™¤map.remove(\"key1\");//æ¸…ç©ºmap.clear();// Mapçš„éå†åˆå§‹åŒ–123Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();map.put(\"key1\", \"value1\");map.put(\"key2\", \"value2\"); åˆ†åˆ«ä½¿ç”¨å¢å¼ºforå¾ªç¯å’ŒIteratoræ¥éå† å¢å¼ºforå¾ªç¯éå†KeySetéå†123for (String key: map.keySet())&#123; System.out.println(key + \": \" + map.get(key));&#125; entrySetéå†12for (Map.Entry&lt;String, String&gt; entry: map.entrySet())&#123; System.out.println(entry.getKey() + \": \" + entry.getValue()); Iteratoréå†KeySetéå†12345Iterator&lt;String&gt; iterator = map.keySet().iterator();while (iterator.hasNext())&#123; String key = iterator.next(); System.out.println(key + \": \" + map.get(key));&#125; entrySetéå†12345Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator();while (iterator.hasNext()) &#123; Map.Entry&lt;String, String&gt; entry = iterator.next(); System.out.println(entry.getKey() + \"ï¼š\" + entry.getValue());&#125; éå†æ€§èƒ½å°±å®éªŒæ¯”è¾ƒï¼Œ å¢å¼ºforå¾ªç¯ä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ€§èƒ½è¾ƒå·®ï¼Œä¸é€‚åˆå¤„ç†è¶…å¤§é‡çº§çš„æ•°æ®ã€‚ è¿­ä»£å™¨çš„éå†é€Ÿåº¦è¦æ¯”å¢å¼ºforå¾ªç¯å¿«å¾ˆå¤šï¼Œæ˜¯å¢å¼ºforå¾ªç¯çš„2å€å·¦å³ã€‚ ä½¿ç”¨entrySetéå†çš„é€Ÿåº¦è¦æ¯”keySetå¿«å¾ˆå¤šï¼Œæ˜¯keySetçš„1.5å€å·¦å³ã€‚ æ’åºTreeMapæ’åºï¼Œè‹¥æ˜¯å‡åºåªéœ€è¦æŒ‰åºè¾“å‡ºå³å¯ï¼Œé™åºéœ€è¦æ”¹å†™æ¯”è¾ƒå™¨ï¼š 123456789101112Map&lt;String, String&gt; map = new TreeMap&lt;String, String&gt;(new Comparator&lt;String&gt;() &#123; public int compare(String obj1, String obj2) &#123; return obj2.compareTo(obj1);// é™åºæ’åº &#125;&#125;);map.put(\"a\", \"c\");map.put(\"b\", \"b\");map.put(\"c\", \"a\");for (String key : map.keySet()) &#123; System.out.println(key + \" ï¼š\" + map.get(key));&#125; HashMap\\HashTable\\LinkedHashMapæ’åº 1234567891011121314151617Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();map.put(\"a\", \"c\");map.put(\"b\", \"b\");map.put(\"c\", \"a\");// é€šè¿‡ArrayListæ„é€ å‡½æ•°æŠŠmap.entrySet()è½¬æ¢æˆlistList&lt;Map.Entry&lt;String, String&gt;&gt; list = new ArrayList&lt;Map.Entry&lt;String, String&gt;&gt;(map.entrySet());// é€šè¿‡æ¯”è¾ƒå™¨å®ç°æ¯”è¾ƒæ’åºCollections.sort(list, new Comparator&lt;Map.Entry&lt;String, String&gt;&gt;() &#123; public int compare(Map.Entry&lt;String, String&gt; mapping1, Map.Entry&lt;String, String&gt; mapping2) &#123; return mapping1.getKey().compareTo(mapping2.getKey()); &#125;&#125;);for (Map.Entry&lt;String, String&gt; mapping : list) &#123; System.out.println(mapping.getKey() + \" ï¼š\" + mapping.getValue());&#125; å¸¸ç”¨API method ä½œç”¨ clear() ä» Map ä¸­åˆ é™¤æ‰€æœ‰æ˜ å°„ remove(Object key) ä» Map ä¸­åˆ é™¤é”®å’Œå…³è”çš„å€¼ put(Object key, Object value) å°†æŒ‡å®šå€¼ä¸æŒ‡å®šé”®ç›¸å…³è” putAll(Map t) å°†æŒ‡å®š Map ä¸­çš„æ‰€æœ‰æ˜ å°„å¤åˆ¶åˆ°æ­¤ map entrySet() è¿”å› Map ä¸­æ‰€åŒ…å«æ˜ å°„çš„ Set è§†å›¾ã€‚Set ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ª Map.Entry å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ getKey() å’Œ getValue() æ–¹æ³•ï¼ˆè¿˜æœ‰ä¸€ä¸ª setValue() æ–¹æ³•ï¼‰è®¿é—®åè€…çš„é”®å…ƒç´ å’Œå€¼å…ƒç´  keySet() è¿”å› Map ä¸­æ‰€åŒ…å«é”®çš„ Set è§†å›¾ã€‚åˆ é™¤ Set ä¸­çš„å…ƒç´ è¿˜å°†åˆ é™¤ Map ä¸­ç›¸åº”çš„æ˜ å°„ï¼ˆé”®å’Œå€¼ï¼‰ values() è¿”å› map ä¸­æ‰€åŒ…å«å€¼çš„ Collection è§†å›¾ã€‚åˆ é™¤ Collection ä¸­çš„å…ƒç´ è¿˜å°†åˆ é™¤ Map ä¸­ç›¸åº”çš„æ˜ å°„ï¼ˆé”®å’Œå€¼ï¼‰ get(Object key) è¿”å›ä¸æŒ‡å®šé”®å…³è”çš„å€¼ containsKey(Object key) å¦‚æœ Map åŒ…å«æŒ‡å®šé”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› true containsValue(Object value) å¦‚æœæ­¤ Map å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°æŒ‡å®šå€¼ï¼Œåˆ™è¿”å› true isEmpty() å¦‚æœ Map ä¸åŒ…å«é”®-å€¼æ˜ å°„ï¼Œåˆ™è¿”å› true size() è¿”å› Map ä¸­çš„é”®-å€¼æ˜ å°„çš„æ•°ç›®","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://frankchen.xyz/tags/Java/"},{"name":"Data Structure","slug":"Data-Structure","permalink":"http://frankchen.xyz/tags/Data-Structure/"}]},{"title":"To be a great commander","slug":"good commander","date":"2017-01-11T07:19:05.000Z","updated":"2017-01-11T07:26:06.000Z","comments":true,"path":"2017/01/11/good commander/","link":"","permalink":"http://frankchen.xyz/2017/01/11/good commander/","excerpt":"è¿‘æ¥å¶ç„¶è¯»åˆ°æ—å½ªå…ƒå¸…å…³äºå¦‚ä½•è¿›è¡Œå†›äº‹å·¥ä½œå†™çš„å·¥ä½œæ€»ç»“ï¼Œä¸å…‰æ˜¯å†›äº‹ï¼Œåº”ç”¨åˆ°æ—¥å¸¸å·¥ä½œã€åšäº‹ä¹Ÿæ˜¯å¾ˆå¥½çš„æŒ‡å¯¼ï¼Œè¿™æ˜¯æ—å½ªä¸åˆ°30å²æ—¶å€™å†™ä¸‹çš„æ–‡å­—ï¼Œé¡¿æ—¶æ˜ç™½ä¸ºä½•äººå®¶23å²å°±å¯ä»¥å½“å†›é•¿çš„åŸå› ã€‚","text":"è¿‘æ¥å¶ç„¶è¯»åˆ°æ—å½ªå…ƒå¸…å…³äºå¦‚ä½•è¿›è¡Œå†›äº‹å·¥ä½œå†™çš„å·¥ä½œæ€»ç»“ï¼Œä¸å…‰æ˜¯å†›äº‹ï¼Œåº”ç”¨åˆ°æ—¥å¸¸å·¥ä½œã€åšäº‹ä¹Ÿæ˜¯å¾ˆå¥½çš„æŒ‡å¯¼ï¼Œè¿™æ˜¯æ—å½ªä¸åˆ°30å²æ—¶å€™å†™ä¸‹çš„æ–‡å­—ï¼Œé¡¿æ—¶æ˜ç™½ä¸ºä½•äººå®¶23å²å°±å¯ä»¥å½“å†›é•¿çš„åŸå› ã€‚ æ¨æˆæ­¦å›å¿†ï¼š1936å¹´12æœˆ,è¥¿å®‰äº‹å˜çˆ†å‘ï¼Œçº¢å†›å¤§å­¦ç¬¬ä¸€æœŸæ¯•ä¸šã€‚å³å°†å¥”èµ´å‰çº¿ï¼Œæ—å½ªæ‰¾æˆ‘è°ˆè¯ï¼Œç»™æˆ‘ç•™ä¸‹å¾ˆæ·±çš„å°è±¡ã€‚æˆ‘è¿‡å»å½“æ”¿å§”ï¼Œè¿˜æƒ³å¹²è€æœ¬è¡Œã€‚ä½†å†› å§”ç»è¿‡å…¨é¢è€ƒè™‘,ç¡®å®šæˆ‘å½“å¸ˆé•¿ã€‚æ—å½ªè¯´æ¯›ä¸»å¸­è¦æˆ‘å’Œä½ è°ˆä¸€æ¬¡è¯ï¼Œè®²ä¸€ä¸‹æ€æ ·å½“å¥½å¸ˆé•¿çš„é—®é¢˜ã€‚è°ˆè¯æ—¶ç½—ç‘å¿ä¹Ÿåœ¨åœº,æ¨æˆæ­¦è®¤çœŸä½œäº†è®°å½•ã€‚æ—å½ªè®²äº†ä¹æ¡,è¿™ä¹Ÿ æ˜¯ä»–è‡ªå·±åœ¨æˆ˜äº‰ä¸­çš„ä½“ä¼šï¼š ä¸€ã€è¦å‹¤å¿«ã€‚ä¸å‹¤å¿«çš„äººåŠä¸å¥½äº‹æƒ…ï¼Œä¸èƒ½å½“å¥½å†›äº‹æŒ‡æŒ¥å‘˜ã€‚åº”è¯¥è‡ªå·±å¹²çš„äº‹æƒ…ä¸€å®šè¦äº²è‡ªè¿‡ç›®ï¼Œäº²è‡ªåŠ¨æ‰‹ã€‚æ¯”å¦‚ï¼Œåº”è¯¥ä¸Šå»çœ‹çš„å±±å¤´å°±è¦çˆ¬ä¸Šå»ï¼Œåº”è¯¥äº†è§£çš„æƒ…å†µ å°±è¦åŠæ—¶äº†è§£ï¼Œåº”è¯¥æ£€æŸ¥çš„é—®é¢˜å°±è¦ä¸¥æ ¼æ£€æŸ¥ã€‚ä¸èƒ½æ‡’ï¼Œå†›äº‹æŒ‡æŒ¥å‘˜åˆ‡å¿Œæ‡’ï¼Œå› ä¸ºæ‡’ä¼šå¸¦æ¥å±é™©ï¼Œå¸¦æ¥å¤±è´¥ã€‚æ¯”æ–¹è¯´ï¼Œä¸€ä¸ªå†›äº‹æŒ‡æŒ¥å‘˜ï¼Œåˆ°äº†å®¿è¥åœ°å°±è¿›æˆ¿å­ï¼Œææ°´ æ´—è„¸æ´—è„šï¼Œæé¸¡è›‹ç…®é¢åƒï¼Œåƒé¥±äº†å°±ç¡å¤§è§‰ã€‚ä»–å¯¹ä½çš„æ‘å­æœ‰å¤šå¤§ï¼Œåœ¨ä»€ä¹ˆä½ç½®ï¼Œé™„è¿‘æœ‰å‡ ä¸ªå±±å¤´å‘¨å›´æœ‰å‡ æ¡é“è·¯ï¼Œæ•Œæƒ…æ€ä¹ˆæ ·ï¼Œç¾¤ä¼—æ¡ä»¶æ€ä¹ˆæ ·ï¼Œå¯èƒ½å‘ç”Ÿä»€ä¹ˆæƒ… å†µï¼Œéƒ¨é˜Ÿåˆ°é½äº†æ²¡æœ‰ï¼Œå“¨ä½åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œå‘ç”Ÿç´§æ€¥æƒ…å†µæ—¶çš„å¤„ç½®é¢„æ¡ˆå¦‚ä½•ï¼Œéƒ½ä¸è¿‡é—®ï¼Œéƒ½ä¸çŸ¥é“ã€‚è¿™æ ·ï¼Œå¦‚æœåŠå¤œä¸‰æ›´å‘ç”Ÿäº†æƒ…å†µï¼Œæ•Œäººæ¥ä¸ªçªç„¶è¢­å‡»ï¼Œå°±æ²¡æœ‰åŠæ³• äº†ã€‚åˆ°é‚£ç§æ—¶å€™ï¼Œå³ä½¿å¹³æ—¶å¾ˆå‹‡æ•¢çš„æŒ‡æŒ¥å‘˜ï¼Œä¹Ÿä¼šæŸæ‰‹æ— ç­–ï¼Œåªå¥½ä¸‰åå…­è®¡ï¼Œè·‘ä¸ºä¸Šè®¡ï¼Œç»“æœï¼Œå˜æˆä¸€ä¸ªæœºä¼šä¸»ä¹‰è€…ã€‚æœºä¼šä¸»ä¹‰å’Œæ‰“è´¥ä»—ï¼Œå¸¸å¸¸æ˜¯å› ä¸ºæ²¡æœ‰æ€æƒ³å‡† å¤‡ï¼Œæ²¡æœ‰ç»„ç»‡å‡†å¤‡ï¼Œå·¥ä½œæ²¡æœ‰åšåˆ°å®¶ï¼Œæ‡’çš„ç»“æœã€‚å› æ­¤ï¼Œä¸è®ºå¤§å°æŒ‡æŒ¥å‘˜éƒ½è¦å‹¤å¿«ï¼Œè¦ä¸æƒœèµ°è·¯ï¼Œä¸æ€•åŠ³ç´¯ï¼Œè¦å¤šç”¨è„‘å­ï¼Œè¦åšåˆ°å¿ƒåˆ°ã€çœ¼åˆ°ã€å£åˆ°ã€è„šåˆ°ã€æ‰‹åˆ°ã€‚ äº‹æƒ…æ²¡æœ‰åšå¥½ä»¥å‰ï¼Œä¸èƒ½è´ªé—²ã€‚è´ªé—²å°±éšä¼ç€çŠ¯é”™è¯¯çš„æ ¹å­ã€‚ä»€ä¹ˆäº‹éƒ½è¦å¿ƒä¸­æœ‰åº•ï¼Œâ€œå‡¡äº‹é¢„åˆ™ç«‹ï¼Œä¸é¢„åˆ™åºŸâ€ã€‚é›·æ‰“ä¸åŠ¨çš„å¹²éƒ¨ï¼Œç‰›çš®ç³–å¼çš„å¹²éƒ¨ï¼Œä¸ç®¡æœ‰å¤šå¤§æœ¬ äº‹ï¼Œéƒ½ä¸æ˜¯å¥½å¹²éƒ¨ã€‚ äºŒã€è¦æ‘¸æ¸…ä¸Šçº§çš„æ„å›¾ã€‚å¯¹ä¸Šçº§çš„æ„å›¾è¦çœŸæ­£ç†è§£ï¼ŒçœŸæ­£èä¼šè´¯é€šï¼ŒçœŸæ­£è®¤è¯†è‡ªå·±æ‰€å—é¢†çš„ä»»åŠ¡åœ¨æˆ˜å½¹ã€æˆ˜æ–—å…¨å±€ä¸­çš„ åœ°ä½å’Œä½œç”¨ã€‚è¿™æ ·ï¼Œæ‰èƒ½å……åˆ†å‘æŒ¥è‡ªå·±çš„ä¸»è§‚èƒ½åŠ¨æ€§ï¼›æ‰èƒ½æ‰“ç ´æ¡†æ¡†ï¼Œæœ‰æ•¢äºå’Œå–„äºåœ¨æ–°æƒ…å†µä¸­æ‰¾åˆ°æ–°åŠæ³•çš„åˆ›é€ æ€§ï¼›æ‰èƒ½æœ‰å¤§å‹‡ï¼Œæ‰èƒ½å†³å¿ƒå¼ºã€å†³å¿ƒç‹ ï¼Œæ•¢äºå½»åº• èƒœåˆ©ï¼Œæœ‰å¼ºçƒˆçš„åæ‰æ•Œäººçš„ä¼å›¾å’Œé›„å¿ƒã€‚æŒ‡æŒ¥å‘˜çš„å‹‡æ•¢é›†ä¸­è¡¨ç°åœ¨æ­¼æ•Œå†³å¿ƒçš„åšå®šé¡½å¼ºä¸Šé¢ã€‚æŒ‡æŒ¥å‘˜çš„å¤§å‹‡å»ºç«‹åœ¨é©å‘½çš„æœ€é«˜è‡ªè§‰æ€§å’Œæ­£ç¡®ç†è§£ä¸Šçº§æ„å›¾çš„åŸºç¡€ä¸Š é¢ã€‚ ä¸‰ã€è¦è°ƒæŸ¥ç ”ç©¶ã€‚å¯¹äºæ•Œæƒ…ã€åœ°å½¢ã€éƒ¨é˜Ÿçš„æƒ…å†µå’Œç¤¾ä¼šæƒ…å†µï¼Œè¦ç»å¸¸åšåˆ°å¿ƒä¸­æœ‰æ•°ã€‚è¦å¤©å¤©æ‘¸ï¼Œå¤©å¤©ç¢ç£¨ï¼Œä¸èƒ½é—´æ–­ã€‚è¿™æ ·åšï¼Œä¸èƒ½çœ‹ ä½œæ˜¯é‡å¤ï¼Œå®é™…ä¸Šè¿™ä¸æ˜¯é‡å¤ï¼Œè€Œæ˜¯ä¸æ–­æ·±åŒ–ä¸æ–­æé«˜çš„è¿‡ç¨‹ï¼Œæ˜¯å–å¾—æ­£ç¡®è®¤è¯†çš„å¿…ä¸å¯å°‘çš„æ‰‹æ®µã€‚å¹³æ—¶ç§¯ç´¯æŒæ¡çš„æƒ…å†µè¶Šå¤šï¼Œè¶Šç³»ç»Ÿï¼Œåœ¨æˆ˜æ—¶ï¼Œç‰¹åˆ«æ˜¯åœ¨ç´§å¼ å¤æ‚ çš„æƒ…å†µä¸‹ï¼Œå°±è¶Šæ²‰ç€ï¼Œè¶Šæœ‰åŠæ³•ã€‚æ€¥ä¸­ç”Ÿæ™ºçš„â€œæ™ºâ€ï¼Œæ‰æœ‰åŸºç¡€ã€‚å› æ­¤ï¼Œè°ƒæŸ¥ç ”ç©¶å·¥ä½œè¦è´¯ä¸²åœ¨å„é¡¹å·¥ä½œä¸­ï¼Œè¦è´¯ä¸²åœ¨æ¯ä¸€æ¬¡æˆ˜å½¹ã€æˆ˜æ–—çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œåå¯¹æ‰“è½æ’ ä»—ã€ç³Šæ¶‚ä»—ï¼Œåå¯¹æ€¥æ€§ç—…ï¼Œåå¯¹ä¸äº²è‡ªåŠ¨æ‰‹åšè°ƒæŸ¥ç ”ç©¶çš„æ‡’æ±‰ä½œé£ã€‚ç‰¹åˆ«æ˜¯æ•Œæƒ…ï¼Œå¿…é¡»åˆ‡å®æ‘¸é€ã€‚å› ä¸ºæ•Œæƒ…æ˜¯æ´»çš„ï¼Œæ•Œäººå¿…ç„¶ä¼šæåŠ›éšè”½ã€ä¼ªè£…ä»–ä»¬çš„çœŸå®ä¼å›¾å’Œè¡Œ åŠ¨ã€‚è¦å°½ä¸€åˆ‡å¯èƒ½ä¸é—´æ–­åœ°ä¾¦å¯Ÿï¼ŒæŸ¥æ¸…æ•Œäººçš„éƒ¨ç½²å’ŒåŠ¨å‘ï¼Œçœ‹ä»–æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿæ˜¯ä¸»è§’è¿˜æ˜¯é…è§’ï¼Ÿæ˜¯ä¸»åŠ›è¿˜æ˜¯éä¸»åŠ›ï¼Ÿæ˜¯éª„å…µè¿˜æ˜¯è´¥å…µï¼Ÿèƒ½é›†ä¸­å¤šå¤§å…µåŠ›å‘æˆ‘ä»¬è¿›æ”» å’Œé˜»æŒ¡æˆ‘ä»¬çš„è¿›æ”»ã€‚æŸ¥æ˜æ•Œä¸»å®˜çš„ç‰¹æ€§ï¼Œçœ‹ä»–æƒ¯ç”¨å’Œæ“…é•¿ç”¨ä»€ä¹ˆæˆ˜æ³•ï¼Œæ ¹æ®ä»–å½“å‰çš„ä¼å›¾åˆ¤æ–­ä»–å¯èƒ½é‡‡ç”¨ä»€ä¹ˆæ‰“æ³•ï¼Œç­‰ç­‰ã€‚åªè¦æ‘¸æ¸…äº†æ•Œæƒ…ã€æˆ‘æƒ…ã€åœ°å½¢çš„åº•ï¼Œå†³å¿ƒ å°±å¿«ï¼Œå°±ç¡¬ï¼Œå°±åšå®šã€‚å°±ä¸ä¼šè¢«ä»»ä½•å‡è±¡æ‰€è¿·æƒ‘ï¼Œå°±ä¸ä¼šè¢«ä»»ä½•å›°éš¾æ‰€å“ä½ã€‚å¦‚æœæƒ…å†µä¸æ¸…ï¼Œå°±ä¼šçŠ¹è±«ä¸å†³ï¼Œä¸¾æ£‹ä¸å®šï¼Œåå¤±è‰¯æœºï¼Œæˆ–è€…å‹‰å¼ºä¸‹äº†å†³å¿ƒï¼Œä¸€é‡é£å¹è‰ åŠ¨ï¼Œå¬åˆ°ç•éš¾å«è‹¦å’Œä¸æ­£ç¡®çš„å»ºè®®ï¼Œå°±å®¹æ˜“åŠ¨æ‘‡ï¼Œå¯èƒ½ä¸€å¿µä¹‹å·®ï¼Œå‰åŠŸå°½å¼ƒã€‚ å››ã€è¦æœ‰ä¸ªæ´»åœ°å›¾ã€‚æŒ‡æŒ¥å‘˜å’Œå‚è°‹å¿…é¡»ç†Ÿæ‚‰åœ°å›¾ï¼Œè¦ç»å¸¸è¯»åœ° å›¾ã€‚ç†Ÿè¯»åœ°å›¾å¯ä»¥äº§ç”Ÿè§è§£ï¼Œäº§ç”Ÿæ™ºæ…§ï¼Œäº§ç”ŸåŠæ³•ï¼Œäº§ç”Ÿä¿¡å¿ƒã€‚è¯»çš„æ–¹æ³•æ˜¯æŠŠå›¾æŒ‚èµ·æ¥ï¼Œæ¬ä¸ªå‡³å­åä¸‹æ¥ï¼Œå¯¹ç€åœ°å›¾çœ‹ï¼Œä»å¤§çš„æ–¹å‘åˆ°æ´»åŠ¨åœ°åŒºï¼Œä»åœ°åŒºå…¨è²Œåˆ°æ¯ä¸€ åœ°æ®µçš„åœ°å½¢ç‰¹ç‚¹ï¼Œä»ç²—è¯»åˆ°ç»†è¯»ï¼Œé€å—é€å—åœ°è¯»ï¼Œç”¨çº¢è“é“…ç¬”æŠŠä¸»è¦çš„å±±è„‰ã€æ²³æµã€åŸé•‡ã€æ‘åº„ã€é“è·¯æ ‡åˆ’å‡ºæ¥ï¼Œè¾¹è¯»ï¼Œè¾¹åˆ’ï¼Œç­‰åˆ°åœ°å›¾å·®ä¸å¤šå¿«åˆ’çƒ‚äº†ï¼Œä¹Ÿå°±å·®ä¸ å¤šæŠŠåœ°å›¾èƒŒç†Ÿäº†ï¼ŒèƒŒå‡ºæ¥äº†ã€‚åœ¨ç†Ÿè¯»åœ°å›¾çš„åŸºç¡€ä¸Šï¼Œè¦äº²è‡ªç»„ç»‡æœ‰å…³æŒ‡æŒ¥å‘˜å’Œå‚è°‹å¯¹ä½œæˆ˜åœ°åŒºå’Œæˆ˜åœºè¿›è¡Œå®åœ°å‹˜å¯Ÿï¼Œæ ¸æ­£åœ°å›¾ï¼ŒæŠŠæˆ˜åœºçš„åœ°å½¢æƒ…å†µå’Œæ•Œæˆ‘åŒæ–¹çš„å…µåŠ› éƒ¨ç½²éƒ½è£…è‡³è„‘å­é‡Œå»ï¼Œåšåˆ°é—­ä¸Šçœ¼ç›é¢å‰å°±æœ‰ä¸€å¹…é²œæ˜çš„æˆ˜åœºå›¾å½±ï¼Œç¦»å¼€åœ°å›¾ä¹Ÿèƒ½æŒ‡æŒ¥ä½œæˆ˜ã€‚è¿™æ ·ï¼Œåœ¨ä½ æ­»æˆ‘æ´»ã€ç¬æ¯ä¸‡å˜çš„æˆ˜æ–—æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¯”æ•Œäººæ¥å¾—å¿«ï¼Œäº‰å– å…ˆæœºï¼Œå…ˆæ•Œä¸€ç€ï¼ŒæŒæ¡ä¸»åŠ¨ï¼Œç¨³æ“èƒœåˆ¸ã€‚ äº”ã€è¦æŠŠå„æ–¹é¢çš„é—®é¢˜æƒ³å¤Ÿæƒ³é€ã€‚æ¯ä¸€æ¬¡æˆ˜å½¹ã€æˆ˜æ–—çš„ç»„ç»‡ï¼Œè¦è®©å¤§å®¶æå‡ºå„ç§å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œ è¦è®©å¤§å®¶æ¥æ‰¾ç­”æ¡ˆï¼Œè€Œä¸”è¦ä»æœ€åçš„æœ€ä¸¥é‡çš„æƒ…å†µæ¥æ‰¾ç­”æ¡ˆã€‚æŠŠæ‰€æœ‰æå‡ºæ¥çš„é—®é¢˜éƒ½å›ç­”äº†ï¼Œå†æ²¡æœ‰é—®é¢˜æ²¡æœ‰å›ç­”çš„äº†ï¼Œè¿™æ ·ï¼Œæ‰“èµ·ä»—æ¥æ‰ä¸ä¼šçŠ¯å¤§é”™è¯¯ï¼Œä¸‡ä¸€çŠ¯äº† é”™è¯¯ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“çº æ­£ã€‚æ²¡æœ‰å¾—åˆ°ç­”æ¡ˆçš„é—®é¢˜ï¼Œä¸èƒ½å› ä¸ºæƒ³äº†å¾ˆä¹…æƒ³ä¸å‡ºæ¥å°±æŠŠå®ƒä¸¢å¼€ï¼Œç•™ä¸‹ä¸€ä¸ªç–™ç˜©ã€‚å¦‚æœè¿™æ ·ï¼Œæ˜¯å¾ˆå±é™©çš„ï¼Œåœ¨ç´§è¦å…³å¤´ï¼Œè¿™ä¸ªç–™ç˜©å¾ˆå¯èƒ½å†’å‡º æ¥ï¼Œå°±ä¼šä½¿ä½ ä»¬å¿ƒä¸­æ— æ•°ï¼Œæªæ‰‹ä¸åŠã€‚å½“ç„¶ï¼Œåœ¨æˆ˜äº‰ç¯å¢ƒä¸­ï¼Œè¦è€ƒè™‘çš„é—®é¢˜å¾ˆå¤šï¼Œä¸å¯èƒ½ä¸€æ¬¡éƒ½æå®Œï¼Œä¹Ÿä¸å¯èƒ½ä¸€æ¬¡éƒ½å›ç­”å®Œï¼Œæ•´ä¸ªæˆ˜å½¹ã€æˆ˜æ–—çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸æ–­æ å‡ºé—®é¢˜å’Œä¸æ–­å›ç­”é—®é¢˜çš„è¿‡ç¨‹ã€‚æœ‰æ—¶è„‘å­å¾ˆç–²åŠ³ï¼Œæœ‰çš„é—®é¢˜å¯èƒ½ç«‹å³å›ç­”ä¸äº†ã€‚è¿™æ—¶ï¼Œé™¤äº†å¥½å¥½åœ°å’Œåˆ«äººå•†é‡ä»¥å¤–ï¼Œå°±å¥½å¥½åœ°ç¡ä¸€è§‰ï¼Œç¡å¥½äº†ï¼Œç¡é†’äº†ï¼Œå¤´è„‘æ¸…é†’ äº†ï¼Œå†èººåœ¨åºŠä¸Šå¥½å¥½æƒ³ä¸€æƒ³ï¼Œå°±å¯èƒ½å¼€çªï¼Œå¯èƒ½æƒ³é€šäº†ï¼Œå›ç­”äº†ï¼Œè§£å†³äº†ã€‚æ€»ä¹‹ï¼Œå¯¹æ¯ä¸€ä¸ªé—®é¢˜ä¸èƒ½å«ç³Šäº†äº‹ã€‚é—®é¢˜å›ç­”å®Œäº†ï¼Œæˆ˜å½¹ã€æˆ˜æ–—çš„ç»„ç»‡æ‰ç®—å®Œæˆã€‚ å…­ã€è¦åŠæ—¶ä¸‹è¾¾å†³å¿ƒã€‚åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹å¯ä»¥ä¸‹å†³å¿ƒæ‰“å‘¢ï¼ŸæŒ‡æŒ¥å‘˜å¿…é¡»ä»¥æœ€å¤§åŠªåŠ›ç»„ç»‡æˆ˜å½¹ã€æˆ˜æ–—çš„å‡†å¤‡å·¥ä½œï¼ŒåŠ›æ±‚ç¡®æœ‰æŠŠæ¡æ‰åŠ¨æ‰‹ï¼Œä¸æ‰“æ— æŠŠæ¡ä¹‹ä»—ã€‚ä½†æ˜¯ä»»ä½• ä¸€æ¬¡æˆ˜æ–—éƒ½ä¸å¯èƒ½å®Œå…¨å…·å¤‡å„ç§æ¡ä»¶ï¼Œä¸å¯èƒ½æœ‰ç™¾åˆ†ä¹‹ç™¾çš„æŠŠæ¡ã€‚ä¸€èˆ¬è¯´æœ‰ç™¾åˆ†ä¹‹ä¸ƒåå·¦å³çš„æŠŠæ¡ï¼Œå°±å¾ˆä¸é”™äº†ï¼Œå°±è¦åšå†³åœ°æ‰“ï¼Œæ”¾æ‰‹åœ°æ‰“ã€‚ä¸è¶³çš„æ¡ä»¶ï¼Œè¦é€šè¿‡å…… åˆ†å‘æŒ¥äººçš„å› ç´ çš„ä½œç”¨ï¼Œä¾é äººæ°‘ç¾¤ä¼—çš„åŠ›é‡ï¼Œå……åˆ†å‘æŒ¥äººæ°‘å†›é˜Ÿç‰¹æœ‰çš„æ”¿æ²»ä¸Šçš„ä¼˜åŠ¿ï¼Œå……åˆ†å‘æŒ¥æŒ‡æˆ˜å‘˜çš„æ™ºæ…§å’Œè‹±å‹‡é¡½å¼ºçš„æˆ˜æ–—ä½œé£æ¥å¼¥è¡¥ï¼Œä»¥ä¸»è§‚åŠªåŠ›æ¥åˆ›é€ æ¡ ä»¶ï¼ŒåŒ–å†’é™©æ€§ä¸ºåˆ›é€ æ€§ï¼Œå–å¾—èƒœåˆ©ã€‚ ä¸ƒã€è¦æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¾ˆå›¢ç»“çš„ç­å­ã€‚é¢†å¯¼ç­å­æ€æƒ³è®¤è¯†è¦ä¸€è‡´ï¼Œè¡ŒåŠ¨è¦åè°ƒã€åˆæ‹ï¼Œè¦é›·å‰é£è¡Œï¼Œè¦æœ‰é©å‘½è‹±é›„ä¸»ä¹‰çš„æ°”æ¦‚ã€‚éƒ½è¦å‹¤å¿«ï¼Œéƒ½åƒæ–¹ç™¾è®¡åœ°åŠå¥½äº‹æƒ…ï¼Œå®Œæˆä»»åŠ¡ã€‚ä¸äº’ç›¸æ‰¯çš®ï¼Œä¸äº’ç›¸å¹²æ‰°ï¼Œä¸æŠ±æ—è§‚è€…çš„æ€åº¦ã€‚å¦‚æœé¢†å¯¼ç­å­ä¸å¥½ï¼Œäººå¤šä¸ä½†æ— ç”¨ï¼Œåè€Œæœ‰å®³ã€‚ å…«ã€è¦æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æˆ˜æ–—ä½œé£ã€‚æœ‰å¥½çš„æˆ˜æ–—ä½œé£çš„éƒ¨é˜Ÿæ‰èƒ½æ‰“å¥½ä»—ï¼Œæ‰“èƒœä»—ã€‚å¥½çš„æˆ˜æ–—ä½œé£é¦–å…ˆæ˜¯ä¸å«è‹¦ï¼ŒæŠ¢ç€å»æ‹…è´Ÿæœ€è‰°å·¨çš„ä»»åŠ¡ï¼Œè‹±å‹‡é¡½å¼ºï¼Œä¸æ€•ç‰ºç‰²ï¼ŒçŒ›æ‰“ çŒ›å†²çŒ›è¿½ã€‚ç‰¹åˆ«æ˜¯è¦å‹‡äºç©·è¿½ã€‚å› ä¸ºæŠŠæ•Œäººæ‰“å®ä»¥åï¼Œè¿½å‡»æ˜¯è§£å†³æˆ˜æ–—ã€æ‰©å¤§æˆ˜æœã€å½»åº•æ­¼ç­æ•Œäººæœ€å…³é”®çš„ä¸€æ‹›ã€‚åœ¨è¿½å‡»æ—¶ï¼Œè¦è·‘æ­¥è¿½ï¼Œå¿«æ­¥è¿½ï¼Œèµ°ä¸åŠ¨çš„æ‰¶ç€æ‹æ£ è¿½ï¼Œå°±æ˜¯çˆ¬ã€æ»šï¼Œä¹Ÿè¦å¾€å‰è¿½ï¼Œåªæœ‰æŠ“ä½æ•Œäººï¼Œæ‰èƒ½åƒæ‰æ•Œäººã€‚å¥½çš„æˆ˜æ–—ä½œé£è¦é å¹³æ—¶å…»æˆï¼Œè¦é å®é™…é”»ç‚¼ï¼Œè¦åœ¨ç´§å¼ ã€æ®‹é…·çš„æˆ˜æ–—ä¸­æ‰èƒ½é”»ç‚¼å‡ºæ¥ã€‚ä¸æ•¢æ‰“ç¡¬ä»—ã€ æ¶ä»—çš„éƒ¨é˜Ÿï¼Œè®©ä»–æ‰“å‡ æ¬¡å°±æ‰“å‡ºæ¥äº†ï¼Œå› ä¸ºå·²ç»è§è¯†è¿‡ç¡¬ä»—ã€æ¶ä»—çš„åœºé¢ï¼Œæœ‰äº†ä½“ä¼šï¼Œæœ‰äº†ç»éªŒï¼ŒçŸ¥é“æ€ä¹ˆæ‰“äº†ï¼Œç™¾ç‚¼æˆé’¢å°±æ˜¯è¿™ä¸ªé“ç†ã€‚åšå·¥ä½œä¹Ÿè¦æœ‰å¥½çš„ä½œé£ï¼Œ è¯´äº†å°±è¦åšï¼Œè¯´åˆ°é‚£é‡Œåšåˆ°é‚£é‡Œï¼Œè¦åšå¾—å¹²è„†åˆ©ç´¢ï¼Œè¦ä¸€ç«¿å­æ’åˆ°åº•ï¼Œä¸€ç‚¹ä¸å«ç³Šï¼Œä¸åšå¥½ä¸æ’’æ‰‹ã€‚å¥½çš„ä½œé£çš„å…»æˆï¼Œå…³é”®åœ¨äºå¹²éƒ¨ã€‚å¼ºå°†æ‰‹ä¸‹æ— å¼±å…µï¼Œå¹²éƒ¨çš„ä½œé£ æ€ä¹ˆæ ·ï¼Œéƒ¨é˜Ÿçš„ä½œé£å°±ä¼šæ€ä¹ˆæ ·ã€‚å› æ­¤ï¼Œé¦–å…ˆè¦æŠ“å¥½å¹²éƒ¨ï¼Œè¦å¹²éƒ¨åšå‡ºæ ·å­ï¼Œå½±å“å¸¦åŠ¨éƒ¨é˜Ÿã€‚åªè¦å¹²éƒ¨ä½œé£å¥½ï¼ŒæŒ‡æŒ¥å¥½æˆ˜æ–—ï¼Œå¤šæ‰“èƒœä»—ï¼Œå³ä½¿æ˜¯æ–°å»ºçš„éƒ¨é˜Ÿæˆ–è€…åŸæ¥ åŸºç¡€è¾ƒå¼±çš„éƒ¨é˜Ÿï¼Œä¹Ÿä¼šå¾ˆå¿«æ‰“å‡ºå¥½ä½œé£æ¥ï¼Œåƒé“é”¤ä¸€æ ·ï¼Œç ¸åˆ°é‚£é‡Œï¼Œé‚£é‡Œå°±ç¢ã€‚ ä¹ã€è¦é‡è§†æ”¿æ²»ï¼Œäº²è‡ªåšæ”¿æ²»å·¥ä½œã€‚éƒ¨é˜Ÿæˆ˜æ–—åŠ›çš„æé«˜ è¦é å¹³æ—¶åšå¼ºçš„å…šçš„é¢†å¯¼ã€åšå¼ºçš„æ”¿æ²»å·¥ä½œã€‚è¿é˜Ÿçš„æ”¯éƒ¨ä¸€å®šè¦å»ºè®¾å¥½ï¼Œæ”¯éƒ¨çš„å·¥ä½œè¦åšæ´»ï¼Œå°±æ˜¯è¦æŠŠæ‰€æœ‰å…šå›¢å‘˜çš„é©å‘½åŠ²å¤´é¼“å¾—è¶³è¶³çš„ï¼Œå……åˆ†å‘æŒ¥ä»–ä»¬çš„æ¨¡èŒƒä½œ ç”¨ã€å¸¦å¤´ä½œç”¨ï¼Œé€šè¿‡ä»–ä»¬æŠŠå…¨è¿å¸¦åŠ¨èµ·æ¥ï¼Œé€šè¿‡ä»–ä»¬å»åšæ”¿æ²»å·¥ä½œï¼Œæé«˜å…¨ä½“æŒ‡æˆ˜å‘˜çš„é˜¶çº§è§‰æ‚Ÿã€‚æœ‰äº†åšå¼ºçš„å…šæ”¯éƒ¨çš„é¢†å¯¼ï¼Œæœ‰äº†åšå¼ºçš„æ”¿æ²»å·¥ä½œï¼Œå°±å¯ä»¥åšåˆ°ä¸€å‘¼ ç™¾åº”ï¼Œäº‰å…ˆæåï¼Œä¸æ€•ç‰ºç‰²ï¼Œå‰èµ´åç»§ã€‚æˆ˜æœ¯ã€æŠ€æœ¯ä¹Ÿè¦ç»ƒå¥½ï¼Œç‰¹åˆ«æ˜¯æŠ€æœ¯ï¼Œå¦‚æœæªæ‰“ä¸å‡†ï¼Œæˆ˜åœºä¸Šå°±ä¸èƒ½æ¶ˆç­æ•Œäººï¼Œå°±ä¸èƒ½è§£å†³æˆ˜æ–—ã€‚å› æ­¤ï¼Œå†›äº‹è®­ç»ƒä¸èƒ½é©¬è™ï¼Œ å…šæ”¿å·¥ä½œè¦é¢†å¯¼å¥½è®­ç»ƒã€‚è‰ºé«˜äººèƒ†å¤§ï¼Œèƒ†å¤§è‰ºæ›´é«˜ï¼Œéƒ¨é˜Ÿæœ‰äº†é«˜åº¦çš„æ— äº§é˜¶çº§è§‰æ‚Ÿï¼Œæœ‰äº†å¥½çš„æˆ˜æ–—ä½œé£ï¼Œå†åŠ ä¸Šè¿‡ç¡¬çš„ä½œæˆ˜æœ¬é¢†ï¼Œå°±å¦‚è™æ·»ç¿¼ï¼Œå°±å¯ä»¥æ— æ•Œäºå¤©ä¸‹ã€‚","categories":[],"tags":[{"name":"life","slug":"life","permalink":"http://frankchen.xyz/tags/life/"}]},{"title":"logistic regressionçš„å…¬å¼æ‰‹æ¨ç›¸å…³","slug":"logistic-regression","date":"2017-01-09T07:56:59.000Z","updated":"2017-01-09T13:25:11.000Z","comments":true,"path":"2017/01/09/logistic-regression/","link":"","permalink":"http://frankchen.xyz/2017/01/09/logistic-regression/","excerpt":"æœ¬æ–‡æœ‰å…³logistic regressionçš„å…¬å¼ç›¸å…³çš„æ‰‹æ¨ï¼ŒåŒ…æ‹¬å‡è¯´å‡½æ•°ã€æå¤§ä¼¼ç„¶ä¼°è®¡ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚","text":"æœ¬æ–‡æœ‰å…³logistic regressionçš„å…¬å¼ç›¸å…³çš„æ‰‹æ¨ï¼ŒåŒ…æ‹¬å‡è¯´å‡½æ•°ã€æå¤§ä¼¼ç„¶ä¼°è®¡ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚ Hypothesisé¦–é€‰æˆ‘ä»¬è¦æ˜ç¡®ï¼Œlogistic regressionè™½ç„¶å«â€œå›å½’â€ï¼Œä½†æ˜¯å®ƒå´æ˜¯ç”¨æ¥åšåˆ†ç±»çš„ï¼Œä¹Ÿæ˜¯æœ€æœ€å¸¸ç”¨çš„åˆ†ç±»æœºå™¨å­¦ä¹ ç®—æ³•ã€‚å…¶å‡è¯´æ¨¡å‹ä¸ºï¼š $$h_{\\theta}(x) = g(\\theta ^T x)$$ å…¶ä¸­$g(z) = \\frac{1}{1+e^{-z}}$ï¼Œso $$h_{\\theta}(x) = \\frac{1}{1+e^{-\\theta ^T x}}$$ å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°ä¸»ä½“å’Œçº¿æ€§å›å½’ä¸€æ ·ï¼Œéƒ½æ˜¯æ ·æœ¬ä¸å‚æ•°çš„å†…ç§¯ï¼Œä½†æ˜¯é€»è¾‘å›å½’æ˜¯ç”¨æ¥æ‰“åˆ†çš„ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­æ ·æœ¬æ˜¯æ­£è´Ÿä¾‹çš„æ¦‚ç‡ï¼Œéœ€è¦$g(z)$ä¹Ÿå°±æ˜¯sigmoidæˆ–è€…logisticså‡½æ•°æ¥å°†è¿™ä¸ªå†…ç§¯æ˜ å°„åˆ°ä¸€ä¸ªåŒºé—´(0,1)ï¼Œæ‰€ä»¥å®é™…ä¸Š $$h_{\\theta}(x) = p(y=1 | x;\\theta)$$ ä»¥ä¸Šåªæ˜¯å¾—å‡ºäº†æ ·æœ¬ç‚¹æ˜¯æ­£ä¾‹çš„æ¦‚ç‡ï¼Œåˆ°åº•é¢„æµ‹å®ƒæ˜¯æ­£ä¾‹è¿˜æ˜¯è´Ÿä¾‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªdecision boundaryï¼Œä¾‹å¦‚ $$h_{\\theta}(x) \\ge 0.5 \\rightarrow y=1 \\h_{\\theta}(x) \\lt 0.5 \\rightarrow y=0$$ ç”±äºsigmoidå‡½æ•°çš„å½¢çŠ¶æˆ‘ä»¬å®¹æ˜“å¾—åˆ° $$\\theta ^T x \\ge 0 \\rightarrow y=1 \\\\theta ^T x \\lt 0 \\rightarrow y=0$$ å½“ç„¶ï¼Œdecision boundaryå±äºå‡è¯´å‡½æ•°çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¸€å®šå°±æ˜¯0.5. æå¤§ä¼¼ç„¶ä¼°è®¡äºŒå…ƒåˆ†ç±»å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªä¼¯åŠªåˆ©åˆ†å¸ƒï¼Œåˆå«åš0-1åˆ†å¸ƒï¼Œä¸Šé¢æåˆ°$$p(y=1 | x;\\theta) = h_{\\theta}(x)$$ é‚£ä¹ˆè‡ªç„¶æœ‰ $$p(y=0 | x;\\theta) = 1 - h_{\\theta}(x)$$ é‚£ä¹ˆæ€»ä½“åˆ†å¸ƒä¹Ÿå°±æ˜¯å¾—åˆ°ä¸€ä¸ªè§‚æµ‹å€¼çš„æ¦‚ç‡å¯ä»¥ç”¨Trickå†™æˆ$$p(y | x;\\theta) = (h_{\\theta}(x))^y (1 - h_{\\theta}(x^i))^{(1-y)}$$ å› ä¸ºæ¯ä¸€ä¸ªæ ·æœ¬å’Œå…¶ä»–æ ·æœ¬æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„ï¼ŒæŠŠå®ƒä»¬çš„æ¦‚ç‡ç›¸ä¹˜å¾—åˆ°ä¼¼ç„¶å‡½æ•°ï¼Œ $$L(\\theta) = \\prod_{i=1}^{m}((h_{\\theta}(x^i))^{y^i} (1 - h_{\\theta}(x^i))^{(1-y^i)})$$ä¸ºè®¡ç®—æ–¹ä¾¿ï¼Œå–å¯¹æ•°ï¼Œå¾—åˆ° $$l(\\theta) = \\sum_{i=1}^{m} (y^i \\log(h_{\\theta}(x^i)) +(1-y^i) (1 - h_{\\theta}(x^i)))$$ Cost Functionæ—¢ç„¶é€»è¾‘å›å½’æ˜¯åšé¢„æµ‹çš„ï¼Œé‚£ä¹ˆæŸå¤±å‡½æ•°å°±æ˜¯é¢„æµ‹é”™äº†å¤šå°‘çš„åº¦é‡å’¯ã€‚æ¯”å¦‚æˆ‘ä»¬å°±å¯ä»¥ç»Ÿè®¡åˆ°åº•é¢„æµ‹é”™äº†å¤šå°‘ä¸ªï¼Œæ¥å½“åšæŸå¤±å‡½æ•°ï¼Œä½†æ˜¯å‘¢ï¼Œè¿™æ ·çš„å‡½æ•°è‚¯å®šæ˜¯éå‡¸çš„ï¼Œä¸å¥½ä¼˜åŒ–ï¼Œæ‰€ä»¥å®é™…é‡‡ç”¨çš„æŸå¤±å‡½æ•°æ˜¯è¿™æ ·çš„ $$J(\\theta) = \\frac{1}{m}\\sum_{i=1}^{m} (Cost(h_{\\theta}(x^i)), y^i)$$ å…¶ä¸­$$Cost(h_{\\theta}(x), y) = -\\log(h_{\\theta}(x)) \\ \\ if \\ \\ y=1 \\;Cost (h_{\\theta}(x), y) = -\\log(1 - h_{\\theta}(x)) \\ \\ if \\ \\ y=0$$ å¯ç®€å†™æˆï¼š $$Cost(h_{\\theta}(x), y) = - y \\log(h_{\\theta}(x)) - (1-y) \\log(1 - h_{\\theta}(x))$$ å‡½æ•°å›¾åƒå¦‚ä¸‹ å¯ä»¥ç›´è§‚çš„çœ‹åˆ°ï¼Œå°±æ˜¯æ¦‚ç‡é¢„æµ‹çš„å’Œæ ‡ç­¾è¶Šæ¥è¿‘æƒ©ç½šè¶Šå°ï¼Œåä¹‹è¶Šå¤§ã€‚å½“ç„¶ï¼Œè¿™é‡Œè®²çš„åªæ˜¯äºŒå…ƒåˆ†ç±»ï¼Œæ ‡ç­¾ä¸æ˜¯0å°±æ˜¯1. æœ€åï¼Œé€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°ä¸º $$J(\\theta) = - \\frac{1}{m} \\sum_{i=1}^{m} (y^i \\log(h_{\\theta}(x^i)) + (1-y^i) \\log (1-h_{\\theta}(x^i))$$ ä¼˜åŒ–è¿‡ç¨‹æ¢¯åº¦ä¸‹é™æ›´æ–°ç®—æ³• $$\\theta_j = \\theta_j - \\alpha \\frac{\\partial J(\\theta)}{\\partial \\theta_j}$$ å…¶ä¸­ï¼Œ $$\\frac{\\partial J(\\theta)}{\\partial \\theta_j} = - \\frac{1}{m} \\sum{i=1}^{m} (y^i \\log(g(z)) + (1-y^i) \\log (1-g(z))$$ $$= - \\frac{1}{m} \\sum_{i=1}^{m} ( \\frac{y^i}{g(z)} \\frac{\\partial g(z)}{\\theta_j} - \\frac{1-y^i}{1-g(z)} \\frac{\\partial g(z)}{\\theta_j})$$ $$= - \\frac{1}{m} \\sum_{i=1}^{m} \\frac{y^i - g(z)}{g(z)(1-g(z))} \\frac{\\partial g(z)}{\\theta_j}$$ åˆ$$\\frac{\\partial g(z)}{\\theta_j} = g(z)(1-g(z)x_j^i$$ ä»£å…¥ä¸Šå¼å¯å¾—$$\\frac{\\partial J(\\theta)}{\\partial \\theta_j} =\\frac{1}{m} \\sum_{i=1}^{m}(h_{\\theta}(x^i)-y^i)x_j^i$$è¿™å°±å¾—åˆ°äº†é€»è¾‘å›å½’çš„æ¢¯åº¦ä¸‹é™æ›´æ–°å¼å­$$\\theta_j = \\theta_j - \\alpha \\frac{1}{m} \\sum_{i=1}^{m}(h_{\\theta}(x^i)-y^i)x_j^i$$æ˜¯ä¸æ˜¯æ„Ÿè§‰å’Œçº¿æ€§å›å½’çš„å¼å­ä¸€æ¨¡ä¸€æ ·ï¼Ÿå“ˆå“ˆï¼Œå¾ˆç¥å¥‡å§ï¼ä¸è¿‡æ³¨æ„ä¸¤è€…çš„å‡è¯´å‡½æ•°$h_{\\theta}(x)$æ˜¯ä¸åŒçš„ï¼ŒåŒºåˆ«åœ¨è¿™å„¿ã€‚ ç‰›é¡¿æ³•ä¼˜åŒ–é™¤äº†æ¢¯åº¦ä¸‹é™ï¼Œå…¶å®è¿˜æœ‰è®¸å¤šå¯ä»¥å¯¹é€»è¾‘å›å½’åšä¼˜åŒ–çš„æ–¹æ³•ï¼Œä¾‹å¦‚ç‰›é¡¿æ³•ï¼Œè¿™é‡Œæœ‰å¾…ä¸‹æ¬¡æ›´æ–°ã€‚","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"}]},{"title":"linear regression çš„å…¬å¼æ‰‹æ¨ç›¸å…³","slug":"linear-regression","date":"2017-01-06T13:55:30.000Z","updated":"2017-01-09T07:58:11.000Z","comments":true,"path":"2017/01/06/linear-regression/","link":"","permalink":"http://frankchen.xyz/2017/01/06/linear-regression/","excerpt":"æœ¬æ–‡æœ‰å…³å¤šå…ƒlinear Regressionçš„æŸå¤±å‡½æ•°ä»æå¤§ä¼¼ç„¶ä¼°è®¡çš„è§’åº¦çš„æ¨å¯¼ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚çº¯æ‰‹æ‰“ï¼Œ^^","text":"æœ¬æ–‡æœ‰å…³å¤šå…ƒlinear Regressionçš„æŸå¤±å‡½æ•°ä»æå¤§ä¼¼ç„¶ä¼°è®¡çš„è§’åº¦çš„æ¨å¯¼ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚çº¯æ‰‹æ‰“ï¼Œ^^ æŸå¤±å‡½æ•°æˆ‘ä»¬çš„æ¨¡å‹ä¸º $$h_{\\theta}(x) = \\theta_0 + \\theta_1x + \\theta_2 x^2 â€¦ = \\theta ^ TX$$ ä¼¼ç„¶å‡½æ•°ä¸ºï¼š $$y^i = \\theta ^ T x^i + \\epsilon ^ i$$ ï¼Œæ®‹å·®ç”¨$\\epsilon$è¡¨ç¤ºï¼Œå¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬ç‚¹çš„æ®‹å·®$\\epsilon^i$ï¼Œï¼ˆæ³¨æ„ä»¥ä¸‹æ ‡å·ä¸­ä¸Šæ ‡iè¡¨ç¤ºç¬¬iä¸ªæ ·æœ¬ç‚¹ï¼‰ï¼Œæœ‰ï¼š $$\\epsilon^i = y^i - h_{\\theta}(x^i) = y^i - \\theta ^ T x^i$$ é‚£ä¹ˆæˆ‘ä»¬æœ‰å‡è®¾æ‰€æœ‰çš„æ®‹å·®æ ¹æ®ä¸­å¿ƒæé™å®šç†ï¼Œå…¶å¯†åº¦å‡½æ•°$p(\\epsilon^i)$ç¬¦åˆå‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º$\\sigma^2$çš„é«˜æ–¯åˆ†å¸ƒï¼Œå³ $$p(\\epsilon^i) = \\frac{1}{\\sqrt {2\\pi} \\sigma} \\exp (-\\frac{(\\epsilon^i)^2}{2 \\sigma ^2}) \\= \\frac{1}{\\sqrt {2\\pi} \\sigma} \\exp (-\\frac{(y^i - \\theta ^ T x^i)^2}{2 \\sigma ^2})$$ é‚£ä¹ˆï¼Œä¼¼ç„¶å‡½æ•°å°±æ˜¯æ‰€æœ‰æ ·æœ¬ç‚¹çš„å‡ºç°çš„æ¦‚ç‡ä¹˜ç§¯ï¼Œå³ $$L(\\theta) = \\prod_{i=1}^{m} p(\\epsilon^i) \\$$ $$= \\prod_{i=1}^{m} \\frac{1}{\\sqrt {2\\pi} \\sigma} \\exp (-\\frac{(y^i - \\theta ^ T x^i)^2}{2 \\sigma ^2})$$ æˆ‘ä»¬æœ€ç»ˆæ˜¯æ±‚$\\theta$çš„æœ€ä¼˜è§£ï¼Œäºæ˜¯å¯¹ä¼¼ç„¶å‡½æ•°å–å¯¹æ•°ï¼Œ $$l(\\theta) = \\log \\left(\\prod_{i=1}^{m} \\frac{1}{\\sqrt {2\\pi} \\sigma} \\exp (-\\frac{(y^i - \\theta ^ T x^i)^2}{2 \\sigma ^2})\\right) \\$$ $$= m \\log \\frac{1}{\\sqrt {2\\pi} \\sigma} - \\frac{1}{2 \\sigma ^2} \\sum _{i=1}^{m} (y^i - \\theta ^ T x^i)^2$$ æ‰”æ‰å¸¸æ•°é¡¹ï¼Œå°±å¾—åˆ°äº†çº¿æ€§å›å½’çš„ç›®æ ‡å‡½æ•°æˆ–error functionï¼Œ $$J(\\theta) = \\frac{1}{2} \\sum_{i=1}^m (h_{\\theta}(x^i) - y^i) ^ 2$$ æœ€å°äºŒä¹˜æ³•ä»¥ä¸Šå¯ä»¥æŠŠç›®æ ‡å‡½æ•°å†™æˆè¿™æ ·çš„å½¢å¼ï¼š $$J(\\theta) = \\frac{1}{2} (X \\theta - y)^T (X \\theta - y)$$ å¯¹å‘é‡$\\theta$æ±‚å¯¼ï¼Œ $$\\frac{\\partial J(\\theta)}{\\partial \\theta} = X^T(X \\theta - y)$$ ç›´æ¥ä»¤ä¸Šå¼ä¸ºé›¶ï¼Œå¾—åˆ° $$\\theta = (X^TX)^{-1} X^Ty$$ æœ€å°äºŒä¹˜æ³•è§£çº¿æ€§å›å½’ç†è®ºå¾ˆæ¼‚äº®ï¼Œä½†æ˜¯å› ä¸ºå¤æ‚åº¦çš„åŸå› å®é™…ä¸Šä¸å¸¸ç”¨ã€‚å› ä¸ºçŸ©é˜µæ±‚é€†çš„å¤æ‚åº¦ä¸º$O(n^3)$ï¼Œå¾ˆæ…¢ã€‚å¦å¤–ä¸€ç§è§£é‡Šæ˜¯é€šå¸¸Xä¸æ˜¯æ»¡ç§©çš„ï¼Œè­¬å¦‚ç”Ÿç‰©å­¦ç§‘é‡Œé¢çš„æ•°æ®ï¼Œç‰¹å¾æœ‰æˆåƒä¸Šä¸‡ä¸ªï¼Œæ•°æ®å´å°‘å¾—å¯æ€œï¼Œè¿™ç§é€šå¸¸æ˜¯è§£ä¸å‡ºç‰¹å®šçš„è§£çš„ã€‚ æ¢¯åº¦ä¸‹é™ç®—æ³•å¸¸ç”¨çš„è¿˜æ˜¯æ¢¯åº¦ä¸‹é™æ³•ã€‚ä»¥ä¸Šå¾—åˆ°äº†æŸå¤±å‡½æ•°ä¸º $$J(\\theta) = \\frac{1}{2} \\sum_{i=1}^m (h_{\\theta}(x^i) - y^i) ^ 2$$ é‚£ä¹ˆï¼Œé€šè¿‡å¯¹$\\theta$çš„å„åˆ†é‡$\\theta_i$æ ¹æ®æ¢¯åº¦æ›´æ–°å…¶å€¼å³å¯ $$\\theta_j = \\theta_j - \\alpha \\frac{\\partial J(\\theta)}{\\partial \\theta_j}$$ è€Œä¸Šå¼ä¸­ $$\\frac {\\partial J(\\theta)}{\\partial \\theta_i} =$$ $$\\frac{1}{2m} \\sum_{i=1}^m \\frac{\\partial(h_{\\theta}(x^i) - y^i) ^ 2}{\\partial \\theta_j}$$ $$= \\frac{2}{2m} \\sum_{i=1}^m (h_{\\theta}(x^i) - y^i) \\frac{\\partial h_{\\theta}(x^i)}{\\partial \\theta_j}$$ åˆä¸Šå¼ä¸­ $$\\frac{\\partial h_{\\theta}(x^i)}{\\partial \\theta_j} =\\frac{\\partial (\\theta_0 x_0^i + \\theta_1 x_1^i + \\cdots+ \\theta_j x_j^i + \\cdots)}{\\partial \\theta_j} \\= \\frac{\\partial ( \\theta_j x_j^i )}{\\partial \\theta_j}= x_j^i$$ ä¸€æ­¥æ­¥ä»£ä¸Šå»å¯å¾— $$\\theta_j = \\theta_j - \\alpha \\frac{1}{m} \\sum_{i=1}^m {(h_{\\theta}(x^i) - y^i)} x_j^i$$ è¿™å°±æ˜¯æ¢¯åº¦ä¸‹é™æ³•æ›´æ–°å¤šå…ƒçº¿æ€§å›å½’çš„å…¬å¼å•¦ï¼^_^ PSï¼šæœ‰ç»†å¿ƒçš„åŒå­¦å¯èƒ½å‘ç°ä¸Šé¢çš„å¼å­ä¸­æ·»åŠ äº†$\\frac{1}{m}$ï¼Œå¯èƒ½æœ‰ç–‘æƒ‘ï¼Œæƒ³é—®æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å›ç­”ï¼šå…¶å®æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒæœ€ä¼˜åŒ–çš„æ—¶å€™ï¼Œç›®æ ‡å‡½æ•°çš„æå€¼æ˜¯å¤šå°‘ï¼Œè€Œæˆ‘ä»¬åªå…³æ³¨ï¼Œç›®æ ‡å‡½æ•°å–æå€¼çš„æ—¶å€™ï¼Œå‚æ•°çš„å€¼æ˜¯å¤šå°‘ã€‚æ‰€ä»¥å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬ç»å¸¸ä¸ºäº†å¼å­ç®€ä¾¿è€Œå¯¹ç›®æ ‡å‡½æ•°åšç¼©æ”¾ï¼Œæ¯”å¦‚ä¸Šé¢çš„å–å¯¹æ•°ï¼Œå¯¹æ•°çš„åº•æ˜¯eè¿˜æ˜¯2æ ¹æœ¬æ²¡æœ‰åŒºåˆ«ã€‚","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"}]},{"title":"AliPay RedEnvelope Hacker","slug":"AliPay-RedEnvelope-Hacker","date":"2016-12-25T15:16:53.000Z","updated":"2016-12-25T16:03:14.000Z","comments":true,"path":"2016/12/25/AliPay-RedEnvelope-Hacker/","link":"","permalink":"http://frankchen.xyz/2016/12/25/AliPay-RedEnvelope-Hacker/","excerpt":"æœ€è¿‘æ”¯ä»˜å®ç»§ç»­å…¶é€†å¤©æ”¹å‘½çš„è¿½èµ¶è¶…è¶Šå¾®ä¿¡çš„ç¤¾äº¤æ¢¦ä¹‹è·¯ï¼Œä¸Šçº¿äº†ç‹‚æ‹½é…·ç‚«åŠç‚¸å¤©çš„ARçº¢åŒ…ç©æ³•ï¼Œé¡¿æ—¶åˆ·çˆ†äº†ä¸€æ³¢æœ‹å‹åœˆï¼Œä½†æ˜¯è¿™çƒ­é—¹åé¢ä¹Ÿéšè—ç€ä¸€äº›é—®é¢˜ç”šè‡³æ˜¯è‡´å‘½Bugæˆ–è€…å±æœºã€‚","text":"æœ€è¿‘æ”¯ä»˜å®ç»§ç»­å…¶é€†å¤©æ”¹å‘½çš„è¿½èµ¶è¶…è¶Šå¾®ä¿¡çš„ç¤¾äº¤æ¢¦ä¹‹è·¯ï¼Œä¸Šçº¿äº†ç‹‚æ‹½é…·ç‚«åŠç‚¸å¤©çš„ARçº¢åŒ…ç©æ³•ï¼Œé¡¿æ—¶åˆ·çˆ†äº†ä¸€æ³¢æœ‹å‹åœˆï¼Œä½†æ˜¯è¿™çƒ­é—¹åé¢ä¹Ÿéšè—ç€ä¸€äº›é—®é¢˜ç”šè‡³æ˜¯è‡´å‘½Bugæˆ–è€…å±æœºã€‚ ARçº¢åŒ…ä¸€ä¸Šçº¿ï¼Œæ¯èª‰å‚åŠï¼Œæœ‰åª’ä½“äººäº§å“æ–¹é¢äººå£«è¡¨ç¤ºâ€œè¿™æ˜¯æ”¯ä»˜å®åœ¨å¯¹æŠ—å¾®ä¿¡çš„æˆ˜åœºä¸Šï¼Œéš¾å¾—çš„æ¼‚äº®åå‡»â€ï¼Œä½†æ˜¯ã€‚ã€‚ã€‚åŒæ—¶å¾ˆå¿«æœ‰å¤©æ‰æ‰¾åˆ°äº†ä½œå¼Šçš„æ–¹æ³•ï¼Œæ‰€è°“å®ç°äº†â€œæ—©ä¸Šè¯•äº†ä¸€ä¸‹ï¼Œç°åœ¨å·²ç»å®ç°åœ¨å®¶æ”¶çº¢åŒ…çš„å±€é¢äº†â€ï¼Œæ–¹æ³•å…¶å®ç±»ä¼¼æˆ‘ä¹‹åæåˆ°çš„ï¼Œåªæ˜¯ä»–ç”¨çš„æ˜¯PSã€‚ã€‚ã€‚æ–¹æ³•æ˜¯ï¼š æˆªå›¾æ”¾åˆ°psé‡Œï¼Œå»ºç«‹å’Œé»‘è‰²æ¡çº¹ç­‰å®½çš„é•¿æ¡è‹¥å¹²ï¼› é»‘è‰²æ¡çº¹ç„¶åå¾€ä¸Šç§»åŠ¨ä¸€ç‚¹ï¼Œè¦†ç›–ä½æ˜¾ç¤ºå›¾ç‰‡çš„åŒºåŸŸï¼Œå†å¤åˆ¶ä¸€å¼ æˆªå›¾ç½®äºé¡¶å±‚å»ºç«‹å‰ªè´´è’™æ¿ï¼ŒæŠŠä½ç½®é”™æ¥æ¥çœ‹ï¼› æ‰«ä¸€ä¸‹å°±å¯ä»¥é¢†å–çº¢åŒ…äº† ä»¥ä¸Šæ¥è‡ªçŸ¥ä¹ç”¨æˆ·@Chain å¾ˆå¿«æˆ‘åˆæ‰¾åˆ°äº†ä»£ç ç‰ˆæœ¬ï¼Œæ˜¯ç”¨phpå®ç°çš„ï¼Œæ•°è¡Œä»£ç å³å¯æå®šï¼ˆä¸ºäº†è·‘æˆåŠŸèŠ±äº†åŠå°æ—¶å­¦ä¹ å¦‚ä½•å®‰è£…å¹¶è·‘å‡ºphpçš„Hello Worldï¼Œå›§~ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536&lt;?phpfunction imagecropper($source_path)&#123; $source_info = getimagesize($source_path); $source_width = $source_info[0]; $source_height = $source_info[1]; $source_mime = $source_info['mime']; $oldimg = imagecreatefrompng($source_path); $base_width=340; $base_height=6; $baseimage = imagecreatetruecolor($base_width, $base_width);// è‹¹æœå›¾å•Š $beginx = 150; $beginy = 444; $thisimage = imagecreatetruecolor($base_width, $base_height); imagecopy($baseimage, $oldimg, 0, 0, $beginx, $beginy, $base_width, $base_height); for ($i=0;$i&lt;30;$i++)&#123; imagecopy($baseimage, $oldimg, 0, $i*($base_height*2)-$base_height, $beginx, ($beginy+($i*($base_height*2))), $base_width, $base_height); imagecopy($baseimage, $oldimg, 0, $i*($base_height*2), $beginx, ($beginy+($i*($base_height*2))), $base_width, $base_height); &#125; header('Content-Type: image/png'); imagepng($baseimage);&#125;imagecropper(\"http://127.0.0.1/frank/img/IMG_0734.png\")?&gt; æ•ˆæœå¦‚ä¸‹å›¾ï¼š ç®—æ³•çš„åŸç†æ˜¯ï¼šä½¿ç”¨imagecreatetruecoloråˆ›å»ºçš„æ–°å›¾åƒï¼Œåˆ©ç”¨imagecopyå°†æŒ‡å®šåæ ‡ï¼ˆæˆªå›¾ä¸­çš„çº¿ç´¢å›¾ç‰‡çš„æ–¹æ¡†çš„å·¦ä¸Šè§’ï¼‰å¼€å§‹çš„æ¨ªæ¡éƒ¨åˆ†é€æ­¥ä¾æ¬¡ç”±ä¸Šåˆ°ä¸‹å¤åˆ¶åˆ°æ–°å›¾åƒä¸Šï¼Œä»¥æ­¤è¾¾åˆ°ç”¨é»‘è‰²æ¡çº¹ä¸Šä¸‹æ–¹çš„ç›¸ä¼¼å›¾åƒé®ç›–æ¡çº¹çš„ç›®çš„ã€‚å½“ç„¶åŸä½œè€…çš„iPhoneè‚¯å®šä¸æ˜¯æˆ‘è¿™ä¸ªå‹å·ï¼Œæ‰€ä»¥å¾ˆæ˜¾ç„¶è¿™ä¸ªå¼€å§‹å¤åˆ¶çš„ç‚¹éœ€è¦æµ‹é‡æ‰‹æœºæˆªå›¾çš„å®é™…åƒç´ è·ç¦»æ‰å¯ä»¥ç¡®å®šï¼ˆåˆèŠ±äº†åŠä¸ªå°æ—¶æµ‹é‡æˆ‘æ‰‹æœºçš„æˆªå›¾çš„çº¿ç´¢å›¾ç‰‡æ–¹æ¡†å·¦ä¸Šè§’çš„åæ ‡ï¼Œå›§~ï¼‰ã€‚ ä»è¿™ä¸ªå®éªŒçš„è¿‡ç¨‹æˆ‘ä¹Ÿçœ‹åˆ°phpä½œä¸ºä¸æµè§ˆå™¨æ¯æ¯ç›¸å…³çš„è¯­è¨€çš„ä¼˜åŠ¿ï¼Œä¸Šé¢çš„ç¨‹åºæ˜¯æ¯æ¬¡è¿è¡Œéƒ½æŠŠæ–°å›¾ç‰‡æ˜¾ç¤ºåœ¨æµè§ˆå™¨é‡Œé¢ï¼Œæ‰€ä»¥æ¯æ¬¡æ”¶åˆ°æ–°æˆªå›¾éƒ½å¯ä»¥åªéœ€åˆ·æ–°ä¸€ä¸‹æµè§ˆå™¨å°±å¯ä»¥åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå‡ºå¤„ç†åçš„å›¾ç‰‡äº†ã€‚ è¿è¡Œæ­¤phpè„šæœ¬çš„æ–¹æ³•æ˜¯å°†å…¶æ”¾åœ¨xamppçš„htdocsç›®å½•ä¸‹ï¼Œå¼€å¯ApacheæœåŠ¡ï¼Œå†åœ¨æµè§ˆå™¨ä¸­è®¿é—®127.0.0.1/index.php å³å¯ï¼ˆindex.phpå³è„šæœ¬åï¼‰ã€‚ å…¶å®ä»ARçº¢åŒ…ä¸Šçº¿ä»¥æ¥å°±æœ‰è®¸å¤šé—®é¢˜ï¼Œè­¬å¦‚ å¦‚æœçº¿ç´¢å›¾ç‰‡æ˜¯å·¥å¡ã€æ ¡å›­å¡æˆ–è€…æ¡Œæ¤…ã€çº¸å·¾ç­‰é™„è¿‘çš„äººä¹Ÿå¯ä»¥æ‹åˆ°ç±»ä¼¼çš„ç‰©å“æˆ–è€…å«æœ‰ç±»ä¼¼logoç‰©å“çš„å›¾ç‰‡ä¹Ÿæ˜¯å¯ä»¥é¢†å–çš„ï¼Œè¿™å°±æ¶‰åŠåˆ°å®šä½ç²¾å‡†åº¦ç­‰é—®é¢˜ï¼Œä¸è¿‡æˆ‘è®¤ä¸ºè¿™ä¹Ÿæ˜¯ç©æ³•çš„ä¹è¶£æ‰€åœ¨ï¼Œè®©äººæ°‘ç¾¤ä¼—å–œé—»ä¹è§çš„ä½œå¼Šä¹Ÿæ˜¯ä¹°ç‚¹ä¹‹ä¸€ è€Œåƒä¸Šé¢æåˆ°çš„ç›´æ¥å¤„ç†å›¾ç‰‡å°±å¯ä»¥ä½œå¼Šè‚¯å®šå°±æ˜¯å¤§é—®é¢˜äº†ï¼Œè¿™è¯´æ˜é˜¿é‡Œå“¦ä¸ï¼Œæ˜¯èš‚èšé‡‘æœå¯¹äºå›¾ç‰‡çš„å¤„ç†çš„ç®—æ³•æ€¥éœ€æ”¹è¿›ï¼Œè‚¯å®šä¸å¯èƒ½æ˜¯è¿™ç§é”™ä½ä¸€ä¸‹å›¾ç‰‡å°±å¯ä»¥ä½œå¼Šçš„ç¨‹åº¦ï¼Œè¿™é‡Œæˆ‘æœ‰ä¸ªæƒ³æ³•æ˜¯åŠ å…¥ç±»ä¼¼äºäººè„¸è¯†åˆ«é‡Œçš„åˆ¤æ–­æ˜¯çœŸäººè¿˜æ˜¯ç›¸ç‰‡çš„æ¨¡å—ï¼Œé€šè¿‡è¿™ä¸ªæ’é™¤ä¸æ˜¯çœŸå®ç‰©å“çš„åˆ©ç”¨å±å¹•ä¸Šçš„å›¾ç‰‡æ¥ä½œå¼Šçš„è¡Œä¸ºã€‚ å¥½äº†ï¼Œæš‚æ—¶å…ˆå†™è¿™ä¹ˆå¤šï¼Œç¥åœ£è¯å¿«ä¹ï¼ å‚è€ƒèµ„æ–™ æ”¯ä»˜å®çº¢åŒ…ç ´è§£ç®—æ³•","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"}]},{"title":"pointer and ++--","slug":"pointer-and","date":"2016-12-11T08:50:45.000Z","updated":"2016-12-11T08:57:08.000Z","comments":true,"path":"2016/12/11/pointer-and/","link":"","permalink":"http://frankchen.xyz/2016/12/11/pointer-and/","excerpt":"æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºæŒ‡é’ˆä¸è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ç»“åˆçš„æ—¶å€™çš„è¿ç®—é¡ºåºã€‚","text":"æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºæŒ‡é’ˆä¸è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ç»“åˆçš„æ—¶å€™çš„è¿ç®—é¡ºåºã€‚ è¡¨è¾¾å¼ å«ä¹‰ *p++æˆ–*(p++) è‡ªå¢å‰è¡¨è¾¾å¼çš„å€¼æ˜¯*pï¼Œç„¶åè‡ªå¢p (*p)++ è‡ªå¢å‰è¡¨è¾¾å¼çš„å€¼æ˜¯*pï¼Œç„¶åè‡ªå¢*p *++pæˆ–*(++p) å…ˆè‡ªå¢pï¼Œè‡ªå¢åè¡¨è¾¾å¼çš„å€¼æ˜¯*p ++*pæˆ–++(*p) å…ˆè‡ªå¢*pï¼Œè‡ªå¢åè¡¨è¾¾å¼çš„å€¼æ˜¯*p åŸç†æ˜¯è‡ªå¢å’Œ*åœ¨ä¸€èµ·æ—¶ç»“åˆé¡ºåºç”±å³åˆ°å·¦ï¼Œæ¯”å¦‚*p++ï¼Œå…ˆè¿ç®—p++ï¼Œä¹Ÿå°±æ˜¯på½“å‰çš„å€¼ï¼Œå†è¿ç®—*på¯¹å¯»å€ï¼Œå†å¯¹pè‡ªå¢ã€‚ æ³¨æ„ä»¥ä¸Šæ‰€æœ‰çš„è¡¨è¾¾å¼è¿”å›çš„å€¼éƒ½æ˜¯*pï¼Œåªä¸è¿‡å¯¹åˆ†åˆ«æ˜¯å¯¹på’Œ*pçš„è‡ªå¢æ“ä½œã€‚","categories":[],"tags":[{"name":"C++","slug":"C","permalink":"http://frankchen.xyz/tags/C/"}]},{"title":"QuickSort in C & Python","slug":"QuickSort-in-C","date":"2016-12-02T11:55:35.000Z","updated":"2016-12-10T07:36:15.000Z","comments":true,"path":"2016/12/02/QuickSort-in-C/","link":"","permalink":"http://frankchen.xyz/2016/12/02/QuickSort-in-C/","excerpt":"æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºCè¯­è¨€ä¸­çš„å¿«æ’ç®—æ³•ã€‚","text":"æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºCè¯­è¨€ä¸­çš„å¿«æ’ç®—æ³•ã€‚ å¤§åé¼é¼çš„QuickSortâ€“å¿«é€Ÿæ’åºç®—æ³•ï¼Œå¦‚æ­¤çš„é«˜æ•ˆã€å¿«é€Ÿè€Œä¼˜é›…ï¼Œä»Šå¤©è®©æˆ‘ä»¬ç”¨å›¾ç‰‡å’Œæ–‡å­—å½¢è±¡åœ°å±•ç¤ºä¸€ä¸‹å®ƒå§ï¼ å¿«æ’æ˜¯ä¸€ç§åˆ†æ²»ç®—æ³•ï¼Œå…¶ä¸»è¦æ€æƒ³åœ¨äºé€šè¿‡é€‰å–ä¸€ä¸ªåŸºå‡†Pivotå°†åºåˆ—åˆ†ä¸ºå·¦å³ä¸¤ä¸ªå­åºåˆ—ï¼Œå…¶ä¸­å·¦åºåˆ—çš„æ•°éƒ½å°äºç­‰äºPivotï¼Œå³è¾¹çš„éƒ½å¤§äºç­‰äºPivotï¼Œå†åœ¨è¿™ä¸¤ä¸ªå­åºåˆ—ä¸Šé€’å½’è°ƒç”¨å¿«æ’ç®—æ³•å³å¯ã€‚ è€Œç†è§£å¿«æ’ç®—æ³•çš„æ ¸å¿ƒå°±åœ¨äºåˆ†è§£è¿™ä¸ªæ­¥éª¤ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆç»™å‡ºä»£ç ï¼Œå†ç”¨å›¾ç‰‡å±•ç¤ºæ­¥éª¤ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859//// main.c// QuickSort//// Created by frankchen on 12/2/16.// Copyright Â© 2016 frankchen. All rights reserved.//#include &lt;stdio.h&gt;#define N 5void QuickSort(int s[],int low,int high);void swap(int s[],int i,int j);int main(void)&#123; int a[N], i; printf(\"Enter %d numbers to be sorted: \", N); for (i=0; i&lt;N; i++) scanf(\"%d\", &amp;a[i]); QuickSort(a, 0, N-1); printf(\"In sorted order: \\n\"); for (i=0; i&lt;N; i++) printf(\"%d \", a[i]); printf(\"\\n\"); return 0;&#125;//äº¤æ¢æ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ void swap(int s[],int i,int j)&#123; int temp; temp=s[i]; s[i]=s[j]; s[j]=temp;&#125;void QuickSort(int s[], int low, int high)&#123; int i, pivot;//è®°å½•ç•Œé™çš„ä½ç½® if(low &lt; high)//åªæœ‰æ•°ç»„ä¸­å…ƒç´ å¤§äº1æ—¶æ‰æ“ä½œ &#123; pivot = low;//é€‰å–ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡† for(i=low+1; i&lt;=high; i++) &#123; if (s[i] &lt; s[low]) swap(s, ++pivot, i); &#125; swap(s, low, pivot);//åŸºå‡†å…ƒä¸ç•Œé™äº¤æ¢ QuickSort(s, low, pivot-1); QuickSort(s, pivot+1, high); &#125;&#125; ä»¥ä¸‹æ˜¯Pythonç‰ˆæœ¬ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667class QuickSort(object): def __init__(self, l): ''' åˆå§‹åŒ– ''' self.l = l def __str__(self): ''' æ‰“å°æ’åºåçš„list ''' return 'list\\t:%s' % (self.l) def swap(self, s, i, j): ''' äº¤æ¢ä½ç½® ''' tmp = 0 tmp = s[i] s[i] = s[j] s[j] = tmp def QuickSort(self, s, low, high): i = 0; pivot = 0 if low &lt; high: pivot = low i = low + 1 for i in range(i, high+1): if s[i] &lt; s[low]: pivot += 1 self.swap(s, pivot, i) self.swap(s, low, pivot) self.QuickSort(s, low, pivot-1) self.QuickSort(s, pivot+1, high) return s def getList(): ''' è¯»å–æ–‡ä»¶å†…çš„æ•°å­˜å…¥æ•°ç»„ ''' MyFile = \"QuickSort.txt\" l = [] with open(MyFile) as f: for line in f.readlines(): l.append(int(line)) return ldef Sort(): ''' æ’åº ''' # åˆ›å»ºQuickSortå¯¹è±¡ l = getList() p = QuickSort(l) N = len(l) p.QuickSort(l, 0, N-1) return pif __name__ == \"__main__\": p = Sort() print p ä¸ºäº†æ’åºæ•´ä¸ªåºåˆ—ï¼Œåªéœ€è¦è°ƒç”¨QuickSort(Rï¼Œ0ï¼Œn-1)å³å¯å®Œæˆå¯¹R[0..n-1]çš„æ’åºã€‚ è¿™é‡Œé€‰å–äº†ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œå¦‚æœè¾“å…¥æ˜¯éšæœºåºåˆ—ï¼Œé‚£ä¹ˆæ²¡ä»€ä¹ˆå¤§ç¢ï¼Œä½†æ˜¯å¦‚æœè¾“å…¥æ˜¯é¢„æ’åºæˆ–è€…é€†åºçš„ï¼Œé‚£ä¹ˆä¼šäº§ç”Ÿåçš„æ’åºï¼Œä½¿å¾—æ—¶é—´å¤æ‚åº¦æé«˜ï¼Œéšæœºé€‰å–åŸºå‡†æ˜¯ä¸€ç§å¯è¡Œçš„æ–¹æ³•ï¼Œå¦å¤–ä¸€ç§æ˜¯é€‰å–å¼€å¤´ã€ä¸­é—´ç‚¹å’Œæœ«ä½ç‚¹çš„ä¸­ä½æ•°ã€‚ ```","categories":[],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"}]},{"title":"Workflow for automatic extract and jump to the true URL of 91porn.com","slug":"Workflow-for-automatic-extract-and-jump-to-the-true-URL-of-91porn-com","date":"2016-11-27T16:41:22.000Z","updated":"2017-01-13T09:49:17.000Z","comments":true,"path":"2016/11/28/Workflow-for-automatic-extract-and-jump-to-the-true-URL-of-91porn-com/","link":"","permalink":"http://frankchen.xyz/2016/11/28/Workflow-for-automatic-extract-and-jump-to-the-true-URL-of-91porn-com/","excerpt":"ä¸»è¦è®²è¿°è‡ªå·±å¼€å‘çš„Alfred Workflow 91urlï¼šè‡ªåŠ¨è·å–æŸç½‘ç«™çš„çœŸå®è§†é¢‘åœ°å€å¹¶è·³è½¬çš„åº”ç”¨ã€‚","text":"ä¸»è¦è®²è¿°è‡ªå·±å¼€å‘çš„Alfred Workflow 91urlï¼šè‡ªåŠ¨è·å–æŸç½‘ç«™çš„çœŸå®è§†é¢‘åœ°å€å¹¶è·³è½¬çš„åº”ç”¨ã€‚ ç›¸ä¿¡è®¸å¤šæœ‹å‹éƒ½çˆ±çœ‹91çš„è§†é¢‘ï¼Œä½†æ˜¯å…è´¹ç”¨æˆ·çš„æ¯æ—¥æœ‰é™çš„è§‚çœ‹æ¬¡æ•°æ€»æ˜¯è®©äººæ„çŠ¹æœªå°½ã€‚ã€‚ã€‚äºæ˜¯FreeGet å…è´¹ç¦åˆ©èµ„è®¯åº”è¿è€Œç”Ÿã€‚ã€‚ã€‚ä½†æ˜¯é‡å¤çš„ä»æµè§ˆå™¨çª—å£ç‚¹å‡»å¤åˆ¶urlï¼Œåˆ‡æ¢çª—å£ã€ç²˜è´´å†ç‚¹å‡»ã€‚ã€‚ã€‚æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è®©ä¼—ç‹¼å‹çš„åŒæ‰‹è§£æ”¾å‡ºæ¥å‘¢ï¼Ÿä½œä¸ºç¨‹åºå‘˜çš„æˆ‘å½“ç„¶ä¸èƒ½å¿ï¼Œæ‰€ä»¥è€—è´¹ä¸€ä¸‹åˆçš„æ—¶é—´å¼€å‘äº†è¿™ä¸ªWorkflowï¼š91urlï¼Œèƒ½å¤Ÿè‡ªåŠ¨è·å–å½“å‰çš„æµè§ˆå™¨çª—å£çš„ç½‘å€å¹¶æäº¤åˆ°FreeGetç½‘ç«™ï¼Œå¹¶ç”¨ç«ç‹æµè§ˆå™¨æ‰“å¼€çœŸå®è§†é¢‘ç½‘å€ï¼ˆæŠ±æ­‰æ˜¯0.1ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å—é™ï¼Œä¸è¶³ä¹‹å¤„å¾…ä¹‹åç‰ˆæœ¬è§£å†³ï¼‰ã€‚ä½¿ç”¨æ–¹æ³•éå¸¸ç®€å•ï¼Œåªè¦åœ¨æˆ‘çš„Githubä¸‹è½½å¹¶æ‹–åˆ°Alfred çš„Workflowå³å¯ï¼Œå¦å¤–è¿˜éœ€è¦å®‰è£…Pythonçš„è‡ªåŠ¨åŒ–ç½‘é¡µæµ‹è¯•å·¥å…·åŒ…seleniumï¼š 1pip install selenium ç„¶åæµè§ˆå™¨å¤„äº91è§†é¢‘çš„é¡µé¢çš„æ—¶å€™ï¼Œç”¨command + ç©ºæ ¼ è¾“å…¥91urlå¹¶enterå³å¯(å½“ç„¶ä¹Ÿå¯ä»¥ä¿®æ”¹HotKeyæ¥è§¦å‘)ï¼š ä¹‹å91urlå°†è‡ªåŠ¨æ‰“å¼€ç«ç‹æµè§ˆå™¨å¹¶è·³è½¬è‡³FreeGetè·å–çœŸå®ç½‘å€ï¼Œ å¦‚ä¸Šå›¾ï¼Œç‚¹å‡»å³å¯æ’­æ”¾æˆ–è€…ä¸‹è½½ï¼Œsoï¼Œenjoyï¼","categories":[],"tags":[{"name":"Old Driver","slug":"Old-Driver","permalink":"http://frankchen.xyz/tags/Old-Driver/"}]},{"title":"Devide and Conquer Counting Inversions with Python","slug":"Devide-and-Conquer-Counting-Inversions-with-Python","date":"2016-11-25T08:55:15.000Z","updated":"2017-01-13T09:48:56.000Z","comments":true,"path":"2016/11/25/Devide-and-Conquer-Counting-Inversions-with-Python/","link":"","permalink":"http://frankchen.xyz/2016/11/25/Devide-and-Conquer-Counting-Inversions-with-Python/","excerpt":"æœ¬æ–‡ä¸»è¦å†…å®¹å…³äºpythonå½’å¹¶æ’åºæ±‚é€†åºæ•°çš„ç®—æ³•ã€‚","text":"æœ¬æ–‡ä¸»è¦å†…å®¹å…³äºpythonå½’å¹¶æ’åºæ±‚é€†åºæ•°çš„ç®—æ³•ã€‚ è§£å†³é—®é¢˜ï¼šç»™å®šæœ‰é™é•¿åº¦çš„æ— é‡å¤ä¹±åºæ•°ç»„ï¼Œæ±‚å…¶é€†åºæ•°ä¸ªæ•°ã€‚ç®€å•æ¥è¯´æˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ä¸ªå¾ªç¯æ¥è§£å†³ï¼Œä½†æ˜¯å¤æ‚åº¦ä¸º$O(N^2)$ï¼Œè‹¥åˆ©ç”¨å½’å¹¶æ’åºï¼Œå¤æ‚åº¦å°±é™ä¸ºäº†$O(N \\log(N))$ã€‚ä»¥ä¸‹ç»™å‡ºä¸€ä¸ªå®ç°ï¼Œ 1234567891011121314151617181920212223242526272829303132333435363738394041class Ivrs_num(object): def __init__(self, filename): self.count = 0 self.filename = filename def load_txt(self): '''è½½å…¥txtæ–‡ä»¶ä¿å­˜ä¸ºlist''' int_list = [] with open(self.filename) as f: for line in f: int_list.append(int(line)) return int_list def merge(self, ListA, ListB): '''å°†ä¸¤ä¸ªå·²ç»æ’åºå¥½çš„æ•°ç»„åˆå¹¶æˆæ–°çš„æ’åºå¥½çš„æ•°ç»„ é¡ºä¾¿è®¡ç®—é€†åºæ•°''' newList = [] while ListA and ListB: if int(ListA[0]) &gt; int(ListB[0]): self.count += len(ListA) newList.append(ListB.pop(0)) else: newList.append(ListA.pop(0)) return newList + ListA + ListB def merge_sort(self, A): '''å½’å¹¶æ’åº''' if len(A) == 1: return A else: middle = len(A) // 2 return self.merge(self.merge_sort(A[:middle]), self.merge_sort(A[middle:])) def count_ivrs(self): data = self.load_txt() self.merge_sort(data) return self.countif __name__ == \"__main__\": ivrs = Ivrs_num(\"IntegerArray.txt\") print ivrs.count_ivrs()","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"},{"name":"Algorithm","slug":"Algorithm","permalink":"http://frankchen.xyz/tags/Algorithm/"}]},{"title":"Understanding EM algorithm","slug":"Understanding-EM-algorithm","date":"2016-11-18T13:54:19.000Z","updated":"2017-01-13T09:49:08.000Z","comments":true,"path":"2016/11/18/Understanding-EM-algorithm/","link":"","permalink":"http://frankchen.xyz/2016/11/18/Understanding-EM-algorithm/","excerpt":"æœ¬æ–‡ä¸»è¦å†…å®¹ä¸ºç”¨ä¸€ä¸ªç®€çŸ­çš„ä¾‹å­è§£é‡ŠEMç®—æ³•ã€‚","text":"æœ¬æ–‡ä¸»è¦å†…å®¹ä¸ºç”¨ä¸€ä¸ªç®€çŸ­çš„ä¾‹å­è§£é‡ŠEMç®—æ³•ã€‚ EMç®—æ³•æ˜¯èšç±»ä¸­å¸¸ç”¨çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œä½†æ˜¯ç›¸æ¯”å–œé—»ä¹è§çš„k-meansç®—æ³•ï¼Œå¤§å®¶å¯èƒ½å¯¹äºEMç®—æ³•çš„äº†è§£å¯èƒ½æ²¡æœ‰é‚£ä¹ˆç›´è§‚æ·±å…¥ï¼Œæ‰€ä»¥æœ¬æ–‡ä¸»è¦åˆ©ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œåœ¨å¯¹æ¯”k-meansç®—æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå¸®åŠ©å¤§å®¶å»ºç«‹ä¸€ä¸ªæ¸…æ™°æ˜ç¡®çš„å¯¹EMç®—æ³•çš„ç†è§£ã€‚ å½“æˆ‘ä»¬åœ¨èšç±»çš„é¢†åŸŸè°ˆè®ºk-meansç®—æ³•æ—¶ï¼Œåˆ†ç»„çš„æ¦‚å¿µæ˜¯éå¸¸æ¸…æ™°ç›´è§‚çš„â€“æ¯ä¸ªæ ·æœ¬ç‚¹åªå±äºå®ƒç¦»å¾—æœ€è¿‘çš„é‚£ä¸ªä¸­å¿ƒç‚¹æ‰€å±çš„åˆ†ç»„ã€‚å¦‚æœç»™å‡ºä¸€äº›æ ·æœ¬ç‚¹å’Œä¸­å¿ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾ˆå®¹æ˜“ç»™è¿™äº›ç‚¹æ‰“æ ‡ç­¾ã€‚ ä½†æ˜¯å¯¹äºEMç®—æ³•è€Œè¨€ï¼Œåˆ†ç»„çš„æ¦‚å¿µå°±ä¹ˆé‚£ä¹ˆç›´è§‚äº†ï¼ˆå› ä¸ºEMç®—æ³•è€ƒè™‘æ¯ä¸ªæ ·æœ¬ç‚¹éƒ½æœ‰ä¸€å®šçš„æ¦‚ç‡å±äºæ‰€æœ‰çš„åˆ†ç»„ï¼‰ã€‚åœ¨æˆ‘ä»¬ä»‹=å¼•å…¥EMç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¤ä¹ ä¸€ä¸‹k-meansé‡Œé¢çš„åˆ†ç»„æ¦‚å¿µã€‚ k-meansé‡Œé¢çš„åˆ†ç»„æ¦‚å¿µå‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹çš„ä¸‰ä¸ªæ ·æœ¬ç‚¹ï¼ˆ2Då¹³é¢æƒ…å†µä¸‹çš„ç‚¹ï¼‰ï¼š æ•°æ®é›† X Y ç‚¹0 10 5 ç‚¹1 2 1 ç‚¹2 3 7 å¦‚æœåœ¨ä¸Šé¢çš„æ•°æ®é›†ä¸Šè·‘k-meansç®—æ³•ï¼Œå‡å®šä¸­å¿ƒç‚¹å¦‚ä¸‹ï¼š ä¸­å¿ƒ X Y A 3 4 B 6 3 C 4 6 ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œå¯ä»¥åˆ†é…èšç±»å¦‚ä¸‹ è·ç¦» ç¾¤ç»„Aä¸­å¿ƒ ç¾¤ç»„Bä¸­å¿ƒ ç¾¤ç»„Cä¸­å¿ƒ ç¾¤ç»„åˆ†é… ç‚¹0 7.071 4.472 6.083 ç¾¤ç»„B ç‚¹1 3.162 4.472 5.385 ç¾¤ç»„A ç‚¹2 3.000 5.000 1.414 ç¾¤ç»„C åˆ°æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºä¸€ä¸ªå›ç­”ï¼šåˆ°åº•æŠŠä¸€ä¸ªç‚¹å½’ç±»åˆ°ä¸€ä¸ªç¾¤ç»„æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸¾ä¾‹æ¥è¯´ï¼Œç‚¹1åªè¢«åˆ†é…åˆ°åˆ†ç»„Aï¼Œä¹Ÿå°±æ˜¯ç‚¹1çš„100%å±äºç¾¤ç»„Aå¹¶ä¸”0%å±äºç¾¤ç»„Bå’Œç¾¤ç»„Cã€‚é‚£ä¹ˆæ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹è¡¨æ ¼ï¼Œ ç¾¤ç»„A ç¾¤ç»„B ç¾¤ç»„C ç‚¹0 0 1 0 ç‚¹1 1 0 0 ç‚¹2 0 0 1 æˆå‘˜ä¸ªæ•° 1 1 1 æ³¨æ„åˆ°ï¼Œå¯¹äºä¸€ä¸ªç¾¤ç»„æ¥è¯´ï¼Œå…¶å¾—åˆ°çš„æ¯ä¸€è¡Œçš„å’Œéƒ½æ˜¯1ï¼ˆå› ä¸ºä¸€ä¸ªç‚¹çš„ç™¾åˆ†æ¯”å°±æ˜¯ä¹‹å’Œå°±æ˜¯1ï¼‰ï¼›å¦å¤–ï¼Œæ¯ä¸€åˆ—çš„å’Œå°±æ˜¯è¿™ä¸ªç¾¤ç»„çš„æˆå‘˜ç‚¹çš„ä¸ªæ•°ã€‚æ¨è€Œå¹¿ä¹‹ï¼š æ¯ä¸€è¡Œçš„å’Œæ€»æ˜¯1ï¼Œå› ä¸ºä¸€ä¸ªç‚¹çš„ç™¾åˆ†æ¯”ä¹‹å’Œæ˜¯1 æ¯ä¸€åˆ—çš„å’Œå°±æ˜¯åˆ†é…åˆ°è¿™ä¸ªç¾¤ç»„çš„ç‚¹çš„ä¸ªæ•° EMç®—æ³•ä¸­çš„ç¾¤ç»„åˆ†é…åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬åšçš„ä¼¼ä¹ä¸é”™ï¼Œä½†æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¿™é‡Œæ¯ä¸ªç‚¹éƒ½åªèƒ½å±äºä¸€ä¸ªç¾¤ç»„ï¼Œä¸è¿‡è¿™ä¸€ç‚¹æœ‰æ—¶å€™ä¸æ˜¯é‚£ä¹ˆåˆç†ï¼Œæ¯”å¦‚ç‚¹0åˆ†é…åˆ°ç¾¤ç»„Bä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æ¯”å¦‚ç‚¹1è·ç¦»ç¾¤ç»„Aå’Œç¾¤ç»„Bçš„è·ç¦»å·®åˆ«ä¸é‚£ä¹ˆå¤§ï¼Œé‚£ä¹ˆåªå› ä¸ºè·ç¦»ç¾¤ç»„Aè¿‘é‚£ä¹ˆä¸€ç‚¹ç‚¹å°±åªæŠŠå®ƒåˆ†é…åˆ°ç¾¤ç»„Aï¼Œéš¾é“æ²¡ä»€ä¹ˆé—®é¢˜å—ï¼Ÿæˆ‘ä»¬å¯èƒ½æ›´åŠ æƒ³è¡¨è¾¾è¿™æ ·ä¸€ç§æ¦‚å¿µï¼šç‚¹1æ›´å¯èƒ½å±äºç¾¤ç»„Aï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿæƒ³ä¿ç•™ç‚¹1ä¹Ÿæœ‰ä¸€äº›å¯èƒ½å±äºç¾¤ç»„Bçš„ä¸ç¡®å®šæ€§ã€‚ è·ç¦» ç¾¤ç»„Aä¸­å¿ƒ ç¾¤ç»„Bä¸­å¿ƒ ç¾¤ç»„Cä¸­å¿ƒ ç¾¤ç»„åˆ†é… ç‚¹0 7.071 4.472 6.083 ç¾¤ç»„B ç‚¹1 3.162 4.472 5.385 ç¾¤ç»„A ç‚¹2 3.000 5.000 1.414 ç¾¤ç»„C æˆ‘ä»¬å¦‚ä½•è¡¨è¿°è¿™ç§ä¸ç¡®å®šæ€§å‘¢ï¼Ÿè¿™å°±æ˜¯åˆ†ç»„æƒé‡çš„ç”±æ¥ã€‚åˆ†ç»„æƒé‡è¡¨è¾¾äº†ä¸€ä¸ªç‚¹æœ‰å¤šå¯èƒ½å±äºæŸä¸ªç¾¤ç»„ã€‚æ¯”å¦‚ä¹‹å‰çš„å½¢å¼æ˜¯è¿™æ ·çš„ï¼Œ ç¾¤ç»„A ç¾¤ç»„B ç¾¤ç»„C ç‚¹0 0 1 0 ç‚¹1 1 0 0 ç‚¹2 0 0 1 æˆå‘˜ä¸ªæ•° 1 1 1 æŠŠä¸Šè¡¨çš„0å’Œ1æ¢æˆåˆ†æ•°ï¼ˆä¸è¦è´¨ç–‘è¿™äº›åˆ†æ•°æ€ä¹ˆæ¥çš„ï¼Œç­‰ä¸‹ä¼šç»™å‡ºåˆç†è§£é‡Šï¼Œï¼šï¼‰ï¼‰ ç¾¤ç»„A ç¾¤ç»„B ç¾¤ç»„C ç‚¹0 0.007 0.938 0.055 ç‚¹1 0.812 0.154 0.034 ç‚¹2 0.234 0.016 0.750 è½¯è®¡æ•° 1.053 1.108 0.839 ä¸Šè¡¨ä¸­ï¼Œç‚¹0ä»¥93.8%çš„æ¦‚ç‡å±äºç¾¤ç»„Bï¼ŒåŒæ—¶ä¸‹ä¸€è¡Œä¸­ï¼Œç‚¹1ä»¥81.2%çš„æ¦‚ç‡å±äºç¾¤ç»„Aã€‚è¿™äº›åˆ†æ•°ä¹Ÿå°±æ˜¯åˆ†ç»„æƒé‡ã€‚æ¯”å¦‚ï¼Œç‚¹0å±äºåˆ†ç»„Açš„æƒé‡å°±æ˜¯0.7%ã€‚ å’Œk-meansç®—æ³•ä¸­æ¯ä¸ªç‚¹åªèƒ½å±äºä¸€ä¸ªç¾¤ç»„ä¸åŒï¼Œè¿™é‡Œæ¯ä¸ªç‚¹éƒ½ä»¥æŸç§ç¨‹åº¦åœ°å±äºæ¯ä¸€ä¸ªç¾¤ç»„ã€‚ä¾‹å¦‚ï¼Œ93.8%çš„ç‚¹0å±äºç¾¤ç»„ï¼Œå…¶ä½™çš„å±äºå…¶ä»–çš„ç¾¤ç»„ã€‚ é‚£ä¹ˆï¼Œåœ¨ä¸Šé¢çš„åˆ†é…çŸ©é˜µé‡Œé¢ï¼Œæ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—çš„å«ä¹‰å¦‚ä¸‹ï¼Œ æ¯ä¸€è¡Œçš„å’Œéƒ½æ˜¯1ï¼Œå› ä¸ºæ¯ä¸ªç‚¹éƒ½100%å±äºæ‰€æœ‰çš„ç¾¤ç»„ï¼Œå°†è¿™ä¸€äº›éƒ¨åˆ†åŠ èµ·æ¥å’Œå¿…å®šæ˜¯1 æ¯ä¸€åˆ—çš„å’Œæ˜¯è¿™ä¸ªç¾¤ç»„çš„â€œè½¯è®¡æ•°â€ï¼Œå®ƒä»£è¡¨ç€æ‰€æœ‰çš„ç‚¹å±äºè¿™ä¸ªç¾¤ç»„çš„ç™¾åˆ†æ¯”ä¹‹å’Œ æ‰€æœ‰çš„ç¾¤ç»„çš„è½¯è®¡æ•°ä¹‹å’Œå°±æ˜¯æ ·æœ¬ç‚¹çš„æ€»æ•° æ­¥éª¤Eï¼šç»™å®šåˆ†ç»„å‚æ•°è®¡ç®—åˆ†ç»„æƒé‡åˆ†ç»„æƒé‡æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿæ¥è‡ªç»™å®šåˆ†ç»„çš„åˆ†å¸ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬è§‚å¯Ÿæ ·æœ¬ç‚¹å¯èƒ½æ˜¯ä»€ä¹ˆã€‚è€ŒEMç®—æ³•ä¸­çš„æ¯ä¸€ä¸ªç¾¤ç»„éƒ½ç”±ä¸€ä¸ªåˆ†ç»„æƒé‡ï¼Œä¸€ä¸ªå‡å€¼å‘é‡ï¼Œä¸€ä¸ªåæ–¹å·®çŸ©é˜µæ„æˆã€‚å…¶ä¸­ï¼Œå‡å€¼è¡¨ç¤ºç¾¤ç»„çš„ä¸­å¿ƒï¼Œåæ–¹å·®ä½“ç°ç¾¤ç»„çš„èŒƒå›´ï¼Œè€Œåˆ†ç»„æƒé‡ä½“ç°äº†æ ·æœ¬ç‚¹ä¸æ­¤åˆ†ç»„çš„å…³è”ç¨‹åº¦ã€‚æ‰€æœ‰ï¼Œæ¯ä¸ªç¾¤ç»„éƒ½ç”±ä¸€ä¸ªå¤šå˜é‡é«˜æ–¯åˆ†å¸ƒæ‰€å®šä¹‰ã€‚ å›é¡¾ä¸Šé¢çš„ä¾‹å­ï¼ŒåŠ ä¸Šä¸€ä¸ªä¸ç¡®å®šåº¦çš„æ¤­åœ†ï¼Œå¦‚ä¸‹ï¼Œ å›¾ä¸­æ¯ä¸ªæ¤­åœ†è¡¨ç¤ºç€åæ–¹å·®çŸ©é˜µï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯ä¸ªç¾¤ç»„éƒ½æ˜¯ç”¨çš„æ˜¯å¯¹è§’åæ–¹å·®çŸ©é˜µ[[3,0],[0,3]]ã€‚å› ä¸ºå¯¹è§’çº¿å¤–å…ƒç´ éƒ½æ˜¯0ï¼Œæ‰€æœ‰å›¾ä¸­çš„æ¤­åœ†å®é™…ä¸Šçœ‹èµ·æ¥æ˜¯åœ†ã€‚å¹¶ä¸”ï¼Œç”±äºå¹¶æ²¡æœ‰ä»€ä¹ˆç†ç”±è®¤ä¸ºå“ªä¸ªç¾¤ç»„æ¯”å…¶ä»–ç¾¤ç»„æ›´åŠ é‡è¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®šä¹‰æ¯ä¸ªç¾¤ç»„çš„åˆ†ç»„æƒé‡éƒ½æ˜¯1/3ã€‚ é‚£ä¹ˆï¼Œç‚¹0å±äºç¾¤ç»„Açš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿè¿™é‡Œç”¨æ¥è¡¡é‡æ½œåœ¨çš„é«˜æ–¯åˆ†å¸ƒçš„æ ‡å‡†æ˜¯æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆprobability density functionï¼ŒPDFï¼‰ï¼Œä½¿ç”¨scipy.stats.multivariate_normal.pdfå¯è®¡ç®—å‡ºæ¥ï¼š 12print multivariate_normal.pdf([10,5], mean=[3,4], cov=[[3,0],[0,3]])&gt;&gt;&gt; 1.275199678019219e-05 æˆ‘ä»¬è¿˜è¦å°†è¿™ä¸ªæ¦‚ç‡ä¹˜ä»¥åˆ†ç»„æƒé‡æ‰è¡Œï¼Œ 12print 1/3.*multivariate_normal.pdf([10,5], mean=[3,4], cov=[[3,0],[0,3]])&gt;&gt;&gt; 4.2506655934e-06 ç‚¹0å±äºç¾¤ç»„Açš„ä¼¼ç„¶å€¼æ˜¯4.251e-6ã€‚å•çœ‹çœ‹ä¸å‡ºä»€ä¹ˆï¼Œæˆ‘ä»¬è¿˜è¦ä¾æ¬¡è®¡ç®—ç¾¤ç»„Bå’Œç¾¤ç»„Cçš„å€¼ã€‚åˆ†åˆ«è®¡ç®—Bå’ŒCçš„PDFå¹¶ä¸”ä¹˜ä»¥åˆ†ç»„æƒé‡ï¼š 12print 1/3.*multivariate_normal.pdf([10,5], mean=[6,3], cov=[[3,0],[0,3]])&gt;&gt;&gt; 0.000630854709005 12print 1/3.*multivariate_normal.pdf([10,5], mean=[4,6], cov=[[3,0],[0,3]])&gt;&gt;&gt; 3.71046481027e-05 é‚£ä¹ˆï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œ ç¾¤ç»„A ç¾¤ç»„B ç¾¤ç»„C ç‚¹(10,5)çš„PDFä¹˜ä»¥åˆ†ç»„æƒé‡ 4.251e-6 6.309e-4 3.710e-5 å¾ˆæ˜æ˜¾ï¼Œç¾¤ç»„Bçš„ä¼¼ç„¶å€¼æ˜¯æœ€é«˜çš„ï¼Œè¿™å®¹æ˜“ç†è§£å› ä¸ºç‚¹0è·ç¦»ç¾¤ç»„Bä¸­å¿ƒçš„è·ç¦»æœ€è¿‘ã€‚ ä¼¼ç„¶å€¼çœ‹èµ·æ¥å¤ªå°äº†ï¼Œæˆ‘ä¹ˆå¯ä»¥å¯¹å…¶åšä¸€ä¸ªå½’ä¸€åŒ–ï¼šéƒ½é™¤ä»¥æ‰€æœ‰ç¾¤ç»„çš„ä¼¼ç„¶å€¼çš„å’Œå¾—åˆ°ç™¾åˆ†æ¯”å€¼ã€‚ ç‚¹0 ç¾¤ç»„A ç¾¤ç»„B ç¾¤ç»„C æ€»å’Œ ä¼¼ç„¶å€¼ 4.251e-6 6.309e-4 3.710e-5 6.722e-4 ä¼¼ç„¶å€¼ï¼Œå¤„ä»¥æ€»å’Œ 4.251e-6 / 6.722e-4 = 0.007 6.309e-4 / 6.722e-4 = 0.938 3.710e-5 / 6.722e-4 = 0.055 - æœ€ä¸‹ä¸€è¡Œå°±æ˜¯ç‚¹0åˆ†ç»„è´£ä»»ï¼æ³¨æ„åˆ°å› ä¸ºå½’ä¸€åŒ–ï¼Œè¿™ä¸€è¡Œçš„æ€»å’Œæ˜¯1ã€‚å°ç»“ä¸€ä¸‹ï¼š å¯¹äºæ¯ä¸€ä¸ªç‚¹æˆ‘ä»¬è®¡ç®—äº†å…¶é«˜æ–¯åˆ†å¸ƒçš„PDFå€¼ï¼Œé€šè¿‡ä½¿ç”¨é«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å’Œåæ–¹å·®è®¡ç®—å¾—åˆ° å°†PDFä¹˜ä»¥åˆ†ç»„æƒé‡ï¼Œå¾—åˆ°ä¼¼ç„¶åº¦ å°†ä¼¼ç„¶ç¨‹åº¦å½’ä¸€åŒ– ä¾æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç‚¹1å’Œç‚¹2çš„çŸ©é˜µï¼Œè¿™é‡Œç•¥å»ä¸è¡¨ï¼Œæœ€åå°†ä¸‰ä¸ªç‚¹çš„çŸ©é˜µæ±‡æ€»å¾—åˆ°ä»¥ä¸‹ï¼Œ Responsibility matrix Cluster A Cluster B Cluster C Data point 0 0.007 0.938 0.055 Data point 1 0.812 0.154 0.034 Data point 2 0.234 0.016 0.750 Soft counts 1.053 1.108 0.839 æ­¥éª¤Mï¼šç»™å®šåˆ†ç»„è´£ä»»è®¡ç®—åˆ†ç»„å‚æ•°ç°åœ¨æˆ‘ä»¬æ‰‹é‡Œå·²ç»æœ‰äº†åˆ†ç»„çš„è´£ä»»äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¾æ®è¿™äº›é‡æ–°æ›´æ–°å‚æ•°ï¼šåˆ†ç»„æƒé‡ã€å‡å€¼å’Œåæ–¹å·®ã€‚è™½ç„¶æˆ‘ä»¬å¼€å§‹æ˜¯ä¹±çŒœçš„è¿™äº›å‚æ•°ï¼Œä½†æ˜¯é€šè¿‡æ›´æ–°æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€äº›æ›´å¥½çš„ä¼°è®¡ã€‚ åˆ†ç»„æƒé‡ã€‚ç¾¤ç»„çš„ç›¸å¯¹é‡è¦ç¨‹åº¦ç”±å®ƒçš„è½¯è®¡æ•°æ¥å†³å®šã€‚ç”±äºåˆ†ç»„æƒé‡å¿…é¡»å’Œä¸º1ï¼Œæ‰€æœ‰è¿™é‡Œä¹Ÿéœ€è¦åšå½’ä¸€åŒ–ï¼Œ Cluster A Cluster B Cluster C Sum Soft counts 1.053 1.108 0.839 3.000 Soft counts, divided by the sum 1.053 / 3.000 = 0.351 1.108 / 3.000 = 0.369 0.839 / 3.000 = 0.280 - å½’ä¸€åŒ–åçš„è½¯è®¡æ•°ï¼Œå°±æ˜¯åˆ†ç»„æƒé‡çš„æ–°çš„ä¼°è®¡ã€‚ å‡å€¼ã€‚ä½¿ç”¨åˆ†ç»„è´£ä»»è®¡ç®—æ‰€æœ‰ç‚¹åæ ‡çš„ç™¾åˆ†æ¯”ï¼Œ 12345678[Weighted sum of data points for cluster A]= [Fraction of data point 0 represented in cluster A] * [data point 0] + [Fraction of data point 1 represented in cluster A] * [data point 1] + [Fraction of data point 2 represented in cluster A] * [data point 2]= 0.007*[data point 0] + 0.812*[data point 1] + 0.234*[data point 2]= 0.007*(10,5) + 0.812*(2,1) + 0.234*(3,7)= (0.063,0.035) + (1.624,0.812) + (0.702,1.638)= (2.396,2.485) å†é™¤ä»¥è½¯è®¡æ•°ï¼š 123[mean of cluster A]= (2.396,2.485)/1.053= (2.275,2.360) ç±»ä¼¼åœ°è®¡ç®—Bå’ŒCçš„å‡å€¼ï¼Œå¾—åˆ°å¦‚ä¸‹ï¼Œ New means X Y Cluster A 2.275 2.360 Cluster B 8.787 4.473 Cluster C 3.418 6.626 è®©æˆ‘ä»¬ç”»å‡ºå‡å€¼çš„ä¹‹å‰å’Œä¹‹åçš„ä¼°è®¡ã€‚æ³¨æ„åˆ°ç¾¤ç»„Açš„å‡å€¼ç§»åŠ¨åœ°æ›´åŠ é è¿‘ç‚¹1ï¼Œå› ä¸ºç¾¤ç»„Aæ˜¯ä¸»è¦çš„ï¼Œç±»ä¼¼çš„ä¹Ÿå‘ç”Ÿåœ¨Bå’ŒCä¸Šï¼Œ åæ–¹å·®ã€‚ åæ–¹å·®ä¹Ÿæ˜¯ç”±åˆ†æ•°æ¥è®¡ç®—çš„ï¼Œä½†æ˜¯è¿™é‡Œéœ€è¦çŸ©é˜µå½¢å¼ï¼Œæ‰€ä»¥å®é™…ä¸Šæ˜¯ç”±å‘é‡å‰ä¹˜å¾—åˆ°çš„ï¼Œ $$x_i - \\hat{\\mu}_k$$ å‡è®¾ä¸Šé¢æ˜¯dç»´å‘é‡ï¼Œè®¡ç®—å…¶ä¸è‡ªèº«çš„å†…ç§¯ï¼Œ $$(x_i - \\hat{\\mu}_k)(x_i - \\hat{\\mu}_k)^T$$ å¯¹012æ¯ä¸ªç‚¹éƒ½æ ¹æ®å…¶åæ ‡å’ŒAçš„å‡å€¼è®¡ç®—åæ–¹å·®çŸ©é˜µï¼Œä¸åˆ†ç»„è´£ä»»ç›¸ä¹˜ï¼š 12345678910111213[Weighted sum of outer products]= [Fraction of data point 0 represented in cluster A] * [outer product for data point 0] + [Fraction of data point 1 represented in cluster A] * [outer product for data point 1] + [Fraction of data point 2 represented in cluster A] * [outer product for data point 2]= 0.007*[[59.676,20.394], [20.394,6.970]] + 0.812*[[0.076,0.374], [0.374,1.850]] + 0.234*[[0.526,3.364], [3.364,21.530]]= [[0.602, 1.234], [1.234, 6.589]][New covariance for cluster A]= [[0.602,1.234], [1.234,6.589]]/1.053= [[0.572,1.172], [1.172,6.257]] å¯¹äºBCé‡å¤ä»¥ä¸Šï¼Œå¾—åˆ°ï¼Œ New covariances Cluster A [[0.572,1.172], [1.172,6.257]] Cluster B [[8.132,3.606], [3.606,2.004]] Cluster C [[3.078,-0.518], [-0.518,1.581]] é•¿äºä¸€å£æ°”ï¼è¿™ä¹ˆå¤šçš„è®¡ç®—ï¼Œæˆ‘ä»¬åˆ°åº•æ›´æ–°çš„æ•ˆæœæ˜¯ä»€ä¹ˆï¼Ÿé¦–å…ˆï¼Œæ‰€æœ‰çš„ç¾¤ç»„éƒ½æœ‰äº†æ›´å°çš„ä¸ç¡®å®šåº¦ï¼Œä»å›¾ä¸Šæ¥çœ‹ï¼Œæ¤­åœ†å˜å¾—æ›´å°äº†ï¼›å…¶æ¬¡ï¼Œç¾¤ç»„æ”¹å˜äº†å½¢çŠ¶æ¥é€‚åº”æ•°æ®ï¼Œæ¯”å¦‚ç¾¤ç»„Bå‘ç€ç‚¹1çš„æ–¹å‘å»¶é•¿äº†ã€‚æ€»ä¹‹ï¼Œæ¯æ¬¡å‡å€¼å’Œåæ–¹å·®æ›´æ–°ä»¥åï¼Œç¾¤ç»„éƒ½æ”¹å˜å½¢çŠ¶ä»¥æ›´å¥½åœ°è¡¨ç¤ºæ•°æ®é‡Œçš„æ¨¡å¼ã€‚ EMç®—æ³•ï¼šäº¤æ›¿æ­¥éª¤Eå’Œæ­¥éª¤Mç°åœ¨æˆ‘ä»¬å¯¹äºåˆ†ç»„çš„å‚æ•°æœ‰äº†æ›´å¥½åœ°ä¼°è®¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å›è¿‡å¤´å»è®¡ç®—åˆ†ç»„çš„è´£ä»»ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ›´å¥½çš„å‚æ•°çš„ä¼°è®¡ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥äº¤æ›¿ç€ä½¿ç”¨æ­¥éª¤Eå’Œæ­¥éª¤Mæ¥é€æ­¥æé«˜åˆ†ç»„çš„æ€§èƒ½ã€‚ å‚è€ƒèµ„æ–™ åç››é¡¿å¤§å­¦æœºå™¨å­¦ä¹ ï¼šèšç±»ä¸æ£€ç´¢","categories":[],"tags":[{"name":"Machine Learning","slug":"Machine-Learning","permalink":"http://frankchen.xyz/tags/Machine-Learning/"}]},{"title":"Way to solving the .DS_Store problem of Mac","slug":"Way-to-solving-the-DS-Store-problem-of-Mac","date":"2016-11-17T07:25:30.000Z","updated":"2017-01-13T09:17:33.000Z","comments":true,"path":"2016/11/17/Way-to-solving-the-DS-Store-problem-of-Mac/","link":"","permalink":"http://frankchen.xyz/2016/11/17/Way-to-solving-the-DS-Store-problem-of-Mac/","excerpt":"æœ¬æ–‡ä¸»è¦è®²è¿°å¦‚ä½•è§£å†³Mac OSä¸‹é¢çš„.DS_Storeæ–‡ä»¶çš„é—®é¢˜ã€‚","text":"æœ¬æ–‡ä¸»è¦è®²è¿°å¦‚ä½•è§£å†³Mac OSä¸‹é¢çš„.DS_Storeæ–‡ä»¶çš„é—®é¢˜ã€‚ åœ¨Mac OSä¸Šï¼Œ.DS_Storeæ–‡ä»¶ æ˜¯ Desktop Services Store çš„ç®€ç§°ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨æ–‡ä»¶å¤¹çš„æ˜¾ç¤ºå±æ€§çš„è‡ªå®šä¹‰å±æ€§çš„éšè—æ–‡ä»¶ï¼Œï¼šæ¯”å¦‚æ–‡ä»¶å›¾æ ‡çš„æ‘†æ”¾ä½ç½®ï¼Œå¦‚æ–‡ä»¶çš„å›¾æ ‡ä½ç½®æˆ–èƒŒæ™¯è‰²ï¼Œç›¸å½“äºWindowsçš„desktop.iniï¼Œåˆ é™¤ä»¥åçš„å‰¯ä½œç”¨å°±æ˜¯è¿™äº›ä¿¡æ¯çš„å¤±å»ï¼Œä¸è¿‡æ€»ä½“è€Œè¨€å½±å“ä¸å¤§ã€‚ æœ€è¿‘ä¸Šæ‰‹çš„Macï¼Œ.DS_Store ç¬¬ä¸€æ¬¡çƒ¦åˆ°æˆ‘ï¼Œæ˜¯åœ¨Githubä¸Šfolkäº†äººå®¶çš„é¡¹ç›®è‡ªå·±æäº¤äº†æƒ³Pull Request çš„æ—¶å€™å‡ºç°çš„é—®é¢˜ï¼Œæˆ‘æ˜æ˜åªä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆåœ¨æ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢éƒ½å‡ºç°äº†è¿™ä¹ˆäº›ä¸ªå¥‡æ€ªçš„ .DS_Store ï¼Ÿï¼Ÿåˆ é™¤äº†è¿™äº›æ–‡ä»¶ä»¥åå†ç¬¬äºŒæ¬¡æäº¤çš„æ—¶å€™åˆä¼šå‡ºç°ï¼ˆæœŸé—´æˆ‘ç”¨äº†Finderï¼‰ï¼Œè°·æ­Œä»¥åæ‰å‘ç°è¿™åŸæ¥æ˜¯ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè¦æƒ³å®ƒä¸å‡ºç°ï¼Œé™¤éåªç”¨Shellä¸ç”¨Finderã€‚ã€‚ã€‚ æ¥ç€æ‰¾èµ„æ–™å‘ç°å¦‚ä¸‹åŠæ³•ï¼Œ å®‰è£…ASEPSIS OS X 10.11ä»¥å‰çš„ç‰ˆæœ¬ç›´æ¥å®‰è£…å³å¯ OS X 10.11éœ€è¦å…³é—­SIPï¼ˆSystem Integrity Protectionï¼‰å†ä½¿ç”¨å‘½ä»¤touch ~/.no-asepsis-os-restriction æ–°å»ºæ–‡ä»¶å†å®‰è£… é‡å¯ç³»ç»Ÿ ç„¶åå¯ä»¥ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ é™¤macä¸Šæ‰€æœ‰çš„.DS_Storeï¼š 123find ~ -name &quot;.DS_Store&quot; -deleteæˆ–è€…find &lt;your path&gt; -name &quot;.DS_Store&quot; -delete å‚è€ƒèµ„æ–™ https://www.zhihu.com/question/20345704 https://zh.wikipedia.org/wiki/.DS_Store","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Mac","slug":"Mac","permalink":"http://frankchen.xyz/tags/Mac/"},{"name":".DS_Store","slug":"DS-Store","permalink":"http://frankchen.xyz/tags/DS-Store/"}]},{"title":"A efficiency comparison between while for generator comprehension - Python whileã€forã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ç­‰è¯­å¥çš„æ‰§è¡Œæ•ˆç‡å¯¹æ¯”","slug":"2016-11-11-a-efficiency-comparison-between-while-slash-for-slash-generator-slash-comprehension","date":"2016-11-11T14:43:17.000Z","updated":"2016-11-11T16:04:04.000Z","comments":true,"path":"2016/11/11/2016-11-11-a-efficiency-comparison-between-while-slash-for-slash-generator-slash-comprehension/","link":"","permalink":"http://frankchen.xyz/2016/11/11/2016-11-11-a-efficiency-comparison-between-while-slash-for-slash-generator-slash-comprehension/","excerpt":"pythonä¸­ï¼ŒåŒä¸€ä¸ªåŠŸèƒ½çš„å®ç°ï¼Œå¯ä»¥ç”¨å¤šç§è¯­å¥æ¥å®ç°ï¼Œæ¯”å¦‚è¯´:whileè¯­å¥ã€forè¯­å¥ã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ã€å†…ç½®å‡½æ•°ç­‰å®ç°ï¼Œç„¶è€Œä»–ä»¬çš„æ•ˆç‡å¹¶ä¸ä¸€æ ·ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°ç¨‹åºæ¥æµ‹è¯•å®ƒä»¬æ‰§è¡Œçš„æ•ˆç‡ã€‚","text":"pythonä¸­ï¼ŒåŒä¸€ä¸ªåŠŸèƒ½çš„å®ç°ï¼Œå¯ä»¥ç”¨å¤šç§è¯­å¥æ¥å®ç°ï¼Œæ¯”å¦‚è¯´:whileè¯­å¥ã€forè¯­å¥ã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ã€å†…ç½®å‡½æ•°ç­‰å®ç°ï¼Œç„¶è€Œä»–ä»¬çš„æ•ˆç‡å¹¶ä¸ä¸€æ ·ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°ç¨‹åºæ¥æµ‹è¯•å®ƒä»¬æ‰§è¡Œçš„æ•ˆç‡ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243import sys nums = 100 #æ¯ä¸ªå‡½æ•°å®ç°çš„éƒ½æ˜¯ä»1-100çš„è‡ªç„¶æ•°çš„ç»å¯¹å€¼æ·»åŠ è¿›ä¸€ä¸ªlistdef while_Statement(): #while loopå®ç° res = [] x = 0 while nums &gt; x: x += 1 res.append(abs(x)) def for_Statement(): #for loopå®ç° res = [] for x in range(nums): res.append(abs(x)) def generator_Expression(): #ç”Ÿæˆå™¨å®ç° res = list(abs(x) for x in range(nums)) def list_Comprehension(): #åˆ—è¡¨è§£æå¼å®ç°ï¼Œå¯¹æ¯”ç”Ÿæˆå™¨å®ç°å¯ä»¥å‘ç°ä¸¤è€…åŒºåˆ«åªæœ‰ä¸­æ‹¬å·ä¸å°æ‹¬å· res = [abs(x) for x in range(nums)] def map_Function(): #mapå‡½æ•°ï¼ˆå†…ç½®å‡½æ•°ï¼‰å®ç° res = map(abs, range(nums)) if __name__=='__main__': import timeit #ç”¨timeitæ¨¡å—æ¥æµ‹è¯• print sys.version funcs = [while_Statement, for_Statement, generator_Expression, list_Comprehension, map_Function] for func in funcs: print func.__name__.ljust(20),': ',timeit.timeit(\"func()\", setup=\"from __main__ import func\") æµ‹è¯•ç»“æœ:&gt;&gt;&gt; 2.7.10 (default, Oct 23 2015, 19:19:21) [GCC 4.2.1 Compatible Apple LLVM 7.0.0 (clang-700.0.59.5)]while_Statement : 16.0008671284for_Statement : 12.9374330044generator_Expression : 10.133701086list_Comprehension : 7.86516404152map_Function : 5.24277615547 ä»¥ä¸Šç”¨timeitæ¨¡å—ä¸¤ç§æµ‹è¯•æ–¹å¼æµ‹è¯•äº†è‹¥å¹²ç»„æ•°å­—ï¼Œå¾—å‡ºçš„ç»“æœæ˜¯æ‰§è¡Œå†…ç½®å‡½æ•°æœ€å¿«ï¼Œå…¶æ¬¡å°±æ˜¯åˆ—è¡¨æ¨å¯¼ï¼Œå†å…¶æ¬¡ç”Ÿæˆå™¨å’Œforå¾ªç¯ï¼Œwhileå¾ªç¯æœ€æ…¢ã€‚æœ€å¿«çš„ä½¿ç”¨å†…ç½®å‡½æ•°çš„æ–¹æ³•è¦æ¯”ä½¿ç”¨æœ€æ…¢çš„whileå¿«ä¸¤å€ä»¥ä¸Šã€‚ ç®€å•åˆ†æä¸‹åŸå› : å†…ç½®å‡½æ•°æ¯”å¦‚è¯´map,filter,reduceåŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨Cè¯­è¨€æ¥å®ç°çš„,æ‰€ä»¥é€Ÿåº¦æ˜¯æœ€å¿«çš„ï¼Œ åˆ—è¡¨æ¨å¯¼å†…çš„è¿­ä»£åœ¨è§£é‡Šå™¨å†…æ˜¯ä»¥Cè¯­è¨€çš„é€Ÿåº¦è¿è¡Œçš„(ä¸€èˆ¬æ˜¯forå¾ªç¯çš„ä¸¤å€,å¯¹å¤§å‹æ–‡ä»¶æ“ä½œè€Œè¨€ åˆ—è¡¨æ¨å¯¼æ•ˆæœå°¤å…¶æ˜æ˜¾)ï¼Œç›¸æ¯”è¾ƒforå¾ªç¯ä»£ç æ˜¯åœ¨PVMæ­¥è¿›è¿è¡Œè¦å¿«çš„å¤š forå¾ªç¯é‡Œé¢å«range()ï¼Œç›¸å¯¹é€Ÿåº¦ä¹Ÿä¼šå¿«äº›ï¼Œ whileè¯­å¥æ˜¯çº¯ç²¹ç”¨Pythonä»£ç å†™æˆï¼Œæ‰€ä»¥é€Ÿåº¦æœ€æ…¢ã€‚ ç»¼ä¸Šï¼Œæ‰€ä»¥å‡½æ•°å¼ç¼–ç¨‹æœ€å¥½ä½¿ç”¨å†…ç½®å‡½æ•°ï¼Œç„¶åæ‰è€ƒè™‘ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æˆ–forå¾ªç¯ã€‚æœ€å¥½ä¸ç”¨whileå¾ªç¯ã€‚ ##å‚è€ƒèµ„æ–™ Python whileã€forã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ç­‰è¯­å¥çš„æ‰§è¡Œæ•ˆç‡æµ‹è¯• PythonSpeed/PerformanceTips Python æ€§èƒ½å°è´´å£« (ç¬¬1éƒ¨åˆ†)","categories":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"}]},{"title":"ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1 å€¼ã€ROC/AUC ã€PRCå„è‡ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"metric","date":"2016-09-21T14:15:48.000Z","updated":"2017-01-13T09:47:10.000Z","comments":true,"path":"2016/09/21/metric/","link":"","permalink":"http://frankchen.xyz/2016/09/21/metric/","excerpt":"ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1 å€¼ã€ROCã€AUCã€PRCéƒ½æ˜¯æœºå™¨å­¦ä¹ æ¨¡å‹çš„å¸¸ç”¨è¯„ä»·æ ‡å‡†ï¼Œé‚£ä¹ˆå®ƒä»¬çš„åŒºåˆ«å’Œè”ç³»ä»¥åŠå„è‡ªåº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ è¿™äº›æŒ‡æ ‡çš„å«ä¹‰1234Precisionï¼šP=TP/(TP+FP)Recallï¼šR=TP/(TP+FN)F1-scoreï¼š2/(1/P+1/R)ROC/AUCï¼šTPR=TP/(TP+FN), FPR=FP/(FP+TN) TP â€”â€” True Positive ï¼ˆçœŸæ­£, TPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºçœŸçš„æ­£ç¡®ç‡ TN â€”â€” True Negativeï¼ˆçœŸè´Ÿ , TNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„è´Ÿæ ·æœ¬ ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºå‡çš„æ­£ç¡®ç‡ FP â€”â€”False Positive ï¼ˆå‡æ­£, FPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„è´Ÿæ ·æœ¬ï¼›å¯ä»¥ç§°ä½œè¯¯æŠ¥ç‡ FNâ€”â€” False Negativeï¼ˆå‡è´Ÿ , FNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œæ¼æŠ¥ç‡","text":"ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1 å€¼ã€ROCã€AUCã€PRCéƒ½æ˜¯æœºå™¨å­¦ä¹ æ¨¡å‹çš„å¸¸ç”¨è¯„ä»·æ ‡å‡†ï¼Œé‚£ä¹ˆå®ƒä»¬çš„åŒºåˆ«å’Œè”ç³»ä»¥åŠå„è‡ªåº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ è¿™äº›æŒ‡æ ‡çš„å«ä¹‰1234Precisionï¼šP=TP/(TP+FP)Recallï¼šR=TP/(TP+FN)F1-scoreï¼š2/(1/P+1/R)ROC/AUCï¼šTPR=TP/(TP+FN), FPR=FP/(FP+TN) TP â€”â€” True Positive ï¼ˆçœŸæ­£, TPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºçœŸçš„æ­£ç¡®ç‡ TN â€”â€” True Negativeï¼ˆçœŸè´Ÿ , TNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„è´Ÿæ ·æœ¬ ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºå‡çš„æ­£ç¡®ç‡ FP â€”â€”False Positive ï¼ˆå‡æ­£, FPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„è´Ÿæ ·æœ¬ï¼›å¯ä»¥ç§°ä½œè¯¯æŠ¥ç‡ FNâ€”â€” False Negativeï¼ˆå‡è´Ÿ , FNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œæ¼æŠ¥ç‡True Positive Rateï¼ˆçœŸæ­£ç‡ , TPRï¼‰æˆ–çµæ•åº¦ï¼ˆsensitivityï¼‰ ä¹Ÿå°±æ˜¯å¬å›ç‡ Recall TPR = TP \\/ï¼ˆTP + FNï¼‰ æ­£æ ·æœ¬é¢„æµ‹ç»“æœæ•° \\/ æ­£æ ·æœ¬å®é™…æ•° True Negative Rateï¼ˆçœŸè´Ÿç‡ , TNRï¼‰æˆ–ç‰¹æŒ‡åº¦ï¼ˆspecificityï¼‰ TNR = TN \\/ï¼ˆTN + FPï¼‰ è´Ÿæ ·æœ¬é¢„æµ‹ç»“æœæ•° \\/ è´Ÿæ ·æœ¬å®é™…æ•° False Positive Rate ï¼ˆå‡æ­£ç‡, FPRï¼‰ FPR = FP \\/ï¼ˆFP + TNï¼‰ è¢«é¢„æµ‹ä¸ºæ­£çš„è´Ÿæ ·æœ¬ç»“æœæ•° \\/è´Ÿæ ·æœ¬å®é™…æ•° False Negative Rateï¼ˆå‡è´Ÿç‡ , FNRï¼‰ FNR = FN \\/ï¼ˆTP + FNï¼‰ è¢«é¢„æµ‹ä¸ºè´Ÿçš„æ­£æ ·æœ¬ç»“æœæ•° \\/ æ­£æ ·æœ¬å®é™…æ•° å‡å®šä¸€ä¸ªå…·ä½“åœºæ™¯ä½œä¸ºä¾‹å­ï¼š å‡å¦‚æŸä¸ªç­çº§æœ‰ç”·ç”Ÿ80äºº,å¥³ç”Ÿ20äºº,å…±è®¡100äºº.ç›®æ ‡æ˜¯æ‰¾å‡ºæ‰€æœ‰å¥³ç”Ÿ. ç°åœ¨æŸäººæŒ‘é€‰å‡º50ä¸ªäºº,å…¶ä¸­20äººæ˜¯å¥³ç”Ÿ,å¦å¤–è¿˜é”™è¯¯çš„æŠŠ30ä¸ªç”·ç”Ÿä¹Ÿå½“ä½œå¥³ç”ŸæŒ‘é€‰å‡ºæ¥äº†. ä½œä¸ºè¯„ä¼°è€…çš„ä½ éœ€è¦æ¥è¯„ä¼°(evaluation)ä¸‹ä»–çš„å·¥ä½œã€‚ ç›¸å…³(Relevant),æ­£ç±» æ— å…³(NonRelevant),è´Ÿç±» è¢«æ£€ç´¢åˆ°(Retrieved) true positives(TP æ­£ç±»åˆ¤å®šä¸ºæ­£ç±»,ä¾‹å­ä¸­å°±æ˜¯æ­£ç¡®çš„åˆ¤å®šâ€è¿™ä½æ˜¯å¥³ç”Ÿâ€) false positives(FP è´Ÿç±»åˆ¤å®šä¸ºæ­£ç±»,â€å­˜ä¼ªâ€,ä¾‹å­ä¸­å°±æ˜¯åˆ†æ˜æ˜¯ç”·ç”Ÿå´åˆ¤æ–­ä¸ºå¥³ç”Ÿ,å½“ä¸‹ä¼ªå¨˜æ¨ªè¡Œ,è¿™ä¸ªé”™å¸¸æœ‰äººçŠ¯) æœªè¢«æ£€ç´¢åˆ°(Not Retrieved) false negatives(FN æ­£ç±»åˆ¤å®šä¸ºè´Ÿç±»,â€å»çœŸâ€,ä¾‹å­ä¸­å°±æ˜¯,åˆ†æ˜æ˜¯å¥³ç”Ÿ,è¿™å“¥ä»¬å´åˆ¤æ–­ä¸ºç”·ç”Ÿâ€“æ¢å±±ä¼¯åŒå­¦çŠ¯çš„é”™å°±æ˜¯è¿™ä¸ª) true negatives(TN è´Ÿç±»åˆ¤å®šä¸ºè´Ÿç±»,ä¹Ÿå°±æ˜¯ä¸€ä¸ªç”·ç”Ÿè¢«åˆ¤æ–­ä¸ºç”·ç”Ÿ,åƒæˆ‘è¿™æ ·çš„çº¯çˆ·ä»¬ä¸€å‡†å„¿å°±ä¼šåœ¨æ­¤å¤„) é€šè¿‡è¿™å¼ è¡¨,æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å¾—åˆ°è¿™å‡ ä¸ªå€¼: TP=20 FP=30 FN=0 TN=50 ç²¾ç¡®ç‡ï¼š ç­–ç•¥å‘½ä¸­çš„æ‰€æœ‰ç›¸å…³æ ·æœ¬\\/ç­–ç•¥å‘½ä¸­çš„æ‰€æœ‰æ ·æœ¬ Precision = TP \\/ (TP + FP) _æ³¨ï¼šæ­£ç¡®ç‡\\/å‡†ç¡®ç‡ï¼ˆaccuracyï¼‰å’Œ ç²¾åº¦ï¼ˆprecisionï¼‰ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µ_ _æ­£ç¡®ç‡æ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„è¯„ä»·æŒ‡æ ‡ï¼Œaccuracy = ï¼ˆTP+TNï¼‰\\/(P+N)ï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯è¢«åˆ†å¯¹çš„æ ·æœ¬æ•°é™¤ä»¥æ‰€æœ‰çš„æ ·æœ¬æ•°_ å¬å›ç‡ï¼šç­–ç•¥å‘½ä¸­çš„æ‰€æœ‰ç›¸å…³æ ·æœ¬\\/æ‰€æœ‰çš„ç›¸å…³æ ·æœ¬ï¼ˆåŒ…æ‹¬ç­–ç•¥æœªè¢«å‘½ä¸­çš„ï¼‰ Recall = TP \\/ (TP + FN) F1-score(F1-åˆ†æ•°)ï¼š2Ã—å‡†ç¡®ç‡Ã—å¬å›ç‡\\/ï¼ˆå‡†ç¡®ç‡+å¬å›ç‡ï¼‰ï¼Œæ˜¯æ¨¡å‹å‡†ç¡®ç‡å’Œå¬å›ç‡çš„ä¸€ç§åŠ æƒå¹³å‡ï¼Œå®ƒçš„æœ€å¤§å€¼æ˜¯1ï¼Œæœ€å°å€¼æ˜¯0ã€‚ï¼ˆè¯¦ç»†ä»‹ç»è§ä¸‹ï¼‰ ROC(_receiver operating characteristic curve_): ROCæ›²çº¿çš„æ¨ªåæ ‡ä¸º_false positive rate_ï¼ˆFPR,å‡æ­£ç‡ï¼‰ï¼Œçºµåæ ‡ä¸º_true positive rate_ï¼ˆTPRï¼ŒçœŸæ­£ç‡ï¼Œå¬å›ç‡ï¼‰ PRC(_precision recall curve_): PRCæ›²çº¿çš„æ¨ªåæ ‡ä¸ºå¬å›ç‡_Recall_ï¼Œçºµåæ ‡ä¸ºå‡†ç¡®ç‡_Precision_ã€‚ AUC:è¢«å®šä¹‰ä¸ºROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œæ˜¾ç„¶è¿™ä¸ªé¢ç§¯çš„æ•°å€¼ä¸ä¼šå¤§äº1ã€‚æ•…AUCä¸PRCæ˜¯åŒä¸€æ¦‚å¿µã€‚åˆç”±äºROCæ›²çº¿ä¸€èˆ¬éƒ½å¤„äºy=xè¿™æ¡ç›´çº¿çš„ä¸Šæ–¹ï¼Œæ‰€ä»¥AUCçš„å–å€¼èŒƒå›´ä¸€èˆ¬åœ¨0.5å’Œ1ä¹‹é—´ã€‚ æŒ‡æ ‡çš„è¯„ä»·æ ‡å‡†ROCä¸AUCROCï¼ˆreceiver operating characteristic curveï¼‰ä¹Ÿå°±æ˜¯ä¸‹å›¾ä¸­çš„æ›²çº¿ï¼Œå…¶å…³æ³¨ä¸¤ä¸ªæŒ‡æ ‡ True Positive Rate ( TPR ) = TP \\/ [ TP + FN] ï¼ŒTPRä»£è¡¨èƒ½å°†æ­£ä¾‹åˆ†å¯¹çš„æ¦‚ç‡ False Positive Rate( FPR ) = FP \\/ [ FP + TN] ï¼ŒFPRä»£è¡¨å°†è´Ÿä¾‹é”™åˆ†ä¸ºæ­£ä¾‹çš„æ¦‚ç‡ åœ¨ROC ç©ºé—´ä¸­ï¼Œæ¯ä¸ªç‚¹çš„æ¨ªåæ ‡æ˜¯FPRï¼Œçºµåæ ‡æ˜¯TPRï¼Œè¿™ä¹Ÿå°±æç»˜äº†åˆ†ç±»å™¨åœ¨TPï¼ˆçœŸæ­£çš„æ­£ä¾‹ï¼‰å’ŒFPï¼ˆé”™è¯¯çš„æ­£ä¾‹ï¼‰é—´çš„trade-offã€‚ROCçš„ä¸»è¦åˆ†æå·¥å…·æ˜¯ä¸€ä¸ªç”»åœ¨ROCç©ºé—´çš„æ›²çº¿â€”â€”ROC curveã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºäºŒå€¼åˆ†ç±»é—®é¢˜ï¼Œå®ä¾‹çš„å€¼å¾€å¾€æ˜¯è¿ç»­å€¼ï¼Œæˆ‘ä»¬é€šè¿‡è®¾å®šä¸€ä¸ªé˜ˆå€¼ï¼Œå°†å®ä¾‹åˆ†ç±»åˆ°æ­£ç±»æˆ–è€…è´Ÿç±»ï¼ˆæ¯”å¦‚å¤§äºé˜ˆå€¼åˆ’åˆ†ä¸ºæ­£ç±»ï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å˜åŒ–é˜ˆå€¼ï¼Œæ ¹æ®ä¸åŒçš„é˜ˆå€¼è¿›è¡Œåˆ†ç±»ï¼Œæ ¹æ®åˆ†ç±»ç»“æœè®¡ç®—å¾—åˆ°ROCç©ºé—´ä¸­ç›¸åº”çš„ç‚¹ï¼Œè¿æ¥è¿™äº›ç‚¹å°±å½¢æˆROC curveã€‚ROC curveç»è¿‡ï¼ˆ0,0ï¼‰ï¼ˆ1,1ï¼‰ï¼Œå®é™…ä¸Š(0, 0)å’Œ(1, 1)è¿çº¿å½¢æˆçš„ROC curveå®é™…ä¸Šä»£è¡¨çš„æ˜¯ä¸€ä¸ªéšæœºåˆ†ç±»å™¨ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ›²çº¿éƒ½åº”è¯¥å¤„äº(0, 0)å’Œ(1, 1)è¿çº¿çš„ä¸Šæ–¹ã€‚å¦‚å›¾æ‰€ç¤ºã€‚ ç”¨ROC curveæ¥è¡¨ç¤ºåˆ†ç±»å™¨çš„performanceå¾ˆç›´è§‚å¥½ç”¨ã€‚å¯æ˜¯ï¼Œäººä»¬æ€»æ˜¯å¸Œæœ›èƒ½æœ‰ä¸€ä¸ªæ•°å€¼æ¥æ ‡å¿—åˆ†ç±»å™¨çš„å¥½åã€‚ äºæ˜¯Area Under roc Curve(AUC)å°±å‡ºç°äº†ã€‚é¡¾åæ€ä¹‰ï¼ŒAUCçš„å€¼å°±æ˜¯å¤„äºROC curveä¸‹æ–¹çš„é‚£éƒ¨åˆ†é¢ç§¯çš„å¤§å°ã€‚é€šå¸¸ï¼ŒAUCçš„å€¼ä»‹äº0.5åˆ°1.0ä¹‹é—´ï¼Œè¾ƒå¤§çš„AUCä»£è¡¨äº†è¾ƒå¥½çš„Performanceã€‚ åŒæ—¶æˆ‘ä»¬ä¹Ÿçœ‹é‡Œé¢ä¹Ÿä¸Šäº†AUCä¹Ÿå°±æ˜¯æ˜¯é¢ç§¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœROCæ˜¯å…‰æ»‘çš„ï¼Œé‚£ä¹ˆåŸºæœ¬å¯ä»¥åˆ¤æ–­æ²¡æœ‰å¤ªå¤§çš„overfittingï¼ˆæ¯”å¦‚å›¾ä¸­0.2åˆ°0.4å¯èƒ½å°±æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ ·æœ¬å¤ªå°‘äº†ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™è°ƒæ¨¡å‹å¯ä»¥åªçœ‹AUCï¼Œé¢ç§¯è¶Šå¤§ä¸€èˆ¬è®¤ä¸ºæ¨¡å‹è¶Šå¥½ã€‚ PRCå†è¯´PRCï¼Œ precision recall curveã€‚å’ŒROCä¸€æ ·ï¼Œå…ˆçœ‹å¹³æ»‘ä¸å¹³æ»‘ï¼ˆè“çº¿æ˜æ˜¾å¥½äº›ï¼‰ï¼Œåœ¨çœ‹è°ä¸Šè°ä¸‹ï¼ˆåŒä¸€æµ‹è¯•é›†ä¸Šï¼‰ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä¸Šé¢çš„æ¯”ä¸‹é¢çš„å¥½ï¼ˆç»¿çº¿æ¯”çº¢çº¿å¥½ï¼‰ã€‚F1ï¼ˆä¸‹é¢ä»‹ç»ï¼‰å½“På’ŒRæ¥è¿‘å°±ä¹Ÿè¶Šå¤§ï¼Œä¸€èˆ¬ä¼šç”»è¿æ¥(0,0)å’Œ(1,1)çš„çº¿ï¼Œçº¿å’ŒPRCé‡åˆçš„åœ°æ–¹çš„F1æ˜¯è¿™æ¡çº¿æœ€å¤§çš„F1ï¼ˆå…‰æ»‘çš„æƒ…å†µä¸‹ï¼‰ï¼Œæ­¤æ—¶çš„F1å¯¹äºPRCå°±å¥½è±¡AUCå¯¹äºROCä¸€æ ·ã€‚ä¸€ä¸ªæ•°å­—æ¯”ä¸€æ¡çº¿æ›´æ–¹ä¾¿è°ƒæ¨¡å‹ã€‚ ä»¥ä¸Šä¸¤ä¸ªæŒ‡æ ‡ç”¨æ¥åˆ¤æ–­æ¨¡å‹å¥½åï¼Œä½†æ˜¯æœ‰æ—¶å€™æ¨¡å‹æ²¡æœ‰å•çº¯çš„è°æ¯”è°å¥½ï¼ˆæ¯”å¦‚å›¾äºŒçš„è“çº¿å’Œé’çº¿ï¼‰ï¼Œé‚£ä¹ˆé€‰æ‹©æ¨¡å‹è¿˜æ˜¯è¦ç»“åˆå…·ä½“çš„ä½¿ç”¨åœºæ™¯ã€‚ ä¸‹é¢æ˜¯ä¸¤ä¸ªåœºæ™¯ï¼š åœ°éœ‡çš„é¢„æµ‹ å¯¹äºåœ°éœ‡çš„é¢„æµ‹ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯RECALLéå¸¸é«˜ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡åœ°éœ‡æˆ‘ä»¬éƒ½å¸Œæœ›é¢„æµ‹å‡ºæ¥ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç‰ºç‰²PRECISIONã€‚æƒ…æ„¿å‘å‡º1000æ¬¡è­¦æŠ¥ï¼ŒæŠŠ10æ¬¡åœ°éœ‡éƒ½é¢„æµ‹æ­£ç¡®äº†ï¼›ä¹Ÿä¸è¦é¢„æµ‹100æ¬¡å¯¹äº†8æ¬¡æ¼äº†ä¸¤æ¬¡ã€‚ å«Œç–‘äººå®šç½ª åŸºäºä¸é”™æ€ªä¸€ä¸ªå¥½äººçš„åŸåˆ™ï¼Œå¯¹äºå«Œç–‘äººçš„å®šç½ªæˆ‘ä»¬å¸Œæœ›æ˜¯éå¸¸å‡†ç¡®çš„ã€‚åŠæ—¶æœ‰æ—¶å€™æ”¾è¿‡äº†ä¸€äº›ç½ªçŠ¯ï¼ˆrecallä½ï¼‰ï¼Œä½†ä¹Ÿæ˜¯å€¼å¾—çš„ã€‚ å¯¹äºåˆ†ç±»å™¨æ¥è¯´ï¼Œæœ¬è´¨ä¸Šæ˜¯ç»™ä¸€ä¸ªæ¦‚ç‡ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å†é€‰æ‹©ä¸€ä¸ªCUTOFFç‚¹ï¼ˆé˜€å€¼ï¼‰ï¼Œé«˜äºè¿™ä¸ªç‚¹çš„åˆ¤æ­£ï¼Œä½äºçš„åˆ¤è´Ÿã€‚é‚£ä¹ˆè¿™ä¸ªç‚¹çš„é€‰æ‹©å°±éœ€è¦ç»“åˆä½ çš„å…·ä½“åœºæ™¯å»é€‰æ‹©ã€‚åè¿‡æ¥ï¼Œåœºæ™¯ä¼šå†³å®šè®­ç»ƒæ¨¡å‹æ—¶çš„æ ‡å‡†ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å°±åªçœ‹RECALL=99.9999%ï¼ˆåœ°éœ‡å…¨ä¸­ï¼‰æ—¶çš„PRECISIONï¼Œå…¶ä»–æŒ‡æ ‡å°±å˜å¾—æ²¡æœ‰äº†æ„ä¹‰ã€‚ PRCæ¯”ROCæ›´æœ‰æ•ˆçš„ç‰¹æ®Šæƒ…å†µåœ¨æ­£è´Ÿæ ·æœ¬åˆ†å¸ƒå¾—æä¸å‡åŒ€(highly skewed datasets)çš„æƒ…å†µä¸‹ï¼ŒPRCæ¯”ROCèƒ½æ›´æœ‰æ•ˆåœ°ååº”åˆ†ç±»å™¨çš„å¥½åã€‚ ä¾‹å¦‚ä¸Šå›¾ä¸­å›¾(a)ROCæ›²çº¿ä¸­çš„ä¸¤ä¸ªæ¨¡å‹çœ‹ä¼¼éå¸¸æ¥è¿‘å·¦ä¸Šè§’ï¼Œä½†æ˜¯å¯¹åº”ç€åŒä¸€ç‚¹çš„å›¾(b)ä¸­çš„PRCæ›²çº¿ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨å¬å›ç‡ä¸º0.8æ—¶å‡†ç¡®ç‡åªæœ‰0.05ä¹‹å°‘ï¼Œè¿™æ˜¯ç”±äºæ­£è´Ÿæ ·æœ¬æ¯”ä¾‹å¤±è¡¡é€ æˆçš„ã€‚ å†å¦‚ä¸‹å›¾ï¼š åœ¨testing setå‡ºç°imbalanceæ—¶ROCæ›²çº¿èƒ½ä¿æŒä¸å˜ï¼Œè€ŒPRåˆ™ä¼šå‡ºç°å¤§å˜åŒ–ã€‚å¼•ç”¨å›¾(Fawcett, 2006)ï¼Œ(a)(c)ä¸ºROCï¼Œ(b)(d)ä¸ºPRï¼Œ(a)(b)æ ·æœ¬æ¯”ä¾‹1:1ï¼Œ(c)(d)ä¸º1:10ã€‚ F1ä¿¡æ¯æ£€ç´¢ã€åˆ†ç±»ã€è¯†åˆ«ã€ç¿»è¯‘ç­‰é¢†åŸŸä¸¤ä¸ªæœ€åŸºæœ¬æŒ‡æ ‡æ˜¯å¬å›ç‡(Recall Rate)å’Œå‡†ç¡®ç‡(Precision Rate)ï¼Œå¬å›ç‡ä¹Ÿå«æŸ¥å…¨ç‡ï¼Œå‡†ç¡®ç‡ä¹Ÿå«æŸ¥å‡†ç‡ã€‚ å›¾è¡¨è¡¨ç¤ºå¦‚ä¸‹ï¼š å‡†ç¡®ç‡å’Œå¬å›ç‡æ˜¯äº’ç›¸å½±å“çš„ï¼Œç†æƒ³æƒ…å†µä¸‹è‚¯å®šæ˜¯åšåˆ°ä¸¤è€…éƒ½é«˜ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹å‡†ç¡®ç‡é«˜ã€å¬å›ç‡å°±ä½ï¼Œå¬å›ç‡ä½ã€å‡†ç¡®ç‡é«˜ï¼Œå½“ç„¶å¦‚æœä¸¤è€…éƒ½ä½ï¼Œé‚£æ˜¯ä»€ä¹ˆåœ°æ–¹å‡ºé—®é¢˜äº†ã€‚ä¸€èˆ¬æƒ…å†µï¼Œç”¨ä¸åŒçš„é˜€å€¼ï¼Œç»Ÿè®¡å‡ºä¸€ç»„ä¸åŒé˜€å€¼ä¸‹çš„ç²¾ç¡®ç‡å’Œå¬å›ç‡ï¼Œè¿™å°±æ˜¯PRCæ›²çº¿ã€‚å¦‚ä¸‹å›¾ï¼š å¦‚æœæ˜¯åšæœç´¢ï¼Œé‚£å°±æ˜¯ä¿è¯å¬å›çš„æƒ…å†µä¸‹æå‡å‡†ç¡®ç‡ï¼›å¦‚æœåšç–¾ç—…ç›‘æµ‹ã€ååƒåœ¾ï¼Œåˆ™æ˜¯ä¿å‡†ç¡®ç‡çš„æ¡ä»¶ä¸‹ï¼Œæå‡å¬å›ã€‚ æ‰€ä»¥ï¼Œåœ¨ä¸¤è€…éƒ½è¦æ±‚é«˜çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç”¨F1æ¥è¡¡é‡ã€‚ F1 = 2 * P * R / (P + R) æ€»ç»“ AUCæ˜¯ROCçš„ç§¯åˆ†ï¼ˆæ›²çº¿ä¸‹é¢ç§¯ï¼‰ï¼Œæ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œä¸€èˆ¬è®¤ä¸ºè¶Šå¤§è¶Šå¥½ï¼Œæ•°å€¼ç›¸å¯¹äºæ›²çº¿è€Œè¨€æ›´å®¹æ˜“å½“åšè°ƒå‚çš„å‚ç…§ã€‚ ROCç›¸æ¯”PRCåœ¨æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹æ‚¬æ®Šæ—¶å…·æœ‰ä¿æŒå•è°ƒæ€§çš„ç‰¹æ€§ï¼Œå­¦æœ¯è®ºæ–‡åœ¨å‡å®šæ­£è´Ÿæ ·æœ¬å‡è¡¡çš„æ—¶å€™å¤šç”¨ROC\\/AUCã€‚ å®é™…å·¥ç¨‹æ›´å¤šå­˜åœ¨æ•°æ®æ ‡ç­¾å€¾æ–œé—®é¢˜ä¸€èˆ¬ä½¿ç”¨F1ã€‚","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Machine Learning","slug":"Machine-Learning","permalink":"http://frankchen.xyz/tags/Machine-Learning/"}]},{"title":"PDF click return","slug":"2016-09-07-pdf-click-return","date":"2016-09-07T02:57:05.000Z","updated":"2016-11-11T13:50:33.000Z","comments":true,"path":"2016/09/07/2016-09-07-pdf-click-return/","link":"","permalink":"http://frankchen.xyz/2016/09/07/2016-09-07-pdf-click-return/","excerpt":"","text":"åœ¨é˜…è¯»PDFæ–‡æ¡£æ—¶ï¼Œå¦‚æœç‚¹å‡»äº†æ–‡æ¡£ä¸­çš„é“¾æ¥ï¼Œè·³è½¬åˆ°å¦ä¸€é¡µï¼Œæƒ³å†å¿«é€Ÿè¿”å›åŸæ¥çš„é¡µé¢ï¼Œä½¿ç”¨alt+å·¦ç®­å¤´çš„ç»„åˆé”®å³å¯ã€‚ æ ¹æ®æƒ…å†µçš„ä¸åŒï¼Œæœ‰æ—¶éœ€è¦ä½¿ç”¨è‹¥å¹²æ¬¡æ‰èƒ½è¿”å›åŸæ¥çš„é¡µé¢ï¼Œè¿™ä¸ªç»„åˆé”®å°±ç›¸å½“äºå›é€€ï¼Œå¦‚æœç‚¹å‡»äº†é“¾æ¥åˆ°äº†æ–°çš„é¡µé¢ï¼Œåœ¨æ–°çš„é¡µé¢ä¸Šåˆç§»åŠ¨äº†é¡µé¢ï¼Œå¦‚å‘ä¸Šæˆ–å‘ä¸‹æµè§ˆï¼Œé‚£ä¹ˆè‡³å°‘è¦ä½¿ç”¨2æ¬¡æˆ–2æ¬¡ä»¥ä¸Šalt+å·¦ç®­å¤´ç»„åˆé”®æ‰èƒ½ç»ˆç‚¹åŸé“¾æ¥å¤„ã€‚ è€Œæƒ³è¦å†æ¬¡å›é€€å°±ä½¿ç”¨alt+å³ç®­å¤´ç»„åˆè¿›è¡Œæ“ä½œå³å¯ã€‚","categories":[],"tags":[{"name":"tips","slug":"tips","permalink":"http://frankchen.xyz/tags/tips/"}]},{"title":"å¦‚ä½•è§£å†³Linux ä¸‹ zip æ–‡ä»¶è§£å‹ä¹±ç ","slug":"Linux zip encoding","date":"2016-07-16T04:11:14.000Z","updated":"2016-11-11T13:50:33.000Z","comments":true,"path":"2016/07/16/Linux zip encoding/","link":"","permalink":"http://frankchen.xyz/2016/07/16/Linux zip encoding/","excerpt":"ç”±äºzipæ ¼å¼ä¸­å¹¶æ²¡æœ‰æŒ‡å®šç¼–ç æ ¼å¼ï¼ŒWindowsä¸‹ç”Ÿæˆçš„zipæ–‡ä»¶ä¸­çš„ç¼–ç æ˜¯GBK/GB2312ç­‰ï¼Œå› æ­¤ï¼Œå¯¼è‡´è¿™äº›zipæ–‡ä»¶åœ¨Linuxä¸‹è§£å‹æ—¶å‡ºç°ä¹±ç é—®é¢˜ï¼Œå› ä¸ºLinuxä¸‹çš„é»˜è®¤ç¼–ç æ˜¯UTF8ã€‚ç›®å‰ç½‘ä¸Šæµä¼ ä¸€ç§unzip -O cp936çš„æ–¹æ³•ï¼Œä½†ä¸€äº›unzipæ˜¯æ²¡æœ‰-Oè¿™ä¸ªé€‰é¡¹çš„ã€‚","text":"ç”±äºzipæ ¼å¼ä¸­å¹¶æ²¡æœ‰æŒ‡å®šç¼–ç æ ¼å¼ï¼ŒWindowsä¸‹ç”Ÿæˆçš„zipæ–‡ä»¶ä¸­çš„ç¼–ç æ˜¯GBK/GB2312ç­‰ï¼Œå› æ­¤ï¼Œå¯¼è‡´è¿™äº›zipæ–‡ä»¶åœ¨Linuxä¸‹è§£å‹æ—¶å‡ºç°ä¹±ç é—®é¢˜ï¼Œå› ä¸ºLinuxä¸‹çš„é»˜è®¤ç¼–ç æ˜¯UTF8ã€‚ç›®å‰ç½‘ä¸Šæµä¼ ä¸€ç§unzip -O cp936çš„æ–¹æ³•ï¼Œä½†ä¸€äº›unzipæ˜¯æ²¡æœ‰-Oè¿™ä¸ªé€‰é¡¹çš„ã€‚ åœ¨ubuntuä¸‹çš„å®‰è£…å‘½ä»¤æ˜¯ sudo apt-get install p7zip convmv å®‰è£…å®Œä¹‹åï¼Œå°±å¯ä»¥ç”¨7zaå’Œconvmvä¸¤ä¸ªå‘½ä»¤å®Œæˆè§£å‹ç¼©ä»»åŠ¡ã€‚ LANG=C 7za x your-zip-file.zip convmv -f GBK -t utf8 --notest -r . ç¬¬ä¸€æ¡å‘½ä»¤ç”¨äºè§£å‹ç¼©ï¼Œè€ŒLANG=Cè¡¨ç¤ºä»¥US-ASCIIè¿™æ ·çš„ç¼–ç è¾“å‡ºæ–‡ä»¶åï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªè¯­è¨€è®¾ç½®ï¼Œå®ƒåŒæ ·ä¼šè¾“å‡ºä¹±ç ï¼Œåªä¸è¿‡æ˜¯UTF8æ ¼å¼çš„ä¹±ç (convmvä¼šå¿½ç•¥è¿™æ ·çš„ä¹±ç )ã€‚ç¬¬äºŒæ¡å‘½ä»¤æ˜¯å°†GBKç¼–ç çš„æ–‡ä»¶åè½¬åŒ–ä¸ºUTF8ç¼–ç ï¼Œ-rè¡¨ç¤ºé€’å½’è®¿é—®ç›®å½•ï¼Œå³å¯¹å½“å‰ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶è¿›è¡Œè½¬æ¢ã€‚ ä½œè€…ï¼šLatm Akeé“¾æ¥ï¼šhttps://www.zhihu.com/question/20523036/answer/35225920æ¥æºï¼šçŸ¥ä¹è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒã€‚","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"RECURRENT NEURAL NETWORK TUTORIAL, PART 4 â€“ IMPLEMENTING A GRU/LSTM RNN WITH PYTHON AND THEANO","slug":"2016-06-22-recurrent-neural-network-tutorial-part-4-implementing-a-gru-slash-lstm-rnn-with-python-and-theano","date":"2016-06-22T13:42:51.000Z","updated":"2017-01-13T09:47:09.000Z","comments":true,"path":"2016/06/22/2016-06-22-recurrent-neural-network-tutorial-part-4-implementing-a-gru-slash-lstm-rnn-with-python-and-theano/","link":"","permalink":"http://frankchen.xyz/2016/06/22/2016-06-22-recurrent-neural-network-tutorial-part-4-implementing-a-gru-slash-lstm-rnn-with-python-and-theano/","excerpt":"æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å…³äºLSTM (Long Short Term Memory)ç½‘ç»œå’Œ GRUs (Gated Recurrent Units)çš„çŸ¥è¯†ã€‚LSTMæœ€åˆç”±Sepp Hochreiter and JÃ¼rgen Schmidhuberäº1997å¹´æå‡ºï¼Œå¦‚ä»Šæ˜¯æ·±åº¦å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸæœ€æµè¡Œçš„æ¨¡å‹ã€‚GRUï¼Œå‡ºç°äº2014å¹´ï¼Œæ˜¯LSTMçš„ç®€åŒ–ç‰ˆï¼Œä¸LSTMæœ‰è®¸å¤šç›¸ä¼¼çš„ç‰¹æ€§ã€‚","text":"æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å…³äºLSTM (Long Short Term Memory)ç½‘ç»œå’Œ GRUs (Gated Recurrent Units)çš„çŸ¥è¯†ã€‚LSTMæœ€åˆç”±Sepp Hochreiter and JÃ¼rgen Schmidhuberäº1997å¹´æå‡ºï¼Œå¦‚ä»Šæ˜¯æ·±åº¦å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸæœ€æµè¡Œçš„æ¨¡å‹ã€‚GRUï¼Œå‡ºç°äº2014å¹´ï¼Œæ˜¯LSTMçš„ç®€åŒ–ç‰ˆï¼Œä¸LSTMæœ‰è®¸å¤šç›¸ä¼¼çš„ç‰¹æ€§ã€‚ ##LSTM ç½‘ç»œ åœ¨ç¬¬ä¸‰éƒ¨åˆ†æˆ‘ä»¬æåˆ°äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜å¦¨ç¢äº†æ ‡å‡†çš„RNNå­¦ä¹ é•¿æœŸä¾èµ–é—®é¢˜ã€‚LSTMè¢«è®¾è®¡äºç”¨gateç»“æ„è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚ä¸ºäº†ç†è§£è¿™ä¸ªæœºåˆ¶ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹LSTMå¦‚ä½•è®¡ç®—éšè—çŠ¶æ€$$s_t$$ï¼ˆå…¶ä¸­å°åœ†åœˆä»£è¡¨Hadamard productï¼Œå³åŒå‹çŸ©é˜µå„å…ƒç´ å¯¹åº”ç›¸ä¹˜ï¼Œä¸åŒäºçŸ©é˜µç‚¹ä¹˜ï¼‰ã€‚ å¼å­çœ‹èµ·æ¥å¤æ‚ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ç†è§£å®åˆ™ç®€å•ã€‚é¦–å…ˆï¼ŒLSTMçš„ä¸€å±‚ä»£è¡¨çš„åªæ˜¯å¦ä¸€ç§è®¡ç®—éšè—å±‚çš„æ–¹æ³•ã€‚ä¹‹å‰æˆ‘ä»¬è®¡ç®—äº†éšè—çŠ¶æ€$$s_t = tanh(Ux_t + WS_{s-1})$$ã€‚å¯¹äºå½“å‰çš„å•å…ƒï¼Œè¾“å…¥æ˜¯$$t$$æ—¶åˆ»çš„$$x_t$$ï¼Œè€Œ$$s_{t-1}$$æ˜¯ä¹‹å‰çš„éšè—çŠ¶æ€ï¼Œè¾“å‡ºæ˜¯æ–°çš„éšè—çŠ¶æ€$$s_t$$ã€‚å…¶å®ï¼ŒLSTMåšçš„äº‹æƒ…æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œåªä¸è¿‡æ¢äº†ç§æ–¹å¼ï¼Œè¿™ä¹Ÿæ˜¯ç†è§£LSTMçš„æ ¸å¿ƒã€‚æˆ‘ä»¬å¯ä»¥æŠŠLSTMå•å…ƒçœ‹ä½œæ˜¯é»‘ç›’å­ï¼Œç»™äºˆå…¶å½“å‰è¾“å…¥å’Œä¹‹å‰çš„éšè—çŠ¶æ€ï¼Œå®ƒå¯ä»¥è¾“å‡ºä¸‹ä¸€ä¸ªéšè—çŠ¶æ€ã€‚ æŠŠè¿™ä¸ªç‰¢è®°äºå¿ƒï¼Œæˆ‘ä»¬å¼€å§‹æ¥é˜è¿°LSTMå¦‚ä½•è®¡ç®—éšè—çŠ¶æ€ã€‚å…³äºè¿™ä¸€ç‚¹ï¼Œè¯¦ç»†å¯çœ‹è¿™ç¯‡æ–‡ç« ï¼Œè¿™é‡Œæˆ‘ä»¬åªä½œç®€çŸ­æè¿°ï¼š $$i,f,o$$åˆ†åˆ«è¢«ç§°ä¸ºè¾“å…¥é—¨ã€é—å¿˜é—¨å’Œè¾“å‡ºé—¨ã€‚æ³¨æ„åˆ°ï¼Œå®ƒä»¬å…·æœ‰ç›¸åŒçš„ç­‰å¼ï¼Œåªæ˜¯å‚æ•°çŸ©é˜µä¸åŒã€‚å®ƒä»¬ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œé—¨â€ï¼Œæ˜¯å› ä¸ºsigmoidå‡½æ•°å°†å‘é‡å€¼å‹ç¼©åˆ°0å’Œ1ä¹‹é—´ï¼Œå†ä¸å¦ä¸€ä¸ªå‘é‡ç›¸ä¹˜ï¼Œæˆ‘ä»¬å› æ­¤å†³å®šå‘é‡çš„å¤šå°‘â€œé€šè¿‡â€ã€‚è¾“å…¥é—¨å†³å®šå½“å‰è¾“å…¥è®¡ç®—å‡ºæ¥çš„çŠ¶æ€çš„å¤šå°‘æˆåˆ†è¢«é€šè¿‡ï¼Œé—å¿˜é—¨å†³å®šä¹‹å‰çš„çŠ¶æ€æœ‰å¤šå°‘å¯ä»¥è¢«ä¿ç•™åˆ°ä¹‹åï¼Œè¾“å‡ºé—¨å†³å®šå½“å‰çš„çŠ¶æ€æœ‰å¤šå°‘è¢«ä¼ é€åˆ°å¤–å±‚çš„ç½‘ç»œï¼ˆé«˜å±‚ç½‘ç»œå’Œä¸‹ä¸€æ—¶åˆ»ï¼‰ã€‚è¿™äº›é—¨çš„ç»´åº¦éƒ½æ˜¯$$d_s$$ï¼Œå³éšè—å±‚çš„å¤§å°ã€‚ $$g$$æ˜¯ä¸€ä¸ªå€™é€‰çš„éšè—çŠ¶æ€ï¼ŒåŸºäºå½“å‰çš„è¾“å…¥å’Œä¹‹å‰çš„éšè—çŠ¶æ€è®¡ç®—è€Œå‡ºã€‚å…¶ä¸vanilla RNNçš„è®¡ç®—ç­‰å¼ç›¸åŒï¼Œåªæ˜¯æŠŠå‚æ•°$$U,W$$æ”¹åä¸º$$U^g,W^g$$ã€‚å’ŒRNNçš„ç›´æ¥å°†$$g$$ä½œä¸ºå¿ƒçš„éšè—çŠ¶æ€ä¸åŒï¼Œæˆ‘ä»¬å°†å…¶é€šè¿‡ä¸€ä¸ªè¾“å…¥é—¨æ¥å†³å®šä¿ç•™å®ƒçš„å¤šå°‘æˆåˆ†ã€‚ $$c_t$$æ˜¯å•å…ƒçš„å†…éƒ¨çš„è®°å¿†ï¼Œå®ƒç”±ä¹‹å‰çš„è®°å¿†$$c_{t-1}$$é€šè¿‡é—å¿˜é—¨å†åŠ ä¸Šæ–°è®¡ç®—å‡ºæ¥çš„éšè—çŠ¶æ€$$g$$é€šè¿‡è¾“å…¥é—¨è®¡ç®—å¾—å‡ºã€‚å› æ­¤ï¼Œå®ƒä»£è¡¨äº†æ—§çš„è®°å¿†ä¸æ–°çš„è¾“å…¥çš„ç»“åˆã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©å…¨éƒ¨å¿½ç•¥æ—§çš„è®°å¿†ï¼ˆé—å¿˜é—¨å…¨éƒ¨ç½®é›¶ï¼‰ï¼Œæˆ–è€…å¿½ç•¥å…¨éƒ¨çš„è®¡ç®—å‡ºçš„æ–°çŠ¶æ€ï¼ˆè¾“å…¥é—¨å…¨éƒ¨ç½®é›¶ï¼‰ï¼Œä½†æ˜¯é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬å¯èƒ½æ›´å¸Œæœ›ä»‹äºä¸¤è€…ä¹‹é—´ã€‚ ç»™å®šè®°å¿†$$c_t$$ï¼Œæˆ‘ä»¬æœ€ç»ˆé€šè¿‡è®©è®°å¿†å’Œè¾“å‡ºé—¨ç›¸ä¹˜è®¡ç®—å‡ºè¾“å‡ºéšè—å±‚çŠ¶æ€$$s_t$$ã€‚åœ¨ç½‘ç»œå†…ï¼Œä¸æ˜¯æ‰€æœ‰çš„å†…éƒ¨è®°å¿†éƒ½ä¸å…¶ä»–å•å…ƒä½¿ç”¨çš„éšè—çŠ¶æ€æœ‰å…³ã€‚ æ¢ä¸€ç§è¯´æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ ‡å‡†çš„RNNçœ‹ä½œæ˜¯ç‰¹æ®Šçš„LSTMï¼Œå¦‚æœæˆ‘ä»¬å°†é—å¿˜é—¨å…¨éƒ¨ç½®é›¶ï¼Œè¾“å…¥é—¨å…¨éƒ¨ç½®ä¸€ï¼Œè¾“å‡ºé—¨å…¨éƒ¨ç½®ä¸€ï¼Œæˆ‘ä»¬å°±å‡ ä¹å¾—åˆ°ä¸€ä¸ªæ ‡å‡†çš„RNNã€‚é€šè¿‡é—¨æœºåˆ¶ï¼ŒLSTMå¯ä»¥æ“ä½œè®°å¿†ä»è€Œè§£å†³é•¿æœŸä¾èµ–é—®é¢˜ã€‚ æ³¨æ„åˆ°ï¼Œè¿˜æœ‰è®¸å¤šçš„LSTMå˜ç§ï¼Œä¸€ç§æ·»åŠ ä¸Šâ€œçŒ«çœ¼â€ç»“æ„ï¼Œå®ƒçš„é—¨åŒæ—¶å–å†³äºä¹‹å‰çš„éšè—çŠ¶æ€$$s_{t-1}$$å’Œä¹‹å‰çš„å†…éƒ¨çŠ¶æ€$$c_{t-1}$$ã€‚ LSTM: A Search Space Odyssey å®éªŒè§‚å¯Ÿäº†è®¸å¤šä¸åŒçš„LSTMæœºåˆ¶ã€‚ ##GRUç½‘ç»œ GRUçš„ç†å¿µç±»ä¼¼äºLSTMï¼Œå…¶ç­‰å¼å¦‚ä¸‹ï¼š GRUæ‹¥æœ‰ä¸¤ä¸ªé—¨ï¼Œç§°ä¸ºé‡ç½®é—¨$$r$$å’Œæ›´æ–°é—¨$$z$$ã€‚ç›´è§‚æ¥è¯´ï¼Œé‡ç½®é—¨å†³å®šå¦‚ä½•è”åˆæ–°çš„è¾“å…¥å’Œä¹‹å‰çš„è®°å¿†ï¼Œè€Œæ›´æ–°é—¨å†³å®šç•™ä¸‹å¤šå°‘ä¹‹å‰çš„è®°å¿†ã€‚å¦‚æœå°†é‡ç½®é—¨å…¨éƒ¨ç½®ä¸€å¹¶ä¸”æ›´æ–°é—¨å…¨éƒ¨ç½®é›¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆå¾—åˆ°äº†æˆ‘ä»¬åŸå§‹çš„RNNäº†ã€‚GRUçš„è§£å†³é•¿æœŸä¾èµ–çš„ç†å¿µå’ŒLSTMåŸºæœ¬ç±»ä¼¼ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›ä¸åŒä¹‹å¤„ï¼š ä¸¤ä¸ªé—¨VSä¸‰ä¸ªé—¨ GRUä¸å¤„ç†å†…å±‚è®°å¿†$$c_t$$ è¾“å…¥é—¨å’Œé—å¿˜é—¨è¢«ç»„åˆæˆæ›´æ–°é—¨$$z$$,é‡ç½®é—¨$$r$$ç›´æ¥è¿æ¥ä¹‹å‰çš„éšè—çŠ¶æ€ã€‚å› æ­¤ï¼Œ è®¡ç®—è¾“å‡ºæ˜¯ä¸åŠ ä¸Šç¬¬äºŒä¸ªéçº¿æ€§å˜æ¢ ##GRU VS LSTM å¦‚ä»Šä½ è®¤è¯†äº†ä¸¤ä¸ªå¯¹æŠ—æ¢¯åº¦æ¶ˆå¤±çš„æ¨¡å‹","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"},{"name":"RNN","slug":"RNN","permalink":"http://frankchen.xyz/tags/RNN/"}]},{"title":"RECURRENT NEURAL NETWORKS TUTORIAL, PART 3 â€“ BACKPROPAGATION THROUGH TIME AND VANISHING GRADIENTS","slug":"2016-06-22-recurrent-neural-networks-tutorial-part-3-backpropagation-through-time-and-vanishing-gradients","date":"2016-06-22T07:42:14.000Z","updated":"2017-01-13T09:47:07.000Z","comments":true,"path":"2016/06/22/2016-06-22-recurrent-neural-networks-tutorial-part-3-backpropagation-through-time-and-vanishing-gradients/","link":"","permalink":"http://frankchen.xyz/2016/06/22/2016-06-22-recurrent-neural-networks-tutorial-part-3-backpropagation-through-time-and-vanishing-gradients/","excerpt":"åœ¨ä¹‹å‰çš„éƒ¨åˆ†æˆ‘ä»¬å®ç°äº†RNNï¼Œä½†æ˜¯å¹¶æœªæ·±å…¥æ¢ç©¶æ—¶é—´åå‘ä¼ æ’­ç®—æ³•ï¼Œæœ¬æ–‡å°†å¯¹è¿™ä¸€ç‚¹ä½œè¯¦ç»†è¯´æ˜ã€‚æˆ‘ä»¬å°†äº†è§£å…³äºæ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„çŸ¥è¯†ï¼Œå®ƒä¿ƒä½¿äº†LSTMå’ŒGRUçš„å‡ºç°ï¼Œè€Œè¿™ä¸¤è€…éƒ½æ˜¯NLPé¢†åŸŸéå¸¸å¸¸è§çš„æ¨¡å‹ã€‚ ##BACKPROPAGATION THROUGH TIME (BPTT) é¦–å…ˆæˆ‘ä»¬å›é¡¾ä¸€ä¸‹RNNçš„åŸºæœ¬ç­‰å¼ï¼š","text":"åœ¨ä¹‹å‰çš„éƒ¨åˆ†æˆ‘ä»¬å®ç°äº†RNNï¼Œä½†æ˜¯å¹¶æœªæ·±å…¥æ¢ç©¶æ—¶é—´åå‘ä¼ æ’­ç®—æ³•ï¼Œæœ¬æ–‡å°†å¯¹è¿™ä¸€ç‚¹ä½œè¯¦ç»†è¯´æ˜ã€‚æˆ‘ä»¬å°†äº†è§£å…³äºæ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„çŸ¥è¯†ï¼Œå®ƒä¿ƒä½¿äº†LSTMå’ŒGRUçš„å‡ºç°ï¼Œè€Œè¿™ä¸¤è€…éƒ½æ˜¯NLPé¢†åŸŸéå¸¸å¸¸è§çš„æ¨¡å‹ã€‚ ##BACKPROPAGATION THROUGH TIME (BPTT) é¦–å…ˆæˆ‘ä»¬å›é¡¾ä¸€ä¸‹RNNçš„åŸºæœ¬ç­‰å¼ï¼š æˆ‘ä»¬ä¹Ÿå®šä¹‰äº†æŸå¤±å‡½æ•°ï¼ˆäº¤å‰ç†µï¼‰ï¼š åœ¨è¿™é‡Œï¼Œ$$y_t$$æ˜¯ $$t$$æ—¶åˆ»çš„æ­£ç¡®çš„è¯è¯­ï¼Œ $$\\tilde{y_t}$$ æ˜¯æˆ‘ä»¬çš„é¢„æµ‹ã€‚å› ä¸ºæˆ‘ä»¬æŠŠä¸€æ•´ä¸ªåºåˆ—ï¼ˆå¥å­ï¼‰å½“åšæ˜¯è¾“å…¥ï¼Œé‚£ä¹ˆé”™è¯¯ç­‰åŒäºæ¯ä¸ªæ—¶é—´stepï¼ˆè¯è¯­ï¼‰çš„é”™è¯¯çš„å’Œã€‚ ![](/images/2016/06/rnn-bptt1.pngï¼‰ éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®¡ç®—åŸºäºå‚æ•°$$U, V, W$$é”™è¯¯çš„æ¢¯åº¦ï¼Œå¹¶ä¸”é€šè¿‡SGDæ¥å­¦ä¹ åˆ°å¥½çš„å‚æ•°ã€‚ç±»ä¼¼äºæˆ‘ä»¬å°†é”™è¯¯ç›¸åŠ çš„åšæ³•ï¼Œå¯¹äºä¸€ä¸ªè®­ç»ƒæ ·æœ¬ï¼Œæˆ‘ä»¬å°†å„ä¸ªæ—¶é—´ç‚¹çš„æ¢¯åº¦ç›¸åŠ ã€‚ $$\\frac{\\partial{E}}{\\partial{W}} = \\sum_{t} \\frac{\\partial{E_t}}{\\partial{W}}$$ æˆ‘ä»¬ä½¿ç”¨é“¾å¼æ±‚å¯¼æ³•åˆ™æ¥è®¡ç®—è¿™äº›æ¢¯åº¦ï¼Œè¿™å°±æ˜¯åå‘ä¼ æ’­ç®—æ³•:ä»é”™è¯¯å¤„åå‘è®¡ç®—ã€‚ä»¥ä¸‹æˆ‘ä»¬ä½¿ç”¨$$E_3$$ä½œä¸ºä¾‹å­ã€‚ å…¶ä¸­ï¼Œ$$z_3 = V s_3$$ï¼Œå¹¶ä¸”$$\\otimes$$æŒ‡çš„æ˜¯å‘é‡å¤–ç§¯ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„åˆ°ï¼Œ$$\\frac{\\partial{E_3}}{\\partial{V}}$$åªå–å†³äºå½“å‰æ—¶åˆ»çš„å€¼$$\\tilde{y_3}, y_3, s_3$$ã€‚å¦‚æœä½ æ˜ç¡®äº†è¿™ä¸€ç‚¹ï¼Œé‚£ä¹ˆè®¡ç®—$$V$$çš„æ¢¯åº¦åªæ˜¯çŸ©é˜µè®¡ç®—ç½¢äº†ã€‚ ä½†æ˜¯ï¼Œå¯¹äº$$\\frac{\\partial{E_3}}{\\partial{W}}$$å’Œ$$V$$å°±ä¸ä¸€æ ·äº†ã€‚æˆ‘ä»¬å†™å‡ºé“¾å¼æ³•åˆ™ï¼š å¯ä»¥çœ‹åˆ°ï¼Œ$$s_3 = \\tanh(U x_t + W s_2)$$å–å†³äº$$s_2$$ï¼Œè€Œ$$s_2$$åˆå–å†³äº$$W$$å’Œ$$s_1$$ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€ä»¥æˆ‘ä»¬è®¡ç®—$$W$$çš„åå¯¼ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠ$$s_2$$å½“åšä¸€ä¸ªå¸¸é‡ï¼Œç›¸åæˆ‘ä»¬éœ€è¦ä¸€ééçš„åº”ç”¨é“¾å¼æ³•åˆ™ï¼š æˆ‘ä»¬æŠŠæ¯ä¸ªæ—¶é—´ç‚¹å¯¹äºæ¢¯åº¦è´¡çŒ®ç»¼åˆèµ·æ¥ã€‚æ¢å¥è¯è¯´ï¼Œå› ä¸º$$W$$åœ¨ç›´åˆ°æˆ‘ä»¬éœ€è¦è¾“å‡ºçš„æ—¶åˆ»éƒ½è¢«ç”¨åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¡ç®—$$t=3$$æ—¶åˆ»ç›´åˆ°$$t=0$$æ—¶åˆ»ï¼š è¿™å…¶å®å’Œæ·±åº¦å‰é¦ˆç¥ç»ç½‘ç»œé‡Œçš„æ ‡å‡†çš„åå‘ä¼ æ’­ç®—æ³•æ˜¯ç±»ä¼¼çš„ã€‚ä¸»è¦çš„ä¸åŒç‚¹åœ¨äºæˆ‘ä»¬æŠŠæ¯ä¸ªæ—¶é—´ç‚¹çš„$$W$$çš„æ¢¯åº¦ç»¼åˆèµ·æ¥ã€‚ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œçš„ä¸åŒå±‚ä¹‹é—´ä¸å…±äº«å‚æ•°ï¼Œäºæ˜¯æˆ‘ä»¬ä¹Ÿä¸éœ€è¦ç»¼åˆä»€ä¹ˆã€‚ä½†æ˜¯åœ¨æˆ‘çœ‹æ¥ï¼ŒBPTTåªä¸è¿‡æ˜¯åœ¨æ²¡æœ‰å±•å¼€çš„RNNä¸Šçš„æ ‡å‡†BPç®—æ³•çš„åˆ«åç½¢äº†ã€‚ç±»ä¼¼äºæ ‡å‡†çš„BPç®—æ³•ï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªå¾³å¡”é¡¹æ¥è¡¨ç¤ºåå‘ä¼ æ’­çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼š$$\\delta_{2}^{(3)} = \\frac{\\partial{E_3}}{\\partial{z_2}} = \\frac{\\partial{E_3}}{\\partial{s_3}} \\frac{\\partial{s_3}}{\\partial{s_2}} \\frac{\\partial{s_2}}{\\partial{z_2}}$$ï¼Œå…¶ä¸­$$z_2 = Ux_2 + Ws_1$$ã€‚ä»¥æ­¤ç±»æ¨ã€‚ ä»£ç å®ç°BPTTå¦‚ä¸‹ï¼š123456789101112131415161718192021222324def bptt(self, x, y): T = len(y) # Perform forward propagation o, s = self.forward_propagation(x) # We accumulate the gradients in these variables dLdU = np.zeros(self.U.shape) dLdV = np.zeros(self.V.shape) dLdW = np.zeros(self.W.shape) delta_o = o delta_o[np.arange(len(y)), y] -= 1. # For each output backwards... for t in np.arange(T)[::-1]: dLdV += np.outer(delta_o[t], s[t].T) # Initial delta calculation: dL/dz delta_t = self.V.T.dot(delta_o[t]) * (1 - (s[t] ** 2)) # Backpropagation through time (for at most self.bptt_truncate steps) for bptt_step in np.arange(max(0, t-self.bptt_truncate), t+1)[::-1]: # print \"Backpropagation step t=%d bptt step=%d \" % (t, bptt_step) # Add to gradients at each previous step dLdW += np.outer(delta_t, s[bptt_step-1]) dLdU[:,x[bptt_step]] += delta_t # Update delta for next step dL/dz at t-1 delta_t = self.W.T.dot(delta_t) * (1 - s[bptt_step-1] ** 2) return [dLdU, dLdV, dLdW] ä»ä»£ç ä½ ä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°RNNä¸å®¹æ˜“è®­ç»ƒï¼šç”±äºåºåˆ—æ¯”è¾ƒé•¿ï¼Œæ¯æ¬¡ä¼ æ’­éœ€è¦è®¡ç®—å¾ˆå¤šå±‚ï¼Œå®è·µä¸Šé€šå¸¸è®¸å¤šäººçš„åšæ³•æ˜¯å°†ä¼ æ’­é™åˆ¶åœ¨å‡ æ­¥ä¹‹å†…ã€‚ ##æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ ä¹‹å‰çš„éƒ¨åˆ†æˆ‘ä»¬å·²ç»è®²è¿°äº†å…³äºRNNçš„é•¿æœŸä¾èµ–é—®é¢˜ã€‚ä¸ºäº†è§£è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥è§‚å¯Ÿä¸Šé¢æˆ‘ä»¬è®¡ç®—è¿‡çš„æ¢¯åº¦ã€‚ æ³¨æ„åˆ°æ˜¯å¯¹äºè‡ªèº«çš„é“¾å¼æ³•åˆ™ï¼Œå¦‚ã€‚å†æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬è¿™é‡Œè®¡ç®—çš„æ˜¯å‘é‡å¯¹å‘é‡çš„åå¯¼ï¼Œå…¶ç»“æœæ˜¯ä¸€ä¸ªé›…å¯æ¯”çŸ©é˜µã€‚å› æ­¤å¯ä»¥æ”¹å†™ä¸Šé¢çš„æ¢¯åº¦å¼ä¸ºï¼š å¼å­ä¸­çš„é›…å…‹æ¯”çŸ©é˜µçš„äºŒèŒƒæ•°å…·æœ‰ä¸Šé™1.è¿™å¯¼è‡´æ¿€æ´»å‡½æ•°tanhï¼ˆæˆ–è€…sigmoidï¼‰æ˜ å°„æ‰€æœ‰çš„å€¼åˆ°[-1,1]ï¼Œé‚£ä¹ˆåå¯¼ä¹Ÿè¢«é™åˆ¶åœ¨1ï¼ˆå¯¹äºsigmoidæ˜¯$$\\frac{1}{4} $$ï¼‰ã€‚ å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨tanhå‡½æ•°ä¸¤è¾¹ï¼Œæ¢¯åº¦éƒ½æ¥è¿‘äº0.è¿™å¯¼è‡´å®ƒä¹‹å‰çš„æ¢¯åº¦ä¹Ÿæ¥è¿‘äº0ï¼Œé‚£ä¹ˆï¼Œä¸çŸ©é˜µä¸­çš„æ•°å­—å¤šæ¬¡ç›¸ä¹˜ä½¿å¾—æ¢¯åº¦è¿…é€Ÿå‡å°ï¼Œç›´åˆ°æ¥è¿‘æ¶ˆå¤±ã€‚é™¢å‡ºçš„æ—¶é—´ç‚¹å¯¹äºç°åœ¨çš„å½±å“æ¥è¿‘äº0ï¼Œè¿™å°±æ˜¯é•¿æœŸä¾èµ–é—®é¢˜çš„åŸå› ã€‚ä½†æ˜¯ï¼Œé•¿æœŸä¾èµ–é—®é¢˜å¹¶ä¸åªæ˜¯å¯¹äºRNNå‡ºç°ï¼Œæ·±åº¦ç¥ç»ç½‘ç»œéƒ½å…·æœ‰è¿™ä¸ªé—®é¢˜ï¼Œåªä¸è¿‡RNNç»å¸¸è¦å¤„ç†é•¿åºåˆ—é—®é¢˜ï¼Œæ‰€ä»¥ç½‘ç»œå±‚æ•°å¾ˆå¤šï¼Œè¿™ä¸ªé—®é¢˜å°±ç»å¸¸å‡ºç°äº†ã€‚ å®¹æ˜“æƒ³åˆ°çš„æ˜¯ï¼Œä¸æ¢¯åº¦æ¶ˆå¤±é—®é¢˜å¯¹åº”çš„æ˜¯ï¼Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ã€‚å½“é›…å…‹æ¯”çŸ©é˜µä¸­çš„æ•°å€¼è¾ƒå¤§æ—¶ï¼Œå®¹æ˜“å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ä½†æ˜¯ï¼Œé€šå¸¸æ¥è¯´ï¼Œå¯¹äºæ¢¯åº¦çˆ†ç‚¸ï¼Œä¸šç•Œå…³æ³¨å¹¶ä¸å¤ªå¤šã€‚æœ‰ä¸¤ä¸ªåŸå› ï¼Œå…¶ä¸€ï¼Œæ¢¯åº¦çˆ†ç‚¸å‘ç”Ÿæ—¶é€šå¸¸å®¹æ˜“å‘ç°ï¼Œå› ä¸ºå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒä¹‹ç±»çš„åæœï¼›å…¶äºŒï¼Œé€šå¸¸ä¸ºæ¢¯åº¦è®¾ç½®ä¸Šé™æ˜¯åº”å¯¹æ¢¯åº¦çˆ†ç‚¸çš„ç®€ä¾¿åšæ³•ã€‚ é‚£ä¹ˆæ€ä¹ˆåº”å¯¹æ¢¯åº¦å¼¥æ•£é—®é¢˜å‘¢ï¼Ÿé¦–å…ˆï¼Œæ›´å¥½çš„åˆå§‹åŒ–æƒé‡å¯ä»¥å‡å°‘æ¢¯åº¦å¼¥æ•£çš„æ•ˆæœï¼›å…¶æ¬¡ï¼Œä½¿ç”¨æ­£åˆ™åŒ–ï¼›æ›´åŠ é€šç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨ReLUä½œä¸ºæ¿€æ´»å‡½æ•°ï¼Œå…¶æ¢¯åº¦è¦ä¹ˆæ˜¯1è¦ä¹ˆæ˜¯0ï¼Œæ‰€ä»¥æ›´å°‘çš„å¯èƒ½å‡ºç°æ¢¯åº¦å¼¥æ•£çš„é—®é¢˜ã€‚å¦å¤–ï¼Œæ›´åŠ æµè¡Œçš„åšæ³•åˆ™æ˜¯ä½¿ç”¨ Long Short-Term Memory (LSTM)æˆ–è€…Gated Recurrent Unit (GRU)ï¼ŒLSTMå‡ºç°äº1997å¹´ï¼Œä¹Ÿè®¸æ˜¯NLPé¢†åŸŸè¿‘æœŸæœ€æµè¡Œçš„ç½‘ç»œç»“æ„ã€‚GRUï¼Œå‡ºç°äº2014å¹´ï¼Œæ˜¯LSTMçš„ç®€åŒ–ç‰ˆæœ¬ã€‚ä¸¤ç§ç½‘ç»œéƒ½æ˜¯ä¸ºäº†åº”å¯¹æ¢¯åº¦å¼¥æ•£å’Œé•¿æœŸä¾èµ–é—®é¢˜ã€‚æˆ‘ä»¬å°†ä¼šåœ¨ä¹‹åçš„æ•™ç¨‹ä¸­æ¶‰åŠå®ƒä»¬ã€‚","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"},{"name":"RNN","slug":"RNN","permalink":"http://frankchen.xyz/tags/RNN/"}]},{"title":"Vim ç»ƒçº§æ”»ç•¥ä¸€","slug":"2016-06-22-vim-lian-ji-gong-lue-1","date":"2016-06-22T02:50:35.000Z","updated":"2016-11-11T13:50:33.000Z","comments":true,"path":"2016/06/22/2016-06-22-vim-lian-ji-gong-lue-1/","link":"","permalink":"http://frankchen.xyz/2016/06/22/2016-06-22-vim-lian-ji-gong-lue-1/","excerpt":"ä½ æƒ³ä»¥æœ€å¿«çš„é€Ÿåº¦å­¦ä¹ äººç±»å²ä¸Šæœ€å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨VIMå—ï¼Ÿä½ å…ˆå¾—æ‡‚å¾—å¦‚ä½•åœ¨VIMå¹¸å­˜ä¸‹æ¥ï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹åœ°å­¦ä¹ å„ç§æˆæ³•ã€‚ Vim: the Six Billion Dollar editor Better, Stronger, Faster. å­¦ä¹ Vimå¹¶ä¸”å…¶ä¼šæˆä¸ºä½ æœ€åä¸€ä¸ªä½¿ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚æ²¡æœ‰æ¯”è¿™ä¸ªæ›´å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨äº†ï¼Œéå¸¸åœ°éš¾å­¦ï¼Œä½†æ˜¯å´ä¸å¯æ€è®®åœ°å¥½ç”¨ã€‚","text":"ä½ æƒ³ä»¥æœ€å¿«çš„é€Ÿåº¦å­¦ä¹ äººç±»å²ä¸Šæœ€å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨VIMå—ï¼Ÿä½ å…ˆå¾—æ‡‚å¾—å¦‚ä½•åœ¨VIMå¹¸å­˜ä¸‹æ¥ï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹åœ°å­¦ä¹ å„ç§æˆæ³•ã€‚ Vim: the Six Billion Dollar editor Better, Stronger, Faster. å­¦ä¹ Vimå¹¶ä¸”å…¶ä¼šæˆä¸ºä½ æœ€åä¸€ä¸ªä½¿ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚æ²¡æœ‰æ¯”è¿™ä¸ªæ›´å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨äº†ï¼Œéå¸¸åœ°éš¾å­¦ï¼Œä½†æ˜¯å´ä¸å¯æ€è®®åœ°å¥½ç”¨ã€‚æˆ‘å»ºè®®ä¸‹é¢è¿™å››ä¸ªæ­¥éª¤ï¼š å­˜æ´» æ„Ÿè§‰è‰¯å¥½ è§‰å¾—æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿« ä½¿ç”¨VIMçš„è¶…èƒ½åŠ› å½“ä½ èµ°å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ ä¼šæˆä¸ºä¸€ä¸ªvimçš„ superstarã€‚ åœ¨å¼€å§‹å­¦ä¹ ä»¥å‰ï¼Œæˆ‘éœ€è¦ç»™ä½ ä¸€äº›è­¦å‘Šï¼š å­¦ä¹ vimåœ¨å¼€å§‹æ—¶æ˜¯ç—›è‹¦çš„ã€‚ éœ€è¦æ—¶é—´ éœ€è¦ä¸æ–­åœ°ç»ƒä¹ ï¼Œå°±åƒä½ å­¦ä¹ ä¸€ä¸ªä¹å™¨ä¸€æ ·ã€‚ ä¸è¦æœŸæœ›ä½ èƒ½åœ¨3å¤©å†…æŠŠvimç»ƒå¾—æ¯”åˆ«çš„ç¼–è¾‘å™¨æ›´æœ‰æ•ˆç‡ã€‚ äº‹å®ä¸Šï¼Œä½ éœ€è¦2å‘¨æ—¶é—´çš„è‹¦ç»ƒï¼Œè€Œä¸æ˜¯3å¤©ã€‚ ##ç¬¬ä¸€çº§ â€“ å­˜æ´» å®‰è£…Vim å¯åŠ¨Vim ä»€ä¹ˆä¹Ÿä¸å¹²ï¼è¯·å…ˆé˜…è¯» å½“ä½ å®‰è£…å¥½ä¸€ä¸ªç¼–è¾‘å™¨åï¼Œä½ ä¸€å®šä¼šæƒ³åœ¨å…¶ä¸­è¾“å…¥ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œç„¶åçœ‹çœ‹è¿™ä¸ªç¼–è¾‘å™¨æ˜¯ä»€ä¹ˆæ ·å­ã€‚ä½†vimä¸æ˜¯è¿™æ ·çš„ï¼Œè¯·æŒ‰ç…§ä¸‹é¢çš„å‘½ä»¤æ“ä½œï¼š å¯åŠ¨Vimåï¼Œvimåœ¨ Normal æ¨¡å¼ä¸‹ã€‚ è®©æˆ‘ä»¬è¿›å…¥ Insert æ¨¡å¼ï¼Œè¯·æŒ‰ä¸‹é”® i ã€‚(ä½ ä¼šçœ‹åˆ°vimå·¦ä¸‹è§’æœ‰ä¸€ä¸ªâ€“insertâ€“å­—æ ·ï¼Œè¡¨ç¤ºï¼Œä½ å¯ä»¥ä»¥æ’å…¥çš„æ–¹å¼è¾“å…¥äº†ï¼‰ æ­¤æ—¶ï¼Œä½ å¯ä»¥è¾“å…¥æ–‡æœ¬äº†ï¼Œå°±åƒä½ ç”¨â€œè®°äº‹æœ¬â€ä¸€æ ·ã€‚ å¦‚æœä½ æƒ³è¿”å› Normal æ¨¡å¼ï¼Œè¯·æŒ‰ ESC é”®ã€‚ ç°åœ¨ï¼Œä½ çŸ¥é“å¦‚ä½•åœ¨ Insert å’Œ Normal æ¨¡å¼ä¸‹åˆ‡æ¢äº†ã€‚ä¸‹é¢æ˜¯ä¸€äº›å‘½ä»¤ï¼Œå¯ä»¥è®©ä½ åœ¨ Normal æ¨¡å¼ä¸‹å¹¸å­˜ä¸‹æ¥ï¼ˆç®­å¤´ä¸ä»£è¡¨æŒ‰é”®ï¼‰ï¼š i â†’ Insert æ¨¡å¼ï¼ŒæŒ‰ ESC å›åˆ° Normal æ¨¡å¼. x â†’ åˆ å½“å‰å…‰æ ‡æ‰€åœ¨çš„ä¸€ä¸ªå­—ç¬¦ã€‚ :wq â†’ å­˜ç›˜ + é€€å‡º (:w å­˜ç›˜, :q é€€å‡º) ï¼ˆé™ˆçš“æ³¨ï¼š:w åå¯ä»¥è·Ÿæ–‡ä»¶åï¼‰ dd â†’ åˆ é™¤å½“å‰è¡Œï¼Œå¹¶æŠŠåˆ é™¤çš„è¡Œå­˜åˆ°å‰ªè´´æ¿é‡Œ p â†’ ç²˜è´´å‰ªè´´æ¿ æ¨è: hjkl (å¼ºä¾‹æ¨èä½¿ç”¨å…¶ç§»åŠ¨å…‰æ ‡ï¼Œä½†ä¸å¿…éœ€) â†’ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…‰æ ‡é”® (â†â†“â†‘â†’). æ³¨: j å°±åƒä¸‹ç®­å¤´ã€‚ :help â†’ æ˜¾ç¤ºç›¸å…³å‘½ä»¤çš„å¸®åŠ©ã€‚ä½ ä¹Ÿå¯ä»¥å°±è¾“å…¥ :help è€Œä¸è·Ÿå‘½ä»¤ã€‚ï¼ˆæ³¨ï¼šé€€å‡ºå¸®åŠ©éœ€è¦è¾“å…¥:qï¼‰ ä½ èƒ½åœ¨vimå¹¸å­˜ä¸‹æ¥åªéœ€è¦ä¸Šè¿°çš„é‚£5ä¸ªå‘½ä»¤ï¼Œä½ å°±å¯ä»¥ç¼–è¾‘æ–‡æœ¬äº†ï¼Œä½ ä¸€å®šè¦æŠŠè¿™äº›å‘½ä»¤ç»ƒæˆä¸€ç§ä¸‹æ„è¯†çš„çŠ¶æ€ã€‚äºæ˜¯ä½ å°±å¯ä»¥å¼€å§‹è¿›é˜¶åˆ°ç¬¬äºŒçº§äº†ã€‚ å½“æ˜¯ï¼Œåœ¨ä½ è¿›å…¥ç¬¬äºŒçº§æ—¶ï¼Œéœ€è¦å†è¯´ä¸€ä¸‹ Normal æ¨¡å¼ã€‚åœ¨ä¸€èˆ¬çš„ç¼–è¾‘å™¨ä¸‹ï¼Œå½“ä½ éœ€è¦copyä¸€æ®µæ–‡å­—çš„æ—¶å€™ï¼Œä½ éœ€è¦ä½¿ç”¨ Ctrl é”®ï¼Œæ¯”å¦‚ï¼šCtrl-Cã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCtrlé”®å°±å¥½åƒåŠŸèƒ½é”®ä¸€æ ·ï¼Œå½“ä½ æŒ‰ä¸‹äº†åŠŸèƒ½é”®Ctrlåï¼ŒCå°±ä¸åœ¨æ˜¯Cäº†ï¼Œè€Œä¸”å°±æ˜¯ä¸€ä¸ªå‘½ä»¤æˆ–æ˜¯ä¸€ä¸ªå¿«é”®é”®äº†ï¼Œåœ¨VIMçš„Normalæ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„é”®å°±æ˜¯åŠŸèƒ½é”®äº†ã€‚è¿™ä¸ªä½ éœ€è¦çŸ¥é“ã€‚ æ ‡è®°: ä¸‹é¢çš„æ–‡å­—ä¸­ï¼Œå¦‚æœæ˜¯ Ctrl-Î»æˆ‘ä¼šå†™æˆ . ä»¥ : å¼€å§‹çš„å‘½ä»¤ä½ éœ€è¦è¾“å…¥ å›è½¦ï¼Œä¾‹å¦‚ â€” å¦‚æœæˆ‘å†™æˆ :q ä¹Ÿå°±æ˜¯è¯´ä½ è¦è¾“å…¥ :q. ##ç¬¬äºŒçº§ â€“ æ„Ÿè§‰è‰¯å¥½ ä¸Šé¢çš„é‚£äº›å‘½ä»¤åªèƒ½è®©ä½ å­˜æ´»ä¸‹æ¥ï¼Œç°åœ¨æ˜¯æ—¶å€™å­¦ä¹ ä¸€äº›æ›´å¤šçš„å‘½ä»¤äº†ï¼Œä¸‹é¢æ˜¯æˆ‘çš„å»ºè®®ï¼šï¼ˆæ³¨ï¼šæ‰€æœ‰çš„å‘½ä»¤éƒ½éœ€è¦åœ¨Normalæ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå¦‚æœä½ ä¸çŸ¥é“ç°åœ¨åœ¨ä»€ä¹ˆæ ·çš„æ¨¡å¼ï¼Œä½ å°±ç‹‚æŒ‰å‡ æ¬¡ESCé”®ï¼‰ å„ç§æ’å…¥æ¨¡å¼ a â†’ åœ¨å…‰æ ‡åæ’å…¥ o â†’ åœ¨å½“å‰è¡Œåæ’å…¥ä¸€ä¸ªæ–°è¡Œ O â†’ åœ¨å½“å‰è¡Œå‰æ’å…¥ä¸€ä¸ªæ–°è¡Œ cw â†’ æ›¿æ¢ä»å…‰æ ‡æ‰€åœ¨ä½ç½®ååˆ°ä¸€ä¸ªå•è¯ç»“å°¾çš„å­—ç¬¦ ç®€å•çš„ç§»åŠ¨å…‰æ ‡ 0 â†’ æ•°å­—é›¶ï¼Œåˆ°è¡Œå¤´ ^ â†’ åˆ°æœ¬è¡Œç¬¬ä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ï¼ˆæ‰€è°“blankå­—ç¬¦å°±æ˜¯ç©ºæ ¼ï¼Œtabï¼Œæ¢è¡Œï¼Œå›è½¦ç­‰ï¼‰ $ â†’ åˆ°æœ¬è¡Œè¡Œå°¾ g_ â†’ åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ã€‚ /pattern â†’ æœç´¢ pattern çš„å­—ç¬¦ä¸²ï¼ˆæ³¨ï¼šå¦‚æœæœç´¢å‡ºå¤šä¸ªåŒ¹é…ï¼Œå¯æŒ‰né”®åˆ°ä¸‹ä¸€ä¸ªï¼‰ æ‹·è´/ç²˜è´´ ï¼ˆæ³¨ï¼šp/Péƒ½å¯ä»¥ï¼Œpæ˜¯è¡¨ç¤ºåœ¨å½“å‰ä½ç½®ä¹‹åï¼ŒPè¡¨ç¤ºåœ¨å½“å‰ä½ç½®ä¹‹å‰ï¼‰ P â†’ ç²˜è´´ yy â†’ æ‹·è´å½“å‰è¡Œå½“è¡Œäº ddP Undo/Redo u â†’ undo &lt;C-r&gt; â†’ redo æ‰“å¼€/ä¿å­˜/é€€å‡º/æ”¹å˜æ–‡ä»¶(Buffer) :e â†’ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ :w â†’ å­˜ç›˜ :saveas â†’ å¦å­˜ä¸º :xï¼Œ ZZ æˆ– :wq â†’ ä¿å­˜å¹¶é€€å‡º (:x è¡¨ç¤ºä»…åœ¨éœ€è¦æ—¶ä¿å­˜ï¼ŒZZä¸éœ€è¦è¾“å…¥å†’å·å¹¶å›è½¦) :q! â†’ é€€å‡ºä¸ä¿å­˜ :qa! å¼ºè¡Œé€€å‡ºæ‰€æœ‰çš„æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ï¼Œå°±ç®—åˆ«çš„æ–‡ä»¶æœ‰æ›´æ”¹ã€‚ :bn å’Œ :bp â†’ ä½ å¯ä»¥åŒæ—¶æ‰“å¼€å¾ˆå¤šæ–‡ä»¶ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤æ¥åˆ‡æ¢ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªæ–‡ä»¶ã€‚ï¼ˆæ³¨ï¼šæˆ‘å–œæ¬¢ä½¿ç”¨:nåˆ°ä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼‰ èŠ±ç‚¹æ—¶é—´ç†Ÿæ‚‰ä¸€ä¸‹ä¸Šé¢çš„å‘½ä»¤ï¼Œä¸€æ—¦ä½ æŒæ¡ä»–ä»¬äº†ï¼Œä½ å°±å‡ ä¹å¯ä»¥å¹²å…¶å®ƒç¼–è¾‘å™¨éƒ½èƒ½å¹²çš„äº‹äº†ã€‚ä½†æ˜¯åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œä½ è¿˜æ˜¯è§‰å¾—ä½¿ç”¨vimè¿˜æ˜¯æœ‰ç‚¹ç¬¨æ‹™ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œä½ å¯ä»¥è¿›é˜¶åˆ°ç¬¬ä¸‰çº§äº†ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†ä»‹ç»ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªé˜¶æ®µã€‚ (æ³¨ï¼šå›¾ç‰‡ä¸­çš„U83R 1337æŒ‡çš„æ˜¯å¾·è¯­ä¸­çš„uber leetï¼Œåˆèµ·æ¥å°±æ˜¯Super Coolçš„æ„æ€ï¼Œæ‰€ä»¥å›¾ç‰‡ä¸­æ–‡å­—æŒ‡çš„æ˜¯Super cool use Vim!)","categories":[{"name":"Vim","slug":"Vim","permalink":"http://frankchen.xyz/categories/Vim/"}],"tags":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/tags/tutorial/"}]},{"title":"Vim ç»ƒçº§æ”»ç•¥äºŒ","slug":"2016-06-22-vim-lian-ji-gong-er","date":"2016-06-22T02:50:35.000Z","updated":"2016-11-11T13:50:33.000Z","comments":true,"path":"2016/06/22/2016-06-22-vim-lian-ji-gong-er/","link":"","permalink":"http://frankchen.xyz/2016/06/22/2016-06-22-vim-lian-ji-gong-er/","excerpt":"ç¬¬ä¸‰çº§ â€“ æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«å…ˆæ­å–œä½ ï¼ä½ å¹²çš„å¾ˆä¸é”™ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹ä¸€äº›æ›´ä¸ºæœ‰è¶£çš„äº‹äº†ã€‚åœ¨ç¬¬ä¸‰çº§ï¼Œæˆ‘ä»¬åªè°ˆé‚£äº›å’Œviå¯ä»¥å…¼å®¹çš„å‘½ä»¤ã€‚ æ›´å¥½ä¸‹é¢ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„ï¼š . â†’ (å°æ•°ç‚¹) å¯ä»¥é‡å¤ä¸Šä¸€æ¬¡çš„å‘½ä»¤ N â†’ é‡å¤æŸä¸ªå‘½ä»¤Næ¬¡","text":"ç¬¬ä¸‰çº§ â€“ æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«å…ˆæ­å–œä½ ï¼ä½ å¹²çš„å¾ˆä¸é”™ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹ä¸€äº›æ›´ä¸ºæœ‰è¶£çš„äº‹äº†ã€‚åœ¨ç¬¬ä¸‰çº§ï¼Œæˆ‘ä»¬åªè°ˆé‚£äº›å’Œviå¯ä»¥å…¼å®¹çš„å‘½ä»¤ã€‚ æ›´å¥½ä¸‹é¢ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„ï¼š . â†’ (å°æ•°ç‚¹) å¯ä»¥é‡å¤ä¸Šä¸€æ¬¡çš„å‘½ä»¤ N â†’ é‡å¤æŸä¸ªå‘½ä»¤Næ¬¡ ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ‰¾å¼€ä¸€ä¸ªæ–‡ä»¶ä½ å¯ä»¥è¯•è¯•ä¸‹é¢çš„å‘½ä»¤ï¼š 2dd â†’ åˆ é™¤2è¡Œ 3p â†’ ç²˜è´´æ–‡æœ¬3æ¬¡ 100idesu [ESC] â†’ ä¼šå†™ä¸‹ â€œdesu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu â€œ . â†’ é‡å¤ä¸Šä¸€ä¸ªå‘½ä»¤â€”â€” 100 â€œdesu â€œ. â†’ é‡å¤ 3 æ¬¡ â€œdesuâ€ (æ³¨æ„ï¼šä¸æ˜¯ 300ï¼Œä½ çœ‹ï¼ŒVIMå¤šèªæ˜å•Š). ###æ›´å¼º ä½ è¦è®©ä½ çš„å…‰æ ‡ç§»åŠ¨æ›´æœ‰æ•ˆç‡ï¼Œä½ ä¸€å®šè¦äº†è§£ä¸‹é¢çš„è¿™äº›å‘½ä»¤ï¼Œåƒä¸‡åˆ«è·³è¿‡ã€‚ NG â†’ åˆ°ç¬¬ N è¡Œ ï¼ˆæ³¨ï¼šæ³¨æ„å‘½ä»¤ä¸­çš„Gæ˜¯å¤§å†™çš„ï¼Œå¦æˆ‘ä¸€èˆ¬ä½¿ç”¨ : N åˆ°ç¬¬Nè¡Œï¼Œå¦‚ :137 åˆ°ç¬¬137è¡Œï¼‰ gg â†’ åˆ°ç¬¬ä¸€è¡Œã€‚ï¼ˆæ³¨ï¼šç›¸å½“äº1Gï¼Œæˆ– :1ï¼‰ G â†’ åˆ°æœ€åä¸€è¡Œã€‚ æŒ‰å•è¯ç§»åŠ¨ï¼š w â†’ åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ã€‚ e â†’ åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„ç»“å°¾ã€‚ ![](/images/2016/06/word_moves.jpg) &gt; å¦‚æœä½ è®¤ä¸ºå•è¯æ˜¯ç”±é»˜è®¤æ–¹å¼ï¼Œé‚£ä¹ˆå°±ç”¨å°å†™çš„eå’Œwã€‚é»˜è®¤ä¸Šæ¥è¯´ï¼Œä¸€ä¸ªå•è¯ç”±å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ç»„æˆï¼ˆæ³¨ï¼šç¨‹åºå˜é‡ï¼‰ &gt; å¦‚æœä½ è®¤ä¸ºå•è¯æ˜¯ç”±blankå­—ç¬¦åˆ†éš”ç¬¦ï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨å¤§å†™çš„Eå’ŒWã€‚ï¼ˆæ³¨ï¼šç¨‹åºè¯­å¥ï¼‰ ä¸‹é¢ï¼Œè®©æˆ‘æ¥è¯´è¯´æœ€å¼ºçš„å…‰æ ‡ç§»åŠ¨ï¼š % : åŒ¹é…æ‹¬å·ç§»åŠ¨ï¼ŒåŒ…æ‹¬ (, {, [. ï¼ˆæ³¨ï¼šä½ éœ€è¦æŠŠå…‰æ ‡å…ˆç§»åˆ°æ‹¬å·ä¸Šï¼‰ * å’Œ #: åŒ¹é…å…‰æ ‡å½“å‰æ‰€åœ¨çš„å•è¯ï¼Œç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªï¼ˆæˆ–ä¸Šä¸€ä¸ªï¼‰åŒ¹é…å•è¯ï¼ˆ*æ˜¯ä¸‹ä¸€ä¸ªï¼Œ#æ˜¯ä¸Šä¸€ä¸ªï¼‰ æ›´å¿«ä½ ä¸€å®šè¦è®°ä½å…‰æ ‡çš„ç§»åŠ¨ï¼Œå› ä¸ºå¾ˆå¤šå‘½ä»¤éƒ½å¯ä»¥å’Œè¿™äº›ç§»åŠ¨å…‰æ ‡çš„å‘½ä»¤è¿åŠ¨ã€‚å¾ˆå¤šå‘½ä»¤éƒ½å¯ä»¥å¦‚ä¸‹æ¥å¹²ï¼š &lt;start position&gt;&lt;command&gt;&lt;end position&gt; ä¾‹å¦‚ 0y$ å‘½ä»¤æ„å‘³ç€ï¼š 0 â†’ å…ˆåˆ°è¡Œå¤´ y â†’ ä»è¿™é‡Œå¼€å§‹æ‹·è´ $ â†’ æ‹·è´åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªå­—ç¬¦ ä½ ä¹Ÿå¯ä»¥è¾“å…¥ yeï¼Œä»å½“å‰ä½ç½®æ‹·è´åˆ°æœ¬å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚ ä½ ä¹Ÿå¯ä»¥è¾“å…¥ y2/foo æ¥æ‹·è´2ä¸ª â€œfooâ€ ä¹‹é—´çš„å­—ç¬¦ä¸²ã€‚ è¿˜æœ‰å¾ˆå¤šæ—¶é—´å¹¶ä¸ä¸€å®šä½ å°±ä¸€å®šè¦æŒ‰yæ‰ä¼šæ‹·è´ï¼Œä¸‹é¢çš„å‘½ä»¤ä¹Ÿä¼šè¢«æ‹·è´ï¼š d (åˆ é™¤ ) v (å¯è§†åŒ–çš„é€‰æ‹©) gU (å˜å¤§å†™) gu (å˜å°å†™) ç­‰ç­‰ ï¼ˆæ³¨ï¼šå¯è§†åŒ–é€‰æ‹©æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å‘½ä»¤ï¼Œä½ å¯ä»¥å…ˆæŒ‰vï¼Œç„¶åç§»åŠ¨å…‰æ ‡ï¼Œä½ å°±ä¼šçœ‹åˆ°æ–‡æœ¬è¢«é€‰æ‹©ï¼Œç„¶åï¼Œä½ å¯èƒ½dï¼Œä¹Ÿå¯yï¼Œä¹Ÿå¯ä»¥å˜å¤§å†™ç­‰ï¼‰ ç¬¬å››çº§ â€“ Vim è¶…èƒ½åŠ›ä½ åªéœ€è¦æŒæ¡å‰é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥å¾ˆèˆ’æœçš„ä½¿ç”¨VIMäº†ã€‚ä½†æ˜¯ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å‘ä½ ä»‹ç»çš„æ˜¯VIMæ€æ‰‹çº§çš„åŠŸèƒ½ã€‚ä¸‹é¢è¿™äº›åŠŸèƒ½æ˜¯æˆ‘åªç”¨vimçš„åŸå› ã€‚ åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡: 0 ^ $ f F t T , ; 0 â†’ åˆ°è¡Œå¤´ ^ â†’ åˆ°æœ¬è¡Œçš„ç¬¬ä¸€ä¸ªéblankå­—ç¬¦ $ â†’ åˆ°è¡Œå°¾ g_ â†’ åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ã€‚ fa â†’ åˆ°ä¸‹ä¸€ä¸ªä¸ºaçš„å­—ç¬¦å¤„ï¼Œä½ ä¹Ÿå¯ä»¥fsåˆ°ä¸‹ä¸€ä¸ªä¸ºsçš„å­—ç¬¦ã€‚ t, â†’ åˆ°é€—å·å‰çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚é€—å·å¯ä»¥å˜æˆå…¶å®ƒå­—ç¬¦ã€‚ 3fa â†’ åœ¨å½“å‰è¡ŒæŸ¥æ‰¾ç¬¬ä¸‰ä¸ªå‡ºç°çš„aã€‚ F å’Œ T â†’ å’Œ f å’Œ t ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯ç›¸åæ–¹å‘ã€‚ è¿˜æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å‘½ä»¤æ˜¯ dtâ€ â†’ åˆ é™¤æ‰€æœ‰çš„å†…å®¹ï¼Œç›´åˆ°é‡åˆ°åŒå¼•å·â€”â€” â€œã€‚ ###åŒºåŸŸé€‰æ‹© &lt;action&gt;a&lt;object&gt; æˆ– &lt;action&gt;i&lt;object&gt; åœ¨visual æ¨¡å¼ä¸‹ï¼Œè¿™äº›å‘½ä»¤å¾ˆå¼ºå¤§ï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸º &lt;action&gt;a&lt;object&gt; å’Œ &lt;action&gt;i&lt;object&gt; actionå¯ä»¥æ˜¯ä»»ä½•çš„å‘½ä»¤ï¼Œå¦‚ d (åˆ é™¤), y (æ‹·è´), v (å¯ä»¥è§†æ¨¡å¼é€‰æ‹©)ã€‚ object å¯èƒ½æ˜¯ï¼š w ä¸€ä¸ªå•è¯ï¼Œ W ä¸€ä¸ªä»¥ç©ºæ ¼ä¸ºåˆ†éš”çš„å•è¯ï¼Œ s ä¸€ä¸ªå¥å­—ï¼Œ p ä¸€ä¸ªæ®µè½ã€‚ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„å­—ç¬¦ï¼šâ€ã€ â€˜ã€ )ã€ }ã€ ]ã€‚ å‡è®¾ä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸² (map (+) (â€œfooâ€)).è€Œå…‰æ ‡é”®åœ¨ç¬¬ä¸€ä¸ª o çš„ä½ç½®ã€‚ viâ€ â†’ ä¼šé€‰æ‹© foo. vaâ€ â†’ ä¼šé€‰æ‹© â€œfooâ€. vi) â†’ ä¼šé€‰æ‹© â€œfooâ€. va) â†’ ä¼šé€‰æ‹©(â€œfooâ€). v2i) â†’ ä¼šé€‰æ‹© map (+) (â€œfooâ€) v2a) â†’ ä¼šé€‰æ‹© (map (+) (â€œfooâ€)) ###å—æ“ä½œ: å—æ“ä½œï¼Œå…¸å‹çš„æ“ä½œï¼š 0 Iâ€“ [ESC] ^ â†’ åˆ°è¡Œå¤´ â†’ å¼€å§‹å—æ“ä½œ â†’ å‘ä¸‹ç§»åŠ¨ (ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨hjklæ¥ç§»åŠ¨å…‰æ ‡ï¼Œæˆ–æ˜¯ä½¿ç”¨%ï¼Œæˆ–æ˜¯åˆ«çš„) Iâ€“ [ESC] â†’ Iæ˜¯æ’å…¥ï¼Œæ’å…¥â€œâ€“â€ï¼ŒæŒ‰ESCé”®æ¥ä¸ºæ¯ä¸€è¡Œç”Ÿæ•ˆã€‚ ###è‡ªåŠ¨æç¤ºï¼š å’Œ åœ¨ Insert æ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥è¾“å…¥ä¸€ä¸ªè¯çš„å¼€å¤´ï¼Œç„¶åæŒ‰ æˆ–æ˜¯ï¼Œè‡ªåŠ¨è¡¥é½åŠŸèƒ½å°±å‡ºç°äº†â€¦â€¦ å®å½•åˆ¶ï¼š qa æ“ä½œåºåˆ— q, @a, @@å¦‚ä¸‹ qa æŠŠä½ çš„æ“ä½œè®°å½•åœ¨å¯„å­˜å™¨ aã€‚ äºæ˜¯@a ä¼šreplayè¢«å½•åˆ¶çš„å®ã€‚ @@æ˜¯ä¸€ä¸ªå¿«æ·é”®ç”¨æ¥replayæœ€æ–°å½•åˆ¶çš„å®ã€‚ ç¤ºä¾‹ï¼šåœ¨ä¸€ä¸ªåªæœ‰ä¸€è¡Œä¸”è¿™ä¸€è¡Œåªæœ‰â€œ1â€çš„æ–‡æœ¬ä¸­ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼š qaYpqâ†’ qa å¼€å§‹å½•åˆ¶ Yp å¤åˆ¶è¡Œ. å¢åŠ 1. q åœæ­¢å½•åˆ¶. @a â†’ åœ¨1ä¸‹é¢å†™ä¸‹ 2 @@ â†’ åœ¨2 æ­£é¢å†™ä¸‹3 ç°åœ¨åš 100@@ ä¼šåˆ›å»ºæ–°çš„100è¡Œï¼Œå¹¶æŠŠæ•°æ®å¢åŠ åˆ° 103. ###å¯è§†åŒ–é€‰æ‹©ï¼š v,V,&lt;C-v&gt; å‰é¢ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† çš„ç¤ºä¾‹ ï¼ˆåœ¨Windowsä¸‹åº”è¯¥æ˜¯ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v å’Œ Vã€‚ä¸€ä½†è¢«é€‰å¥½äº†ï¼Œä½ å¯ä»¥åšä¸‹é¢çš„äº‹ï¼š J â†’ æŠŠæ‰€æœ‰çš„è¡Œè¿æ¥èµ·æ¥ï¼ˆå˜æˆä¸€è¡Œï¼‰ &lt; æˆ– &gt; â†’ å·¦å³ç¼©è¿› = â†’ è‡ªåŠ¨ç»™ç¼©è¿› ï¼ˆæ³¨ï¼šè¿™ä¸ªåŠŸèƒ½ç›¸å½“å¼ºå¤§ï¼Œæˆ‘å¤ªå–œæ¬¢äº†ï¼‰ åœ¨æ‰€æœ‰è¢«é€‰æ‹©çš„è¡ŒååŠ ä¸Šç‚¹ä¸œè¥¿ï¼š &lt;C-v&gt; é€‰ä¸­ç›¸å…³çš„è¡Œ (å¯ä½¿ç”¨ j æˆ– æˆ–æ˜¯ /pattern æˆ–æ˜¯ % ç­‰â€¦â€¦) $ åˆ°è¡Œæœ€å A, è¾“å…¥å­—ç¬¦ä¸²ï¼ŒæŒ‰ ESCã€‚ ###åˆ†å±: :split å’Œ vsplit. ä¸‹é¢æ˜¯ä¸»è¦çš„å‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨VIMçš„å¸®åŠ© :help split. ä½ å¯ä»¥å‚è€ƒæœ¬ç«™ä»¥å‰çš„ä¸€ç¯‡æ–‡ç« VIMåˆ†å±ã€‚ :split â†’ åˆ›å»ºåˆ†å± (:vsplitåˆ›å»ºå‚ç›´åˆ†å±) &lt;C-w&gt;&lt;dir&gt; : dirå°±æ˜¯æ–¹å‘ï¼Œå¯ä»¥æ˜¯ hjkl æˆ–æ˜¯ â†â†“â†‘â†’ ä¸­çš„ä¸€ä¸ªï¼Œå…¶ç”¨æ¥åˆ‡æ¢åˆ†å±ã€‚ _ (æˆ– |) : æœ€å¤§åŒ–å°ºå¯¸ (| å‚ç›´åˆ†å±) + (æˆ– -) : å¢åŠ å°ºå¯¸ ##ç»“æŸè¯­ ä¸Šé¢æ˜¯ä½œè€…æœ€å¸¸ç”¨çš„90%çš„å‘½ä»¤ã€‚ æˆ‘å»ºè®®ä½ æ¯å¤©éƒ½å­¦1åˆ°2ä¸ªæ–°çš„å‘½ä»¤ã€‚ åœ¨ä¸¤åˆ°ä¸‰å‘¨åï¼Œä½ ä¼šæ„Ÿåˆ°vimçš„å¼ºå¤§çš„ã€‚ æœ‰æ—¶å€™ï¼Œå­¦ä¹ VIMå°±åƒæ˜¯åœ¨æ­»èƒŒä¸€äº›ä¸œè¥¿ã€‚ å¹¸è¿çš„æ˜¯ï¼Œvimæœ‰å¾ˆå¤šå¾ˆä¸é”™çš„å·¥å…·å’Œä¼˜ç§€çš„æ–‡æ¡£ã€‚ è¿è¡Œvimtutorç›´åˆ°ä½ ç†Ÿæ‚‰äº†é‚£äº›åŸºæœ¬å‘½ä»¤ã€‚ å…¶åœ¨çº¿å¸®åŠ©æ–‡æ¡£ä¸­ä½ åº”è¯¥è¦ä»”ç»†é˜…è¯»çš„æ˜¯ :help usr_02.txt. ä½ ä¼šå­¦ä¹ åˆ°è¯¸å¦‚ !ï¼Œ ç›®å½•ï¼Œå¯„å­˜å™¨ï¼Œæ’ä»¶ç­‰å¾ˆå¤šå…¶å®ƒçš„åŠŸèƒ½ã€‚ å­¦ä¹ vimå°±åƒå­¦å¼¹é’¢ç´ä¸€æ ·ï¼Œä¸€æ—¦å­¦ä¼šï¼Œå—ç›Šæ— ç©·ã€‚","categories":[{"name":"Vim","slug":"Vim","permalink":"http://frankchen.xyz/categories/Vim/"}],"tags":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/tags/tutorial/"}]},{"title":"RECURRENT NEURAL NETWORKS TUTORIAL, PART 2 â€“ IMPLEMENTING A RNN WITH PYTHON, NUMPY AND THEANO","slug":"2016-06-15-recurrent-neural-networks-tutorial-part-2-implementing-a-rnn-with-python-numpy-and-theano","date":"2016-06-15T09:54:18.000Z","updated":"2017-01-13T09:47:18.000Z","comments":true,"path":"2016/06/15/2016-06-15-recurrent-neural-networks-tutorial-part-2-implementing-a-rnn-with-python-numpy-and-theano/","link":"","permalink":"http://frankchen.xyz/2016/06/15/2016-06-15-recurrent-neural-networks-tutorial-part-2-implementing-a-rnn-with-python-numpy-and-theano/","excerpt":"æœ¬æ–‡å°†ç”¨Pythonå®ç°å®Œæ•´çš„RNNï¼Œå¹¶ä¸”ç”¨Theanoæ¥ä¼˜åŒ–ã€‚ è¯­è¨€æ¨¡å‹æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿ç”¨RNNå»ºç«‹ä¸€ä¸ªè¯­è¨€æ¨¡å‹ã€‚ä»¥ä¸‹æˆ‘ä»¬ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œä½ è¯´äº†ä¸€å¥åŒ…æ‹¬$$m$$ä¸ªè¯è¯­çš„å¥å­ï¼Œè¯­è¨€æ¨¡å‹å¯ä»¥ä¸ºè¿™å¥è¯å‡ºç°çš„æ¦‚ç‡æ‰“åˆ†ï¼š $$P(w_1,\\cdots,w_m) = \\prod_{i=1}^m P(w_i \\mid w_1,\\cdots,w_{i-1})$$","text":"æœ¬æ–‡å°†ç”¨Pythonå®ç°å®Œæ•´çš„RNNï¼Œå¹¶ä¸”ç”¨Theanoæ¥ä¼˜åŒ–ã€‚ è¯­è¨€æ¨¡å‹æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿ç”¨RNNå»ºç«‹ä¸€ä¸ªè¯­è¨€æ¨¡å‹ã€‚ä»¥ä¸‹æˆ‘ä»¬ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œä½ è¯´äº†ä¸€å¥åŒ…æ‹¬$$m$$ä¸ªè¯è¯­çš„å¥å­ï¼Œè¯­è¨€æ¨¡å‹å¯ä»¥ä¸ºè¿™å¥è¯å‡ºç°çš„æ¦‚ç‡æ‰“åˆ†ï¼š $$P(w_1,\\cdots,w_m) = \\prod_{i=1}^m P(w_i \\mid w_1,\\cdots,w_{i-1})$$ æ¯ä¸€ä¸ªè¯è¯­çš„æ¦‚ç‡éƒ½å–å†³äºå®ƒä¹‹å‰çš„æ‰€æœ‰çš„è¯çš„æ¦‚ç‡ã€‚ è¿™æ ·çš„æ¨¡å‹æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿ å¯ä»¥ç”¨äºæœºå™¨ç¿»è¯‘æˆ–è€…è¯­éŸ³è¯†åˆ«ä¸­çš„æ­£ç¡®å¥å­æ‰“åˆ† ä»¥æ¦‚ç‡ç”Ÿæˆæ–°çš„å¥å­ æ³¨æ„åˆ°åœ¨ä¸Šé¢çš„å…¬å¼å†…ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ‰€æœ‰çš„ä¹‹å‰çš„è¯çš„æ¦‚ç‡ï¼Œå®é™…ä¸Šè¿™åœ¨è®¡ç®—å’Œå­˜å‚¨æ—¶çš„è€—è´¹éƒ½æ˜¯å·¨å¤§çš„ï¼Œé€šå¸¸è€Œè¨€åªä¼šå–2~4ä¸ªè¯å·¦å³ã€‚ é¢„å¤„ç†å¹¶è®­ç»ƒæ•°æ®1.æ ‡è®°åŒ–åŸå§‹çš„æ–‡æœ¬éœ€è¦è¢«æ ‡è®°åŒ–ï¼Œä¾‹å¦‚éœ€è¦æŠŠæ–‡æœ¬æ ‡è®°ä¸ºå¥å­ï¼Œå¥å­æ ‡è®°ä¸ºè¯è¯­ï¼Œå¹¶ä¸”è¿˜éœ€è¦å¤„ç†æ ‡ç‚¹ç¬¦å·ã€‚æˆ‘ä»¬å°†ä½¿ç”¨NLTKçš„word_tokenize\\sent_tokenizeæ–¹æ³•ã€‚ 2.ç§»é™¤ä½é¢‘è¯ç§»é™¤ä½é¢‘è¯ä¸ç®¡æ˜¯å¯¹äºè®­ç»ƒå’Œé¢„æµ‹éƒ½æ˜¯æœ‰å¸®åŠ©çš„ã€‚è¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªä¸Šé™vocabulary_sizeä¸º8000ï¼Œå‡ºç°æ¬¡æ•°å°‘äºå®ƒçš„è¯éƒ½ä¼šè¢«æ›¿æ¢ä¸ºUNKNOWN_TOKENè¾“å…¥ï¼Œè€Œå½“è¾“å‡ºæ˜¯UNKNOWN_TOKENæ—¶ï¼Œå®ƒå°†è¢«éšæœºæ›¿æ¢ä¸ºä¸€ä¸ªä¸åœ¨è¯è¡¨å†…çš„è¯ï¼Œäº¦æˆ–è€…æŒç»­é¢„æµ‹ç›´åˆ°ä¸å‡ºç°UNKNOWN_TOKENä¸ºæ­¢ã€‚ 3.æ”¾ç½®å¥å­å¼€å§‹å’Œç»“æŸæ ‡è®°ä¸ºäº†è§£å¥å­çš„å¼€å§‹å’Œç»“æŸï¼Œæˆ‘ä»¬æŠŠSENTENCE_STARTæ”¾ç½®åœ¨å¥å­å¼€å¤´ï¼Œå¹¶ä¸”æŠŠSENTENCE_ENDæ”¾ç½®åœ¨å¥å­ç»“å°¾ã€‚ 4.å»ºç«‹è®­ç»ƒæ•°æ®çš„çŸ©é˜µRNNçš„è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯å‘é‡è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¯ä¸å‘é‡ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡index_to_wordå’Œword_to_indexã€‚æ¯”å¦‚ä¸€ä¸ªè®­ç»ƒçš„ä¾‹å­$$x$$ä¸º[0, 179, 341, 416]ï¼ˆæ³¨æ„åˆ°å…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯é•¿åº¦ä¸ºvocabulary_sizeçš„one-hotå‘é‡ï¼Œæ‰€ä»¥$$x$$å®é™…ä¸Šæ˜¯ä¸€ä¸ªçŸ©é˜µï¼‰ï¼Œé‚£ä¹ˆå…¶label-$$y$$ä¸º[179, 341, 416, 1]ï¼Œæ³¨æ„åˆ°æˆ‘ä»¬çš„ç›®æ ‡æ˜¯é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼Œæ‰€ä»¥$$y$$å°±æ˜¯$$x$$ç§»åŠ¨ä¸€ä½ï¼Œå¹¶æ·»åŠ ä¸Šæœ€åçš„ä¸€ä¸ªå…ƒç´ ï¼ˆé¢„æµ‹è¯ï¼‰çš„ç»“æœï¼Œå…¶ä¸­SENTENCE_STARTå’ŒSENTENCE_ENDåˆ†åˆ«ä¸º0å’Œ1. 123456789101112131415161718192021222324252627282930313233343536373839404142vocabulary_size = 8000unknown_token = \"UNKNOWN_TOKEN\"sentence_start_token = \"SENTENCE_START\"sentence_end_token = \"SENTENCE_END\"# Read the data and append SENTENCE_START and SENTENCE_END tokensprint \"Reading CSV file...\"with open('data/reddit-comments-2015-08.csv', 'rb') as f: reader = csv.reader(f, skipinitialspace=True) reader.next() # Split full comments into sentences sentences = itertools.chain(*[nltk.sent_tokenize(x[0].decode('utf-8').lower()) for x in reader]) # Append SENTENCE_START and SENTENCE_END sentences = [\"%s %s %s\" % (sentence_start_token, x, sentence_end_token) for x in sentences]print \"Parsed %d sentences.\" % (len(sentences))# Tokenize the sentences into wordstokenized_sentences = [nltk.word_tokenize(sent) for sent in sentences]# Count the word frequenciesword_freq = nltk.FreqDist(itertools.chain(*tokenized_sentences))print \"Found %d unique words tokens.\" % len(word`_freq.items())# Get the most common words and build index_to_word and word_to_index vectorsvocab = word_freq.most_common(vocabulary_size-1)index_to_word = [x[0] for x in vocab]index_to_word.append(unknown_token)word_to_index = dict([(w,i) for i,w in enumerate(index_to_word)])print \"Using vocabulary size %d.\" % vocabulary_sizeprint \"The least frequent word in our vocabulary is '%s' and appeared %d times.\" % (vocab[-1][0], vocab[-1][1])# Replace all words not in our vocabulary with the unknown tokenfor i, sent in enumerate(tokenized_sentences): tokenized_sentences[i] = [w if w in word_to_index else unknown_token for w in sent]print \"\\nExample sentence: '%s'\" % sentences[0]print \"\\nExample sentence after Pre-processing: '%s'\" % tokenized_sentences[0]# Create the training dataX_train = np.asarray([[word_to_index[w] for w in sent[:-1]] for sent in tokenized_sentences])y_train = np.asarray([[word_to_index[w] for w in sent[1:]] for sent in tokenized_sentences]) ä»¥ä¸‹æ˜¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ï¼š1234567x:SENTENCE_START what are n't you understanding about this ? ![0, 51, 27, 16, 10, 856, 53, 25, 34, 69]y:what are n't you understanding about this ? ! SENTENCE_END[51, 27, 16, 10, 856, 53, 25, 34, 69, 1] æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å»ºç«‹RNNã€‚ ##å»ºç«‹RNN æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬çš„RNNæ¨¡å‹çš„å½¢å¼ã€‚åˆå§‹è¾“å…¥$$x$$æ˜¯ä¸€ä¸ªä»£è¡¨ä¸€æ¡å¥å­çš„çŸ©é˜µï¼Œæ¯ä¸€æ—¶åˆ»çš„è¾“å…¥$$x_t$$æ˜¯ä¸€ä¸ªä»£è¡¨ä¸€ä¸ªè¯è¯­çš„å‘é‡ï¼Œæ¯ä¸€æ—¶åˆ»çš„è¾“å‡º$$o_t$$ä¹Ÿæ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä»£è¡¨è¯è¡¨å†…æ¯ä¸€ä¸ªè¯è¢«é¢„æµ‹çš„æ¦‚ç‡ã€‚ RNNä¸­çš„ç­‰å¼ï¼š$$s_t = tanh(Ux_t + Ws_{t-1})o_t = softmax(Vs_t)$$ ä»‹ç»ä¸€ä¸‹å„ä¸ªå˜é‡çš„ç»´åº¦ï¼šå‡è®¾æˆ‘ä»¬çš„è¯è¡¨å¤§å°$$C$$ä¸º8000ï¼Œéšè—å±‚å¤§å°$$H$$ä¸º100ï¼Œå¯ä»¥æŠŠéšè—å±‚å¤§å°ç†è§£ä¸ºç½‘ç»œå†…å­˜çš„å¤§å°ï¼Œå†…å­˜è¶Šå¤§ï¼Œç½‘ç»œèƒ½è®°å¿†çš„ä¿¡æ¯ä¹Ÿè¶Šå¤šï¼Œä½†æ˜¯ä¹Ÿè¦è€—è´¹æ›´å¤šçš„ä»£ä»·æ¥è®¡ç®—ã€‚ç»¼ä¸Šï¼Œæˆ‘ä»¬çš„æ¨¡å‹å‚æ•°ç»´åº¦ä¸ºï¼š $$x_t \\in \\Bbb{R}^{8000} \\ o_t \\in \\Bbb{R}^{8000} \\ s_t \\in \\Bbb{R}^{100} \\ U_t \\in \\Bbb{R}^{100 \\times 8000} \\ V_t \\in \\Bbb{R}^{8000 \\times 100} \\ W_t \\in \\Bbb{R}^{100 \\times 100} \\$$ å…¶ä¸­$$Uï¼ŒVï¼ŒW$$æ˜¯ç½‘ç»œçš„å‚æ•°ï¼Œæ ¹æ®ä¸Šé¢çš„ç­‰å¼ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¹ $$2HC+H^2$$ä¸ªå‚æ•°ï¼Œç”±äº$$x_t$$æ˜¯ç¨€ç–çš„one-hotå‘é‡ï¼Œæ‰€ä»¥å…¶ä¸$$U$$çš„ä¹˜ç§¯ä¸€æ­¥å³å¯ç®—å‡ºï¼Œ$$W$$å’Œ$$S_t$$çš„ç»´åº¦éƒ½æ¯”è¾ƒå°ï¼Œæ‰€ä»¥æœ€ç¹ççš„è®¡ç®—å°±æ˜¯$$VS_t$$äº†ã€‚ ###åˆå§‹åŒ– é€šè¿‡Numpyå®ç°ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¯¹$$Uï¼ŒVï¼ŒW$$çš„åˆå§‹åŒ–æ¯”è¾ƒtrickyï¼Œé€šå¸¸æ˜¯æŠŠå®ƒä»¬çš„åˆå§‹å€¼ç½®äº$$[-\\frac{1}{\\sqrt n},\\frac{1}{\\sqrt n}]$$è¾ƒå¥½ã€‚ 1234567891011class RNNNumpy: def __init__(self, word_dim, hidden_dim=100, bptt_truncate=4): # Assign instance variables self.word_dim = word_dim self.hidden_dim = hidden_dim self.bptt_truncate = bptt_truncate # Randomly initialize the network parameters self.U = np.random.uniform(-np.sqrt(1./word_dim), np.sqrt(1./word_dim), (hidden_dim, word_dim)) self.V = np.random.uniform(-np.sqrt(1./hidden_dim), np.sqrt(1./hidden_dim), (word_dim, hidden_dim)) self.W = np.random.uniform(-np.sqrt(1./hidden_dim), np.sqrt(1./hidden_dim), (hidden_dim, hidden_dim)) å…¶ä¸­word_dimæ˜¯è¯è¡¨å¤§å°ï¼Œhidden_dimæ˜¯éšè—å±‚å¤§å°ã€‚ ###å‰å‘è®¡ç®— ä»¥ä¸‹æ˜¯å‰å‘è®¡ç®—ï¼ˆé¢„æµ‹è¯è¯­çš„æ¦‚ç‡ï¼‰çš„è¿‡ç¨‹ï¼š 1234567891011121314151617def forward_propagation(self, x): # The total number of time steps T = len(x) # During forward propagation we save all hidden states in s because need them later. # We add one additional element for the initial hidden, which we set to 0 s = np.zeros((T + 1, self.hidden_dim)) s[-1] = np.zeros(self.hidden_dim) # The outputs at each time step. Again, we save them for later. o = np.zeros((T, self.word_dim)) # For each time step... for t in np.arange(T): # Note that we are indxing U by x[t]. This is the same as multiplying U with a one-hot vector. s[t] = np.tanh(self.U[:,x[t]] + self.W.dot(s[t-1])) o[t] = softmax(self.V.dot(s[t])) return [o, s]RNNNumpy.forward_propagation = forward_propagation æˆ‘ä»¬åŒæ—¶è¿”å›è¾“å‡ºåŠéšè—å±‚çŠ¶æ€ï¼Œéšè—å±‚çŠ¶æ€ä¹‹åä¼šç”¨äºæ¢¯åº¦è®¡ç®—ã€‚$$o_t$$æ˜¯è¯è¡¨å†…æ¯ä¸ªè¯çš„æ¦‚ç‡ï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬éœ€è¦ç›´æ¥é¢„æµ‹å‡ºæ¦‚ç‡æœ€é«˜çš„è¯ï¼š 123456def predict(self, x): # Perform forward propagation and return index of the highest score o, s = self.forward_propagation(x) return np.argmax(o, axis=1)RNNNumpy.predict = predict å°è¯•è¾“å‡ºï¼š12345678910111213141516171819np.random.seed(10)model = RNNNumpy(vocabulary_size)o, s = model.forward_propagation(X_train[10])print o.shapeprint o(45, 8000)[[ 0.00012408 0.0001244 0.00012603 ..., 0.00012515 0.00012488 0.00012508] [ 0.00012536 0.00012582 0.00012436 ..., 0.00012482 0.00012456 0.00012451] [ 0.00012387 0.0001252 0.00012474 ..., 0.00012559 0.00012588 0.00012551] ..., [ 0.00012414 0.00012455 0.0001252 ..., 0.00012487 0.00012494 0.0001263 ] [ 0.0001252 0.00012393 0.00012509 ..., 0.00012407 0.00012578 0.00012502] [ 0.00012472 0.0001253 0.00012487 ..., 0.00012463 0.00012536 0.00012665]] å¯¹ä¸Šé¢å¥å­ï¼ˆåŒ…æ‹¬45ä¸ªå•è¯ï¼‰ä¸­çš„æ¯ä¸ªè¯ï¼Œæ¨¡å‹éƒ½é¢„æµ‹äº†8000ä¸ªæ¦‚ç‡å€¼ã€‚å› ä¸ºæ¨¡å‹å‚æ•°è¿™æ—¶å€™æ˜¯éšæœºåˆå§‹å€¼ï¼Œæ‰€ä»¥é¢„æµ‹ä¹Ÿæ˜¯éšæœºçš„ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç»™å‡ºé¢„æµ‹çš„è¯çš„ä½ç½®ï¼š1234567predictions = model.predict(X_train[10])print predictions.shapeprint predictions(45,)[1284 5221 7653 7430 1013 3562 7366 4860 2212 6601 7299 4556 2481 238 2539 21 6548 261 1780 2005 1810 5376 4146 477 7051 4832 4991 897 3485 21 7291 2007 6006 760 4864 2182 6569 2800 2752 6821 4437 7021 7875 6912 3575] æ¥ä¸‹æ¥æˆ‘ä»¬è®¡ç®—æŸå¤±ã€‚ ###è®¡ç®—æŸå¤± æˆ‘ä»¬ä½¿ç”¨äº¤å‰ç†µå‡½æ•°ä½œä¸ºæŸå¤±å‡½æ•°ã€‚è‹¥æˆ‘ä»¬æœ‰$$N$$ä¸ªè®­ç»ƒæ ·æœ¬ï¼ˆtextä¸­çš„è¯è¯­æ•°ï¼‰ï¼Œ$$C$$ä¸ªç±»åˆ«ï¼ˆè¯è¡¨å¤§å°ï¼‰ï¼Œé¢„æµ‹æ˜¯$$o$$ï¼Œlabelæ˜¯$$y$$ï¼Œé‚£ä¹ˆæŸå¤±è®¡ç®—ä¸ºï¼š $$L(y,o) = - \\frac{1}{N} \\sum_{n \\in N} y_n \\log o_n$$ æŸå¤±å‡½æ•°è®¡ç®—çš„æ˜¯æˆ‘ä»¬çš„é¢„æµ‹ooä¸æ­£ç¡®çš„è¯yyçš„å·®è·çš„å¤§å°ã€‚é€šè¿‡ä»¥ä¸‹è®¡ç®—æŸå¤±ï¼š 123456789101112131415161718def calculate_total_loss(self, x, y): L = 0 # For each sentence... for i in np.arange(len(y)): o, s = self.forward_propagation(x[i]) # We only care about our prediction of the \"correct\" words correct_word_predictions = o[np.arange(len(y[i])), y[i]] # Add to the loss based on how off we were L += -1 * np.sum(np.log(correct_word_predictions)) return Ldef calculate_loss(self, x, y): # Divide the total loss by the number of training examples N = np.sum((len(y_i) for y_i in y)) return self.calculate_total_loss(x,y)/NRNNNumpy.calculate_total_loss = calculate_total_lossRNNNumpy.calculate_loss = calculate_loss è®©æˆ‘ä»¬ç¨å¾®æ£€éªŒä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¯è¡¨å¤§å°ä¸º$$C$$ï¼Œé‚£ä¹ˆå¼€å§‹æ—¶æ¯ä¸ªè¯è¢«éšæœºé¢„æµ‹çš„æ¦‚ç‡ä¸º$$\\frac{1}{C}$$ï¼Œé‚£ä¹ˆæŸå¤±ä¸º$$L = - \\frac{1}{C} N \\log \\ \\frac{1}{C} = \\log C$$ï¼š123 Limit to 1000 examples to save timeprint \"Expected Loss for random predictions: %f\" % np.log(vocabulary_size)print \"Actual loss: %f\" % model.calculate_loss(X_train[:1000], y_train[:1000]) å¾ˆæ¥è¿‘ã€‚è¿™é‡Œæˆ‘ä»¬åº”å½“è®°ä½ï¼Œå¦‚æœdataå¾ˆå¤§ï¼Œé‚£ä¹ˆè®¡ç®—æŸå¤±ä¼šå˜å¾—éå¸¸è€—è´¹æ—¶é—´ã€‚ ###é€šè¿‡SGDå’ŒBPTTï¼ˆBACKPROPAGATION THROUGH TIME ï¼‰è®­ç»ƒRNN ç»™å®šè®­ç»ƒæ ·æœ¬$$(x,y)$$æˆ‘ä»¬éœ€è¦è®¡ç®—æ¢¯åº¦$$\\frac{\\partial L}{\\partial {U}},\\frac{\\partial L}{\\partial {V}},\\frac{\\partial L}{\\partial {W}}$$ã€‚é€šè¿‡ä»¥ä¸‹ä»£ç å®ç°BPTTï¼š12345678910111213141516171819202122232425def bptt(self, x, y): T = len(y) # Perform forward propagation o, s = self.forward_propagation(x) # We accumulate the gradients in these variables dLdU = np.zeros(self.U.shape) dLdV = np.zeros(self.V.shape) dLdW = np.zeros(self.W.shape) delta_o = o delta_o[np.arange(len(y)), y] -= 1. # For each output backwards... for t in np.arange(T)[::-1]: dLdV += np.outer(delta_o[t], s[t].T) # Initial delta calculation delta_t = self.V.T.dot(delta_o[t]) * (1 - (s[t] ** 2)) # Backpropagation through time (for at most self.bptt_truncate steps) for bptt_step in np.arange(max(0, t-self.bptt_truncate), t+1)[::-1]: # print \"Backpropagation step t=%d bptt step=%d \" % (t, bptt_step) dLdW += np.outer(delta_t, s[bptt_step-1]) dLdU[:,x[bptt_step]] += delta_t # Update delta for next step delta_t = self.W.T.dot(delta_t) * (1 - s[bptt_step-1] ** 2) return [dLdU, dLdV, dLdW]RNNNumpy.bptt = bptt æ¥ä¸‹æ¥æˆ‘ä»¬æµ‹è¯•æ¢¯åº¦ã€‚ ###æµ‹è¯•æ¢¯åº¦ å®ç°BPç®—æ³•è¿‡ç¨‹ä¸­ï¼Œæµ‹è¯•æ¢¯åº¦æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ã€‚é€šè¿‡ä»¥ä¸‹å…¬å¼ï¼š $$\\frac{\\partial L}{\\partial{\\theta}} \\approx \\lim_{h \\rightarrow0} \\frac{J(\\theta + h)-J(\\theta - h)}{2h}$$ ä½¿ç”¨ä»¥ä¸Šçš„å…¬å¼æ¥æµ‹è¯•æ¢¯åº¦ï¼ŒåŒæ ·ï¼Œç”±äºéœ€è¦è®¡ç®—æ‰€ä»¥çš„å‚æ•°ï¼Œæ¢¯åº¦æµ‹è¯•ä¹Ÿæ˜¯å¾ˆè€—æ—¶é—´çš„ï¼Œåœ¨éƒ¨åˆ†æ•°æ®ä¸Šæµ‹è¯•æ˜¯æ¯”è¾ƒå¥½çš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647def gradient_check(self, x, y, h=0.001, error_threshold=0.01): # Calculate the gradients using backpropagation. We want to checker if these are correct. bptt_gradients = self.bptt(x, y) # List of all parameters we want to check. model_parameters = ['U', 'V', 'W'] # Gradient check for each parameter for pidx, pname in enumerate(model_parameters): # Get the actual parameter value from the mode, e.g. model.W parameter = operator.attrgetter(pname)(self) print \"Performing gradient check for parameter %s with size %d.\" % (pname, np.prod(parameter.shape)) # Iterate over each element of the parameter matrix, e.g. (0,0), (0,1), ... it = np.nditer(parameter, flags=['multi_index'], op_flags=['readwrite']) while not it.finished: ix = it.multi_index # Save the original value so we can reset it later original_value = parameter[ix] # Estimate the gradient using (f(x+h) - f(x-h))/(2*h) parameter[ix] = original_value + h gradplus = self.calculate_total_loss([x],[y]) parameter[ix] = original_value - h gradminus = self.calculate_total_loss([x],[y]) estimated_gradient = (gradplus - gradminus)/(2*h) # Reset parameter to original value parameter[ix] = original_value # The gradient for this parameter calculated using backpropagation backprop_gradient = bptt_gradients[pidx][ix] # calculate The relative error: (|x - y|/(|x| + |y|)) relative_error = np.abs(backprop_gradient - estimated_gradient)/(np.abs(backprop_gradient) + np.abs(estimated_gradient)) # If the error is to large fail the gradient check if relative_error &gt; error_threshold: print \"Gradient Check ERROR: parameter=%s ix=%s\" % (pname, ix) print \"+h Loss: %f\" % gradplus print \"-h Loss: %f\" % gradminus print \"Estimated_gradient: %f\" % estimated_gradient print \"Backpropagation gradient: %f\" % backprop_gradient print \"Relative Error: %f\" % relative_error return it.iternext() print \"Gradient check for parameter %s passed.\" % (pname)RNNNumpy.gradient_check = gradient_check# To avoid performing millions of expensive calculations we use a smaller vocabulary size for checking.grad_check_vocab_size = 100np.random.seed(10)model = RNNNumpy(grad_check_vocab_size, 10, bptt_truncate=1000)model.gradient_check([0,1,2,3], [1,2,3,4]) æ¥ä¸‹æ¥æˆ‘ä»¬å®ç°SGDã€‚ ###å®ç°SGD é€šè¿‡ä¸¤æ­¥å®ç°ï¼š sdg_stepè®¡ç®—è®¡ç®—æ¢¯åº¦å¯¹æ¯ä¸ªbatchæ›´æ–° å¤–éƒ¨å¾ªç¯è¿­ä»£æ•´ä¸ªè®­ç»ƒæ•°æ®å¹¶ä¸”è°ƒæ•´å­¦ä¹ ç‡ 123456789def numpy_sdg_step(self, x, y, learning_rate): # Calculate the gradients dLdU, dLdV, dLdW = self.bptt(x, y) # Change parameters according to gradients and learning rate self.U -= learning_rate * dLdU self.V -= learning_rate * dLdV self.W -= learning_rate * dLdWRNNNumpy.sgd_step = numpy_sdg_step 12345678910111213141516171819202122232425262728Outer SGD Loop# - model: The RNN model instance# - X_train: The training data set# - y_train: The training data labels# - learning_rate: Initial learning rate for SGD# - nepoch: Number of times to iterate through the complete dataset# - evaluate_loss_after: Evaluate the loss after this many epochsdef train_with_sgd(model, X_train, y_train, learning_rate=0.005, nepoch=100, evaluate_loss_after=5): # We keep track of the losses so we can plot them later losses = [] num_examples_seen = 0 for epoch in range(nepoch): # Optionally evaluate the loss if (epoch % evaluate_loss_after == 0): loss = model.calculate_loss(X_train, y_train) losses.append((num_examples_seen, loss)) time = datetime.now().strftime('%Y-%m-%d %H:%M:%S') print \"%s: Loss after num_examples_seen=%d epoch=%d: %f\" % (time, num_examples_seen, epoch, loss) # Adjust the learning rate if loss increases if (len(losses) &gt; 1 and losses[-1][1] &gt; losses[-2][1]): learning_rate = learning_rate * 0.5 print \"Setting learning rate to %f\" % learning_rate sys.stdout.flush() # For each training example... for i in range(len(y_train)): # One SGD step model.sgd_step(X_train[i], y_train[i], learning_rate) num_examples_seen += 1 å®Œæˆã€‚æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹è®­ç»ƒè€—è´¹å¤šé•¿çš„æ—¶é—´ï¼š 123np.random.seed(10)model = RNNNumpy(vocabulary_size)%timeit model.sgd_step(X_train[10], y_train[10], 0.005) å¯ä»¥çœ‹åˆ°åœ¨æˆ‘çš„æœºå™¨ä¸Šéœ€è¦SGDçš„æ¯ä¸€æ­¥éœ€è¦180msï¼Œè¿™ä»£è¡¨æ•´ä¸ªè®­ç»ƒå°†è€—è´¹æ•°å¤©ç”šè‡³æ›´å¤šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¸å¤šçš„æ–¹æ³•æ¥åŠ é€Ÿè¿™ä¸€è¿‡ç¨‹ï¼Œå¦‚æ”¹å–„ä»£ç å’Œè°ƒæ•´æ¨¡å‹ã€‚è¿™é‡Œæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨GPUæ¥åŠ é€Ÿã€‚åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæµ‹è¯•ä¸€ä¸‹SGDçš„æ•ˆæœï¼š 1234np.random.seed(10)# Train on a small subset of the data to see what happensmodel = RNNNumpy(vocabulary_size)losses = train_with_sgd(model, X_train[:100], y_train[:100], nepoch=10, evaluate_loss_after=1) 123456789102016-06-13 16:59:46: Loss after num_examples_seen=0 epoch=0: 8.9874252016-06-13 16:59:56: Loss after num_examples_seen=100 epoch=1: 8.9762702016-06-13 17:00:06: Loss after num_examples_seen=200 epoch=2: 8.9602122016-06-13 17:00:16: Loss after num_examples_seen=300 epoch=3: 8.9304302016-06-13 17:00:26: Loss after num_examples_seen=400 epoch=4: 8.8622642016-06-13 17:00:37: Loss after num_examples_seen=500 epoch=5: 6.9135702016-06-13 17:00:46: Loss after num_examples_seen=600 epoch=6: 6.3024932016-06-13 17:00:56: Loss after num_examples_seen=700 epoch=7: 6.0149952016-06-13 17:01:06: Loss after num_examples_seen=800 epoch=8: 5.8338772016-06-13 17:01:16: Loss after num_examples_seen=900 epoch=9: 5.710718 çœ‹èµ·æ¥ï¼ŒSGDèµ·åˆ°äº†æ•ˆæœã€‚ ##é€šè¿‡Theanoå’ŒGPUè®­ç»ƒ 123enp.random.seed(10)model = RNNTheano(vocabulary_size)%timeit model.sgd_step(X_train[10], y_train[10], 0.005) è¿™æ¬¡ä¸€æ¬¡SGDæ­¥éª¤è€—è´¹ä¸º73.7msã€‚ è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨è®­ç»ƒå¥½çš„çš„å‚æ•°ï¼š123456from utils import load_model_parameters_theano, save_model_parameters_theanomodel = RNNTheano(vocabulary_size, hidden_dim=50)# losses = train_with_sgd(model, X_train, y_train, nepoch=50)# save_model_parameters_theano('./data/trained-model-theano.npz', model)load_model_parameters_theano('./data/trained-model-theano.npz', model) ###ç”Ÿæˆè¯­å¥ ä½¿ç”¨å¦‚ä¸‹ç”Ÿæˆè¯­å¥ï¼š123456789101112131415161718192021222324def generate_sentence(model): # We start the sentence with the start token new_sentence = [word_to_index[sentence_start_token]] # Repeat until we get an end token while not new_sentence[-1] == word_to_index[sentence_end_token]: next_word_probs = model.forward_propagation(new_sentence) sampled_word = word_to_index[unknown_token] # We don't want to sample unknown words while sampled_word == word_to_index[unknown_token]: samples = np.random.multinomial(1, next_word_probs[-1]) sampled_word = np.argmax(samples) new_sentence.append(sampled_word) sentence_str = [index_to_word[x] for x in new_sentence[1:-1]] return sentence_strnum_sentences = 10senten_min_length = 7for i in range(num_sentences): sent = [] # We want long sentences, not sentences with one or two words while len(sent) &lt; senten_min_length: sent = generate_sentence(model) print \" \".join(sent) å¾—åˆ°ç»“æœä¸ºï¼š no to blame their stuff go at all . consider via under gear but equal every game . no similar work on the ui birth a ce nightmare . the challenging what is absolutely hard . me do you research getting +2 . ugh is much good , no . me so many different lines hair . probably not very a bot or gain . correct this is affected so why ? register but a grown gun environment . çœ‹èµ·æ¥è¿˜ä¸é”™ï¼ä¸è¿‡è¿˜æ˜¯æœ‰ä¸€äº›ç¼ºé™·ï¼Œè¿™äº›éƒ½æ˜¯ç”±äºvanilla RNNä¸èƒ½è§£å†³é•¿æœŸä¾èµ–é—®é¢˜å¯¼è‡´çš„ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†è®¨è®ºBPTTå¹¶ä¸”å…³æ³¨æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸é—®é¢˜ã€‚","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"},{"name":"RNN","slug":"RNN","permalink":"http://frankchen.xyz/tags/RNN/"}]},{"title":"ubuntuä¸‹ä¿®æ”¹DNSå¹¶ä¸”é¿å…é‡å¯å¤±æ•ˆçš„æ–¹æ³•","slug":"2016-06-07-edit-dns-of-ubuntu","date":"2016-06-07T10:19:51.000Z","updated":"2016-11-11T13:50:33.000Z","comments":true,"path":"2016/06/07/2016-06-07-edit-dns-of-ubuntu/","link":"","permalink":"http://frankchen.xyz/2016/06/07/2016-06-07-edit-dns-of-ubuntu/","excerpt":"","text":"å®‰è£…å¥½Ubuntuä¹‹åè®¾ç½®äº†é™æ€IPåœ°å€ï¼Œå†é‡å¯åå°±æ— æ³•è§£æåŸŸåã€‚æƒ³é‡æ–°è®¾ç½®ä¸€ä¸‹DNSï¼Œæ‰“å¼€/etc/resolv.confï¼š 123cat /etc/resolv.conf# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯resolvconfç¨‹åºåŠ¨æ€åˆ›å»ºçš„ï¼Œä¸è¦ç›´æ¥æ‰‹åŠ¨ç¼–è¾‘ï¼Œä¿®æ”¹å°†è¢«è¦†ç›–ã€‚ è¯•äº†è¯•ï¼Œé‡å¯æœç„¶å¤±æ•ˆäº†ï¼Œè‹¥ä¸è§£å†³æ¯æ¬¡é‡å¯éƒ½å¾—ä¿®æ”¹DNSï¼Œé‚£å¤šéº»çƒ¦å•Šï¼ è¿˜å¥½æ‰¾åˆ°å¦‚ä¸‹åŠæ³•ï¼š ä¿®æ”¹/etc/resolvconf/resolv.conf.d/baseï¼ˆè¿™ä¸ªæ–‡ä»¶é»˜è®¤æ˜¯ç©ºçš„ï¼‰ï¼Œåœ¨å…¶å†…æ’å…¥ï¼š 12nameserver 8.8.8.8nameserver 8.8.4.4 ä¿å­˜åæ‰§è¡Œï¼š[sudo] resolvconf -u,å³å¯ã€‚","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://frankchen.xyz/tags/Linux/"}]},{"title":"RECURRENT NEURAL NETWORKS TUTORIAL, PART 1 â€“ INTRODUCTION TO RNNS","slug":"2016-06-06-recurrent-neural-networks-tutorial-part-1-introduction-to-rnns","date":"2016-06-06T11:18:44.000Z","updated":"2017-01-13T09:47:17.000Z","comments":true,"path":"2016/06/06/2016-06-06-recurrent-neural-networks-tutorial-part-1-introduction-to-rnns/","link":"","permalink":"http://frankchen.xyz/2016/06/06/2016-06-06-recurrent-neural-networks-tutorial-part-1-introduction-to-rnns/","excerpt":"RNNï¼Œä¹Ÿå³æ˜¯é€’å½’ç¥ç»ç½‘ç»œï¼Œæ˜¯è®¸å¤šNLPä»»åŠ¡çš„æµè¡Œå¤„ç†æ¨¡å‹ã€‚æœ¬éƒ¨åˆ†ä¸­å°†ç®€ä»‹RNNã€‚ æœ¬éƒ¨åˆ†ä¸»è¦å®ç°æ­¤æ¨¡å‹â€“ recurrent neural network based language modelï¼Œæ¨¡å‹æœ‰ä¸¤ä¸ªä½œç”¨ï¼š å¯ä»¥åŸºäºå‡ºç°çš„æ¦‚ç‡å¯¹å¥å­è¿›è¡Œæ‰“åˆ†ï¼Œå¯ä»¥å¯¹äºè¯­æ³•å’Œè¯­ä¹‰æ­£ç¡®æ€§è¿›è¡Œè¯„ä¼°ï¼Œä»è€Œåº”ç”¨äºæœºå™¨ç¿»è¯‘ç­‰é¢†åŸŸã€‚ å¯ä»¥ä¾æ®æ¦‚ç‡ç”Ÿæˆæ–°çš„è¯­æ–™ã€‚","text":"RNNï¼Œä¹Ÿå³æ˜¯é€’å½’ç¥ç»ç½‘ç»œï¼Œæ˜¯è®¸å¤šNLPä»»åŠ¡çš„æµè¡Œå¤„ç†æ¨¡å‹ã€‚æœ¬éƒ¨åˆ†ä¸­å°†ç®€ä»‹RNNã€‚ æœ¬éƒ¨åˆ†ä¸»è¦å®ç°æ­¤æ¨¡å‹â€“ recurrent neural network based language modelï¼Œæ¨¡å‹æœ‰ä¸¤ä¸ªä½œç”¨ï¼š å¯ä»¥åŸºäºå‡ºç°çš„æ¦‚ç‡å¯¹å¥å­è¿›è¡Œæ‰“åˆ†ï¼Œå¯ä»¥å¯¹äºè¯­æ³•å’Œè¯­ä¹‰æ­£ç¡®æ€§è¿›è¡Œè¯„ä¼°ï¼Œä»è€Œåº”ç”¨äºæœºå™¨ç¿»è¯‘ç­‰é¢†åŸŸã€‚ å¯ä»¥ä¾æ®æ¦‚ç‡ç”Ÿæˆæ–°çš„è¯­æ–™ã€‚ ##ä»€ä¹ˆæ˜¯RNN RNNèƒŒåçš„æ ¸å¿ƒç†å¿µæ˜¯åˆ©ç”¨åºåˆ—çš„ä¿¡æ¯ã€‚ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œå¸¸å¸¸å‡è®¾è¾“å…¥ï¼ˆè¾“å‡ºï¼‰æ˜¯ç‹¬ç«‹äºå½¼æ­¤çš„ï¼Œè¿™å¯¹äºæŸäº›åº”ç”¨æ¥è¯´æ˜¯ä¸å¯è¡Œçš„ï¼Œä¾‹å¦‚NLPä»»åŠ¡ï¼Œå¦‚æœä½ éœ€è¦é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯æ˜¯ä»€ä¹ˆï¼Œä½ ä¸å¯èƒ½ä¸ç”¨åˆ°ä¹‹å‰çš„å•è¯çš„ä¿¡æ¯ã€‚RNNä¹‹ä¸­çš„recurrentæŒ‡çš„å°±æ˜¯å¾ªç¯å¾€å¤çš„æ„æ€ï¼Œç½‘ç»œå¯¹äºåºåˆ—æ•°æ®çš„æ¯ä¸ªå…ƒç´ è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œç½‘ç»œçš„è¾“å‡ºå–å†³äºä¹‹å‰çš„è®¡ç®—ã€‚å¦ä¸€ç§ç†è§£RNNçš„æ–¹æ³•åˆ™æ˜¯æŠŠå®ƒä»¬çœ‹æˆæ˜¯æœ‰è®°å¿†çš„ç½‘ç»œï¼Œè®°å¿†æ”¶é›†ä»å¼€å§‹åˆ°ç°åœ¨è¢«è€ƒè™‘çš„ä¿¡æ¯ã€‚ç†è®ºä¸ŠRNNå¯ä»¥åˆ©ç”¨ä»»æ„æ—¶é—´é•¿åº¦çš„ä¿¡æ¯ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™æ¯”è¾ƒå›°éš¾ã€‚ä»¥ä¸‹æ˜¯RNNçš„å…¸å‹ç»“æ„ï¼š ä»¥ä¸Šçš„ç»“æ„å°†RNNå±•å¼€æˆå®Œæ•´çš„ç½‘ç»œã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†ä¸€ä¸ª5å±‚çš„åºåˆ—ï¼Œé‚£ä¹ˆå°±éœ€è¦å±•å¼€æˆ5å±‚ï¼šæ¯å±‚å¯¹åº”ä¸€ä¸ªè¯ã€‚ $$x_t$$æ˜¯$$t$$æ—¶åˆ»çš„è¾“å…¥ $$s_t$$æ˜¯$$t$$æ—¶åˆ»çš„éšè—çŠ¶æ€ï¼Œä»£è¡¨ç½‘ç»œçš„â€œè®°å¿†â€ï¼Œè®¡ç®—å…¬å¼ä¸º$$s_t = f(Ux_t + Ws_{t-1})$$ï¼Œå…¶ä¸­$$f$$é€šå¸¸æ˜¯tanhå‡½æ•°æˆ–è€…RELUå‡½æ•°ã€‚ $$o_t$$æ˜¯$$t$$æ—¶åˆ»çš„è¾“å‡ºï¼Œå¦‚æœæˆ‘ä»¬æƒ³é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆè®¡ç®—å…¬å¼ä¸º$$o_t = softmax(Vs_t)$$ï¼ŒæŒ‡çš„æ˜¯åœ¨æ•´ä¸ªè¯è¡¨å†…è¯çš„æ¦‚ç‡å€¼ã€‚ å¯¹äºä»¥ä¸Šæœ‰å‡ ç‚¹éœ€è¦æç¤ºï¼š æˆ‘ä»¬å¯ä»¥æŠŠéšè—çŠ¶æ€$$s_t$$çœ‹æˆæ˜¯ç½‘ç»œçš„â€œè®°å¿†â€ï¼Œå…¶æ•æ‰åˆ°åœ¨ä¹‹å‰æ‰€æœ‰æ—¶é—´çš„ä¿¡æ¯ã€‚è¾“å‡º$$o_t$$åªå–å†³äºåœ¨$$t$$æ—¶åˆ»çš„è®°å¿†ã€‚è€Œåœ¨å®é™…ä¸Šï¼Œç”±äºé•¿æœŸä¾èµ–é—®é¢˜ï¼Œ$$s_t$$å¾ˆéš¾æ•æ‰åˆ°å¾ˆé•¿æ—¶é—´ä»¥å‰çš„ä¿¡æ¯ã€‚ RNNæ¯ä¸ªstepä¸­çš„å‚æ•°ï¼ˆ$$U,V,W$$ï¼‰æ˜¯ç›¸åŒçš„ï¼Œè¿™ä½¿å¾—å­¦ä¹ çš„ä»£ä»·å‡å°è®¸å¤šã€‚ å–å†³äºå®é™…ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯èƒ½å¹¶ä¸éœ€è¦æ¯ä¸ªstepéƒ½æœ‰è¾“å…¥å’Œè¾“å‡ºã€‚ ##RNNçš„å®é™…åº”ç”¨ä»¥ä¸‹æ˜¯RNNåœ¨NLPé¢†åŸŸçš„ä¸€äº›å®é™…åº”ç”¨ã€‚ ###è¯­è¨€æ¨¡å‹ä¸ç”Ÿæˆè¯­å¥åœ¨ç»™å®šä¹‹å‰è¯è¯­çš„æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›äº§ç”Ÿå‡ºä¸‹ä¸€ä¸ªè¯è¯­æ˜¯ä»€ä¹ˆã€‚è¯­è¨€æ¨¡å‹çš„ä½œç”¨å°±æ˜¯è®©æˆ‘ä»¬å¯ä»¥è¡¡é‡ä¸€ä¸ªå¥å­çš„å¯èƒ½æ€§ï¼Œè¿™å¯¹äºæœºå™¨ç¿»è¯‘æ˜¯å¾ˆé‡è¦çš„ï¼ˆå¯èƒ½æ€§è¶Šé«˜çš„æ›´å¯èƒ½æ­£ç¡®ï¼‰ã€‚è€Œè¯­è¨€æ¨¡å‹çš„å¦ä¸€ä¸ªä½œç”¨åˆ™æ˜¯é¢„æµ‹ä¸‹ä¸€ä¸ªè¯è¯­æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨è¾“å‡ºçš„æ¦‚ç‡è¯æ±‡ä¸­é‡‡æ ·å¾—åˆ°ï¼Œã€‚å¯¹äºè¯­è¨€æ¨¡å‹ï¼Œè¾“å…¥æ˜¯ä¸€åºåˆ—çš„è¯è¯­ï¼ˆæ¯ä¸€ä¸ªè¯è¯­éƒ½æ˜¯one-hotè¡¨ç¤ºï¼‰ï¼Œè¾“å‡ºåˆ™æ˜¯ä¸€åºåˆ—çš„é¢„æµ‹çš„è¯è¯­ã€‚åœ¨è®­ç»ƒæ—¶æˆ‘ä»¬è®¾ç½®$$o_t = x_{t + 1}$$ï¼Œå› ä¸ºè¿™ä¸€æ—¶åˆ»çš„è¾“å‡ºå°±æ˜¯ä¸‹ä¸€æ—¶åˆ»çš„è¾“å…¥ã€‚ å…³äºè¯­è¨€æ¨¡å‹ä¸ç”Ÿæˆè¯­å¥çš„è®ºæ–‡ï¼š Recurrent neural network based language model Extensions of Recurrent neural network based language model Generating Text with Recurrent Neural Networks ###æœºå™¨ç¿»è¯‘ æœºå™¨ç¿»è¯‘ç±»ä¼¼äºè¯­è¨€æ¨¡å‹ï¼Œå…¶è¾“å…¥ä¸ºéœ€è¦ç¿»è¯‘çš„å¥å­ï¼Œè¾“å‡ºåˆ™æ˜¯ç¿»è¯‘çš„ç›®æ ‡è¯­è¨€çš„å¥å­ã€‚ä¸è¯­è¨€æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¾“å…¥æ•´ä¸ªå¥å­ä¹‹åæ‰è¾“å‡ºã€‚ å…³äºæœºå™¨ç¿»è¯‘çš„è®ºæ–‡ï¼š A Recursive Recurrent Neural Network for Statistical Machine Translation Sequence to Sequence Learning with Neural Networks Joint Language and Translation Modeling with Recurrent Neural Networks ###è¯­è¨€è¯†åˆ« ç»™äºˆä¸€æ®µè¯´è¯äººè¯­è¨€çš„å£°éŸ³åºåˆ—ï¼Œæˆ‘ä»¬é¢„æµ‹å‡ºä¸€åºåˆ—çš„å¸¦æœ‰æ¦‚ç‡çš„è¯­è¨€æˆåˆ†çš„åºåˆ—ã€‚ ç›¸å…³è®ºæ–‡ï¼š Towards End-to-End Speech Recognition with Recurrent Neural Networks ###ç”Ÿæˆå›¾ç‰‡æè¿° ä¸CNNç»“åˆï¼ŒRNNå¯ä»¥ä¸ºæ— æ ‡ç­¾çš„å›¾ç‰‡ç”Ÿæˆæè¿°ï¼Œæ¨¡å‹ç”šè‡³å¯ä»¥æ’åˆ—å¥½è¿™äº›æè¿°æˆæ›´åŠ ç±»ä¼¼äººç±»è¯­è¨€çš„å½¢å¼ã€‚ ##è®­ç»ƒRNN è®­ç»ƒRNNä¸å…¸å‹çš„ç¥ç»ç½‘ç»œç±»ä¼¼ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯Backpropagation Through Time (BPTT)ï¼Œå¹¶ä¸”é€šè¿‡BPTTè®­ç»ƒçš„vanilla RNNç”±äºæ¢¯åº¦å¼¥æ•£æˆ–è€…æ¢¯åº¦çˆ†ç‚¸ï¼Œä¸èƒ½æœ‰æ•ˆçš„è§£å†³é•¿æœŸä¾èµ–çš„é—®é¢˜ã€‚ ##å…¶ä»–çš„ä¸€äº›RNN é’ˆå¯¹vanilla RNNçš„ä¸€äº›ç¼ºé™·ï¼Œè¿‘å¹´æ¥è®¸å¤šRNNçš„å˜ä½“æ¶Œç°å‡ºæ¥ã€‚ åŒå‘RNNï¼Œä¸»è¦è¾“å…¥ä¸ä»…ä¸è¿‡å»çš„è¾“å…¥ï¼Œå¹¶ä¸”ä¸å°†æ¥çš„è¾“å…¥æœ‰å…³çš„ç†å¿µã€‚ä¾‹å¦‚æˆ‘ä»¬éœ€è¦é¢„æµ‹ä¸€ä¸ªå¥å­ä¸­é—´ç¼ºå¤±çš„è¯è¯­ã€‚åŒå‘RNNçš„ç»“æ„å¾ˆç®€å•ï¼Œåªæ˜¯æŠŠä¸¤ä¸ªRNNåœ¨é¡¶éƒ¨ç»“åˆï¼Œå…¶è¾“å‡ºå–å†³äºäº†ä¸¤ä¸ªRNNçš„éšè—çŠ¶æ€ã€‚ æ·±åº¦ï¼ˆåŒå‘ï¼‰RNNï¼Œä¸åŒå‘RNNç±»ä¼¼ï¼Œåªæ˜¯æ¯ä¸ªstepéœ€è¦è®­ç»ƒå¤šå±‚çš„ç½‘ç»œï¼Œè¿™ä½¿å¾—æ¨¡å‹æ›´ä¸ºå¼ºå¤§ï¼ˆä¹Ÿéœ€è¦æ›´å¤šçš„æ•°æ®æ¥è®­ç»ƒï¼‰ã€‚ LSTMç½‘ç»œï¼Œå¯¹RNNçš„éšè—å±‚åšäº†æ”¹è¿›ä»¥è§£å†³é•¿æœŸä¾èµ–é—®é¢˜ï¼Œæ˜¯è¿‘æ¥æµè¡Œçš„RNNç±»å‹ã€‚LSTMå¯ä»¥é€šè¿‡gateå†³å®šç½‘ç»œéœ€è¦è®°ä½å’Œé—å¿˜å¤šé•¿æ—¶é—´ä¹‹å‰çš„è®°å¿†ï¼Œä»¥æ­¤è”åˆä¹‹å‰çš„çŠ¶æ€ã€è®°å¿†å’Œè¾“å…¥ã€‚å¯¹äºLSTMçš„è¯¦ç»†çŸ¥è¯†å¯ä»¥è§æ­¤ï¼šç†è§£LSTMç½‘ç»œã€‚ ##ç»“è®º åˆ°æ­¤æˆ‘ä»¬å¯¹äºRNNæœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ï¼Œä¹‹åæˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œä»£ç çš„å®ç°ã€‚","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"},{"name":"RNN","slug":"RNN","permalink":"http://frankchen.xyz/tags/RNN/"}]},{"title":"ç†è§£LSTMç½‘ç»œ","slug":"2016-06-04-understanding-lstm-networks","date":"2016-06-04T09:16:15.000Z","updated":"2017-01-13T08:15:55.000Z","comments":true,"path":"2016/06/04/2016-06-04-understanding-lstm-networks/","link":"","permalink":"http://frankchen.xyz/2016/06/04/2016-06-04-understanding-lstm-networks/","excerpt":"Recurrent Neural Networks(RNN)äººç±»æ˜¯ä¾é è‡ªå·±è¿‡å¾€çš„ç»éªŒæ¥å­¦ä¹ ï¼Œå¦‚åŒæˆ‘ä»¬åœ¨è¯»æ–‡ç« æ—¶ï¼Œæ¯ä¸€æ—¶åˆ»ï¼Œæˆ‘ä»¬å¯¹äºå½“å‰çš„æ¦‚å¿µçš„ç†è§£æ€»è¦æ·»åŠ ä¸Šå¯¹äºä¹‹å‰è·å–çš„çŸ¥è¯†ç»éªŒï¼Œæ€»ä¹‹ï¼Œæˆ‘ä»¬çš„æ€ç»´æ˜¯æœ‰æŒç»­æ€§çš„ã€‚ ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œæ¨¡å‹æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè€Œè¿™ä¹Ÿæ˜¯å®ƒçš„ä¸»è¦ç¼ºé™·ä¹‹ä¸€ã€‚ å¾ªç¯ç¥ç»ç½‘ç»œè§£å†³äº†è¿™ä¸ªéš¾é¢˜ï¼Œæ‰€è°“å¾ªç¯ï¼Œç®€å•æ¥è¯´å…¶ç»“æ„å…è®¸ä¿¡æ¯åœ¨ç½‘ç»œå†…ç•™å­˜ï¼Œä¹Ÿå³æ˜¯ï¼Œç½‘ç»œæ˜¯æœ‰è®°å¿†çš„ã€‚","text":"Recurrent Neural Networks(RNN)äººç±»æ˜¯ä¾é è‡ªå·±è¿‡å¾€çš„ç»éªŒæ¥å­¦ä¹ ï¼Œå¦‚åŒæˆ‘ä»¬åœ¨è¯»æ–‡ç« æ—¶ï¼Œæ¯ä¸€æ—¶åˆ»ï¼Œæˆ‘ä»¬å¯¹äºå½“å‰çš„æ¦‚å¿µçš„ç†è§£æ€»è¦æ·»åŠ ä¸Šå¯¹äºä¹‹å‰è·å–çš„çŸ¥è¯†ç»éªŒï¼Œæ€»ä¹‹ï¼Œæˆ‘ä»¬çš„æ€ç»´æ˜¯æœ‰æŒç»­æ€§çš„ã€‚ ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œæ¨¡å‹æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè€Œè¿™ä¹Ÿæ˜¯å®ƒçš„ä¸»è¦ç¼ºé™·ä¹‹ä¸€ã€‚ å¾ªç¯ç¥ç»ç½‘ç»œè§£å†³äº†è¿™ä¸ªéš¾é¢˜ï¼Œæ‰€è°“å¾ªç¯ï¼Œç®€å•æ¥è¯´å…¶ç»“æ„å…è®¸ä¿¡æ¯åœ¨ç½‘ç»œå†…ç•™å­˜ï¼Œä¹Ÿå³æ˜¯ï¼Œç½‘ç»œæ˜¯æœ‰è®°å¿†çš„ã€‚ ä¸Šå›¾ä¸­ï¼Œè¡¨ç¤ºAè¡¨ç¤ºç¥ç»ç½‘ç»œçš„ä¸€å—ï¼Œåœ¨$$t$$æ—¶åˆ»æœ‰è¾“å…¥$$X_t$$å’Œè¾“å‡º$$h_t$$ï¼Œè¿™ç»“æ„å¾ˆç®€å•ï¼Œç‰¹åˆ«çš„æ˜¯ä¸­é—´é‚£ä¸€ç¯ï¼Œè¡¨ç¤ºä¿¡æ¯å¯ä»¥åœ¨ç½‘ç»œå†…ä¿å­˜å’Œä¼ é€’ã€‚ ä»¥ä¸Šçš„å¾ªç¯ç»“æ„ä¹Ÿå¯ä»¥æ‹†è§£ä¸ºä¸‹é¢çš„ä¸²åˆ—ç»“æ„æ¥ç†è§£ï¼š æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªç½‘ç»œå—çš„å¾ªç¯çœ‹æˆæ˜¯å¤šä¸ªç›¸åŒçš„ç½‘ç»œä¹‹é—´ä¿¡æ¯çš„ä¼ é€’ï¼Œè€Œè¿™æ ·çš„ç»“æ„ä¹Ÿå°±æ„å‘³ç€ï¼ŒRNNå¤©ç”Ÿå°±é€‚åˆå¤„ç†ä¸åºåˆ—ç›¸å…³çš„æ•°æ®ï¼Œå¦‚æ—¶é—´åºåˆ—ã€NLPä¸­çš„è¯­è¨€æ¨¡å‹ã€éŸ³ä¹ç­‰ã€‚ è¿‘å¹´æ¥RNNçš„æˆåŠŸåº”ç”¨æ˜¯ä¸LSTMåˆ’ä¸å¼€è”ç³»çš„ã€‚æ¥ä¸‹æ¥å°±ç»™å¤§å®¶ä»‹ç»LSTMç½‘ç»œã€‚ ##é•¿æœŸä¾èµ–é—®é¢˜ RNNèƒ½å¤Ÿåˆ©ç”¨ä¹‹å‰çš„ä¿¡æ¯æ¥å¸®åŠ©å½“å‰çš„å¤„ç†ï¼Œè¿™æ˜¯æˆ‘ä»¬å¯¹äºRNNçš„æœŸå¾…ã€‚ä½†æ˜¯RNNèƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹æ˜¯æœ‰æ¡ä»¶çš„ï¼šéœ€è¦è§£å†³é•¿æœŸä¾èµ–é—®é¢˜ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦é¢„æµ‹å¦‚ä¸‹å¥å­ä¸­çš„æœ€åä¸€ä¸ªå•è¯ï¼šâ€œthe clouds are in the skyâ€ï¼Œå› ä¸ºæœ‰å…³çš„ä¿¡æ¯ä¸å…¶è¢«éœ€è¦çš„ä½ç½®çš„è·ç¦»ä¸è¿œï¼Œæ‰€ä»¥RNNå¯ä»¥è½»æ˜“è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ä½†æ˜¯å½“é¢„æµ‹éœ€è¦æ›´æ—©çš„ä¿¡æ¯çš„æ—¶å€™å‘¢ï¼Ÿä¾‹å¦‚â€œI grew up in Franceâ€¦ I speak fluent French.â€ è¿™æ—¶å€™æœ‰å…³çš„ä¿¡æ¯ä¸å…¶è¢«éœ€è¦çš„ä½ç½®çš„è·ç¦»å¯èƒ½å¾ˆè¿œã€‚è€Œæ­¤æ—¶ï¼ŒRNNå˜å¾—å¾ˆéš¾å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ ç†è®ºä¸Šï¼ŒRNNåº”è¯¥å¯ä»¥è§£å†³è¿™ç±»â€œé•¿æœŸä¾èµ–é—®é¢˜â€ï¼Œä½†æ˜¯å®é™…ä¸Šå´æ— æ³•åšåˆ°ã€‚å¹¸è¿çš„æ˜¯ï¼ŒLSTMå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ LSTM ç½‘ç»œLong Short Term Memory networksï¼Œç®€ç§°ä¸ºLSTMï¼Œæ˜¯ä¸€ç§å¯ä»¥å­¦ä¹ é•¿æœŸä¾èµ–çš„RNNã€‚é‚£ä¹ˆï¼ŒLSTMä¸ºä½•å…·æœ‰è¿™ç§èƒ½åŠ›å‘¢ï¼Ÿ æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ ‡å‡†çš„RNNå½¢å¼ï¼š å½¢å¼å¾ˆç®€å•ï¼Œtanhå±‚æ¥å—å½“å‰æ—¶åˆ»çš„è¾“å…¥$$X_t$$ä»¥åŠä¸Šä¸€æ—¶åˆ»ä¼ æ¥çš„è®°å¿†ä¿¡æ¯ï¼Œè¾“å‡º$$h_t$$åŠè®°å¿†ä¿¡æ¯ã€‚ è€ŒLSTMåœ¨æ ‡å‡†çš„RNNå½¢å¼ä¸‹ï¼Œç½‘ç»œå¢åŠ åˆ°äº†å››å±‚ã€‚ æ­¤å›¾ä¸­ï¼Œé»„è‰²çš„æ¡†æ ¼ä»£è¡¨ç¥ç»ç½‘ç»œå±‚ï¼Œç²‰çº¢è‰²çš„åœ†åœˆä»£è¡¨é€ç‚¹è¿ç®—ï¼Œä¾‹å¦‚å‘é‡ç›¸åŠ æˆ–è€…ç›¸ä¹˜ï¼Œå•æ¡é»‘è‰²çš„çº¿ä»£è¡¨å‘é‡çš„ä¼ è¾“ï¼Œåˆå¹¶çš„é»‘è‰²çš„çº¿ä»£è¡¨å‘é‡çš„è¿æ¥ï¼Œåˆ†å‰çš„é»‘è‰²çº¿ä»£è¡¨å‘é‡çš„å¤åˆ¶ï¼ˆåŒä¸€å‘é‡ä¼ é€åˆ°ä¸åŒçš„æ–¹å‘ï¼‰ã€‚ ##LSTMç½‘ç»œæ ¸å¿ƒç†å¿µ LSTMçš„æ ¸å¿ƒå°±æ˜¯ç½‘ç»œå†…ä¸Šé¢çš„é‚£æ¡æ°´å¹³çº¿ï¼Œç§°ä¸ºcell state $$C_t$$ï¼Œç±»ä¼¼äºä¼ é€å¸¦çš„åŠŸèƒ½ï¼Œå®ƒåœ¨æ•´ä¸ªç½‘ç»œå†…ç›´çº¿ä¼ é€ï¼Œåªåšä¸€äº›çº¿æ€§çš„å˜åŠ¨ï¼Œå®ƒä»£è¡¨ç€çš„æ˜¯RNNä¸­ä¸å˜çš„ä¿¡æ¯ã€‚ LSTMå…·æœ‰å¯¹cell stateè¿›è¡Œå¢å‡ä¿¡æ¯çš„åŠŸèƒ½ï¼Œæ˜¯é å¦‚ä¸‹çš„éƒ¨ä»¶â€“gateå®Œæˆçš„ã€‚ gateç”±ä¸€ä¸ªsigmoidå±‚å’Œé€ç‚¹ä¹˜æ“ä½œæ„æˆï¼Œæˆ‘ä»¬éƒ½çŸ¥é“sigmoidå‡½æ•°è¾“å‡ºçš„æ˜¯ä¸€ä¸ªä»‹äº0å’Œ1ä¹‹é—´çš„æ•°ï¼Œé‚£ä¹ˆgateçš„ä½œç”¨å°±æ˜¾è€Œæ˜“è§äº†ï¼šé€šè¿‡sigmoidå±‚çš„è¾“å…¥å†³å®šgateçš„è¾“å…¥æœ‰å¤šå°‘èƒ½è¢«è¾“å…¥ã€‚è€ŒLSTMå…·æœ‰ä¸‰ä¸ªgateï¼Œéƒ½æ˜¯ä¸ºäº†ä¿æŒå’Œæ§åˆ¶cell stateã€‚ åˆ†æ­¥ç†è§£LSTMLSTMç»“æ„çš„ç¬¬ä¸€æ­¥æ˜¯å†³å®šæˆ‘ä»¬åº”è¯¥æŠŠå¤šå°‘ä¿¡æ¯ä»cell stateé‡Œé¢ä¸¢å¼ƒã€‚è¿™æ˜¯æœ‰ä¸€ä¸ªå«åšâ€œforget gateâ€çš„éƒ¨åˆ†å®Œæˆçš„ã€‚å…¶æ¥æ”¶$$h_{t-1}$$å’Œ$$x_t$$ï¼Œè¾“å‡ºä¸€ä¸ª0å’Œ1ä¹‹é—´çš„æ•°ï¼Œå†ä¸ä¸Šä¸€æ—¶åˆ»çš„cell state$$C_{t-1}$$åšé€ç‚¹ä¹˜ã€‚ ä¸‹ä¸€æ­¥åˆ™æ˜¯å†³å®šæŠŠå¤šå°‘çš„æ–°ä¿¡æ¯å­˜å‚¨åœ¨cell stateé‡Œé¢ã€‚é¦–å…ˆï¼Œä¸€ä¸ªç§°ä¸ºâ€œinput gate layerâ€çš„sigmoidå±‚å†³å®šè¦æ›´æ–°çš„ä¿¡æ¯çš„å¤šå°‘ï¼Œæ¥ä¸‹æ¥ä¸€ä¸ªtanhå±‚äº§ç”Ÿä¸€ä¸ªç§°ä¸º$$\\tilde{C}_t$$çš„å‘é‡ï¼Œå®ƒä»£è¡¨äº†æ–°çš„çŠ¶æ€å€¼ï¼Œæœ€åæˆ‘ä»¬æ•´åˆä»¥ä¸Šä¸¤è€…ï¼Œæ·»åŠ åˆ°cell stateé‡Œé¢å»ã€‚ å†³å®šäº†è¦å¿˜è®°å¤šå°‘ä¿¡æ¯å¹¶æ·»åŠ å¤šå°‘æ–°ä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å°±å®é™…æ¥æ‰§è¡Œè¿™ä¸€æ­¥ï¼š æœ€åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†³å®šè¾“å‡ºçš„å†…å®¹ã€‚è¾“å‡ºä¸»è¦æ¥è‡ªäºcell stateï¼Œä½†æ˜¯è¿˜æ˜¯è¦é€šè¿‡ä¸€ä¸ªtanhå±‚å¹¶ç”±sigmoidå±‚å†³å®šè¾“å‡ºå¤šå°‘ã€‚","categories":[{"name":"note","slug":"note","permalink":"http://frankchen.xyz/categories/note/"}],"tags":[{"name":"RNN","slug":"RNN","permalink":"http://frankchen.xyz/tags/RNN/"},{"name":"LSTM","slug":"LSTM","permalink":"http://frankchen.xyz/tags/LSTM/"}]},{"title":"Rephilå’ŒMapReduceï¼š æè¿°é•¿å°¾æ•°æ®çš„æ•°å­¦æ¨¡å‹","slug":"2016-06-04-rephil-and-mapreduce","date":"2016-06-04T07:02:32.000Z","updated":"2016-11-11T13:50:33.000Z","comments":true,"path":"2016/06/04/2016-06-04-rephil-and-mapreduce/","link":"","permalink":"http://frankchen.xyz/2016/06/04/2016-06-04-rephil-and-mapreduce/","excerpt":"Google Rephilæ˜¯Google AdSenseèƒŒåå¹¿å‘Šç›¸å…³æ€§è®¡ç®—çš„å¤´å·ç§˜å¯†æ­¦å™¨ã€‚ä½†æ˜¯è¿™ä¸ªç³»ç»Ÿæ²¡æœ‰å‘è¡¨è¿‡è®ºæ–‡ã€‚åªæ˜¯å…¶ä½œè€…ï¼ˆåšå£«Uri Lernerå’Œå·¥ç¨‹å¸ˆMike Yarï¼‰åœ¨2002å¹´åœ¨æ¹¾åŒºä¸¾åŠçš„å‡ æ¬¡å°è§„æ¨¡äº¤æµä¸­ç®€è¦ä»‹ç»è¿‡ã€‚æ‰€ä»¥Kevin MurphyæŠŠè¿™äº›å†…å®¹å†™è¿›äº†ä»–çš„ä¹¦ã€ŠMachine Learning: a Probabilitic Perspecitveã€‹é‡Œã€‚åœ¨å´å†›åšå£«çš„ã€Šæ•°å­¦ä¹‹ç¾ã€‹é‡Œä¹Ÿæåˆ°äº†Rephilã€‚ Rephilçš„æ¨¡å‹æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹ï¼Œæ›´åƒä¸€ä¸ªç¥ç»å…ƒç½‘ç»œã€‚è¿™ä¸ªç½‘ç»œçš„å­¦ä¹ è¿‡ç¨‹ä»Web scaleçš„æ–‡æœ¬æ•°æ®ä¸­å½’çº³æµ·é‡çš„è¯­ä¹‰â€”â€”æ¯”å¦‚â€œappleâ€è¿™ä¸ªè¯æœ‰å¤šä¸ªæ„æ€ï¼šä¸€ä¸ªå…¬å¸çš„åå­—ã€ä¸€ç§æ°´æœã€ä»¥åŠå…¶ä»–ã€‚å½“ä¸€ä¸ªç½‘é¡µé‡ŒåŒ…å«â€appleâ€, â€œstockâ€, â€œipadâ€ç­‰è¯æ±‡çš„æ—¶å€™ï¼ŒRephilå¯ä»¥å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªç½‘é¡µæ˜¯å…³äºappleè¿™ä¸ªå…¬å¸çš„ï¼Œè€Œä¸æ˜¯æ°´æœã€‚ è¿™ä¸ªåŠŸèƒ½æŒ‰è¯´pLSAå’ŒLDAä¹Ÿéƒ½èƒ½å®ç°ã€‚ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹å‘¢ï¼Ÿ ä»2007å¹´è‡³ä»Šï¼Œå›½å†…å¤–å¾ˆå¤šå›¢é˜Ÿéƒ½å°è¯•è¿‡å¹¶è¡ŒåŒ–pLSAå’ŒLDAã€‚å¿ƒçµæ‰‹å·§çš„å·¥ç¨‹å¸ˆä»¬ï¼ŒæˆåŠŸçš„å¼€å‘å‡ºèƒ½å­¦ä¹ æ•°ä¸‡ç”šè‡³ä¸Šåä¸‡è¯­ä¹‰ï¼ˆlatent topicsï¼‰çš„è®­ç»ƒç³»ç»Ÿã€‚ä½†æ˜¯ä¸ç®¡å¤§å®¶ç”¨ä»€ä¹ˆè®­ç»ƒæ•°æ®ï¼Œéƒ½ä¼šå‘ç°ï¼Œå¾—åˆ°çš„å¤§éƒ¨åˆ†è¯­ä¹‰ï¼ˆç›¸å…³çš„è¯çš„èšç±»ï¼‰éƒ½æ˜¯éå¸¸ç±»ä¼¼ï¼Œæˆ–è€…è¯´â€œé‡å¤â€çš„ã€‚å¦‚æœåšä¸€ä¸ªâ€œå»é‡â€å¤„ç†ï¼Œå‡ ä¸‡ç”šè‡³åä¸‡çš„è¯­ä¹‰ï¼Œå°±åªå‰©ä¸‹å‡ ç™¾å‡ åƒäº†ã€‚ è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ","text":"Google Rephilæ˜¯Google AdSenseèƒŒåå¹¿å‘Šç›¸å…³æ€§è®¡ç®—çš„å¤´å·ç§˜å¯†æ­¦å™¨ã€‚ä½†æ˜¯è¿™ä¸ªç³»ç»Ÿæ²¡æœ‰å‘è¡¨è¿‡è®ºæ–‡ã€‚åªæ˜¯å…¶ä½œè€…ï¼ˆåšå£«Uri Lernerå’Œå·¥ç¨‹å¸ˆMike Yarï¼‰åœ¨2002å¹´åœ¨æ¹¾åŒºä¸¾åŠçš„å‡ æ¬¡å°è§„æ¨¡äº¤æµä¸­ç®€è¦ä»‹ç»è¿‡ã€‚æ‰€ä»¥Kevin MurphyæŠŠè¿™äº›å†…å®¹å†™è¿›äº†ä»–çš„ä¹¦ã€ŠMachine Learning: a Probabilitic Perspecitveã€‹é‡Œã€‚åœ¨å´å†›åšå£«çš„ã€Šæ•°å­¦ä¹‹ç¾ã€‹é‡Œä¹Ÿæåˆ°äº†Rephilã€‚ Rephilçš„æ¨¡å‹æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹ï¼Œæ›´åƒä¸€ä¸ªç¥ç»å…ƒç½‘ç»œã€‚è¿™ä¸ªç½‘ç»œçš„å­¦ä¹ è¿‡ç¨‹ä»Web scaleçš„æ–‡æœ¬æ•°æ®ä¸­å½’çº³æµ·é‡çš„è¯­ä¹‰â€”â€”æ¯”å¦‚â€œappleâ€è¿™ä¸ªè¯æœ‰å¤šä¸ªæ„æ€ï¼šä¸€ä¸ªå…¬å¸çš„åå­—ã€ä¸€ç§æ°´æœã€ä»¥åŠå…¶ä»–ã€‚å½“ä¸€ä¸ªç½‘é¡µé‡ŒåŒ…å«â€appleâ€, â€œstockâ€, â€œipadâ€ç­‰è¯æ±‡çš„æ—¶å€™ï¼ŒRephilå¯ä»¥å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªç½‘é¡µæ˜¯å…³äºappleè¿™ä¸ªå…¬å¸çš„ï¼Œè€Œä¸æ˜¯æ°´æœã€‚ è¿™ä¸ªåŠŸèƒ½æŒ‰è¯´pLSAå’ŒLDAä¹Ÿéƒ½èƒ½å®ç°ã€‚ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹å‘¢ï¼Ÿ ä»2007å¹´è‡³ä»Šï¼Œå›½å†…å¤–å¾ˆå¤šå›¢é˜Ÿéƒ½å°è¯•è¿‡å¹¶è¡ŒåŒ–pLSAå’ŒLDAã€‚å¿ƒçµæ‰‹å·§çš„å·¥ç¨‹å¸ˆä»¬ï¼ŒæˆåŠŸçš„å¼€å‘å‡ºèƒ½å­¦ä¹ æ•°ä¸‡ç”šè‡³ä¸Šåä¸‡è¯­ä¹‰ï¼ˆlatent topicsï¼‰çš„è®­ç»ƒç³»ç»Ÿã€‚ä½†æ˜¯ä¸ç®¡å¤§å®¶ç”¨ä»€ä¹ˆè®­ç»ƒæ•°æ®ï¼Œéƒ½ä¼šå‘ç°ï¼Œå¾—åˆ°çš„å¤§éƒ¨åˆ†è¯­ä¹‰ï¼ˆç›¸å…³çš„è¯çš„èšç±»ï¼‰éƒ½æ˜¯éå¸¸ç±»ä¼¼ï¼Œæˆ–è€…è¯´â€œé‡å¤â€çš„ã€‚å¦‚æœåšä¸€ä¸ªâ€œå»é‡â€å¤„ç†ï¼Œå‡ ä¸‡ç”šè‡³åä¸‡çš„è¯­ä¹‰ï¼Œå°±åªå‰©ä¸‹å‡ ç™¾å‡ åƒäº†ã€‚ è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ å¦‚æœå¤§å®¶å°è¯•ç€æŠŠè®­ç»ƒè¯­æ–™ä¸­çš„ä½é¢‘è¯å»æ‰ï¼Œä¼šå‘ç°è®­ç»ƒå¾—åˆ°çš„è¯­ä¹‰å’Œç”¨å…¨é‡æ•°æ®è®­ç»ƒå¾—åˆ°çš„å·®ä¸å¤šã€‚æ¢å¥è¯è¯´ï¼ŒpLSAå’ŒLDAæ¨¡å‹çš„è®­ç»ƒç®—æ³•æ²¡æœ‰åœ¨æ„ä½é¢‘æ•°æ®ã€‚ ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿå› ä¸ºpLSAå’ŒLDAè¿™ç±»æ¦‚ç‡æ¨¡å‹çš„ä¸»è¦æ„é€ å•å…ƒéƒ½æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒï¼ˆexponential familyï¼‰ã€‚æ¯”å¦‚pLSAå‡è®¾ä¸€ä¸ªæ–‡æ¡£ä¸­çš„è¯­ä¹‰çš„åˆ†å¸ƒæ˜¯multinomialçš„ï¼Œæ¯ä¸ªè¯­ä¹‰ä¸­çš„è¯çš„åˆ†å¸ƒä¹Ÿæ˜¯multinomialçš„ã€‚å› ä¸ºmultinomialæ˜¯ä¸€ç§å…¸å‹çš„æŒ‡æ•°æ—åˆ†å¸ƒï¼Œè¿™æ ·æ•´ä¸ªæ¨¡å‹æè¿°çš„æµ·é‡æ•°æ®çš„åˆ†å¸ƒï¼Œä¸ç®¡å“ªä¸ªç»´åº¦ä¸Šçš„marginalizationï¼Œéƒ½æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒã€‚åœ¨LDAä¸­ä¹Ÿç±»ä¼¼â€”â€”å› ä¸ºLDAå‡è®¾å„ä¸ªæ–‡æ¡£ä¸­çš„è¯­ä¹‰åˆ†å¸ƒçš„multinomial distributionsçš„å‚æ•°æ˜¯ç¬¦åˆDirichletåˆ†å¸ƒçš„ï¼Œå¹¶ä¸”å„ä¸ªè¯­ä¹‰ä¸­çš„è¯çš„åˆ†å¸ƒçš„multinomial distributionsçš„å‚æ•°ä¹Ÿæ˜¯ç¬¦åˆDirichletåˆ†å¸ƒçš„ï¼Œè¿™æ ·æ•´ä¸ªæ¨¡å‹æ˜¯å‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ã€‚ å¯æ˜¯Internetä¸Šçš„å®é™…æ•°æ®åŸºæœ¬éƒ½ä¸æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„â€”â€”è€Œæ˜¯é•¿å°¾åˆ†å¸ƒçš„ã€‚è‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿå¯ä»¥å‚è§2006å¹´çº½çº¦æ—¶æŠ¥æ’åç•…é”€ä¹¦The Long Tail: Why the Future of Business is Selling Less of Moreã€‚æˆ–è€…çœ‹çœ‹å…¶ä½œè€…Chris Andersonçš„åšå®¢The Long Tailã€‚ é•¿å°¾åˆ†å¸ƒçš„å½¢çŠ¶å¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å…¶ä¸­xè½´è¡¨ç¤ºæ•°æ®çš„ç±»å‹ï¼Œyè½´æ˜¯å„ç§ç±»å‹çš„é¢‘ç‡ï¼Œå°‘æ•°ç±»å‹çš„é¢‘ç‡å¾ˆé«˜ï¼ˆç§°ä¸ºå¤§å¤´ï¼Œå›¾ä¸­çº¢è‰²éƒ¨åˆ†ï¼‰ï¼Œå¤§éƒ¨åˆ†å¾ˆä½ï¼Œä½†æ˜¯å¤§äº0ï¼ˆç§°ä¸ºé•¿å°¾ï¼Œå›¾ä¸­é»„è‰²éƒ¨åˆ†ï¼‰ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯æ–‡ç« ä¸­è¯çš„åˆ†å¸ƒï¼Œæœ‰ä¸ªå…·ä½“çš„åå­—Zipfâ€™s lawï¼Œå°±æ˜¯å…¸å‹çš„é•¿å°¾åˆ†å¸ƒã€‚è€ŒæŒ‡æ•°æ—åˆ†å¸ƒåŸºæœ¬å°±åªæœ‰å¤§å¤´éƒ¨åˆ†â€”â€”æ¢å¥è¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬å‡è®¾é•¿å°¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ï¼Œæˆ‘ä»¬å®é™…ä¸Šå°±æŠŠå°¾å·´ç»™å‰²æ‰äº†ã€‚ å‰²æ‰æ•°æ®çš„å°¾å·´â€”â€”è¿™å°±æ˜¯pLSAå’ŒLDAè¿™æ ·çš„æ¨¡å‹åšçš„â€”â€”é‚£æ¡é•¿å°¾å·´è¦†ç›–çš„å¤šç§å¤šæ ·çš„æ•°æ®ç±»å‹ï¼Œå°±æ˜¯Internetä¸Šçš„äººç”Ÿç™¾æ€ã€‚ç†è§£è¿™æ ·çš„ç™¾æ€æ˜¯å¾ˆé‡è¦çš„ã€‚æ¯”å¦‚ç™¾åº¦å’ŒGoogleä¸ºä»€ä¹ˆèƒ½å¦‚æ­¤èµšé’±ï¼Ÿå› ä¸ºäº’è”ç½‘å¹¿å‘Šæ”¶ç›Šã€‚ä¼ ç»Ÿå¹¿å‘Šè¡Œä¸šï¼Œåªæœ‰æœ‰é’±çš„å¤§ä¼ä¸šæ‰æœ‰è´¢åŠ›è”ç³»å¹¿å‘Šä»£ç†å…¬å¸ï¼Œä¸€å¸®è¥¿è£…é©å±¥çš„é«˜å¯Œå¸…èšåœ¨ä¸€èµ·è®¨è®ºï¼Œç«äº‰ç”µè§†æˆ–è€…çº¸åª’ä½“ä¸Šçš„å¹¿å‘Šæœºä¼šã€‚äº’è”ç½‘å¹¿å‘Šé‡Œï¼Œä»»ä½•äººéƒ½å¯ä»¥ç™»å½•åˆ°ä¸€ä¸ªç½‘ç«™ä¸Šå»æŠ•æ”¾å¹¿å‘Šï¼Œå³ä½¿æ¯æ—¥å¹¿å‘Šé¢„ç®—åªæœ‰å‡ åå—äººæ°‘å¸ã€‚è¿™æ ·ä¸€æ¥ï¼Œåˆ˜å¤‡è¿™æ ·ç»‡å¸­è´©å±¡çš„å°ä¸šä¸»ï¼Œä¹Ÿèƒ½æ¨é”€è‡ªå·±åšçš„å¸­å­å’Œé‹å­ã€‚è€Œæœç´¢å¼•æ“ç”¨æˆ·çš„å…´è¶£ä¹Ÿæ˜¯ç™¾èŠ±é½æ”¾çš„â€”â€”ä»äººäººçˆ±æˆ´çš„é™ˆè€å¸ˆè‹è€å¸ˆåˆ°å„ç§å°ä¼—éœ€æ±‚åŒ…æ‹¬â€œçº¢é…’æœ¨ç“œæ±¤â€ï¼ˆä¸€ç§ä¸°èƒ¸ç§˜æ–¹ï¼Œåº”è¯¥å‡ºä¸°èƒ¸å¹¿å‘Šï¼‰æˆ–è€…â€œè‹¹æœå¤§å°ºåº¦â€ï¼ˆåœ¨æœç´¢èŒƒå†°å†°ä¸»æ¼”çš„ã€Šè‹¹æœã€‹ç”µå½±å‘¢ï¼‰ã€‚æŠŠå„ç§éœ€æ±‚å’Œå„ç§å¹¿å‘Šé€šè¿‡æ™ºèƒ½æŠ€æœ¯åŒ¹é…èµ·æ¥ï¼Œå°±é…é…¿äº†äº’è”ç½‘å¹¿å‘Šçš„é©å‘½æ€§åŠ›é‡ã€‚è¿™å…¶ä¸­ï¼Œç†è§£å„ç§å°ä¼—éœ€æ±‚ã€é•¿å°¾æ„å›¾å°±éå¸¸é‡è¦äº†ã€‚ å®é™…ä¸Šï¼ŒRephilå°±æ˜¯è¿™æ ·ä¸€ä¸ªèƒ½ç†è§£ç™¾æ€çš„æ¨¡å‹ã€‚å› ä¸ºå®ƒæŠŠGoogle AdSenseçš„ç›ˆåˆ©èƒ½åŠ›å¤§å¹…æå‡ï¼Œæœ€ç»ˆè¾¾åˆ°Googleæ”¶å…¥çš„ä¸€åŠã€‚ä¸¤ä½ä½œè€…è£è·Googleçš„å¤šæ¬¡å¤§å¥–ï¼ŒåŒ…æ‹¬Foundersâ€™ Awardã€‚ è€Œåˆ‡æ‰é•¿å°¾æ˜¯ä¸€ä¸ªå¾ˆç³Ÿç³•çš„åšæ³•ã€‚å¤§å®¶è¿˜è®°å¾—å°è¯´ã€Š1984ã€‹é‡Œæœ‰è¿™æ ·ä¸€ä¸ªæƒ…èŠ‚å—ï¼Ÿè€å¤§å“¥è¦æ±‚å‘å¸ƒâ€œæ–°è¯â€â€”â€”ä¸€ç§æ–°çš„è¯­è¨€ï¼Œåˆ æ‰è‡ªç„¶è‹±è¯­ä¸­å¤§éƒ¨åˆ†è¯æ±‡ï¼Œåªç•™ä¸‹é‚£äº›ä¸»æµçš„è¯æ±‡ã€‚çœ‹çœ‹å°è¯´é‡Œçš„äººä»¬ç”Ÿæ´»çš„ä¸–ç•Œï¼Œè®©äººæµ‘èº«å‘æ¯›ï¼Œå’±ä»¬å°±èƒ½ä½“ä¼šâ€œå‰²å°¾å·´â€çš„æ¶æœäº†ã€‚æ²¡æœ‰çœ‹è¿‡ã€Š1984ã€‹çš„æœ‹å‹å¯ä»¥æƒ³è±¡ä¸€ä¸‹æ°´æœ¨é¦–é¡µä¸Šåªæœ‰â€œå…¨ç«™åå¤§â€ï¼Œè¿â€œåˆ†ç±»åå¤§â€éƒ½åˆ æ‰ä¹‹åçš„æ ·å­ã€‚ æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºä»€ä¹ˆè¿™ç±»æ¨¡å‹è¿˜è¦å‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„å‘¢ï¼Ÿâ€”â€”å®åœ¨æ˜¯ä¸å¾—å·²ã€‚æŒ‡æ•°æ—åˆ†å¸ƒæ˜¯ä¸€ç§æ•°å€¼è®¡ç®—ä¸Šéå¸¸æ–¹ä¾¿çš„æ•°å­¦å…ƒç´ ã€‚æ‹¿LDAæ¥è¯´ï¼Œå®ƒåˆ©ç”¨äº†Dirichletå’Œmultinomialä¸¤ç§åˆ†å¸ƒçš„å…±è½­æ€§ï¼Œä½¿å¾—å…¶è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹çš„å‚æ•°éƒ½è¢«ç§¯åˆ†ç»™ç§¯æ‰äº†ï¼ˆintegrated outï¼‰ã€‚è¿™æ˜¯AD-LDAè¿™æ ·çš„ad hocå¹¶è¡Œç®—æ³•â€”â€”åœ¨å…¶ä»–æ¨¡å‹ä¸Šéƒ½ä¸å¥½ä½¿çš„åšæ³•â€”â€”åœ¨LDAä¸Šå¥½ç”¨çš„åŸå› ä¹‹ä¸€ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ˜¯ä¸ºäº†è®¡ç®—æ–¹ä¾¿ï¼Œæ©è€³ç›—é“ƒåœ°å‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ã€‚ å®é™…ä¸Šï¼Œè¿™ç§æ©è€³ç›—é“ƒåœ¨æœºå™¨å­¦ä¹ é¢†åŸŸå¾ˆæ™®éã€‚æ¯”å¦‚æœ‰ä¸ªå…„å¼Ÿå¬äº†ä¸Šé¢çš„æ•…äº‹åè¯´ï¼šâ€œé‚£æˆ‘ä»¬å°±åˆ«ç”¨æ¦‚ç‡æ¨¡å‹åšè¯­ä¹‰åˆ†æäº†ï¼Œå’±ä»¬è¿˜ç”¨çŸ©é˜µåˆ†è§£å§ï¼ŸSVDåˆ†è§£æ€ä¹ˆæ ·ï¼Ÿâ€ å¾ˆä¸å¥½æ„æ€çš„ï¼Œå½“æˆ‘ä»¬æŠŠSVDåˆ†è§£ç”¨åœ¨è¯­ä¹‰åˆ†æï¼ˆç§°ä¸ºLSAï¼Œlatent semantic analysisï¼‰ä¸Šçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¼•å…¥äº†æŒ‡æ•°æ—åˆ†å¸ƒå‡è®¾â€”â€”Gaussian assumptionæˆ–è€…å«normality assumptionã€‚è¿™æ€ä¹ˆå¯èƒ½å‘¢ï¼ŸSVDä¸å°±æ˜¯ä¸ªçŸ©é˜µåˆ†è§£æ–¹æ³•å—ï¼Ÿç¡®å®ä¼ ç»ŸSVDæ²¡æœ‰å¯¹æ•°æ®åˆ†å¸ƒçš„å‡è®¾ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç”¨EMä¹‹ç±»çš„ç®—æ³•è§£å†³å­˜åœ¨missing dataçš„é—®é¢˜â€”â€”æ¯”å¦‚LSAï¼Œè¿˜æœ‰æ¨èç³»ç»Ÿé‡Œçš„ååŒè¿‡æ»¤ï¼ˆcollaborative filteringï¼‰â€”â€”è¿™æ—¶ä¸ä»…å¼•å…¥äº†Gaussian assumptionï¼Œè€Œä¸”å¼•å…¥äº†linearity assumptionã€‚å½“æˆ‘ä»¬ç”¨å…¶ä»–å¾ˆå¤šçŸ©é˜µåˆ†è§£æ–¹æ³•åšï¼Œéƒ½å­˜åœ¨åŒæ ·çš„é—®é¢˜ã€‚ æ©è€³ç›—é“ƒçš„åšæ³•æ€ä¹ˆèƒ½å­˜åœ¨å¾—å¦‚æ­¤è‡ªç„¶å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæŒ‡æ•°æ—åˆ†å¸ƒå‡è®¾ï¼ˆå°¤å…¶æ˜¯Gaussian assumptionï¼‰æœ‰è¿‡å¾ˆå¤šæˆåŠŸçš„åº”ç”¨ï¼ŒåŒ…æ‹¬é€šä¿¡ã€æ•°æ®å‹ç¼©ã€åˆ¶å¯¼ç³»ç»Ÿç­‰ã€‚è¿™äº›åº”ç”¨é‡Œï¼Œæˆ‘ä»¬å…³æ³¨çš„å°±æ˜¯æ•°æ®ä¸­çš„ä½é¢‘éƒ¨åˆ†ï¼›è€Œé«˜é¢‘éƒ¨åˆ†ï¼ˆæˆ–è€…è¯´è·ç¦»meanæ¯”è¾ƒè¿œçš„æ•°æ®ï¼‰å³ä½¿ä¸¢æ‰äº†ï¼Œç”µè¯é‡Œçš„å£°éŸ³ä¹Ÿèƒ½å¬æ‡‚ï¼Œå‹ç¼©è¿˜åŸçš„å›¾åƒä¹Ÿçœ‹å¾—æ˜ç™½ï¼Œå¯¼å¼¹ä¹Ÿè¿˜æ˜¯èƒ½æ²¿ç€â€œæœ€å¯èƒ½â€é è°±çš„è·¯çº¿é£è¡Œã€‚æˆ‘ä»¬å½“ç„¶ä¼šå‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ï¼Œè¿™æ ·ä¸ä»…çœè®¡ç®—å¼€é”€ï¼Œè€Œä¸”è‡ªç„¶çš„å¿½ç•¥é«˜é¢‘æ•°æ®ï¼Œæˆ‘ä»¬è¿˜é„™å¤·åœ°ç§°ä¹‹ä¸ºoutlieræˆ–è€…noiseã€‚ å¯æ˜¯åœ¨äº’è”ç½‘çš„ä¸–ç•Œé‡Œï¼Œæ­£æ˜¯è¿™äº›äº”èŠ±å…«é—¨çš„outlierså’Œnoiseï¼Œè•´å«äº†ä¸–é—´ç™¾æ€ï¼Œè®©æ•°æ®ä¸å¯å‹ç¼©ï¼Œä»è€Œäº§ç”Ÿäº†â€œå¤§æ•°æ®â€è¿™ä¹ˆä¸ªæ¦‚å¿µã€‚å¤„ç†å¥½å¤§æ•°æ®çš„å…¬å¸ï¼Œèµšå¾—ç›†æ»¡é’µæ»¡ï¼Œå¡‘é€ äº†ä¸€ä¸ªä¸ªä¼ å¥‡ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå¬èµ·æ¥æ¯”è¾ƒæç«¯çš„è¯´æ³•å¤§æ•°æ®é‡Œæ— å™ªå£°â€”â€”å¾ˆå¤šä¸€å¼€å§‹é¢‘ç‡å¾ˆä½ï¼Œç›¸å½“é•¿å°¾ï¼Œä¼šè¢«è¯è¿‡æ»¤ç³»ç»Ÿè®¤ä¸ºæ˜¯æ‹¼å†™é”™è¯¯çš„queriesï¼Œéƒ½èƒ½åæ¥å±…ä¸Šæˆä¸ºä¸»æµã€‚æ¯”å¦‚â€œç¥é©¬â€ï¼Œâ€œé…±ç´«â€ã€‚ Rephilç³»ç»Ÿå®ç°çš„æ¨¡å‹æ˜¯ä¸€ä¸ªç¥ç»å…ƒç½‘ç»œæ¨¡å‹ï¼ˆneural networkï¼‰ã€‚å®ƒçš„è®¾è®¡çš„ä¸»è¦è€ƒè™‘ï¼Œå°±æ˜¯è¦èƒ½å°½é‡å¥½çš„æè¿°é•¿å°¾åˆ†å¸ƒçš„æ–‡æœ¬æ•°æ®å’Œå…¶ä¸­è•´å«çš„è¯­ä¹‰ã€‚Rephilæ¨¡å‹çš„å…·ä½“æŠ€æœ¯ç»†èŠ‚å› ä¸ºæ²¡æœ‰åœ¨è®ºæ–‡ä¸­å‘è¡¨è¿‡ï¼Œæ‰€ä»¥ä¸ä¾¿åœ¨è¿™é‡Œé€éœ²ã€‚ä½†æ˜¯Rephilæ¨¡å‹æè¿°é•¿å°¾æ•°æ®çš„èƒ½åŠ›ï¼Œæ˜¯ä¸‹æ–‡å°†è¦ä»‹ç»çš„Peacockç³»ç»Ÿçš„åŸåŠ¨åŠ›ï¼Œè™½ç„¶ä¸¤è€…åœ¨æ¨¡å‹ä¸Šå®Œå…¨ä¸åŒã€‚ Rephilç³»ç»Ÿæ˜¯åŸºäºGoogle MapReduceæ„å»ºçš„ã€‚å¦‚ä¸ŠèŠ‚æ‰€è¿°ï¼ŒMapReduceåœ¨ç”¨æ¥å®ç°è¿­ä»£ç®—æ³•çš„æ—¶å€™ï¼Œæ•ˆç‡æ˜¯æ¯”è¾ƒä½çš„ã€‚è¿™ä¹Ÿæ˜¯Peacockè¦è®¾è®¡å…¨æ–°æ¡†æ¶çš„åŸåŠ¨åŠ›â€”â€”ä½¿å…¶æ¯”MapReduceé«˜æ•ˆï¼Œä½†åŒæ—¶åƒMapReduceä¸€æ ·æ”¯æŒfault recoveryã€‚","categories":[{"name":"note","slug":"note","permalink":"http://frankchen.xyz/categories/note/"}],"tags":[{"name":"LDA","slug":"LDA","permalink":"http://frankchen.xyz/tags/LDA/"}]},{"title":"note for CS224d:1","slug":"2016-06-04-note-for-cs224d-1","date":"2016-06-04T06:51:38.000Z","updated":"2017-01-13T09:49:32.000Z","comments":true,"path":"2016/06/04/2016-06-04-note-for-cs224d-1/","link":"","permalink":"http://frankchen.xyz/2016/06/04/2016-06-04-note-for-cs224d-1/","excerpt":"æœ€è¿‘å­¦ä¹ äº†æ–¯å¦ç¦çš„CS224dè¯¾ç¨‹ï¼Œè¯¥è¯¾ ç¨‹çš„ä¸»è¦å†…å®¹æ˜¯ç¥ç»ç½‘ç»œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸçš„åº”ç”¨ã€‚ è¿™é‡Œè®°å½•ç›¸å…³çš„å­¦ä¹ ç¬”è®°ï¼Œå¤§æ¦‚åˆ† æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šword2vecï¼Œçª—å£åˆ†ç±»ï¼Œç¥ç»ç½‘ç»œï¼Œå¾ªç¯ç¥ç»ç½‘ç»œï¼Œé€’å½’ç¥ç»ç½‘ç»œï¼Œå·ç§¯ ç¥ç»ç½‘ç»œã€‚ ##ä¸ºä»€ä¹ˆéœ€è¦æ·±åº¦å­¦ä¹  ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•éƒ½æ˜¯äººä¸ºçš„è®¾è®¡ç‰¹å¾æˆ–è€…è¡¨ç¤ºï¼Œæ·±åº¦å­¦ä¹ çš„ç›®çš„æ˜¯å¸Œæœ›èƒ½å¤Ÿé€šè¿‡ç¥ç»ç½‘ç»œè®©æœºå™¨è‡ªåŠ¨å­¦ä¹ åˆ°æœ‰æ•ˆçš„ç‰¹å¾è¡¨ç¤ºï¼Œè¿™é‡Œæ‰€è¯´çš„æ·±åº¦å­¦ä¹ æ›´åå‘äºå…³æ³¨å„ç§ç±»å‹çš„ç¥ç»ç½‘ç»œã€‚æ¢ç´¢æœºå™¨å­¦ä¹ çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ æ–¹é¢ï¼š","text":"æœ€è¿‘å­¦ä¹ äº†æ–¯å¦ç¦çš„CS224dè¯¾ç¨‹ï¼Œè¯¥è¯¾ ç¨‹çš„ä¸»è¦å†…å®¹æ˜¯ç¥ç»ç½‘ç»œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸçš„åº”ç”¨ã€‚ è¿™é‡Œè®°å½•ç›¸å…³çš„å­¦ä¹ ç¬”è®°ï¼Œå¤§æ¦‚åˆ† æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šword2vecï¼Œçª—å£åˆ†ç±»ï¼Œç¥ç»ç½‘ç»œï¼Œå¾ªç¯ç¥ç»ç½‘ç»œï¼Œé€’å½’ç¥ç»ç½‘ç»œï¼Œå·ç§¯ ç¥ç»ç½‘ç»œã€‚ ##ä¸ºä»€ä¹ˆéœ€è¦æ·±åº¦å­¦ä¹  ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•éƒ½æ˜¯äººä¸ºçš„è®¾è®¡ç‰¹å¾æˆ–è€…è¡¨ç¤ºï¼Œæ·±åº¦å­¦ä¹ çš„ç›®çš„æ˜¯å¸Œæœ›èƒ½å¤Ÿé€šè¿‡ç¥ç»ç½‘ç»œè®©æœºå™¨è‡ªåŠ¨å­¦ä¹ åˆ°æœ‰æ•ˆçš„ç‰¹å¾è¡¨ç¤ºï¼Œè¿™é‡Œæ‰€è¯´çš„æ·±åº¦å­¦ä¹ æ›´åå‘äºå…³æ³¨å„ç§ç±»å‹çš„ç¥ç»ç½‘ç»œã€‚æ¢ç´¢æœºå™¨å­¦ä¹ çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ æ–¹é¢ï¼š äººå·¥è®¾è®¡çš„ç‰¹å¾å¸¸å¸¸å®šä¹‰è¿‡å¤šï¼Œä¸å®Œæ•´å¹¶ä¸”éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å»è®¾è®¡å’ŒéªŒè¯ è‡ªåŠ¨å­¦ä¹ çš„ç‰¹å¾å®¹æ˜“è‡ªé€‚åº”ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå¿«çš„å­¦ä¹  æ·±åº¦å­¦ä¹ æä¾›äº†ä¸€ä¸ªå¼¹æ€§çš„ï¼Œé€šç”¨çš„å­¦ä¹ æ¡†æ¶ç”¨æ¥è¡¨å¾è‡ªç„¶çš„ï¼Œè§†è§‰çš„å’Œè¯­è¨€çš„ä¿¡æ¯ã€‚ æ·±åº¦å­¦ä¹ å¯ä»¥ç”¨æ¥å­¦ä¹ éç›‘ç£çš„ï¼ˆæ¥è‡ªäºç”Ÿæ–‡æœ¬ï¼‰å’Œæœ‰ç›‘ç£çš„ï¼ˆå¸¦æœ‰ç‰¹åˆ«æ ‡è®°çš„æ–‡æœ¬ï¼Œä¾‹å¦‚æ­£å‘å’Œè´Ÿå‘æ ‡è®°ï¼‰ åœ¨2006å¹´æ·±åº¦å­¦ä¹ æŠ€æœ¯å¼€å§‹åœ¨ä¸€äº›ä»»åŠ¡ä¸­è¡¨ç°å‡ºä¼—ï¼Œä¸ºä»€ä¹ˆç°åœ¨æ‰çƒ­èµ·æ¥ï¼Ÿ æ·±åº¦å­¦ä¹ æŠ€æœ¯å—ç›Šäºè¶Šæ¥è¶Šå¤šçš„æ•°æ® æ›´å¿«çš„æœºå™¨ä¸æ›´å¤šæ ¸CPU/GPUå¯¹æ·±åº¦å­¦ä¹ çš„æ™®åŠèµ·äº†å¾ˆå¤§çš„ä¿ƒè¿›ä½œç”¨ æ–°çš„æ¨¡å‹ï¼Œç®—æ³•å’Œideaå±‚å‡ºä¸ç©· é€šè¿‡æ·±åº¦å­¦ä¹ æŠ€æœ¯æå‡æ•ˆæœé¦–å…ˆå‘ç”Ÿåœ¨è¯­éŸ³è¯†åˆ«å’Œæœºå™¨è§†è§‰é¢†åŸŸï¼Œç„¶åå¼€å§‹è¿‡æ¸¡åˆ°NLPé¢†åŸŸ æ·±åº¦å­¦ä¹ åœ¨æ‰€æœ‰çš„NLPå±‚æ¬¡ï¼ˆéŸ³ç´ ã€å½¢æ€å­¦ã€å¥æ³•ã€è¯­ä¹‰ï¼‰éƒ½å¾—åˆ°äº†åº”ç”¨ï¼Œè€Œæ‰€æœ‰çš„NLPå±‚æ¬¡çš„è¡¨ç¤ºéƒ½æ¶‰åŠåˆ°å‘é‡ï¼ˆVectorsï¼‰ï¼Œä¸‹é¢ä¸»è¦è®²å¦‚ä½•ç”¨å‘é‡æ¥è¡¨ç¤ºè¯ã€‚ ##è¯å‘é‡ ###è¯­ä¹‰è¯å…¸ æˆ‘ä»¬è¦å¦‚ä½•è¡¨ç¤ºä¸€ä¸ªè¯çš„æ„æ€å‘¢ï¼Ÿå¸¸è¯†ä¸Šï¼Œåœ¨è¯å…¸ä¸­æˆ‘ä»¬é€šè¿‡æ›´åŠ ç®€å•å¸¸ç”¨çš„è¯æ¥æ„æˆä¾‹å¥æ¥è§£é‡Šä¸€ä¸ªè¯çš„æ„æ€ã€‚é‚£åœ¨è®¡ç®—æœºä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨Wordnetæ¥è¡¨ç¤ºè¯ä¹‰ï¼š ä½†è¯­ä¹‰è¯å…¸å­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š è¯­ä¹‰è¯å…¸èµ„æºå¾ˆæ£’ä½†æ˜¯å¯èƒ½åœ¨ä¸€äº›ç»†å¾®ä¹‹å¤„æœ‰ç¼ºå¤±ï¼Œä¾‹å¦‚è¿™äº›åŒä¹‰è¯å‡†ç¡®å—ï¼šadept, expert, good, practiced, proficient,skillful? ä¼šé”™è¿‡ä¸€äº›æ–°è¯ï¼Œå‡ ä¹ä¸å¯èƒ½åšåˆ°åŠæ—¶æ›´æ–°: wicked, badass, nifty, crack, ace, wizard, genius, ninjia æœ‰ä¸€å®šçš„ä¸»è§‚å€¾å‘ éœ€è¦å¤§é‡çš„äººåŠ›ç‰©åŠ› å¾ˆéš¾ç”¨æ¥è®¡ç®—ä¸¤ä¸ªè¯è¯­çš„ç›¸ä¼¼åº¦ ###One-hot Representationé¦–å…ˆæˆ‘ä»¬æŠŠè¯è¡¨ä¸­çš„è¯ä»$$0åˆ°|V|âˆ’1$$è¿›è¡Œç¼–å·ï¼Œont-hotå‘é‡æŠŠæ¯ä¸ªè¯è¡¨ç¤ºæˆä¸€ä¸ª$$|V|$$ç»´ ï¼ˆè¯è¡¨å¤§å°ä¸º$$|V|$$ï¼‰çš„å‘é‡ï¼Œè¯¥å‘é‡åªæœ‰ç‰¹å®šè¯çš„ç¼–å·å¯¹åº”çš„ä½ç½®ä¸º1ï¼Œå…¶ä»–ä½ç½®å…¨éƒ¨ä¸º0 ã€‚è¿™ç§æ–¹æ³•æŠŠæ¯ä¸ªè¯è¡¨ç¤ºæˆç‹¬ç«‹çš„ä¸ªä½“ï¼Œæ— æ³•é€šè¿‡one-hotå‘é‡ç›´æ¥è¡¨ç¤ºå‡ºè¯ä¹‹é—´çš„å…³ç³»ã€‚è§£å†³æ–¹æ³•æ˜¯é€šè¿‡ä¸€ä¸ªè¯çš„ä¸Šä¸‹æ–‡æ¥è¡¨ç¤ºä¸€ä¸ªè¯ã€‚ ä¾‹å¦‚,æ¯”å¦‚","categories":[{"name":"note","slug":"note","permalink":"http://frankchen.xyz/categories/note/"}],"tags":[{"name":"NLP","slug":"NLP","permalink":"http://frankchen.xyz/tags/NLP/"},{"name":"Deep Learning","slug":"Deep-Learning","permalink":"http://frankchen.xyz/tags/Deep-Learning/"}]},{"title":"char-rnn-chinese","slug":"2016-05-26-char-rnn-chinese","date":"2016-05-26T07:37:32.000Z","updated":"2016-11-11T13:50:33.000Z","comments":true,"path":"2016/05/26/2016-05-26-char-rnn-chinese/","link":"","permalink":"http://frankchen.xyz/2016/05/26/2016-05-26-char-rnn-chinese/","excerpt":"æœ¬æ–‡ä¸»è¦æ ¹æ®Multi-layer Recurrent Neural Networks (LSTM, GRU, RNN) for character-level language models in Torchçš„å†…å®¹æ¥è¿›è¡Œè¯•éªŒã€‚ #å‡†å¤‡å·¥ä½œ æ ¹æ®åŸæ–‡â€œThis code is written in Lua and requires Torch. Additionally, you need to install the nngraph and optim packages using LuaRocksâ€ï¼Œå®‰è£…ä»¥ä¸‹ä¾èµ–ã€‚","text":"æœ¬æ–‡ä¸»è¦æ ¹æ®Multi-layer Recurrent Neural Networks (LSTM, GRU, RNN) for character-level language models in Torchçš„å†…å®¹æ¥è¿›è¡Œè¯•éªŒã€‚ #å‡†å¤‡å·¥ä½œ æ ¹æ®åŸæ–‡â€œThis code is written in Lua and requires Torch. Additionally, you need to install the nngraph and optim packages using LuaRocksâ€ï¼Œå®‰è£…ä»¥ä¸‹ä¾èµ–ã€‚ ##å®‰è£…Torch ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤å®‰è£…Torch 1234cd ~/curl -s https://raw.githubusercontent.com/torch/ezinstall/master/install-deps | bashgit clone https://github.com/torch/distro.git ~/torch --recursivecd ~/torch; ./install.sh å†ç”¨å¦‚ä¸‹å‘½ä»¤æ›´æ–°ï¼šsource ~/.bashrc å‡ºç°å¦‚ä¸‹ç”»é¢ï¼Œä»£è¡¨Torchå·²ç»è£…å¥½ï¼ ##å®‰è£…luasudo apt-get install lua5.2 ##å®‰è£…å…¶ä»–ä¾èµ– ä½¿ç”¨LuaRocksæ¥å®‰è£…nngraphå’Œoptimï¼š 12luarocks install nngraphluarocks install optim é¦–å…ˆå®‰è£…LuaRockså®‰è£…æ—¶åœ¨configéƒ¨åˆ†é‡åˆ°é—®é¢˜ï¼Œå‚è€ƒå®‰è£…Luarockså’Œlinuxä¸‹luaå¼€å‘ç¯å¢ƒå®‰è£…è¿™æ—¶å¯èƒ½é‡åˆ°å®‰è£…äº†luaä½†æ˜¯å´æç¤ºæ— æ³•æ‰¾åˆ°lua.hå¯èƒ½æ˜¯å› ä¸ºè¿˜éœ€è¦å®‰è£…liblua5.1-0-devçš„ç¼˜æ•…ã€‚ä½¿ç”¨apt-getå®‰è£…luarocksååœ¨å®‰è£…nngraphæ—¶æŠ¥é”™ï¼Œéœ€è¦è§£å†³ ==å…¶å®ä½¿ç”¨torchå†…è‡ªå¸¦çš„luarockså®‰è£…å³å¯==ï¼š1sudo ~/torch/install/bin/luarocks install å› ä¸ºæœ¬æœºåªæœ‰è‹±ç‰¹å°”æ ¸æ˜¾ï¼Œæ‰€ä»¥åªæ‰“ç®—ç”¨CPUè®¡ç®—ï¼Œå°±ä¸å®‰è£…CUDAäº†ã€‚ #å¼€å§‹å®éªŒ karpathyçš„exampleå®éªŒ-cpuç‰ˆæœ¬###trainingè¿‡ç¨‹ ä½¿ç”¨th train.lua --helpæŸ¥çœ‹ä¸€ä¸‹å„å‚æ•°çš„ä½œç”¨ï¼š123456789101112131415161718192021222324252627282930Options -data_dir data directory. Should contain the file input.txt with input data [data/tinyshakespeare] è®­ç»ƒè¯­æ–™ -min_freq min frequent of character [0] -rnn_size size of LSTM internal state [128] -num_layers number of layers in the LSTM [2] -model for now only lstm is supported. keep fixed [lstm] -learning_rate learning rate [0.002] -learning_rate_decay learning rate decay [0.97] -learning_rate_decay_after in number of epochs, when to start decaying the learning rate [10] -decay_rate decay rate for rmsprop [0.95] -dropout dropout for regularization, used after each RNN hidden layer. 0 = no dropout [0] -seq_length number of timesteps to unroll for [50] -batch_size number of sequences to train on in parallel [50] -max_epochs number of full passes through the training data [50] -grad_clip clip gradients at this value [5] -train_frac fraction of data that goes into train set [0.95] -val_frac fraction of data that goes into validation set [0.05] -init_from initialize network parameters from checkpoint at this path [] -seed torch manual random number generator seed [123] -print_every how many steps/minibatches between printing out the loss [1] -eval_val_every every how many iterations should we evaluate on validation data? [2000] -checkpoint_dir output directory where checkpoints get written [cv] -savefile filename to autosave the checkpont to. Will be inside checkpoint_dir/ [lstm] -accurate_gpu_timing set this flag to 1 to get precise timings when using GPU. Might make code bit slower but reports accurate timings. [0] -gpuid which gpu to use. -1 = use CPU [0] -opencl use OpenCL (instead of CUDA) [0] -use_ss whether use scheduled sampling during training [1] -start_ss start amount of truth data to be given to the model when using ss [1] -decay_ss ss amount decay rate of each epoch [0.005] -min_ss minimum amount of truth data to be given to the model when using ss [0.9] æŒ‰ç…§Githubä¸Šçš„è¯´æ˜è¿›è¡Œå®éªŒï¼Œä½¿ç”¨åŸæ–‡ä»¶å¤¹é‡Œçš„è¯­æ–™ï¼Œ1th train.lua -data_dir data/tinyshakespeare/shakespeare_input.txt -gpuid -1 æŠ¥é”™ï¼š1234567891011121314 th train.lua -data_dir data/tinyshakespeare/shakespeare_input.txt -gpuid -1vocab.t7 and data.t7 do not exist. Running preprocessing...one-time setup: preprocessing input text file data/tinyshakespeare/shakespeare_input.txt/input.txt...loading text file.../home/frank/torch/install/bin/luajit: cannot open &lt;data/tinyshakespeare/shakespeare_input.txt/input.txt&gt; in mode r at /home/frank/torch/pkg/torch/lib/TH/THDiskFile.c:649stack traceback: [C]: at 0x7f9c42473540 [C]: in function &apos;DiskFile&apos; ./util/CharSplitLMMinibatchLoader.lua:201: in function &apos;text_to_tensor&apos; ./util/CharSplitLMMinibatchLoader.lua:38: in function &apos;create&apos; train.lua:118: in main chunk [C]: in function &apos;dofile&apos; ...rank/torch/install/lib/luarocks/rocks/trepl/scm-1/bin/th:145: in main chunk [C]: at 0x00405d70 è¿™é‡Œå‡ºç°äº†é—®é¢˜ï¼Œå› ä¸ºæœ¬æ–‡æ˜¯ä¸­å›½ä½œè€…æŒ‰ç…§åŸkarpathyçš„char-rnn æ”¹å†™çš„ï¼Œæˆ‘è®¤ä¸ºæˆ–è®¸ä½¿ç”¨karpathyä½œè€…çš„åŸç‰ˆæœ¬æ•™ç¨‹å¯èƒ½ä¼šæ›´åŠ æ–¹ä¾¿ä¸€äº›ã€‚äºæ˜¯ä½¿ç”¨As a sanity checkï¼Œè¿è¡Œï¼š1th train.lua -gpuid -1 è¿™æŒ‡çš„æ˜¯ä½¿ç”¨CPUå¹¶ä¸æŒ‡å®šä»»ä½•å‚æ•°æ¥è®­ç»ƒexampleã€‚ 15:42å¼€å§‹è®­ç»ƒ1234567891011121314151617 th train.lua -gpuid -1loading data files...cutting off end of data so that the batches/sequences divide evenlyreshaping tensor...data load done. Number of data batches in train: 423, val: 23, test: 0vocab size: 65creating an LSTM with 2 layerssetting forget gate biases to 1 in LSTM layer 1setting forget gate biases to 1 in LSTM layer 2number of parameters in the model: 240321cloning rnncloning criterion1/21150 (epoch 0.002), train_loss = 4.19803724, grad/param norm = 5.1721e-01, time/batch = 2.3129s2/21150 (epoch 0.005), train_loss = 3.93712133, grad/param norm = 1.4679e+00, time/batch = 2.3114s3/21150 (epoch 0.007), train_loss = 3.43764434, grad/param norm = 9.5800e-01, time/batch = 2.3022s4/21150 (epoch 0.009), train_loss = 3.41313742, grad/param norm = 7.5143e-01, time/batch = 2.5311s5/21150 (epoch 0.012), train_loss = 3.33707270, grad/param norm = 6.9269e-01, time/batch = 2.4913s åˆ°ç¬¬300æ¬¡è¿­ä»£åï¼Œtime/batchç¨³å®šåœ¨2.3så·¦å³ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨GPUè®­ç»ƒè¿™ä¸ª1Mbçš„exampleï¼Œéœ€è¦çº¦14å°æ—¶ï¼æ¬¡æ—¥08:24è®­ç»ƒå®Œæ¯•12345621148/21150 (epoch 49.995), train_loss = 1.53254314, grad/param norm = 5.9157e-02, time/batch = 2.8658s21149/21150 (epoch 49.998), train_loss = 1.50882624, grad/param norm = 5.7123e-02, time/batch = 2.8737sdecayed learning rate by a factor 0.97 to 0.00057368183755432evaluating loss over split index 2saving checkpoint to cv/lm_lstm_epoch50.00_1.3568.t721150/21150 (epoch 50.000), train_loss = 1.46142484, grad/param norm = 5.9032e-02, time/batch = 2.8834s ###Sampleè¿‡ç¨‹æŸ¥çœ‹helpï¼š1234567891011121314151617181920th sample.lua --helpUsage: /home/frank/torch/install/lib/luarocks/rocks/trepl/scm-1/bin/th [options] &lt;model&gt;Sample from a character-level language modelOptions &lt;model&gt; model checkpoint to use for sampling -seed random number generator&apos;s seed [123] -sample 0 to use max at each timestep, 1 to sample at each timestep [1] -primetext used as a prompt to &quot;seed&quot; the state of the LSTM using a given sequence, before we sample. [] -length max number of characters to sample [2000] é‡‡æ ·å­—ç¬¦å¤§å°ï¼Œæœ€å¤§2000 -temperature temperature of sampling [1] -gpuid which gpu to use. -1 = use CPU [0] å’Œè®­ç»ƒæ—¶è®¾ç½®åº”è¯¥ä¿æŒä¸€è‡´ -verbose set to 0 to ONLY print the sampled text, no diagnostics [1] -stop stop sampling when detected [] å…ˆè¯•è¿è¡Œä¸€ä¸‹th sample.lua cv/lm_lstm_epoch50.00_1.3568.t7 -gpuid -1ç”Ÿæˆäº†å¦‚ä¸‹è¯­å¥ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374giff,Some sweet amends, aasher, had therein, not he had wot onman&apos;s friends, for her own blow: for my men&apos;sackingly knight, it cannot hear upon yield.GLOUCESTER:How now again?iMarch, that&apos;s my arm determitness,The temper of the vrowal; ere from the groveTut wilh &apos;goom&apos;d Carulea.&apos;Mwailich, tne shy had lost in When Ied the wayThe bower to a late his body, grim on you:His opicious shames a booy, infairs,&apos;From her, I tell you, ay, as we mean himDear &apos;tis a giving o&apos; thur back&apos;s empass&apos;d,That nrost, I&apos;ll havk him cume thee for &apos;t.LAONTES:&apos;Twi&apos;l love thy sronowing.VALYRAN:Beord mocdoch him for thy follightsnnhours,But thank yours lodkes, my good journeding,His jealousisposour thee are both abomishThat noom that&apos;s easembelland. Camest, sir, morekia; one, in this highty be the unSince of a gournor on thy friendshall swowSome painon; and I, and lord, the at the kinsWise rit hable surliments. Shd, believh gone.voisted tleace:Tock him what all you di turn up to celentTo my sistinge. Frranch, good night, your child, so fatus;Aor he shall be my trueking:Come on my quarrel of the way:Methinks the letters; for this ctome-steersTad mousd my smodered pouncy tohaw up another sense tlays underttryTut bonscuration fair all purpose,then be vesegt me: do not, yet rustle cannot,But for thy mustered a dust, let meTncerfact me tresmer of his father:therefore by hanging,ANdAys, my lord: you do here in coumisant.LORD:How lond the brown!So majp me; bonch, smmily lovely blotters,When Ie my hoeaty threat and virlume these things,Make fasting garlands dfar the sack&apos;d my servictughtNot knows the crowns: one air, Aumerle,Ere wear not so nour Bidagle? What Aphark is furyTld meens them, faireyou consides to no moreIhis wantond frown and pollitueser&apos;d city.Can should put him more recounders to impudesnt poison onthet hour from hunt to Rame, supp to bereFlowerd and his friend is une dewn ao pirt,You know by join&apos;d guilty, whathout we e.ANdAys, my lord: you do here in coumisant.LORD:How lond the brown!So majp me; bonch, smmily lovely blotters,When Ie my hoeaty threat and virlume these things,Make fasting garlands dfar the sack&apos;d my servictughtNot knows the crowns: one air, Aumerle,Ere wear not so nour Bidagle? What Aphark is furyTld meens them, faire karpathyçš„exampleå®éªŒ-gpuç‰ˆæœ¬ä½¿ç”¨å’Œcpuç‰ˆæœ¬ç›¸åŒçš„æŒ‡ä»¤ï¼Œåªæ˜¯th train.lua -gpuid 0å¾—åˆ°çš„1th sample.lua cv/lm_lstm_epoch50.00_1.3622.t7 -gpuid 0 sampleä¸ºï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071--------------------------geI prithee; nor in the day of all report?Nou shall be you that lances stoson quarrel:We mits most stone, &apos;aim, upeed his forticentAhen I was, yet for her, but of lovels ClarencelAnd past her got and father there, one weepIn mine wroth nightlys, smileed. Cantleye An York,A druls marriage, that though Service hated meTheir duen of iflock, we are here in berievedand more than tanise them with sutereptHe rt in some pickle.SePSERTER:Or I have safe all thou depustere andthe before him.FRIAR LAURENCE:What art my government, cosbude, and hence; if Onfrawn? provest tor my duty?CATESBY:KARIANA:My love noe is are with t herman and his,It should she well deeauring our consent:They hang me bointed on the king, let so twoNature by my sighsing pleasing &apos;jabeThat leaven and grue, at her Richard&apos;s blood.More ends it likipenortnive, nor each of himic.SLY:How dachors, Richmend, henr dack but like it?Be long, anon since your kingdom and us,And we that aver elaunter, my eee to toucurt tomends.It this her great fawn&apos;s birds,, sir! you&apos;er head.PAULINA:Upternalt cost of his hands for their tricks my father,Who ts it most seunt to live te and she were all.-killO to thy son os shall not on your childrs,one next, for she did formly consixentAbove, my life, and wew me worthy deeming tvenge!My mustere be exploience, aot come n leave where ahe knees in.dear, thus wild up tilt on the county, hath be one.See this sword of thee with the deepito man,For sunier ene first sears. Where&apos;s turn on to be.Unctious blunlest terrocate dovesTrades Marcius aines of hlendsMy&apos;s learth an old--ay.LEONTES:Marcius?PRONVO:You would no gue.VOLUMNIA:Oovine s fetch to tight, thou must but loods.HASTINGS:And was with her, nor yonder to be sworn,What are you allady that I should have purpose.What men revenge is a well patientAnd who seth sxoleng to knowled ed to myself;And married me in the joy:So reve I made to find me speak,how he been tou.PETCA: ##ã€Šæ°´æµ’ä¼ ã€‹è¯­æ–™å®éªŒ ###cpuç‰ˆæœ¬ æŠŠä¸‹è½½å¥½çš„ã€Šæ°´æµ’ä¼ ã€‹æ”¹åä¸ºinput.txtä½¿ç”¨1th train.lua -data_dir data/mydata/ -gpuid -1 è®­ç»ƒï¼Œå¯ä»¥çœ‹åˆ°å¾ˆæ˜æ˜¾ï¼Œé€Ÿåº¦å¾ˆæ…¢12345678910111213141516171819202122232425th train.lua -data_dir data/mydata/ -gpuid -1vocab.t7 and data.t7 do not exist. Running preprocessing...one-time setup: preprocessing input text file data/mydata/input.txt...loading text file...creating vocabulary mapping...putting data into tensor, it takes a lot of time...saving data/mydata/vocab.t7saving data/mydata/data.t7loading data files...cutting off end of data so that the batches/sequences divide evenlyreshaping tensor...data load done. Number of data batches in train: 345, val: 19, test: 0vocab size: 4129creating an LSTM with 2 layerssetting forget gate biases to 1 in LSTM layer 1setting forget gate biases to 1 in LSTM layer 2number of parameters in the model: 2845345cloning rnncloning criterion1/17250 (epoch 0.003), train_loss = 8.32795887, grad/param norm = 9.6310e-02, time/batch = 28.8711s2/17250 (epoch 0.006), train_loss = 8.06433859, grad/param norm = 4.2826e-01, time/batch = 25.2184s3/17250 (epoch 0.009), train_loss = 7.28941094, grad/param norm = 3.9537e-01, time/batch = 25.2195s4/17250 (epoch 0.012), train_loss = 6.85331761, grad/param norm = 4.0576e-01, time/batch = 25.2011s5/17250 (epoch 0.014), train_loss = 6.69327439, grad/param norm = 3.8309e-01, time/batch = 24.9642s6/17250 (epoch 0.017), train_loss = 6.50776019, grad/param norm = 3.1042e-01, time/batch = 24.9203s é¢„è®¡éœ€è¦120å°æ—¶è®­ç»ƒæ—¶é—´ï¼ä½†æ˜¯ï¼Œè¿™éƒ½æ˜¯æœªç»è¿‡å¤„ç†çš„è¯­æ–™ï¼Œåç»­ä½¿ç”¨å¤„ç†è¿‡çš„ä½™æ–™ï¼ˆå¦‚å»æ‰ä½é¢‘è¯è¯­ç­‰ï¼‰å†æ¥è®­ç»ƒåº”è¯¥ä¼šæ›´å¿«ã€‚å› ä¸ºæ—¶é—´å¤ªé•¿ï¼Œæ‰€ä»¥è¿™ä¸ªå®éªŒè¢«æ”¾å¼ƒäº†ã€‚ ###GPUç‰ˆæœ¬çš„æœªå¤„ç†è¯­æ–™å®éªŒé¦–å…ˆå¯¹æœªå¤„ç†è¯­æ–™åšè®­ç»ƒï¼š1th train.lua -data_dir data/mydata/ -gpuid 0 begin at 10:20å¯ä»¥çœ‹åˆ°time/batchç¨³å®šåœ¨0.08så·¦å³ï¼Œä¹Ÿå°±æ˜¯åŠå°æ—¶å°±å¯ä»¥è®­ç»ƒå®Œæˆï¼GPUæ¯”cpuåœ¨ç§‘å­¦è®¡ç®—ä¸Šé¢å®åœ¨æ˜¯å¤ªå¼ºå¤§äº†ã€‚è®­ç»ƒå®Œæ¯•ï¼Œä½¿ç”¨ï¼šth sample.lua cv/lm_lstm_epoch50.00_3.9309.t7 è€…ï¼Œå´å¾—å‡ºæ¥çš„ç‰©ç»†ç‰©ï¼Œæ²¡é¢å°‘ç®¡ç”Ÿæ¸”äººã€‚åæ¥çš„çŸ¥åºœæ—¶æ˜¯ä¹±è‰²æ—©æ™šï¼Œæ‹¾äº†å‡ ä¸ªã€‚æé€µæƒŠå¾—å¿™å¿™è½»æ¢³è¯ç©¿åœ¨å¤§ç‰¢é‡Œï¼Œæ‘†åœ¨å»¶å®‰å®¶å¤„ï¼Œæ¨æ…°ä¹èŠ‚çš„ã€‚å½“ä¸‹å¾„åˆ°å±…ä¸­é¥®é…’ï¼Œç‰Œé—¨å¤´ï¼Œæˆ´å®—åˆç„¦èºã€‚åªè§å±é£èƒŒåè½¬å‡ºä¸€ä¸ªå°é£å¤§æ¥ï¼Œæš—æš—å¬å¾—é“ï¼šâ€œåç»†æ”¾ä¿º!å…„å¼Ÿæ‹¿ç€ï¼Œè¶è¿™ä¸ºå®³å¤©æ˜åœ°æ¸…ï¼Œæˆ‘ä¼‘è¦æ¨é“åˆ«äº‹çš„éƒ½è¦åšä¼´å½“æ‹†æŠ•åˆ°ä¼šè€³ï¼Œä¾¿æœ‰è¿›æ¼ï¼Ÿâ€æ—¶è¿èˆèµ·æ ‘ä¸‹æ¢äººï¼Œçš„äº†å¤¹æ­ï¼Œéƒ½æ‹½äº†æ‹½å¼€ï¼Œèƒ¸çš®è™½æ˜¯å¥½äº†å…­åˆ†æƒŠå¾—ï¼Œæ˜¯ä»–éº»ã€‚åå¥³æ£’æ”¾ç«äº†ï¼Œèµ°ä¸å‘å‰ï¼ŒåŠå®‹æ±Ÿé‚£é“ä¸ªç•™å®ˆä»–åšä¸ªè¾©å¯Ÿçš„ï¼Œå…ˆè‡ªå»å·é‡Œè¯·æ˜åœ°çƒ§äº†é’±ç”¨ï¼Œä½†æœ‰è¿‡äº¬å›å®¶ï¼Œå¬å¾—çŠ¶å­å¥½!è¿™é«˜è€è¢‹å†…å´æ˜¯å‡ºå¼ æ‹›å®‰ï¼Œåˆéƒ½æ˜¯ä»–çš„æ¬ºè´Ÿæ°‘ï¼Œå¦‚ä½•æ˜¯è®¡ä¿¡?å¿…é¡»è¦å’Œéƒç›¸ä¼šã€‚ä¸”ã€‚â€è¶æ—©èµ·æ¥¼å»äº†ã€‚ä¸¤ä¸ªè¿å¤œæ—¶å€™ï¼Œä»“æ²»æ—¶ï¼Œå¹´äºŒåå…«æ‰§è¿·è€…å¤šè¦éƒ½è¦å»è¡Œå¶ï¼Œæ—©æ˜¯äº²å®¶æ´’å®¶ï¼Œå¾„æŒ¨åˆ°åºœå‰æ¥ã€‚ç¯çƒ›çº¸æ•Œå®˜ï¼Œæ–¹æ‰è„±æ¼ã€‚äº¦è¢«ä¹±çªä¸­æœ‰äººç­‰å¥½äººçŸ¥è”¡äº¬é“ï¼šâ€œé‚£ä¸ªäººä¹Ÿæ˜¯ä»–ç”šä¹ˆ?å› æ­¤æ•™å¤§å†›æ‰“åŠ«ä¿ºé‚£å¹²å¹²é‡‘ç çš„ã€‚â€æ¯å­é‚£å¦‡äººæ¥åˆ°å¤§ç‹å°šå®‰ç€ï¼Œç›¸äº¤é…’è¿½æƒ¹ä¸‰æ¸…é…’æ¦æˆ˜ã€‚ä¸è¿‡åŠå¤œä¹‹äº‹ï¼Œæ—©é¥­ç›¸çƒ¦ï¼Œå¿ƒé‡Œå‡ºå¯¹çŸ¥åºœè¯´ï¼šâ€œå®˜å®¶åˆæ—¶åœ¨æ—¶ï¼Œæ¬²è¦å¸‚ä¸Šæ—¶ï¼Œå…€è‡ªå’Œæˆ‘è§…å®¶åŠ«çŠ¯äº†ä»–ï¼Œå¦‚ä½•ä¸èµ¶æˆ‘é‡Œæ¥?æˆ‘å¤§å°å¿ƒå®šå¾—ï¼Œä¸åˆ†ä¾¿äº†ã€‚â€å‰å†›è½¬å›ï¼Œå·²åšäº›å°å¤´ï¼Œè¦æ‰“æŠµæ•Œä»–!ä¸”æŠŠèº«ï¼Œå¸¦äº†ä¸ƒä¸ªäººæ—¶ï¼Œéƒ½æŠ¢å‡ºå®¶ï¼Œä½†è§ï¼š å£®ä¸­é†ªæµ‘çº·é¢†ï¼Œè…°ç»†è½»éœ²ã€‚é˜”å°ºä¸‰å±‚æŒºåˆ€ï¼Œé±¼åšå¤¸æ•Œåº†å­™ã€‚é«˜äººæœ‰å…«å¥è¯—å•é“èº«å¿ƒå¼ºä¼¼è½?ï¼›å°ä»˜æ•²æŸ´çš„ï¼ŒçœŸå¤šå‘¼åœ£æ®¿ä¹‹ä¸»è´é”‹æ¬£ä¹è¯ã€‚å¤´é‚¬é—»ä¸¹è…Šè‰¯å¤«ï¼Œè€è¾¾ç¼˜çŸ®å²é¾™ï¼›å››è™é—´ï¼Œå¯’æš®éš¾ä»¥å·é»„ï¼›ç‰¢è®°ä»è¯¸ä½œåƒï¼Œæ˜¾å®ä¸€æ ¹çº¢ä½›ã€‚å¾®ã€‚å–„å¾—å±±è¿èƒ½æŒ‡æŒ¥ï¼Œç›´æ•‘æ¸…å¤©é©¬æ˜Ÿã€‚ è¯è¯´ä¸Šé˜µæ³•ï¼Œ å¸ˆçš‡å¸å±•å¾—æœ‰?å®«æ®¿ï¼Œé›¨ç¿ äº‘ä¹Ÿä¸Šç”°åœ°é‡Œã€‚å¹¸è§‚éä¹ƒå¸é‡äº†ï¼Œå®‹æ±Ÿå¿ƒå¦‚æœ‰èª“ï¼ŒåŒå®‹å—è¿·ã€‚å´è¯—åå”¤ï¼Œåªä¼ è¯´å¼€é—¨ï¼Œå› æ­¤æ˜¯è´¼äººå¿ƒè…¹äº‹åŠ¡ï¼Œåˆ°å®‹æ±Ÿçº åˆç”Ÿçµå®³ï¼Œåœ¨å¿ æ¸å­˜æ¯äº²æ¥å®‹æ±Ÿä»¥å¿ƒå´æ‰ï¼ŒæƒŠå¾—ä¹‰æ—¢çµå‚å¾·ï¼Œå¯¹å…¬å­™èƒœä¸ºç„¶æ— æ™ºçœŸé“å¥½æ³•ï¼Œæ­£ä¸ºï¼šé¡»æ¸¸å…­åä¸ºèšä¹‰ï¼Œå¥½åƒåŸæ—å¯†å¯¨éƒå±±ç¥ä¿ã€‚ å½“æ—¥å®‹åº„å®¢å¸å‰ï¼Œä¸æ™ä¿ã€å…¬äºŒä½å¤´é¢†ï¼Œä¼—å¤´é¢†å‘èµ·ä½œæ³•ã€‚ çŸ³è£‚æ›´å…¼åœ°åˆ†éƒ½æ‹¨äººæ±‰ï¼Œä¸”ä¸æ€å¾—è’™æ©å¹²äººç»“ä¹‰ï¼Œä¸‹å±±åªæ˜¯é”¦è¢‹ç™¾æŠŠï¼Œä»¬æœ‰çˆ¶äº²å­”å®¾ï¼ŒåŒå•†é‡ã€‚å®‹æ±Ÿåˆé“ï¼šâ€œè‡ªæ˜¯å¥½ç”Ÿï¼Œè«éä¹Ÿåªæ˜¯æ˜¯æœ‰å“¥å“¥ä¸‹äº†ã€‚â€å´ç”¨ç¬‘é“ï¼šâ€œå…„å¼Ÿï¼Œä¸åˆ°å±±å¯¨ï¼Œå´ç”¨å‘½ä½œå•†é‡ï¼Œå°†å†›ä¸ä¸ä»–é•¿çŠ¬é©¬ï¼ŒåŠ›ä¼‘æ›¾å¹³ä»–ï¼šä¸€è¯éš¾ä»¥å®‰èº«ï¼Œå®‹æ±Ÿä¸€åŠ›ä¸ä¸œæ˜Œä¸‹å‡ æ—¥ï¼Œè°æƒ³å¤§å“¥å“¥æ•™å°æ™ç›–å“¥å“¥ä¼šåˆå½“çš„äº‹ã€‚æˆ‘ä»¬äººæŠ•éšå¤©å†›æ¥ï¼Œåˆæœ‰ä¼¤æŸï¼›è‹¥ä¸è¿ç¯ç”²å…³ï¼Œç€ææ¨ªå…¶ä¸ä¼¼ç«ä½“ï¼Œè½¦è—å¾¡ä¸Šå°½æŒ‚ç‰æ°´ï¼›å†›å’è®¸å¤šï¼Œæ— æ— ä¸éš¾ä¹‹é™…?ä»–ä½†**ï¼Œå¯ç­‰å…µï¼Œå¯ä»¥æ–©é£ã€‚â€ä¼—å†›å¥éƒ½ç®¡å…¥åº„ï¼Œè¦æŠŠé²œè¡€è¿¸æˆï¼Œèµ¶èµ·æ¥ï¼ŒèƒŒåè§£æ°´è¾¹ï¼Œå”¤è½¦å†›è·¨åŸç–®åªç­‰ï¼ŒåŸæ¥æ­£æ˜¯ä¹‹ç¦ï¼Œåå¾€ï¼Œæ¥ä¸è§ä¸‰ä¸ªä½¿æ±‰ã€‚å› å¼Ÿæ¸…é£èˆ¹æ•‘åº”ã€‚è·¯ï¼Œè‡³æ˜¯è·¯ä¹°é…’ï¼Œåˆæ‹¨äº”ä¸ƒç™¾åã€ç½©ã€ç™½ã€å­”äº®ï¼Œæ­£å°†è´¹çã€è–›éœ¸ï¼Œå°½æ˜¯é’±åäºŒåå†›ï¼Œå…¶ä½™çš„äººåœ¨å½¼ï¼Œæ¬²å¾—ä¼—å…µé™©é“åœ°å¹¿èŠ±è£æŠµæ•Œäººä½ã€‚è¿™ä¸€é˜ŸèŠ‚åº¦ä½¿å£«éƒ½å†›ï¼Œè¢«ä¸¤ä¸ªå†›çŒ›ï¼Œå‘å£°å–Šï¼Œéƒ½æŠ¢è¿‡åŸé‡Œï¼Œå¹¶æ— è…°è¿æ•Œï¼Œè¢«è´¼å…µèµ¶ä¸Šï¼Œæ—¶ï¼Œå´è¢«èŠ±è£æˆ˜ç®­å°„æ¥ã€‚ç«¥å¤ªäººã€æ¨å¿—æ­£æ˜¯å—å®‰æ±ŸéŸ©æ¨é¾™ã€ç©†å¼˜ã€æé€µã€ç´¢è¶…æ­£å®šæ•Œã€‚å­™å†›çºµé©¬ã€‚ç¼æ¸…é©¬æŒºç€æªï¼Œå…¥æ¥ï¼Œå°½è¢«å²è¿›å’Œè´¼äººæ€æ­»è´¼å…µï¼Œæ“’åšéœ¹é›³ã€‚é‚¬æ¢¨å› æˆè®©é£ï¼Œè¿é¼“ä¸Šé©¬ï¼Œå°†è‚¡æ–§ï¼Œå´é£å…¥é˜µï¼Œå¤§å°å¼ æ¸…è§äº†è§ä¹±å†›é˜µå‰å’æ³•è´¥å‘å›é˜µï¼Œå®‹æ±Ÿæ—­å‰åªæ˜¯ï¼š ä¸»äººé—®å§“ï¼Œäº”åº”é£ä¸‡ã€‚ä¾¯æµ·é“æ­£ï¼šâ€œæ¶å¹³å¯é€ƒå¥”ï¼šã€‚æ—¶ä»¬æ‘é‡é˜´è¡€ï¼Œå‘¼å¾€å¤©å…µæ¶ˆæ³¢ã€‚æ­£è¢«æ¨å¿—èšé¢†æ¸¡æ±Ÿï¼Œæœ›å®‹æ±Ÿæ”»è¿˜å±±åºµï¼›æ‹”å¯¨æ•™æ´»æ—å†²ã€å…¬ä¸‡ä¸€é€šï¼Œå¹¶æ·»ä¸‹å±±å—äºŒç‹åº†åäº‹è™šæƒï¼Œå†è¢«å°äººåœ¨æˆ´ä¸Šæ¢å±±æ³Šè·¯ï¼Œå‡ è·¯å»æŠ¥ï¼Œä¸æ•¢å‡†å¤‡ã€‚ä¸çŸ¥è¿™ä¸ªäººè¯´èµ·æ˜¯ç™¾åº„å°é»‘å‡Œå·ï¼Œå·²æ›¾è§äº†ï¼Œå¯¹åˆ«æ— ç¼˜ã€‚â€å´ç”¨é“é“ï¼šâ€œä¾¿é˜Ÿå†›é©¬è§£åˆ°æ­¤æ—¶ï¼Œå¿…æ˜¯æ®¡éš˜ä¸ºç™¾è°·å²­ã€‚åŸå¸ˆæ‚¬æµæ°´å†›å¤´äºŒå¤´é¢†ï¼Œç»“è¯†æ±Ÿæ¹–ä¸Šå¥½æ±‰å§“çŸ³ï¼Œåç»™é¬¼ï¼Œä¾¿ä¹ƒäº”å®¶åº„äºŒå¤šæƒ…ã€‚æˆ‘å»è¿™é‡Œåœ°è·¯ï¼Œæœ›ä¼šä¾¿è¡Œã€‚â€å»Šè¿›é›·è½¦æŠŠäººæ¥ä¸æ­¢ï¼Œæåº”æ‹ˆç€è¯ä¹¦ï¼Œè‡ªæ­¤ä»˜è¯ã€‚ ä¸”è¯´å±±å®¢æ¸¡è¿‡äº†ä¸‰åªè·¯ï¼Œæ•™ç©†å¼˜æ‰®åšä¼´å½“ï¼Œæ‰®åšé˜å©†è€…ï¼Œå¸¦æ‹¢æ˜¯è‡­é•‡ä¸€ä¸ªæ²¡èµŒä»€é—¨ï¼Œåˆ†é¡ºäº†åŒè¡Œï¼Œè‡ªå»å¯»é—­äº†çš„ã€‚åŸè‡ªå»è¢«äººè¿çƒ§å°†ä¸‹å»äº†ã€‚å®‹æ±Ÿç­‰è¿œè¿œï¼Œä¸€è·¯è¿›å…µã€‚åæ¥å¿ä¸åœ¨å¤§è·¯é€”æ¥ï¼Œåˆæ€•äº†åˆ°å¾—é—²æ„çš„å¼ ç¤¾é•¿ï¼Œå¬å¾—ç›‘æŠ¼ä¸€å£°ï¼Œè´§é’±ä¾¿æ˜¯ã€‚ä»»åŸé™ˆè¾¾åœ¨ä¸­ï¼Œä¸çŸ¥å¤„æ‰“é‚£åå·ï¼Œç‰¹ä½¿ä»–æ¥æ³å»å¤ªå®‰å†›è‚†ï¼Œåªå¾…ä¸‹å±±ã€‚æˆ´å®—å‘Šéšå¼ å°äººï¼Œè”¡ä¹çŸ¥åºœä¸å¾—ï¼Œè¿å¤œå›è¯ï¼ŒåŒå¼ æ‹›è®¨å¹²åŠã€ä¼—éƒ¨å‰ã€‚äºè·¯ï¼Œå¿½æŠ¥æ¢çŸ¥æ ·æ‚”ï¼Œæ™¯çå…¨è¿‡ï¼Œé¢†å›å•†è®®ï¼Œâ€œå†›å¸ˆèµµæ¢å¯†å–œç»¯é‡‘å¸¦ï¼Œèº«ä¸Šæ‚¬é¢è‰æ¿ï¼ŒæŠ¤é“å›½å¸ˆï¼Œæœï¼Œç¥è‰²ä¸é€šã€‚æ˜¯å¥‡è¯ˆå°†ä¸˜ç•™çš„äººï¼Œå‡†å¤‡èµ·èˆ¹èµ°å¾„æ¥å€Ÿç²®ï¼Œä¸šä¸åŒä½•é‡ä¸€æ·±å›°é©¬çµå¤«ï¼Œä¾¿å› å¯†çš„æœˆè‰²æ¸ç ‚æ¥å®Œï¼Œæ–‹ã€‚å°æ¸©çš‡å¨ï¼Œè¢«å®£åˆšå¼•å†›æ¥ï¼Œæ­¦æ¾å½¼æœµå¹¶é¡¾å¤§å«‚ï¼Œèµ´äº†é€ƒå»ï¼Œè‡ªé€ƒå‘½æ¢äº†ã€‚è¢«é‚£å‡ äººå¨…?åœ¨å¤é–å†›åŸæ¶‚ç‚­ï¼Œï¼Œæ€çºªå£«ï¼Œæ¥åº”å–Šé“ï¼Œæ¼è½¬èº«æ¥ï¼Œå¤æœ‰ç¥è¯—ï¼Œç‡•ä¸–æ›°ï¼šâ€œå¯¡äººä»°äº‘ç›‘æ–©è¾½ç‹åº·å…¬å¤–äº¤æ³•ï¼Œä½•â€å¥ˆé˜µåœ£æ€’é¡»æ€§é‡ã€‚é“æŒ¨å¡«ä¸¹é´ï¼Œä¸‡è¾¹ç‹„è¡Œé‰´ã€‚è§ã€‚ç”°æˆ·è§‚çœ‹è‰ç•”ï¼Œçº¢æ—¥å½±è±ªå›°å‚¬æ€¥ç»©ã€‚å®‹ç‰æ¸¸æˆ˜ï¼Œå¬å¬äº†å¤§å–œã€‚è¯è¯´å®¿å¤ªå¸ˆè¯å¥é“ï¼šâ€œå®¿å…ƒå¸…å·®æœ‰æ••å…¥è¯·ç½—çœŸäººï¼Œå¯†å°å®˜å†›ç­‰å…«å‘˜é«˜åï¼Œå°å½“åŒè¾¾å®‹å…ˆé”‹ã€‚â€æ—¥æ”¶é€‰æ¶¦ä¹‹ä¸»ï¼Œå¥ä¸ºåœ£æ—¨ï¼Œç‰¹ç€å·æ®¿åºœæ¢çŸ¥ã€‚å¤ªå°‰å®¿å¤ªå°‰å›åˆ°å†…ï¼Œå¯è½¬é©¬ï¼Œä¼—å†›æ–¹å¯äº¦æˆå¼€å¤§äº‹ï¼Œæ”¾èµ·å‡ºæ¥ï¼Œæ›´å…¼å°ä¸€ä¸ªå”¤åš ##ä½¿ç”¨å¢å¼ºRNNç½‘ç»œè®­ç»ƒ å¦‚ä¸‹ï¼Œä½¿ç”¨512ä¸ªéšè—èŠ‚ç‚¹çš„3å±‚RNNç½‘ç»œè®­ç»ƒæ¨¡å‹ th train.lua -data_dir data/shuihuzhuan/ -gpuid 0 -rnn_size 512 -num_layers 3th sample.lua cv/lm_lstm_epoch50.00_5.4830.t7 -sample 0 -temperature 0.8 -verbose 0 -length 500 å¼Ÿå…„ä¸¤ä¸ªï¼Œä¹Ÿå¾—ä¸ªä¿¡åä¹‹äººã€‚â€é‚£ä¸ªä¹Ÿæ˜¯ä¸ªé“ç†ã€‚ç«¥å®¶å››æ›´ï¼Œè¢«å¼ é¡ºæ–©çš„ç²‰ç¢ï¼Œä»¥ä¸‹äººäººå®¶æ‹¿å»äº†ã€‚ä¸€é¢å«é…’ä¿æ‰“ä¸¤æ¡¶é…’æ¥ã€‚å°äºŒå“¥å«é“ï¼šâ€œå¸ˆçˆ¶ï¼Œä½ ä¸æ˜¯æˆ‘æ¥ä¹Ÿï¼â€é‚£å°ç‰¢å­é“ï¼šâ€œæˆ‘ä¹Ÿä¸æ›¾ä½ ï¼Œä½ ä¾¿å«æˆ‘ä¸Šæ¥ã€‚â€ çŸ³ç§€é“ï¼šâ€œä½ ä¸”è¯´ä»–ä¸‰å®«ç™¾é‡Œåƒé…’äº†æ¥ï¼Œä½ ä¾¿æŠ¢å…¥å»ï¼Œä½ ä¾¿å…ˆæ¥çœ‹ï¼Œå´è¢«è¿™ç•œç”Ÿè¯´ä¸å¾—äº†ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çœŸäººè¦æ‰“è¿™é‡Œè¯?ä½ å´ä¸è®¤ä½ ï¼Œä½ ä¾¿å«æˆ‘å„¿æ¥å¯»ã€‚â€æé€µé“ï¼šâ€œä½ æ•¢ä½œåƒçš„ï¼Œä¾¿æªæˆ‘åšè„šï¼â€èµ¤æ¡æ¡åœ°å¯»è°ï¼Œåªå¾—éª‚é“ï¼šâ€œçˆ¹å¨˜ï¼Œä½ ä¸”ä¼‘äº†ï¼Œæˆ‘è‡ªä¸ä¿¡ï¼Œç æˆ‘å¤´ä¾¿æ‰“é‚£è€å¨˜ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä¹Ÿå¥½ã€‚â€ä¾¿æŠŠè¢–å„¿ä¸¢ä¸‹å»äº†ã€‚é‚£å¦‡äººä¹ŸæŠŠåˆ€å¸¦åœ¨ä¸€è¾¹ï¼Œå´ä¼¼å°çª—????èƒ¡ä¹±é“ï¼šâ€œå¥½æ‹³è„šï¼â€æ€¥å«å¼€äº†åº—çœ‹ã€‚â€ç‹åº†å¬äº†ï¼Œè¿å£°å«é“ï¼šâ€œé˜¿ä¹Ÿ!ä½ ä¸è¦åƒï¼â€æŠŠæ‰‹ä¸€æŒ‡ï¼Œæå€’ä¸Šå²¸æ¥ï¼ŒæŠŠæœ´åˆ€å€šåœ¨è¢«é‡Œã€‚å°±æŠŠç¯™å­é—¨å†…ï¼Œå€’åšäº”å…­æ–¤äº†ï¼Œå°†æŠŠæœ¨é±¼æ¥æ‘†ä¸‹æ¡¶æ¡¶ã€‚å°‘æ—¶ï¼Œå¼ é¡ºåƒäº†ä¸€å›ã€‚ä¸¤ä¸ªå›åˆ°åº—å‰ï¼Œå†å‡ºæ¥èµèµï¼Œè§£äº†æˆ’åˆ€ï¼ŒåŒ…äº†æ°´å‡ºå»ï¼Œåˆ°å››æ›´ï¼ŒæŠŠèˆ¹æ¸¡å…¥å»ï¼Œä¾¿å«è‰„å…¬ä¸‹æ¥¼ï¼Œä¹°äº†äº›é±¼åƒï¼ŒæŠŠäº›é…’è‚‰åƒäº†ï¼Œé…’ä¿åšäº›æ¡¶æ±¤ã€ç›˜é…’ã€äº›è‚‰ã€‚ä¸‹æ¥ç©¿ç“¶ä¸é…’ã€‚ä¸€ç“¶å„¿é…’è‚‰ï¼Œä¹°äº›è‚‰åƒï¼Œåªè§åº—ä¸»äººæŠŠåŒ…è£¹æ’ä¸‹ï¼Œé‚£å¦‡äººä¹Ÿåƒå¾—é¥±äº†ï¼Œå£é‡Œè¯´é“ï¼šâ€œå¨˜å­ï¼Œè€èº«ç­‰è¿™å‡ ä¸ªæ³¼ï¼Œä¸è¦åƒé…’é’±ã€‚â€åº—å°äºŒé“ï¼šâ€œå¥½é…’å¥½è‚‰è¦æ‰“ï¼Œæˆ‘åƒä¾¿é¥± å¾ˆæ˜æ˜¾ï¼Œæ­¤æ—¶sampleçš„æ ·æœ¬è¯­å¥æ›´åŠ é€šé¡ºï¼Œé”™è¯¯å¾ˆå°‘ï¼Œä»å“å‘³å°è¯´çš„è§’åº¦æ¥è®²ï¼Œå¢å¼ºäº†çš„RNNè®­ç»ƒå¾—åˆ°çš„æ¨¡å‹æ›´åŠ å®Œç¾äº†ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œå¢åŠ äº†èŠ‚ç‚¹æ•°å’Œéšè—å±‚çš„RNNå…·æœ‰æ›´å¼ºçš„å­¦ä¹ èƒ½åŠ›ã€‚ å¯¹æ¯”è®­ç»ƒè¿‡ç¨‹æ¨¡å‹è¡¨ç°åŠ›ä¸æ­¤åŒæ—¶æˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ï¼Œè®­ç»ƒå¼€å§‹é˜¶æ®µä¸è®­ç»ƒç»“æŸæ—¶çš„æ¨¡å‹è¡¨ç°åŠ›çš„å·®å¼‚ï¼š th sample.lua cv/06-01-shz_sp/lm_lstm_epoch5.80_4.0451.t7 -sample 0 -temperature 0.8 -verbose 0 -length 500 è®­ç»ƒåˆšåˆšè¿›è¡Œåˆ°5.8ï¼ˆä¸º50æ—¶å®Œæˆï¼‰å¾—åˆ°çš„æ˜¯ï¼š åªè§ä¸€ä¸ªäººä»æ¥ï¼Œä¸€ä¸ªäººï¼Œéƒ½æ¥åšä¸€ä¸ªã€‚é‚£äººé“ï¼šâ€œä½ è¿™å®ä»¬ï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸ æ­¤æ—¶è¯­æ–™å…·æœ‰è¾ƒå¤šçš„é‡å¤ï¼Œæ¨¡å‹è¿˜æ²¡æœ‰è‰¯å¥½çš„æ”¶æ•›ã€‚ ç»§ç»­è§‚å¯Ÿï¼Œå½“è¿›è¡Œåˆ°å››åˆ†ä¹‹ä¸€å·¦å³æ—¶ï¼š é‚£æ±‰å­å¬äº†ï¼Œä¾¿é—®é“ï¼šâ€œä½ è¿™å®ä¸æ˜¯æ­¹äººï¼Œå¦‚ä½•ä¸æ¥?æˆ‘ä»¬ä¸æ›¾æœ‰è¿™èˆ¬çš„ï¼Œå¦‚ä½•ä¸æ¥?ä½ çš„é‚£é‡Œå»äº†ï¼Ÿâ€é‚£æ±‰é“ï¼šâ€œæˆ‘ä»¬ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢ç„¶æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ä¹°ç¢—é…’åƒã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢ç„¶æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ä¹°ç¢—é…’åƒã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æŒ‘é…’çš„æ±‰å­é“ï¼šâ€œæˆ‘ä»¬è‡ªæœ‰è®¡è¾ƒï¼Œæˆ‘ä»¬è‡ªæœ‰äº›é’±ï¼Œä¸ä½ äº›é“¶ä¸¤ï¼Œå´å»å•†è®®ã€‚â€è‘£è¶…é“ï¼šâ€œæˆ‘ä»¬ä¸æ›¾æœ‰è¿™èˆ¬çš„äº‹ï¼Œå¦‚ä½•ä¸æ¥?ä½ ä»¬è‡ªå»å–è·¯ï¼Œæˆ‘å’Œä½ å¦‚ä½•ä¸å»?è‹¥è¿˜äº†ä»–æ—¶ï¼Œä¾¿æ˜¯è¦å»çš„ã€‚â€æé€µé“ï¼šâ€œä½ ä»¬ä¸æ›¾è¯´çš„ï¼Œä½ ä¾¿æ˜¯ä¸ªè€å„¿ï¼Œå¦‚ä½•ä¸æ¥?æˆ‘ä»¬è‡ªå»å–ä»–ï¼Œä½ ä¾¿ä¸æ›¾ä¸ä»–å®è§ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çš„ï¼Œä½ ä¸çœå¾—ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çš„ï¼Œä¸è¦èƒ¡è¯´!æˆ‘ä»¬è‡ªæœ‰é’±å¸›ï¼Œä¾¿è¦å»ä¾¿äº†ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ä¹°äº›é“¶å­ä¸æˆ‘ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæˆ‘ä»¬è‡ªæœ‰é’±ä¸ä½ ï¼Œä½ ä¾¿ä¸æ›¾å»äº†ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬ä¾¿å»ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬ä¾¿å»ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çš„ï¼Œä¸è¦èƒ¡è¯´!æˆ‘å¦‚ä½•è‚¯å»è¿™é‡Œï¼Ÿâ€é‚£å¦‡äººé“ï¼šâ€œä¾¿æ˜¯è¿™èˆ¬ä½¿æ£’ï¼Œä¸æ›¾å¾—å¾—ä»–ã€‚ å†çœ‹çœ‹è®­ç»ƒç»§ç»­è¿›è¡Œåˆ°ä¸€åŠå·¦å³æ—¶å€™çš„è¡¨ç°åŠ›ï¼š å¼ éƒ½ç›‘ä¸ºå‰¯å°†æ€¥ä½“å·±äººï¼Œä¸æ•¢ä¸ä¾ï¼Œåªå¾—éšè¡Œä¼—å†›ï¼ŒæŒè¡Œé€è¡Œã€‚åªç•™ä¸‹é™ï¼Œå°½çš†æ¬¢å–œï¼Œä»¥æ­¤å¿ ä¹‰ã€‚åœ¨åºœè¡Œå†›ä¸­ï¼Œæœ‰ä½¿æªæ£’å–è¯çš„ï¼Œå°†ç‹åº†é¢†å†›åˆ°æ¥ï¼Œå¹¶ä¸å¿…è¯´ã€‚å½“ä¸‹å®‹æ±Ÿä¼ ä»¤ï¼Œæ•™ä¸­å†›è®¡ç­–ï¼Œä¸å¢ä¿Šä¹‰ç­‰å•†è®®ï¼šâ€œä»Šæ—¥æŠ˜äº†ä¸¤é˜µï¼Œä¿ºä»¬è‡ªå»äº†ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå†›å¸ˆä¹‹è¨€ç”šå–„ï¼â€å½“ä¸‹å³æ—¥ä¾¿ä¼ å°†ä»¤ï¼Œæ•™å†›å£«ç‚¹è¥ï¼Œæ–©åŠ¨å†›é©¬ã€‚å°†åŠåˆäº”æ›´æˆ˜åï¼Œæ”»æ‰“å¸¸å·ï¼Œå‚¬è¶±å†›å…µï¼Œä¸€é½è¿›å‘ã€‚ å¯¨ä¸­ï¼Œåªå¬å¾—é«˜å£°å«é“ï¼šâ€œè§è®©ç­‰æ•‘å…µï¼â€å®‹æ±Ÿçœ‹é‚£å†›å°†ï¼Œå°½æ•°æ”¾èµ·ï¼Œå¯¹å¹½å·ä¸€ä¸ªå¤§æ±‰ï¼Œä¹ƒå¤å¤´ä¸Šå¤§å«é“ï¼šâ€œæ°´æ´¼è‰å¯‡ï¼Œæ€æ•¢è½»æ…¢ï¼â€åªè§é‡Œé¢å…³èƒœã€å‘¼å»¶ç¼ã€å…³èƒœç­‰æ¢æœ‰ä¸€äººï¼Œåªè§å”æ–Œä»äººéª‘é©¬ï¼Œç›´åˆ°å®‹æ±Ÿå¯¨å‰ï¼Œå–è¯·å®‹å…ˆé”‹ã€‚å®‹æ±Ÿå¬äº†å¤§å–œï¼Œä¼ ä»¤ä»¤å†›å£«ä¸”å»å¯¨ä¸­ååœ°ï¼Œå¤‡è¯´å®‹å…ˆé”‹å†›é©¬ï¼Œæ”»æ‰“åŒ—äº¬ã€‚å´ç”¨é“ï¼šâ€œä¸”æ•™ä¸¤è·¯å†›é©¬ï¼Œæ”»æ‰“åŒ—é—¨ã€‚â€å®‹æ±Ÿä¾¿ä»¤å´ç”¨ã€æœ±æ­¦å•†è®®ï¼šâ€œä»Šæ—¥å¯å»ï¼Œåªæ˜¯å›½å¸ˆå´ç”¨ï¼Œåä¸€ä»¶äº‹ï¼Œæˆ‘ç­‰éšé¡ºåˆ°æ­¤ï¼Œå¯ç”¨ä¸¤å¤„å¤¹æ”»ï¼Œé‚£å®å¿…ç„¶æœ‰äººæ¥ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå†›å¸ˆè¨€ä¹‹æå½“ã€‚â€ä¾¿å”¤å†›å£«è®¡ç­–ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå†›å¸ˆè¨€ä¹‹æå½“ã€‚â€å´ç”¨é“ï¼šâ€œå°ç”Ÿç›´ä½œå¦™è®¡ï¼Œå³ä¸”é—»è§ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå…ˆç”Ÿä¹‹è¨€ï¼Œæ˜¯ä¸å¾—è¿™èˆ¬å¿§ç–‘ã€‚â€å®‹æ±Ÿé“ï¼šâ€œæ—¢ç„¶å¦‚æ­¤ï¼Œä¸ä½ å››ä½è±ªæ°ï¼Œä¸å ªå‘˜å¤–å¤§ç‹ã€‚â€å®‹æ±Ÿé“ï¼šâ€œè´¤å¼Ÿï¼Œä½ ä¼‘è¦ç–‘å¿ƒï¼Œæˆ‘ä¾¿å»è¯·æ¥ã€‚â€å´ç”¨é“ï¼šâ€œä¸é¡»ä½ ä¸¤ä¸ªä¸æˆ‘ç®­ï¼Œåª æ­¤æ—¶ä½çº§çš„é‡å¤æ²¡æœ‰äº†ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°ï¼Œâ€œå®‹æ±Ÿé“â€åå¤å‡ºç°ï¼Œè€Œä¸”è¯´çš„å†…å®¹ç±»ä¼¼ï¼Œå¯ä»¥å¾—åˆ°æ¨¡å‹å·²åœ¨è¿›ä¸€æ­¥å®Œå–„ä¹‹ä¸­ã€‚ è¿™æ˜¯æ¨¡å‹æ¥è¿‘è®­ç»ƒå®Œæˆçš„æ—¶å€™çš„sampleï¼š å¼ é’ã€å­™äºŒå¨˜ã€é¡¾å¤§å«‚ã€å­™äºŒå¨˜ï¼Œå¹¶å››ä¸ªå¥½æ±‰ï¼Œå¼•ç€ä¸€åƒä½™äººï¼Œå¹é€ å¤§å°èˆ¹åªï¼Œéƒ½æŠ•æ°´è·¯ã€‚ä¸å¤šæ—¶ï¼Œåªè§æ¾æ ‘èƒŒåè½¬å‡ºä¸€ä¸ªå°å°äººæ¥ï¼Œç°‡æ‹¥ç€ä¸¤ä¸ªäººï¼Œå„æç€æœ´åˆ€ï¼ŒèƒŒåæœ‰äººï¼Œå«ä¸€å£°ï¼šâ€œæ‰ä¸‹ï¼â€ é‚£æ±‰å­æŠŠèˆ¹åªä¸€æ‹›ï¼Œæ‰¶ç€ä¸€å¹²äººï¼ŒæŠŠé‚£ç¢—é¥­æ‰“ä¼¤ï¼Œæ‰“çš„ç²‰ç¢ï¼ŒæŠŠå¤´å¤´å‰²åœ¨ä¸€è¾¹ï¼Œå£é‡Œæ”¾ç«ã€‚é‚£äººè§äº†æ˜¯æƒŠå¾—å‘†äº†ï¼Œåˆä¸æ¥åƒäº†ä¸€æƒŠï¼Œæ‰‘åœ°åªé¡¾èµ°ã€‚å´å¾…å†èµ°ï¼Œå†å»è„±äººé¿å‡‰ã€‚æé€µå´äº¦ä¸è‚¯æ‹¦ä»–ï¼Œåªå¾—èµ°äº†ã€‚å¯æ€œæ•‘ä»–ä¸¤ä¸ªæ€§å‘½ï¼Œé‚£é‡Œæ•¢?åˆ«äººã€‚å‰æ—¥è¢«æ‰æ­»äº†æ€§å‘½ï¼Œæ€äº†äººï¼Œé€ƒèµ°åœ¨æ±Ÿå·ï¼Œè¢«å®³äººé™·å®³ï¼Œæ–¹å¾—æ­£ä¸­äº†ã€‚ä»Šæ—¥å¹¸å¾—ç›¸è§ï¼Œå¦‚ä½•ä½¿å¾—?ä¾¿å¾—æ˜¯ä¸ªçŸ¥å¿è¿‡æ¥çš„ï¼Œä¹Ÿå–œå¾—åŠã€‚ä»–ä¾¿æ˜¯æœ¬äººçš„äººï¼Œé¡»æ˜¯é«˜å¤ªå°‰çš„äººï¼Œå´ä¸çŸ¥æ˜¯é‚£é‡Œäººã€‚â€ä»»åŸé“ï¼šâ€œè¿™ä¸ªä¾¿æ˜¯æˆ‘çš„å„¿ä¹ˆï¼Ÿâ€ç‹å©†é“ï¼šâ€œä¾¿æ˜¯å‰æ—¥é‚£å®˜å¸äº²äº²å”å­ï¼Œä¸ºä½•åˆ°æ­¤ï¼Ÿâ€é‚£å©†å­ç­”é“ï¼šâ€œè€èº«åªé“ä¸å¦¨ï¼Œåªæ€•å°äººè‡ªæœ‰æªç½®ã€‚è€èº«çœ‹äº†ï¼Œä¾¿å¿˜äº†å›å»ã€‚â€è€éƒ½ç®¡é“ï¼šâ€œè¿™ä¸ªå®¹æ˜“ã€‚è€èº«å…ˆæŠŠé“¶é…’å»äº†ã€‚â€è€å„¿é“ï¼šâ€œä½ ä»¬è‡ªä¸è¦åƒé…’ã€‚â€é‚£å©†å­ä¹Ÿç¬‘èµ·æ¥é“ï¼šâ€œè¿™ä¸ªä¾¿æ˜¯æˆ‘çš„è€å°äººå®¶ã€‚â€é‚£å©†å­é“ï¼šâ€œä¾¿æ˜¯è€èº«ä¹Ÿä¸æ€•ä½ ï¼Œä¼‘è¦èƒ¡ä¸»å¹²å¨˜ï¼Œåªæ€•ä½ ç–‘å¿ƒã€‚â€é‚£å¦‡äººé“ï¼šâ€œä¸å¹²äº†ã€‚ä½ çš„å¥³å„¿ï¼Œè€å¨˜å„¿åªåšä¹°äº›è¡£æœæ¥é€ä¸ä½ ã€‚â€ç‹å©†é“ï¼šâ€œå¨˜å­ï¼Œä½ è¦çŸ¥è¿™å‡ ä¸ªå­—ï¼Ÿâ€é‚£å©†å­é“ï¼šâ€œæœ‰ç”šä¹ˆå“­å¤„ï¼Ÿâ€ æ¨¡å‹è¿›ä¸€æ­¥å®Œå–„ï¼Œæ¥è¿‘å®Œæˆè®­ç»ƒã€‚ ##ã€Šå…¨å”è¯—ã€‹å®éªŒ ä¸‹è½½ä¸‹æ¥çš„å…¨å”è¯—.txtæ˜¯gbkç¼–ç çš„ï¼Œé¦–å…ˆéœ€è¦è½¬æ¢ä¸ºutf-8ç¼–ç ï¼š123456789101112# -*- coding: UTF-8 -*-def main(): s = open(\"å…¨å”è¯—.txt\") r = s.read() r_uni = r.decode('gb2312','ignore') r_en = r_uni.encode('utf-8','ignore') fp=open(\"å…¨å”è¯—è½¬æ¢.txt\",\"w\") fp.write(r_en)if __name__ == '__main__' : main() è¿™æ ·å°±å¾—åˆ°äº†utf-8ç¼–ç çš„æ–‡ä»¶ã€‚ å¼€å§‹æƒ³ç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶ä¸¢ç»™rnnè®­ç»ƒï¼Œåæ¥æƒ³ä¸€æƒ³ï¼Œâ€œå…¨å”è¯—â€åŒ…æ‹¬äº†ä¼—å¤šè¯—äººçš„æ°ä½œï¼Œä¹Ÿè®¸è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹sampleä¸åˆ°ä»€ä¹ˆç‰¹ç‚¹é²œæ˜çš„è¯—å¥ï¼Œäºæ˜¯æˆ‘é¦–å…ˆæƒ³å¯¹è¯—ä»™æç™½çš„è¯—åšä¸€ä¸ªå®éªŒã€‚æŠŠå¾—åˆ°çš„å…¨å”è¯—æ–‡ä»¶ä¸­æç™½çš„è¯—åˆ‡åˆ†å‡ºæ¥ä½œä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚å¼€å§‹è®­ç»ƒï¼šth train.lua -data_dir data/tangshi/ -gpuid 0å¾—åˆ°æ¨¡å‹åsampleï¼š th sample.lua cv/lm_lstm_epoch50.00_5.3967.t7 è€¶ç¿³å¦ƒåœ¨ã€‚æµæ˜æ¹–è‰ï¼Œå²‚èˆé«˜æ•£çº·ã€‚å°å‰‘å®«åº•å¯’ï¼ŒçŸ³æ€æ€€å£«ã€‚å½’æ¥ç›¸çƒŸå¹ï¼Œåˆä½™æœªè€æ­¤ã€‚æ­¤åœ¨è§æºèŠ‚ï¼Œæ°”å¸çš‡å½©å·ã€‚å°å›å‡Œå¤©é¸Ÿï¼Œç¾ä»è‡‚å±±ä¸­ã€‚ä½•æ—‹ä¿±æ‰€åƒï¼Œé€ æ„§ç¿»é—è€»ã€‚æ‚ æŒ¥ææ˜äº‘ï¼Œåæœˆå¾—ç›¸è¿Ÿã€‚å›ä½œæˆæ™¯é¸¡ï¼Œæš®æ—¥æ¸…è†ºå‘ã€‚èƒ¡æ­¥å‚æ´æ¾ï¼Œä¸‰å¹´å»¶æœªè±ã€‚è´¤è¿¢åæ©å±±ï¼Œå—¤æ¥¼è°‹ç–å·ã€‚è¯—å›ä¹å®‰è²ï¼Œåˆ«å»å†™æ—¥æµã€‚äº”æ—¶è°¢åŠæ´’ï¼Œç›¸é­„ä¸‰æœ‰ç„ã€‚ å·177_21 ã€é•¿é“é€ç§€å£«å¯„ä¹‹åå—å›½å¤æ¾æ¸¸æ˜ï¼Œã€‹å¦“æ­¤è›¾ä¹¦æ­¤ä¸‹è§é€ƒä¹‹å§‹å´”è‡³å…­ä»¥åŸé…’å®ã€‘æç™½ ä»™é˜³å£¶æˆ‘ç‹ï¼Œè°£è£æ—¥èŒ«è¿‡ã€‚å¹¸ç”Ÿå¤©è¡Œå¯’ï¼ŒåŠæŒè§ä¹å¿§ã€‚æ—©æ¯‚æ­¤æ¥¼å®°æ­Œï¼Œé¹—ç¨é‡‘å½’åã€‚å®¾æ‰˜æ˜¼å®‡é—»ï¼Œé«˜æ±¶å •è‡£æ³‰ã€‚å³»æ‚Ÿæ¹ç´ éƒ½ï¼Œå‡¤ç”Ÿé¸Ÿè¿œæ‰ã€‚è™å‚¥äº¦æˆä¸€ï¼Œè¹­æ®é”ç‚³å£ã€‚å›è°·é—»å¹æ³¢ï¼Œæ‘§äººç¿¼æ˜†è¡£ã€‚ä¸‘å¾·çš†å¤è´µï¼Œä½•è¢‚è‡ªè§å®ã€‚é»„ç„¶å¥‰å‚åŠï¼Œæˆ¾é…’æ‚²æºªæƒ…ã€‚ä½•æ‚Ÿä¸‹ç½—ç­ï¼Œå£ä»¤è¿˜æµç„¶ã€‚ å·177_16 ã€é€æ²™é—¨é¥¯å…ƒä½›ä¹‹åµ©ä½¿å½’å°‘ä¸å¯ºè¾…æ™”å¹´äº­å±±äº‘ã€‘æç™½ è¡Œé“ä¸€ç‹‚æ—¥ï¼Œé™†æ¯æ¬²æˆ‘å›­ã€‚ç›¸å¯„å±ç›¸è€…ï¼Œä¸æ­Œæµæˆä¹¦ã€‚å¹½æ™¯ç¥å…°é©¬ï¼Œä»Šäº‘ä¹ƒç›¸çŸ¥ã€‚ç›¸èƒ½æ‹‚æ­¤é—¨ï¼Œå¨Ÿç¬‘æ— ç”Ÿé­‚ã€‚è‚ åæ‰«å¤©æ‰€ï¼Œç½—ç‘Ÿå¿ƒä¸–æ¡¥ã€‚ å·169_11 ã€é‡‘æ¾äºŒç‚å¸ˆã€‘æç™½ ä¸½åŠå‘ä½•å‡¤ï¼Œå«ä¸œè¯å®›é”¦ã€‚ä¸”å¿å’å°ºé³Œï¼Œæ¢¦æ¯æ± æœˆã€‚ç½—é¸Ÿæ€å½’äººï¼Œå…¼æˆ‘æ— é£æ­‡ã€‚å¤ªè‰²ä¸œè‰æ ‘ï¼Œå£®æ—©æ¸¸ç½—æ¯ã€‚åˆ«æ¥é’ç¥æï¼Œè°’é•¿ä¸é™µå¯’ã€‚å›å¿§ä¸œæµ·é¹¤ï¼Œå¹æ¬²å¾—å½©å¥½ã€‚æ¢¦å›æ¥å¤ªæƒ…ï¼Œç§¦å­å¿†å»¶è–ªã€‚é—»å¹²å‡Œæ¥¼æ¯ï¼Œæ¾æ°´æ¥å»‰æ‰ã€‚ä¸”è¯†è¾çŠ¹ä¹‹ï¼Œä¼—æ–­ç½—é‡Œä¸­ã€‚ æ°´ç¾Šè¿œé‡ï¼Œå¼•é£’é«˜æ–°ç­–ã€‚ç›®å¸ƒæ„éœœäº²ï¼Œï¼Œéšç«èµ¤äº‘é“ã€‚è§£æ¯‚å››ä¸Šç‰›ï¼Œä»¥ä¸”æ±¶äº‘å¹´ã€‚å®è¿æ¸…å·´å¯’ï¼Œç§æ¬ºæ¸…åé£ã€‚æµ·åå»ä¸æ„ï¼Œæ€ä¸¹é…©æœŸç„¶ã€‚é—»é’“æ›¾å¸†æ™¯ï¼Œä¸€å¼„æš—é•¿é›ªã€‚ä¸”äº¦ç•™æˆ‘è¾‰ï¼Œæ€è®¼éŸµä¸­æ¥¼ã€‚ å·174_7 ã€èµ å´”å¸å·åä¸‰é’å¯ºé»”æ´å§‘åœ£æ¯›é—²åå¿˜å…¼å¡”å®…çŸ³ã€‘æç™½ çªœç¬‘æ•¬é¹¤è§æ¢¦èµ°å»ç•™åƒ§ã€‚åœ°ç­‘ä»å°ºäººï¼Œæ³ªæ ‘å¹³ä¼—çƒ‚ã€‚çªˆç®¸æœ‰å‰æ°²ï¼Œä¹…èªæ¬²æ´²çœŸã€‚æœæ˜¥ç¦»ç›¸å…½ï¼Œé£æ­¤ä½•å£å‘ã€‚ç»¿æ—¥å¶å¯è¨€ï¼Œæˆ‘è¨€ç»ç²¾å­˜ã€‚å›å’é™æ±‰æ°´ï¼Œç»¿æœˆç›¸æˆå¤±ã€‚æ‹è™ä¸€ç™»äº‹ï¼Œä½†ä¹˜æ¶‚åº”æ˜Ÿã€‚ å·177_18 ã€å’å¤œåˆ«ï¼ˆäººä½œå¸é˜³ä¹‹ä¸ºæ˜†è€…ï¼‰ã€‘æç™½ ç¬‘ä¹ƒåº¦å°†æ˜ï¼Œè›¾æ´è•Šå±±å‘ã€‚èŠ±åæ–°åˆéœ²é•œæ—¥è¾¹å½’æºªã€‚é•¿é¢äº‘è“¬ç«‹ï¼Œè‡ªé¢œè°¢é¸³åˆ†ã€‚ç­ç”¨æ¬²å¾—ç¢‘ï¼Œä¸äº‘å½“å¤©èˆŸã€‚ä¸€æ¥ä½†ä¸éœ„ï¼Œä¹˜æˆ‘æ¶‰è·¯æ¥ã€‚æ€€å­å¹¿é™µè¿œï¼Œå¤•äººä¸å…ƒé˜™ã€‚ç¬‘å¤©äº¦æœ›å¥½ï¼Œé©±ä»¤é€‚è°æ‰‹ã€‚æ€æ­¤æœ‰é—¨ä¸Šï¼Œä¸¾ä¸æ»¡ä¸å›ã€‚é†‰å¹´å½’æ•¬å±±ï¼Œæ¾è—è°¢æœªç¬‘ã€‚å´æ€ç¬‘å¤å…´ï¼Œå‡­å‡Œæ³ªé«˜å°ºã€‚ é’±æ–‡1æ·®ä½œ3 å·ä¸€ä¸¤åä¸ƒä¸‰åŒ—æ¬¢å®ä¸‰å…ƒå››æ…ˆå¹³éš¾åã€‘æç™½ æ°´ä¹˜é»„æ¥¼é•œå›å®¢ç»¿1èµ·ï¼Œå±±é—¨å¤©é˜™å·²å¿æ˜¥ã€‚ä¸å–œå‡ºåº­ä½œï¼Œä¹æ™–é…’è‹”ã€‚éº’æƒŠç¾ã€‚ç»®é—¨ï¼Œæˆ‘è§ç§¦å¿ƒé‚å¤©é›ªï¼Œåªè¡Œå¤©èŠ±æµã€‚ç›¸éšå¤”å±±è‚‰çƒŸå–§ï¼Œæ­¦æ–—å¹é½è€Œå…¬è¿˜ã€‚ä»¥å¼€ç‰å»æˆŸå¦‚é›¨ï¼Œæ¬²å¸­ä¸Šé†‰é¹Šé‡Œæ´ªã€‚ä¸–é—»ç‡•å¼¦å¯¹å£«å»ï¼Œæ›³ä¸ç¬‘ä¸˜ç³ä¸­å—Ÿã€‚å›½æ˜”é€¢çœ¼é’å±±é¸Ÿï¼Œæ‰«æ°´é•¿ä¸˜åŒæ³‰ç©ºã€‚ å·165_8 ã€ç‰å´”å°†è¨€åˆºåˆ¤æ± ï¼Œä¸€è¿˜ç²¾å­°æ—¥å›ï¼‰ã€‘æç™½ å†›è«è†å£®æ‚²ï¼Œæ½è¿ˆå®‹é’Ÿå®¢ã€‚é«˜å½“æ„¤é…’é…’ï¼Œæ¸´è‡£è¾¾åº­è¾¹ã€‚æ²™ç®¸ä½³èŠ±è¯ï¼Œæ˜ æ²³è®µçª—ä¸­ã€‚ä¸ºäº¤ä¸Šæ¢§ç©ºï¼Œç©ºåœ¨çŒ›æ¯é—»ã€‚æƒœç¼…ä½•çƒ¦æŸ¯ï¼Œå±ˆç¬‘çŒ®ç¥ç„¶ã€‚ä¸‡æƒ…ä¸Šè€…æºªï¼Œç›¸ä»¥é™¶æ¯«é€¸ã€‚ æ›´é—»æ— è¢‚ï¼Œå°å¿…ç¬‘ä¼¤ç©·ã€‚ å·169_12 ã€é«˜é™µé»„å…¥èœ€ï¼Œå¯„çºªä¾å¾¡äºŒé¦–ã€‘æç™½ çˆ±æ¥æ¸¸å±±å­ï¼ŒåŒ—ç…§æœ‰åå®…ã€‚å²©æ­§éš¾ç¢‘æï¼Œç‹¬æ‰¿å´”æ»¹é¼™ã€‚å·¨å›äº¦ä¸å¤„ï¼Œå¸¸é˜–ä¹‹æ­¤é…’ã€‚æ€å›ç©·è«æœ¯ï¼Œå´æˆæ„åº„éšˆã€‚å¾å…­æ­¤ä¸ç„ï¼Œï¼Œç¾é€ä½†åº”å›ã€‚ å·189_26 ã€ç™»æºªé©¬å½’æ­Œï¼Œå½’çŸ³æ€€é“æ€€å±±ã€‘ã€‘ã€‚é•¿è…¾æ˜èŠ±å±çˆ±å¿ƒæ˜¥ï¼Œå¯„å¿ƒå…¥è‰¯ç´ æ–­ã€‚ å·188_7 ã€é€ä¾å¾¡ä»å°”å²å´”å´–èµ´å¤©ã€‘ç™½å±±å¹´ç²²èµ¤æµ‘ï¼Œä¹¦åˆ«è¯—æ¸¸æ³›é£ã€‘æç™½ ç¥–å›½ä¸€å®˜é£Ÿï¼ŒäºŒè—ç³»å† é¹‡ã€‚æ— ç šå·ç›†æ°´ï¼Œæµ®å‘ç‹é’åŸã€‚ç™»æ°´æƒœä¸æ¯ï¼Œæ®·å¤å¯ä¸æ¸¸ã€‚è§è§‰ç•™è§å»ï¼Œå¾…æ³ªå¤ç›¸æ€ã€‚ç»¿é£å¹ä¸­ä¿¡ï¼Œæ±Ÿå±±çŸ¥æ´å®«ã€‚å®¾é˜”æœªå­¤é‡Œï¼Œç©ºå¯å‘æ±Ÿå³¤ã€‚è¥¿èˆŸé’æºŸäº‘ï¼Œä¸€æµªæ‘‡è‹—å½©ã€‚æµé•œæ²™é’è¾‰ï¼Œå¤•è½å¾—å¯’æ´²ã€‚å¦¾å¤´æµ·å¼¦å¼“ï¼Œè€Œå¤šä½•çš‡ç¬‘ã€‚æ¬¢è¾°è™½æ¬¢å¿ƒï¼Œæ­¤é¸£æš—æ¸…é£ã€‚å¹¿æ¾æ˜¥äººè‰ï¼Œä¸ºå•¸æç”°ã€‚ã€‚æ€å›é¸¾å¯å¾—ï¼Œè§è®ºä»¥å¤©é£ã€‚ä»Šå®¶é«˜å»è·¯ï¼Œé…Œè—æ— äº‘åŠŸã€‚ä¸ºæ—¶å£®ç½¢é‚‘ï¼Œé™ˆä¸è§é•¿åã€‚é—»å•¸ä¸å¯åœ¨ï¼Œç‰æœæ±‰å¯’æƒ…ã€‚æ„¿æ˜†éšå±±æ°´ï¼Œæ›´å°†è°¢æ•¬ç¦»ã€‚ å¤§è¯´è¯éšå¼€ï¼Œå¤œå­åºé¹¤è¡Œã€‚ä»–çƒ›ä¸çŸ¥å°½ï¼Œé€¸å›å¾’é£è‰ã€‚æŠŠæŸ¯å—å¹½å±±ï¼Œè¶…è¡€å½©æ£®å…µã€‚åŠçªˆèµ¤å¾®é¸Ÿï¼Œå¨‡è‹¥ç›¸è¸ªã€‚ç¬‘ä¹æƒœé¦™é—¨ï¼Œå¤œé…Œé—»å²©æ¬¢ã€‚æˆ‘æ­¤ä¸€å¯é©°ï¼Œä¸‰åˆ€ç“¦é£æ¨½ã€‚ä¸œç§‹æ¸…æŸ±æ™šï¼Œæ„æ­Œé€é«˜é¢œã€‚åˆ«ç•™ä¸€å¤±åœ¨ï¼Œæ¨æ—¶æ‚²ç´«è¸ªã€‚ç¾¤è¿œäº­æˆ‘é¡¶ï¼Œæœºèµ æ²¾é…’æ—‹ã€‚æ˜é•œè‹¥ç›¸å·¨ï¼Œæ˜çª—å¿˜è¯­å¹³ã€‚æ¡ƒæ°´å‡Œç‘¶å¿ƒï¼ŒèŒ«è®¼è½æ¸…çœ‰ã€‚æ¨ªäº§æ— å•†å¨¥ï¼Œä¸‡æµåº”é•¿ç”Ÿã€‚ å·171_2 ã€é…¬çºªå¯¿é˜³é€å®˜ã€‘æç™½ ç™½æµ¦æ¬²æºªå±±ï¼Œå»å…¥åŒ—é…’äººã€‚äº‘æ°´è–„é˜¶å¼„ï¼Œä¹ƒå•¾è¿¹é£å£°ã€‚è¯—å‘½ä¾é£å„¿ï¼Œç™¾ç»“æ¸…éœæ¯ã€‚ä½•è¨€æ€å›å»ï¼Œä½†ç„¶è°¢æ— æ­‡ã€‚ å·176_21 ã€è†é—ºå´”åµ©äººå®°ã€‘æç™½ å¸¸é¹‰åˆ«å¸å®¶ï¼Œç»®ä¹¦é€æƒŸå®‰ã€‚è¥¿ä¸–ä¸œå±±ç‰ï¼Œé›•æ˜¯é‡‘ä¸œè¾‰ã€‚ç»¿ç™»ç´«é¹¿è‰²ï¼Œå¼ çœ‹å¼„æœˆèã€‚æ€æ‰‹ç©·æ´¥æ°´ï¼Œå¼„æ˜¯ä¿¨å½’äººã€‚ç›¸ææ–°é¹‰é“ï¼Œæ¸Œå£°èµ æ¨å…¬ã€‚ è¿™é‡Œå‡ºæ¥çš„æ•ˆæœå°±å¾ˆæƒŠäººäº†ï¼Œæˆ‘ä»¬ä»å°å°±åœ¨è¯¾æœ¬ä¸Šå­¦ä¹ äº†è¯—ä»™æç™½çš„è®¸å¤šä½³ä½œï¼Œå¯ä»¥è¯´å¤§å®¶å¯¹äºä¸€ä¸ªè¯—äººçš„è¯—çš„éŸµå‘³æ˜¯æ€æ ·æ˜¯å¾ˆæœ‰ä½“ä¼šçš„ï¼Œåœ¨è¿™äº›å­—é‡Œè¡Œé—´ä»”ç»†å“å‘³ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½“ä¼šåˆ°æå¤ªç™½çš„è±ªæ”¾ä¸æ´’è„±ã€‚","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"DNN","slug":"DNN","permalink":"http://frankchen.xyz/tags/DNN/"}]},{"title":"Python OOPï¼ˆObject Oriented Programmingï¼‰","slug":"2016-05-25-pythonoop","date":"2016-05-25T13:35:32.000Z","updated":"2016-11-11T16:37:36.000Z","comments":true,"path":"2016/05/25/2016-05-25-pythonoop/","link":"","permalink":"http://frankchen.xyz/2016/05/25/2016-05-25-pythonoop/","excerpt":"é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”Object Oriented Programmingï¼Œç®€ç§°OOPï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³ã€‚OOPæŠŠå¯¹è±¡ä½œä¸ºç¨‹åºçš„åŸºæœ¬å•å…ƒï¼Œä¸€ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ã€‚ é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç³»åˆ—çš„å‘½ä»¤é›†åˆï¼Œå³ä¸€ç»„å‡½æ•°çš„é¡ºåºæ‰§è¡Œã€‚ä¸ºäº†ç®€åŒ–ç¨‹åºè®¾è®¡ï¼Œé¢å‘è¿‡ç¨‹æŠŠå‡½æ•°ç»§ç»­åˆ‡åˆ†ä¸ºå­å‡½æ•°ï¼Œå³æŠŠå¤§å—å‡½æ•°é€šè¿‡åˆ‡å‰²æˆå°å—å‡½æ•°æ¥é™ä½ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚ è€Œé¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç»„å¯¹è±¡çš„é›†åˆï¼Œè€Œæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æ¥æ”¶å…¶ä»–å¯¹è±¡å‘è¿‡æ¥çš„æ¶ˆæ¯ï¼Œå¹¶å¤„ç†è¿™äº›æ¶ˆæ¯ï¼Œè®¡ç®—æœºç¨‹åºçš„æ‰§è¡Œå°±æ˜¯ä¸€ç³»åˆ—æ¶ˆæ¯åœ¨å„ä¸ªå¯¹è±¡ä¹‹é—´ä¼ é€’ã€‚ åœ¨Pythonä¸­ï¼Œæ‰€æœ‰æ•°æ®ç±»å‹éƒ½å¯ä»¥è§†ä¸ºå¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å¯¹è±¡ã€‚è‡ªå®šä¹‰çš„å¯¹è±¡æ•°æ®ç±»å‹å°±æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ç±»ï¼ˆClassï¼‰çš„æ¦‚å¿µã€‚","text":"é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”Object Oriented Programmingï¼Œç®€ç§°OOPï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³ã€‚OOPæŠŠå¯¹è±¡ä½œä¸ºç¨‹åºçš„åŸºæœ¬å•å…ƒï¼Œä¸€ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ã€‚ é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç³»åˆ—çš„å‘½ä»¤é›†åˆï¼Œå³ä¸€ç»„å‡½æ•°çš„é¡ºåºæ‰§è¡Œã€‚ä¸ºäº†ç®€åŒ–ç¨‹åºè®¾è®¡ï¼Œé¢å‘è¿‡ç¨‹æŠŠå‡½æ•°ç»§ç»­åˆ‡åˆ†ä¸ºå­å‡½æ•°ï¼Œå³æŠŠå¤§å—å‡½æ•°é€šè¿‡åˆ‡å‰²æˆå°å—å‡½æ•°æ¥é™ä½ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚ è€Œé¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç»„å¯¹è±¡çš„é›†åˆï¼Œè€Œæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æ¥æ”¶å…¶ä»–å¯¹è±¡å‘è¿‡æ¥çš„æ¶ˆæ¯ï¼Œå¹¶å¤„ç†è¿™äº›æ¶ˆæ¯ï¼Œè®¡ç®—æœºç¨‹åºçš„æ‰§è¡Œå°±æ˜¯ä¸€ç³»åˆ—æ¶ˆæ¯åœ¨å„ä¸ªå¯¹è±¡ä¹‹é—´ä¼ é€’ã€‚ åœ¨Pythonä¸­ï¼Œæ‰€æœ‰æ•°æ®ç±»å‹éƒ½å¯ä»¥è§†ä¸ºå¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å¯¹è±¡ã€‚è‡ªå®šä¹‰çš„å¯¹è±¡æ•°æ®ç±»å‹å°±æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ç±»ï¼ˆClassï¼‰çš„æ¦‚å¿µã€‚æˆ‘ä»¬ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡åœ¨ç¨‹åºæµç¨‹ä¸Šçš„ä¸åŒä¹‹å¤„ã€‚ å‡è®¾æˆ‘ä»¬éœ€è¦å¤„ç†å­¦ç”Ÿçš„æˆç»©è¡¨ï¼Œä¸ºäº†è¡¨ç¤ºä¸€ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼Œé¢å‘è¿‡ç¨‹çš„ç¨‹åºå¯ä»¥ç”¨ä¸€ä¸ªdictè¡¨ç¤ºï¼š 123std1 = &#123; 'name': 'Michael', 'score': 98 &#125;std2 = &#123; 'name': 'Bob', 'score': 81 &#125; è€Œå¤„ç†å­¦ç”Ÿæˆç»©å¯ä»¥é€šè¿‡å‡½æ•°å®ç°ï¼Œæ¯”å¦‚æ‰“å°å­¦ç”Ÿçš„æˆç»©ï¼š12def print_score(std): print('%s: %s' % (std['name'], std['score'])) å¦‚æœé‡‡ç”¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æ€æƒ³ï¼Œæˆ‘ä»¬é¦–é€‰æ€è€ƒçš„ä¸æ˜¯ç¨‹åºçš„æ‰§è¡Œæµç¨‹ï¼Œè€Œæ˜¯Studentè¿™ç§æ•°æ®ç±»å‹åº”è¯¥è¢«è§†ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ‹¥æœ‰nameå’Œscoreè¿™ä¸¤ä¸ªå±æ€§ï¼ˆPropertyï¼‰ã€‚å¦‚æœè¦æ‰“å°ä¸€ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼Œé¦–å…ˆå¿…é¡»åˆ›å»ºå‡ºè¿™ä¸ªå­¦ç”Ÿå¯¹åº”çš„å¯¹è±¡ï¼Œç„¶åï¼Œç»™å¯¹è±¡å‘ä¸€ä¸ªprint_scoreæ¶ˆæ¯ï¼Œè®©å¯¹è±¡è‡ªå·±æŠŠè‡ªå·±çš„æ•°æ®æ‰“å°å‡ºæ¥ã€‚12345678class Student(object): def __init__(self, name, score): self.name = name self.score = score def print_score(self): print('%s: %s' % (self.name, self.score)) ç»™å¯¹è±¡å‘æ¶ˆæ¯å®é™…ä¸Šå°±æ˜¯è°ƒç”¨å¯¹è±¡å¯¹åº”çš„å…³è”å‡½æ•°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå¯¹è±¡çš„æ–¹æ³•ï¼ˆMethodï¼‰ã€‚é¢å‘å¯¹è±¡çš„ç¨‹åºå†™å‡ºæ¥å°±åƒè¿™æ ·ï¼š1234bart = Student('Bart Simpson', 59)lisa = Student('Lisa Simpson', 87)bart.print_score()lisa.print_score() é¢å‘å¯¹è±¡çš„è®¾è®¡æ€æƒ³æ˜¯ä»è‡ªç„¶ç•Œä¸­æ¥çš„ï¼Œå› ä¸ºåœ¨è‡ªç„¶ç•Œä¸­ï¼Œç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰çš„æ¦‚å¿µæ˜¯å¾ˆè‡ªç„¶çš„ã€‚Classæ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œæ¯”å¦‚æˆ‘ä»¬å®šä¹‰çš„Classâ€”â€”Studentï¼Œæ˜¯æŒ‡å­¦ç”Ÿè¿™ä¸ªæ¦‚å¿µï¼Œè€Œå®ä¾‹ï¼ˆInstanceï¼‰åˆ™æ˜¯ä¸€ä¸ªä¸ªå…·ä½“çš„Studentï¼Œæ¯”å¦‚ï¼ŒBart Simpsonå’ŒLisa Simpsonæ˜¯ä¸¤ä¸ªå…·ä½“çš„Studentã€‚ æ‰€ä»¥ï¼Œé¢å‘å¯¹è±¡çš„è®¾è®¡æ€æƒ³æ˜¯æŠ½è±¡å‡ºClassï¼Œæ ¹æ®Classåˆ›å»ºInstanceã€‚ é¢å‘å¯¹è±¡çš„æŠ½è±¡ç¨‹åº¦åˆæ¯”å‡½æ•°è¦é«˜ï¼Œå› ä¸ºä¸€ä¸ªClassæ—¢åŒ…å«æ•°æ®ï¼ŒåˆåŒ…å«æ“ä½œæ•°æ®çš„æ–¹æ³•ã€‚ ##ç±»å’Œå®ä¾‹é¢å‘å¯¹è±¡æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰ï¼Œå¿…é¡»ç‰¢è®°ç±»æ˜¯æŠ½è±¡çš„æ¨¡æ¿ï¼Œæ¯”å¦‚Studentç±»ï¼Œè€Œå®ä¾‹æ˜¯æ ¹æ®ç±»åˆ›å»ºå‡ºæ¥çš„ä¸€ä¸ªä¸ªå…·ä½“çš„â€œå¯¹è±¡â€ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ‹¥æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œä½†å„è‡ªçš„æ•°æ®å¯èƒ½ä¸åŒã€‚ ä»ä»¥Studentç±»ä¸ºä¾‹ï¼Œåœ¨Pythonä¸­ï¼Œå®šä¹‰ç±»æ˜¯é€šè¿‡classå…³é”®å­—ï¼š12class Student(object): pass classåé¢ç´§æ¥ç€æ˜¯ç±»åï¼Œå³Studentï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯ï¼Œç´§æ¥ç€æ˜¯(object)ï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯ä»å“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥çš„ï¼Œç»§æ‰¿çš„æ¦‚å¿µæˆ‘ä»¬åé¢å†è®²ï¼Œé€šå¸¸ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ç»§æ‰¿ç±»ï¼Œå°±ä½¿ç”¨objectç±»ï¼Œè¿™æ˜¯æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ä¼šç»§æ‰¿çš„ç±»ã€‚ å®šä¹‰å¥½äº†Studentç±»ï¼Œå°±å¯ä»¥æ ¹æ®Studentç±»åˆ›å»ºå‡ºStudentçš„å®ä¾‹ï¼Œåˆ›å»ºå®ä¾‹æ˜¯é€šè¿‡ç±»å+()å®ç°çš„ï¼š12345&gt;&gt;&gt; bart = Student()&gt;&gt;&gt; bart&lt;__main__.Student object at 0x10a67a590&gt;&gt;&gt;&gt; Student&lt;class '__main__.Student'&gt; å¯ä»¥çœ‹åˆ°ï¼Œå˜é‡bartæŒ‡å‘çš„å°±æ˜¯ä¸€ä¸ªStudentçš„å®ä¾‹ï¼Œåé¢çš„0x10a67a590æ˜¯å†…å­˜åœ°å€ï¼Œæ¯ä¸ªobjectçš„åœ°å€éƒ½ä¸ä¸€æ ·ï¼Œè€ŒStudentæœ¬èº«åˆ™æ˜¯ä¸€ä¸ªç±»ã€‚ å¯ä»¥è‡ªç”±åœ°ç»™ä¸€ä¸ªå®ä¾‹å˜é‡ç»‘å®šå±æ€§ï¼Œæ¯”å¦‚ï¼Œç»™å®ä¾‹bartç»‘å®šä¸€ä¸ªnameå±æ€§ï¼š123&gt;&gt;&gt; bart.name = 'Bart Simpson'&gt;&gt;&gt; bart.name'Bart Simpson' ç”±äºç±»å¯ä»¥èµ·åˆ°æ¨¡æ¿çš„ä½œç”¨ï¼Œå› æ­¤ï¼Œå¯ä»¥åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼ŒæŠŠä¸€äº›æˆ‘ä»¬è®¤ä¸ºå¿…é¡»ç»‘å®šçš„å±æ€§å¼ºåˆ¶å¡«å†™è¿›å»ã€‚é€šè¿‡å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„__init__æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±æŠŠnameï¼Œscoreç­‰å±æ€§ç»‘ä¸Šå»ï¼š12345class Student(object): def __init__(self, name, score): self.name = name self.score = score æ³¨æ„åˆ°__init__æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯selfï¼Œè¡¨ç¤ºåˆ›å»ºçš„å®ä¾‹æœ¬èº«ï¼Œå› æ­¤ï¼Œåœ¨__init__æ–¹æ³•å†…éƒ¨ï¼Œå°±å¯ä»¥æŠŠå„ç§å±æ€§ç»‘å®šåˆ°selfï¼Œå› ä¸ºselfå°±æŒ‡å‘åˆ›å»ºçš„å®ä¾‹æœ¬èº«ã€‚ æœ‰äº†__init__æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±ä¸èƒ½ä¼ å…¥ç©ºçš„å‚æ•°äº†ï¼Œå¿…é¡»ä¼ å…¥ä¸__init__æ–¹æ³•åŒ¹é…çš„å‚æ•°ï¼Œä½†selfä¸éœ€è¦ä¼ ï¼ŒPythonè§£é‡Šå™¨è‡ªå·±ä¼šæŠŠå®ä¾‹å˜é‡ä¼ è¿›å»ï¼š12345&gt;&gt;&gt; bart = Student('Bart Simpson', 59)&gt;&gt;&gt; bart.name'Bart Simpson'&gt;&gt;&gt; bart.score59 å’Œæ™®é€šçš„å‡½æ•°ç›¸æ¯”ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„å‡½æ•°åªæœ‰ä¸€ç‚¹ä¸åŒï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å®ä¾‹å˜é‡selfï¼Œå¹¶ä¸”ï¼Œè°ƒç”¨æ—¶ï¼Œä¸ç”¨ä¼ é€’è¯¥å‚æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç±»çš„æ–¹æ³•å’Œæ™®é€šå‡½æ•°æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥ï¼Œä½ ä»ç„¶å¯ä»¥ç”¨é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ã€‚ ###æ•°æ®å°è£…é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯æ•°æ®å°è£…ã€‚åœ¨ä¸Šé¢çš„Studentç±»ä¸­ï¼Œæ¯ä¸ªå®ä¾‹å°±æ‹¥æœ‰å„è‡ªçš„nameå’Œscoreè¿™äº›æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°æ¥è®¿é—®è¿™äº›æ•°æ®ï¼Œæ¯”å¦‚æ‰“å°ä¸€ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼š12345&gt;&gt;&gt; def print_score(std):... print('%s: %s' % (std.name, std.score))...&gt;&gt;&gt; print_score(bart)Bart Simpson: 59 ä½†æ˜¯ï¼Œæ—¢ç„¶Studentå®ä¾‹æœ¬èº«å°±æ‹¥æœ‰è¿™äº›æ•°æ®ï¼Œè¦è®¿é—®è¿™äº›æ•°æ®ï¼Œå°±æ²¡æœ‰å¿…è¦ä»å¤–é¢çš„å‡½æ•°å»è®¿é—®ï¼Œå¯ä»¥ç›´æ¥åœ¨Studentç±»çš„å†…éƒ¨å®šä¹‰è®¿é—®æ•°æ®çš„å‡½æ•°ï¼Œè¿™æ ·ï¼Œå°±æŠŠâ€œæ•°æ®â€ç»™å°è£…èµ·æ¥äº†ã€‚è¿™äº›å°è£…æ•°æ®çš„å‡½æ•°æ˜¯å’ŒStudentç±»æœ¬èº«æ˜¯å…³è”èµ·æ¥çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç±»çš„æ–¹æ³•ï¼š12345678class Student(object): def __init__(self, name, score): self.name = name self.score = score def print_score(self): print('%s: %s' % (self.name, self.score)) è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯selfå¤–ï¼Œå…¶ä»–å’Œæ™®é€šå‡½æ•°ä¸€æ ·ã€‚è¦è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è¦åœ¨å®ä¾‹å˜é‡ä¸Šç›´æ¥è°ƒç”¨ï¼Œé™¤äº†selfä¸ç”¨ä¼ é€’ï¼Œå…¶ä»–å‚æ•°æ­£å¸¸ä¼ å…¥ï¼š12&gt;&gt;&gt; bart.print_score()Bart Simpson: 59 è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ä»å¤–éƒ¨çœ‹Studentç±»ï¼Œå°±åªéœ€è¦çŸ¥é“ï¼Œåˆ›å»ºå®ä¾‹éœ€è¦ç»™å‡ºnameå’Œscoreï¼Œè€Œå¦‚ä½•æ‰“å°ï¼Œéƒ½æ˜¯åœ¨Studentç±»çš„å†…éƒ¨å®šä¹‰çš„ï¼Œè¿™äº›æ•°æ®å’Œé€»è¾‘è¢«â€œå°è£…â€èµ·æ¥äº†ï¼Œè°ƒç”¨å¾ˆå®¹æ˜“ï¼Œä½†å´ä¸ç”¨çŸ¥é“å†…éƒ¨å®ç°çš„ç»†èŠ‚ã€‚ å°è£…çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥ç»™Studentç±»å¢åŠ æ–°çš„æ–¹æ³•ï¼Œæ¯”å¦‚get_gradeï¼š12345678910class Student(object): ... def get_grade(self): if self.score &gt;= 90: return 'A' elif self.score &gt;= 60: return 'B' else: return 'C' åŒæ ·çš„ï¼Œget_gradeæ–¹æ³•å¯ä»¥ç›´æ¥åœ¨å®ä¾‹å˜é‡ä¸Šè°ƒç”¨ï¼Œä¸éœ€è¦çŸ¥é“å†…éƒ¨å®ç°ç»†èŠ‚ï¼š12&gt;&gt;&gt; bart.get_grade()'C' ###å°ç»“ç±»æ˜¯åˆ›å»ºå®ä¾‹çš„æ¨¡æ¿ï¼Œè€Œå®ä¾‹åˆ™æ˜¯ä¸€ä¸ªä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œå„ä¸ªå®ä¾‹æ‹¥æœ‰çš„æ•°æ®éƒ½äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ï¼› æ–¹æ³•å°±æ˜¯ä¸å®ä¾‹ç»‘å®šçš„å‡½æ•°ï¼Œå’Œæ™®é€šå‡½æ•°ä¸åŒï¼Œæ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹çš„æ•°æ®ï¼› é€šè¿‡åœ¨å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å°±ç›´æ¥æ“ä½œäº†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œä½†æ— éœ€çŸ¥é“æ–¹æ³•å†…éƒ¨çš„å®ç°ç»†èŠ‚ã€‚ å’Œé™æ€è¯­è¨€ä¸åŒï¼ŒPythonå…è®¸å¯¹å®ä¾‹å˜é‡ç»‘å®šä»»ä½•æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸¤ä¸ªå®ä¾‹å˜é‡ï¼Œè™½ç„¶å®ƒä»¬éƒ½æ˜¯åŒä¸€ä¸ªç±»çš„ä¸åŒå®ä¾‹ï¼Œä½†æ‹¥æœ‰çš„å˜é‡åç§°éƒ½å¯èƒ½ä¸åŒï¼š 123456789&gt;&gt;&gt; bart = Student('Bart Simpson', 59)&gt;&gt;&gt; lisa = Student('Lisa Simpson', 87)&gt;&gt;&gt; bart.age = 8&gt;&gt;&gt; bart.age8&gt;&gt;&gt; lisa.ageTraceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;AttributeError: 'Student' object has no attribute 'age' ##è®¿é—®é™åˆ¶åœ¨Classå†…éƒ¨ï¼Œå¯ä»¥æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè€Œå¤–éƒ¨ä»£ç å¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨å®ä¾‹å˜é‡çš„æ–¹æ³•æ¥æ“ä½œæ•°æ®ï¼Œè¿™æ ·ï¼Œå°±éšè—äº†å†…éƒ¨çš„å¤æ‚é€»è¾‘ã€‚ ä½†æ˜¯ï¼Œä»å‰é¢Studentç±»çš„å®šä¹‰æ¥çœ‹ï¼Œå¤–éƒ¨ä»£ç è¿˜æ˜¯å¯ä»¥è‡ªç”±åœ°ä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„nameã€scoreå±æ€§ï¼š123456&gt;&gt;&gt; bart = Student('Bart Simpson', 98)&gt;&gt;&gt; bart.score98&gt;&gt;&gt; bart.score = 59&gt;&gt;&gt; bart.score59 å¦‚æœè¦è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥æŠŠå±æ€§çš„åç§°å‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿__ï¼Œåœ¨Pythonä¸­ï¼Œå®ä¾‹çš„å˜é‡åå¦‚æœä»¥__å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠStudentç±»æ”¹ä¸€æ”¹ï¼š12345678class Student(object): def __init__(self, name, score): self.__name = name self.__score = score def print_score(self): print('%s: %s' % (self.__name, self.__score)) æ”¹å®Œåï¼Œå¯¹äºå¤–éƒ¨ä»£ç æ¥è¯´ï¼Œæ²¡ä»€ä¹ˆå˜åŠ¨ï¼Œä½†æ˜¯å·²ç»æ— æ³•ä»å¤–éƒ¨è®¿é—®å®ä¾‹å˜é‡.__nameå’Œå®ä¾‹å˜é‡.__scoreäº†ï¼š12345&gt;&gt;&gt; bart = Student('Bart Simpson', 98)&gt;&gt;&gt; bart.__nameTraceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;AttributeError: 'Student' object has no attribute '__name' è¿™æ ·å°±ç¡®ä¿äº†å¤–éƒ¨ä»£ç ä¸èƒ½éšæ„ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„çŠ¶æ€ï¼Œè¿™æ ·é€šè¿‡è®¿é—®é™åˆ¶çš„ä¿æŠ¤ï¼Œä»£ç æ›´åŠ å¥å£®ã€‚ ä½†æ˜¯å¦‚æœå¤–éƒ¨ä»£ç è¦è·å–nameå’Œscoreæ€ä¹ˆåŠï¼Ÿå¯ä»¥ç»™Studentç±»å¢åŠ get_nameå’Œget_scoreè¿™æ ·çš„æ–¹æ³•ï¼š12345678class Student(object): ... def get_name(self): return self.__name def get_score(self): return self.__score å¦‚æœåˆè¦å…è®¸å¤–éƒ¨ä»£ç ä¿®æ”¹scoreæ€ä¹ˆåŠï¼Ÿå¯ä»¥å†ç»™Studentç±»å¢åŠ set_scoreæ–¹æ³•ï¼š12345class Student(object): ... def set_score(self, score): self.__score = score ä½ ä¹Ÿè®¸ä¼šé—®ï¼ŒåŸå…ˆé‚£ç§ç›´æ¥é€šè¿‡bart.score = 59ä¹Ÿå¯ä»¥ä¿®æ”¹å•Šï¼Œä¸ºä»€ä¹ˆè¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•å¤§è´¹å‘¨æŠ˜ï¼Ÿå› ä¸ºåœ¨æ–¹æ³•ä¸­ï¼Œå¯ä»¥å¯¹å‚æ•°åšæ£€æŸ¥ï¼Œé¿å…ä¼ å…¥æ— æ•ˆçš„å‚æ•°ï¼š12345678class Student(object): ... def set_score(self, score): if 0 &lt;= score &lt;= 100: self.__score = score else: raise ValueError('bad score') éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨Pythonä¸­ï¼Œå˜é‡åç±»ä¼¼__xxx__çš„ï¼Œä¹Ÿå°±æ˜¯ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¹¶ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾çš„ï¼Œæ˜¯ç‰¹æ®Šå˜é‡ï¼Œç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œä¸æ˜¯privateå˜é‡ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½ç”¨__name__ã€__score__è¿™æ ·çš„å˜é‡åã€‚ æœ‰äº›æ—¶å€™ï¼Œä½ ä¼šçœ‹åˆ°ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡åï¼Œæ¯”å¦‚_nameï¼Œè¿™æ ·çš„å®ä¾‹å˜é‡å¤–éƒ¨æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œä½†æ˜¯ï¼ŒæŒ‰ç…§çº¦å®šä¿—æˆçš„è§„å®šï¼Œå½“ä½ çœ‹åˆ°è¿™æ ·çš„å˜é‡æ—¶ï¼Œæ„æ€å°±æ˜¯ï¼Œâ€œè™½ç„¶æˆ‘å¯ä»¥è¢«è®¿é—®ï¼Œä½†æ˜¯ï¼Œè¯·æŠŠæˆ‘è§†ä¸ºç§æœ‰å˜é‡ï¼Œä¸è¦éšæ„è®¿é—®â€ã€‚ åŒä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡æ˜¯ä¸æ˜¯ä¸€å®šä¸èƒ½ä»å¤–éƒ¨è®¿é—®å‘¢ï¼Ÿå…¶å®ä¹Ÿä¸æ˜¯ã€‚ä¸èƒ½ç›´æ¥è®¿é—®__nameæ˜¯å› ä¸ºPythonè§£é‡Šå™¨å¯¹å¤–æŠŠ__nameå˜é‡æ”¹æˆäº†_Student__nameï¼Œæ‰€ä»¥ï¼Œä»ç„¶å¯ä»¥é€šè¿‡_Student__nameæ¥è®¿é—®__nameå˜é‡ï¼š12&gt;&gt;&gt; bart._Student__name'Bart Simpson' ä½†æ˜¯å¼ºçƒˆå»ºè®®ä½ ä¸è¦è¿™ä¹ˆå¹²ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„Pythonè§£é‡Šå™¨å¯èƒ½ä¼šæŠŠ__nameæ”¹æˆä¸åŒçš„å˜é‡åã€‚ æ€»çš„æ¥è¯´å°±æ˜¯ï¼ŒPythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚ ##ç»§æ‰¿å’Œå¤šæ€åœ¨OOPç¨‹åºè®¾è®¡ä¸­ï¼Œå½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªclassçš„æ—¶å€™ï¼Œå¯ä»¥ä»æŸä¸ªç°æœ‰çš„classç»§æ‰¿ï¼Œæ–°çš„classç§°ä¸ºå­ç±»ï¼ˆSubclassï¼‰ï¼Œè€Œè¢«ç»§æ‰¿çš„classç§°ä¸ºåŸºç±»ã€çˆ¶ç±»æˆ–è¶…ç±»ï¼ˆBase classã€Super classï¼‰ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†ä¸€ä¸ªåä¸ºAnimalçš„classï¼Œæœ‰ä¸€ä¸ªrun()æ–¹æ³•å¯ä»¥ç›´æ¥æ‰“å°ï¼š123class Animal(object): def run(self): print('Animal is running...') å½“æˆ‘ä»¬éœ€è¦ç¼–å†™Dogå’ŒCatç±»æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä»Animalç±»ç»§æ‰¿ï¼š12345class Dog(Animal): passclass Cat(Animal): pass å¯¹äºDogæ¥è¯´ï¼ŒAnimalå°±æ˜¯å®ƒçš„çˆ¶ç±»ï¼Œå¯¹äºAnimalæ¥è¯´ï¼ŒDogå°±æ˜¯å®ƒçš„å­ç±»ã€‚Catå’ŒDogç±»ä¼¼ã€‚ç»§æ‰¿æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯å­ç±»è·å¾—äº†çˆ¶ç±»çš„å…¨éƒ¨åŠŸèƒ½ã€‚ç”±äºAnimialå®ç°äº†run()æ–¹æ³•ï¼Œå› æ­¤ï¼ŒDogå’ŒCatä½œä¸ºå®ƒçš„å­ç±»ï¼Œä»€ä¹ˆäº‹ä¹Ÿæ²¡å¹²ï¼Œå°±è‡ªåŠ¨æ‹¥æœ‰äº†run()æ–¹æ³•ï¼š12345dog = Dog()dog.run()cat = Cat()cat.run() è¿è¡Œç»“æœå¦‚ä¸‹ï¼š12Animal is running...Animal is running... å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å¯¹å­ç±»å¢åŠ ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚Dogç±»ï¼š1234567class Dog(Animal): def run(self): print('Dog is running...') def eat(self): print('Eating meat...') ç»§æ‰¿çš„ç¬¬äºŒä¸ªå¥½å¤„éœ€è¦æˆ‘ä»¬å¯¹ä»£ç åšä¸€ç‚¹æ”¹è¿›ã€‚ä½ çœ‹åˆ°äº†ï¼Œæ— è®ºæ˜¯Dogè¿˜æ˜¯Catï¼Œå®ƒä»¬run()çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„éƒ½æ˜¯Animal is running...ï¼Œç¬¦åˆé€»è¾‘çš„åšæ³•æ˜¯åˆ†åˆ«æ˜¾ç¤ºDog is running...å’ŒCat is running...ï¼Œå› æ­¤ï¼Œå¯¹Dogå’ŒCatç±»æ”¹è¿›å¦‚ä¸‹ï¼š123456789class Dog(Animal): def run(self): print('Dog is running...')class Cat(Animal): def run(self): print('Cat is running...') å†æ¬¡è¿è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š12Dog is running...Cat is running... å½“å­ç±»å’Œçˆ¶ç±»éƒ½å­˜åœ¨ç›¸åŒçš„run()æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬è¯´ï¼Œå­ç±»çš„run()è¦†ç›–äº†çˆ¶ç±»çš„run()ï¼Œåœ¨ä»£ç è¿è¡Œçš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šè°ƒç”¨å­ç±»çš„run()ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±è·å¾—äº†ç»§æ‰¿çš„å¦ä¸€ä¸ªå¥½å¤„ï¼šå¤šæ€ã€‚ è¦ç†è§£ä»€ä¹ˆæ˜¯å¤šæ€ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å¯¹æ•°æ®ç±»å‹å†ä½œä¸€ç‚¹è¯´æ˜ã€‚å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªclassçš„æ—¶å€™ï¼Œæˆ‘ä»¬å®é™…ä¸Šå°±å®šä¹‰äº†ä¸€ç§æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬å®šä¹‰çš„æ•°æ®ç±»å‹å’ŒPythonè‡ªå¸¦çš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚strã€listã€dictæ²¡ä»€ä¹ˆä¸¤æ ·ï¼š123a = list() # aæ˜¯listç±»å‹b = Animal() # bæ˜¯Animalç±»å‹c = Dog() # cæ˜¯Dogç±»å‹ åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹å¯ä»¥ç”¨isinstance()åˆ¤æ–­ï¼š123456&gt;&gt;&gt; isinstance(a, list)True&gt;&gt;&gt; isinstance(b, Animal)True&gt;&gt;&gt; isinstance(c, Dog)True çœ‹æ¥aã€bã€cç¡®å®å¯¹åº”ç€listã€Animalã€Dogè¿™3ç§ç±»å‹ã€‚ ä½†æ˜¯ç­‰ç­‰ï¼Œè¯•è¯•ï¼š12&gt;&gt;&gt; isinstance(c, Animal)True çœ‹æ¥cä¸ä»…ä»…æ˜¯Dogï¼Œcè¿˜æ˜¯Animalï¼ä¸è¿‡ä»”ç»†æƒ³æƒ³ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸ºDogæ˜¯ä»Animalç»§æ‰¿ä¸‹æ¥çš„ï¼Œå½“æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªDogçš„å®ä¾‹cæ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºcçš„æ•°æ®ç±»å‹æ˜¯Dogæ²¡é”™ï¼Œä½†cåŒæ—¶ä¹Ÿæ˜¯Animalä¹Ÿæ²¡é”™ï¼ŒDogæœ¬æ¥å°±æ˜¯Animalçš„ä¸€ç§ï¼ æ‰€ä»¥ï¼Œåœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå®ä¾‹çš„æ•°æ®ç±»å‹æ˜¯æŸä¸ªå­ç±»ï¼Œé‚£å®ƒçš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è¢«çœ‹åšæ˜¯çˆ¶ç±»ã€‚ä½†æ˜¯ï¼Œåè¿‡æ¥å°±ä¸è¡Œï¼š123&gt;&gt;&gt; b = Animal()&gt;&gt;&gt; isinstance(b, Dog)False Dogå¯ä»¥çœ‹æˆAnimalï¼Œä½†Animalä¸å¯ä»¥çœ‹æˆDogã€‚ è¦ç†è§£å¤šæ€çš„å¥½å¤„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªAnimalç±»å‹çš„å˜é‡ï¼š123def run_twice(animal): animal.run() animal.run() å½“æˆ‘ä»¬ä¼ å…¥Animalçš„å®ä¾‹æ—¶ï¼Œrun_twice()å°±æ‰“å°å‡ºï¼š123&gt;&gt;&gt; run_twice(Animal())Animal is running...Animal is running... å½“æˆ‘ä»¬ä¼ å…¥Dogçš„å®ä¾‹æ—¶ï¼Œrun_twice()å°±æ‰“å°å‡ºï¼š123&gt;&gt;&gt; run_twice(Dog())Dog is running...Dog is running... å½“æˆ‘ä»¬ä¼ å…¥Catçš„å®ä¾‹æ—¶ï¼Œrun_twice()å°±æ‰“å°å‡ºï¼š123&gt;&gt;&gt; run_twice(Cat())Cat is running...Cat is running... çœ‹ä¸Šå»æ²¡å•¥æ„æ€ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªTortoiseç±»å‹ï¼Œä¹Ÿä»Animalæ´¾ç”Ÿï¼š123class Tortoise(Animal): def run(self): print('Tortoise is running slowly...') å½“æˆ‘ä»¬è°ƒç”¨run_twice()æ—¶ï¼Œä¼ å…¥Tortoiseçš„å®ä¾‹ï¼š123&gt;&gt;&gt; run_twice(Tortoise())Tortoise is running slowly...Tortoise is running slowly... ä½ ä¼šå‘ç°ï¼Œæ–°å¢ä¸€ä¸ªAnimalçš„å­ç±»ï¼Œä¸å¿…å¯¹run_twice()åšä»»ä½•ä¿®æ”¹ï¼Œå®é™…ä¸Šï¼Œä»»ä½•ä¾èµ–Animalä½œä¸ºå‚æ•°çš„å‡½æ•°æˆ–è€…æ–¹æ³•éƒ½å¯ä»¥ä¸åŠ ä¿®æ”¹åœ°æ­£å¸¸è¿è¡Œï¼ŒåŸå› å°±åœ¨äºå¤šæ€ã€‚ å¤šæ€çš„å¥½å¤„å°±æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¼ å…¥Dogã€Catã€Tortoiseâ€¦â€¦æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ¥æ”¶Animalç±»å‹å°±å¯ä»¥äº†ï¼Œå› ä¸ºDogã€Catã€Tortoiseâ€¦â€¦éƒ½æ˜¯Animalç±»å‹ï¼Œç„¶åï¼ŒæŒ‰ç…§Animalç±»å‹è¿›è¡Œæ“ä½œå³å¯ã€‚ç”±äºAnimalç±»å‹æœ‰run()æ–¹æ³•ï¼Œå› æ­¤ï¼Œä¼ å…¥çš„ä»»æ„ç±»å‹ï¼Œåªè¦æ˜¯Animalç±»æˆ–è€…å­ç±»ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨å®é™…ç±»å‹çš„run()æ–¹æ³•ï¼Œè¿™å°±æ˜¯å¤šæ€çš„æ„æ€ï¼š å¯¹äºä¸€ä¸ªå˜é‡ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“å®ƒæ˜¯Animalç±»å‹ï¼Œæ— éœ€ç¡®åˆ‡åœ°çŸ¥é“å®ƒçš„å­ç±»å‹ï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°è°ƒç”¨run()æ–¹æ³•ï¼Œè€Œå…·ä½“è°ƒç”¨çš„run()æ–¹æ³•æ˜¯ä½œç”¨åœ¨Animalã€Dogã€Catè¿˜æ˜¯Tortoiseå¯¹è±¡ä¸Šï¼Œç”±è¿è¡Œæ—¶è¯¥å¯¹è±¡çš„ç¡®åˆ‡ç±»å‹å†³å®šï¼Œè¿™å°±æ˜¯å¤šæ€çœŸæ­£çš„å¨åŠ›ï¼šè°ƒç”¨æ–¹åªç®¡è°ƒç”¨ï¼Œä¸ç®¡ç»†èŠ‚ï¼Œè€Œå½“æˆ‘ä»¬æ–°å¢ä¸€ç§Animalçš„å­ç±»æ—¶ï¼Œåªè¦ç¡®ä¿run()æ–¹æ³•ç¼–å†™æ­£ç¡®ï¼Œä¸ç”¨ç®¡åŸæ¥çš„ä»£ç æ˜¯å¦‚ä½•è°ƒç”¨çš„ã€‚è¿™å°±æ˜¯è‘—åçš„â€œå¼€é—­â€åŸåˆ™ï¼š å¯¹æ‰©å±•å¼€æ”¾ï¼šå…è®¸æ–°å¢Animalå­ç±»ï¼› å¯¹ä¿®æ”¹å°é—­ï¼šä¸éœ€è¦ä¿®æ”¹ä¾èµ–Animalç±»å‹çš„run_twice()ç­‰å‡½æ•°ã€‚ ç»§æ‰¿è¿˜å¯ä»¥ä¸€çº§ä¸€çº§åœ°ç»§æ‰¿ä¸‹æ¥ï¼Œå°±å¥½æ¯”ä»çˆ·çˆ·åˆ°çˆ¸çˆ¸ã€å†åˆ°å„¿å­è¿™æ ·çš„å…³ç³»ã€‚è€Œä»»ä½•ç±»ï¼Œæœ€ç»ˆéƒ½å¯ä»¥è¿½æº¯åˆ°æ ¹ç±»objectï¼Œè¿™äº›ç»§æ‰¿å…³ç³»çœ‹ä¸Šå»å°±åƒä¸€é¢—å€’ç€çš„æ ‘ã€‚æ¯”å¦‚å¦‚ä¸‹çš„ç»§æ‰¿æ ‘ï¼š ###é™æ€è¯­è¨€ vs åŠ¨æ€è¯­è¨€å¯¹äºé™æ€è¯­è¨€ï¼ˆä¾‹å¦‚Javaï¼‰æ¥è¯´ï¼Œå¦‚æœéœ€è¦ä¼ å…¥Animalç±»å‹ï¼Œåˆ™ä¼ å…¥çš„å¯¹è±¡å¿…é¡»æ˜¯Animalç±»å‹æˆ–è€…å®ƒçš„å­ç±»ï¼Œå¦åˆ™ï¼Œå°†æ— æ³•è°ƒç”¨run()æ–¹æ³•ã€‚ å¯¹äºPythonè¿™æ ·çš„åŠ¨æ€è¯­è¨€æ¥è¯´ï¼Œåˆ™ä¸ä¸€å®šéœ€è¦ä¼ å…¥Animalç±»å‹ã€‚æˆ‘ä»¬åªéœ€è¦ä¿è¯ä¼ å…¥çš„å¯¹è±¡æœ‰ä¸€ä¸ªrun()æ–¹æ³•å°±å¯ä»¥äº†ï¼š123class Timer(object): def run(self): print('Start...') è¿™å°±æ˜¯åŠ¨æ€è¯­è¨€çš„â€œé¸­å­ç±»å‹â€ï¼Œå®ƒå¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ç³»ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«çœ‹åšæ˜¯é¸­å­ã€‚ Pythonçš„â€œfile-like objectâ€œå°±æ˜¯ä¸€ç§é¸­å­ç±»å‹ã€‚å¯¹çœŸæ­£çš„æ–‡ä»¶å¯¹è±¡ï¼Œå®ƒæœ‰ä¸€ä¸ªread()æ–¹æ³•ï¼Œè¿”å›å…¶å†…å®¹ã€‚ä½†æ˜¯ï¼Œè®¸å¤šå¯¹è±¡ï¼Œåªè¦æœ‰read()æ–¹æ³•ï¼Œéƒ½è¢«è§†ä¸ºâ€œfile-like objectâ€œã€‚è®¸å¤šå‡½æ•°æ¥æ”¶çš„å‚æ•°å°±æ˜¯â€œfile-like objectâ€œï¼Œä½ ä¸ä¸€å®šè¦ä¼ å…¥çœŸæ­£çš„æ–‡ä»¶å¯¹è±¡ï¼Œå®Œå…¨å¯ä»¥ä¼ å…¥ä»»ä½•å®ç°äº†read()æ–¹æ³•çš„å¯¹è±¡ã€‚ ###å°ç»“ç»§æ‰¿å¯ä»¥æŠŠçˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½éƒ½ç›´æ¥æ‹¿è¿‡æ¥ï¼Œè¿™æ ·å°±ä¸å¿…é‡é›¶åšèµ·ï¼Œå­ç±»åªéœ€è¦æ–°å¢è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æŠŠçˆ¶ç±»ä¸é€‚åˆçš„æ–¹æ³•è¦†ç›–é‡å†™ã€‚ åŠ¨æ€è¯­è¨€çš„é¸­å­ç±»å‹ç‰¹ç‚¹å†³å®šäº†ç»§æ‰¿ä¸åƒé™æ€è¯­è¨€é‚£æ ·æ˜¯å¿…é¡»çš„ã€‚ ##è·å–å¯¹è±¡ä¿¡æ¯å½“æˆ‘ä»¬æ‹¿åˆ°ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œå¦‚ä½•çŸ¥é“è¿™ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ã€æœ‰å“ªäº›æ–¹æ³•å‘¢ï¼Ÿ ###ä½¿ç”¨type() é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œä½¿ç”¨type()å‡½æ•°ï¼š åŸºæœ¬ç±»å‹éƒ½å¯ä»¥ç”¨type()åˆ¤æ–­ï¼š123456&gt;&gt;&gt; type(123)&lt;class 'int'&gt;&gt;&gt;&gt; type('str')&lt;class 'str'&gt;&gt;&gt;&gt; type(None)&lt;type(None) 'NoneType'&gt; å¦‚æœä¸€ä¸ªå˜é‡æŒ‡å‘å‡½æ•°æˆ–è€…ç±»ï¼Œä¹Ÿå¯ä»¥ç”¨type()åˆ¤æ–­ï¼š1234&gt;&gt;&gt; type(abs)&lt;class 'builtin_function_or_method'&gt;&gt;&gt;&gt; type(a)&lt;class '__main__.Animal'&gt; ä½†æ˜¯type()å‡½æ•°è¿”å›çš„æ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿå®ƒè¿”å›å¯¹åº”çš„Classç±»å‹ã€‚å¦‚æœæˆ‘ä»¬è¦åœ¨ifè¯­å¥ä¸­åˆ¤æ–­ï¼Œå°±éœ€è¦æ¯”è¾ƒä¸¤ä¸ªå˜é‡çš„typeç±»å‹æ˜¯å¦ç›¸åŒï¼š12345678910&gt;&gt;&gt; type(123)==type(456)True&gt;&gt;&gt; type(123)==intTrue&gt;&gt;&gt; type('abc')==type('123')True&gt;&gt;&gt; type('abc')==strTrue&gt;&gt;&gt; type('abc')==type(123)False åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥å†™intï¼Œstrç­‰ï¼Œä½†å¦‚æœè¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å‡½æ•°æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä½¿ç”¨typesæ¨¡å—ä¸­å®šä¹‰çš„å¸¸é‡ï¼š123456789101112&gt;&gt;&gt; import types&gt;&gt;&gt; def fn():... pass...&gt;&gt;&gt; type(fn)==types.FunctionTypeTrue&gt;&gt;&gt; type(abs)==types.BuiltinFunctionTypeTrue&gt;&gt;&gt; type(lambda x: x)==types.LambdaTypeTrue&gt;&gt;&gt; type((x for x in range(10)))==types.GeneratorTypeTrue ###ä½¿ç”¨isinstance()å¯¹äºclassçš„ç»§æ‰¿å…³ç³»æ¥è¯´ï¼Œä½¿ç”¨type()å°±å¾ˆä¸æ–¹ä¾¿ã€‚æˆ‘ä»¬è¦åˆ¤æ–­classçš„ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨isinstance()å‡½æ•°ã€‚ æˆ‘ä»¬å›é¡¾ä¸Šæ¬¡çš„ä¾‹å­ï¼Œå¦‚æœç»§æ‰¿å…³ç³»æ˜¯ï¼š1object -&gt; Animal -&gt; Dog -&gt; Husky é‚£ä¹ˆï¼Œisinstance()å°±å¯ä»¥å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸç§ç±»å‹ã€‚å…ˆåˆ›å»º3ç§ç±»å‹çš„å¯¹è±¡ï¼š123&gt;&gt;&gt; a = Animal()&gt;&gt;&gt; d = Dog()&gt;&gt;&gt; h = Husky() ç„¶åï¼Œåˆ¤æ–­ï¼š12&gt;&gt;&gt; isinstance(h, Husky)True æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºhå˜é‡æŒ‡å‘çš„å°±æ˜¯Huskyå¯¹è±¡ã€‚ å†åˆ¤æ–­ï¼š12&gt;&gt;&gt; isinstance(h, Dog)True hè™½ç„¶è‡ªèº«æ˜¯Huskyç±»å‹ï¼Œä½†ç”±äºHuskyæ˜¯ä»Dogç»§æ‰¿ä¸‹æ¥çš„ï¼Œæ‰€ä»¥ï¼Œhä¹Ÿè¿˜æ˜¯Dogç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œisinstance()åˆ¤æ–­çš„æ˜¯ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯è¯¥ç±»å‹æœ¬èº«ï¼Œæˆ–è€…ä½äºè¯¥ç±»å‹çš„çˆ¶ç»§æ‰¿é“¾ä¸Šã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿¡ï¼Œhè¿˜æ˜¯Animalç±»å‹ï¼š12&gt;&gt;&gt; isinstance(h, Animal)True åŒç†ï¼Œå®é™…ç±»å‹æ˜¯Dogçš„dä¹Ÿæ˜¯Animalç±»å‹ï¼š12&gt;&gt;&gt; isinstance(d, Dog) and isinstance(d, Animal)True ä½†æ˜¯ï¼Œdä¸æ˜¯Huskyç±»å‹ï¼š12&gt;&gt;&gt; isinstance(d, Husky)False èƒ½ç”¨type()åˆ¤æ–­çš„åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥ç”¨isinstance()åˆ¤æ–­ï¼š123456&gt;&gt;&gt; isinstance('a', str)True&gt;&gt;&gt; isinstance(123, int)True&gt;&gt;&gt; isinstance(b'a', bytes)True å¹¶ä¸”è¿˜å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸäº›ç±»å‹ä¸­çš„ä¸€ç§ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯listæˆ–è€…tupleï¼š1234&gt;&gt;&gt; isinstance([1, 2, 3], (list, tuple))True&gt;&gt;&gt; isinstance((1, 2, 3), (list, tuple))True ###ä½¿ç”¨dir() å¦‚æœè¦è·å¾—ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨dir()å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„listï¼Œæ¯”å¦‚ï¼Œè·å¾—ä¸€ä¸ªstrå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼š12&gt;&gt;&gt; dir('ABC')['__add__', '__class__', '__contains__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__getnewargs__', '__gt__', '__hash__', '__init__', '__iter__', '__le__', '__len__', '__lt__', '__mod__', '__mul__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__rmod__', '__rmul__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', 'capitalize', 'casefold', 'center', 'count', 'encode', 'endswith', 'expandtabs', 'find', 'format', 'format_map', 'index', 'isalnum', 'isalpha', 'isdecimal', 'isdigit', 'isidentifier', 'islower', 'isnumeric', 'isprintable', 'isspace', 'istitle', 'isupper', 'join', 'ljust', 'lower', 'lstrip', 'maketrans', 'partition', 'replace', 'rfind', 'rindex', 'rjust', 'rpartition', 'rsplit', 'rstrip', 'split', 'splitlines', 'startswith', 'strip', 'swapcase', 'title', 'translate', 'upper', 'zfill'] ç±»ä¼¼__xxx__çš„å±æ€§å’Œæ–¹æ³•åœ¨Pythonä¸­éƒ½æ˜¯æœ‰ç‰¹æ®Šç”¨é€”çš„ï¼Œæ¯”å¦‚__len__æ–¹æ³•è¿”å›é•¿åº¦ã€‚åœ¨Pythonä¸­ï¼Œå¦‚æœä½ è°ƒç”¨len()å‡½æ•°è¯•å›¾è·å–ä¸€ä¸ªå¯¹è±¡çš„é•¿åº¦ï¼Œå®é™…ä¸Šï¼Œåœ¨len()å‡½æ•°å†…éƒ¨ï¼Œå®ƒè‡ªåŠ¨å»è°ƒç”¨è¯¥å¯¹è±¡çš„__len__()æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢çš„ä»£ç æ˜¯ç­‰ä»·çš„ï¼š1234&gt;&gt;&gt; len('ABC')3&gt;&gt;&gt; 'ABC'.__len__()3 æˆ‘ä»¬è‡ªå·±å†™çš„ç±»ï¼Œå¦‚æœä¹Ÿæƒ³ç”¨len(myObj)çš„è¯ï¼Œå°±è‡ªå·±å†™ä¸€ä¸ªlen()æ–¹æ³•ï¼š1234567&gt;&gt;&gt; class MyDog(object):... def __len__(self):... return 100...&gt;&gt;&gt; dog = MyDog()&gt;&gt;&gt; len(dog)100 å‰©ä¸‹çš„éƒ½æ˜¯æ™®é€šå±æ€§æˆ–æ–¹æ³•ï¼Œæ¯”å¦‚lower()è¿”å›å°å†™çš„å­—ç¬¦ä¸²ï¼š12&gt;&gt;&gt; 'ABC'.lower()'abc' ä»…ä»…æŠŠå±æ€§å’Œæ–¹æ³•åˆ—å‡ºæ¥æ˜¯ä¸å¤Ÿçš„ï¼Œé…åˆgetattr()ã€setattr()ä»¥åŠhasattr()ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ“ä½œä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ï¼š1234567&gt;&gt;&gt; class MyObject(object):... def __init__(self):... self.x = 9... def power(self):... return self.x * self.x...&gt;&gt;&gt; obj = MyObject() ç´§æ¥ç€ï¼Œå¯ä»¥æµ‹è¯•è¯¥å¯¹è±¡çš„å±æ€§ï¼š12345678910111213&gt;&gt;&gt; hasattr(obj, 'x') # æœ‰å±æ€§'x'å—ï¼ŸTrue&gt;&gt;&gt; obj.x9&gt;&gt;&gt; hasattr(obj, 'y') # æœ‰å±æ€§'y'å—ï¼ŸFalse&gt;&gt;&gt; setattr(obj, 'y', 19) # è®¾ç½®ä¸€ä¸ªå±æ€§'y'&gt;&gt;&gt; hasattr(obj, 'y') # æœ‰å±æ€§'y'å—ï¼ŸTrue&gt;&gt;&gt; getattr(obj, 'y') # è·å–å±æ€§'y'19&gt;&gt;&gt; obj.y # è·å–å±æ€§'y'19 å¦‚æœè¯•å›¾è·å–ä¸å­˜åœ¨çš„å±æ€§ï¼Œä¼šæŠ›å‡ºAttributeErrorçš„é”™è¯¯ï¼š1234&gt;&gt;&gt; getattr(obj, 'z') # è·å–å±æ€§'z'Traceback (most recent call last): File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;AttributeError: 'MyObject' object has no attribute 'z' å¯ä»¥ä¼ å…¥ä¸€ä¸ªdefaultå‚æ•°ï¼Œå¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œå°±è¿”å›é»˜è®¤å€¼ï¼š12&gt;&gt;&gt; getattr(obj, 'z', 404) # è·å–å±æ€§'z'ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼404404 ä¹Ÿå¯ä»¥è·å¾—å¯¹è±¡çš„æ–¹æ³•ï¼š123456789&gt;&gt;&gt; hasattr(obj, 'power') # æœ‰å±æ€§'power'å—ï¼ŸTrue&gt;&gt;&gt; getattr(obj, 'power') # è·å–å±æ€§'power'&lt;bound method MyObject.power of &lt;__main__.MyObject object at 0x10077a6a0&gt;&gt;&gt;&gt;&gt; fn = getattr(obj, 'power') # è·å–å±æ€§'power'å¹¶èµ‹å€¼åˆ°å˜é‡fn&gt;&gt;&gt; fn # fnæŒ‡å‘obj.power&lt;bound method MyObject.power of &lt;__main__.MyObject object at 0x10077a6a0&gt;&gt;&gt;&gt;&gt; fn() # è°ƒç”¨fn()ä¸è°ƒç”¨obj.power()æ˜¯ä¸€æ ·çš„81 ###å°ç»“é€šè¿‡å†…ç½®çš„ä¸€ç³»åˆ—å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä»»æ„ä¸€ä¸ªPythonå¯¹è±¡è¿›è¡Œå‰–æï¼Œæ‹¿åˆ°å…¶å†…éƒ¨çš„æ•°æ®ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰åœ¨ä¸çŸ¥é“å¯¹è±¡ä¿¡æ¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰ä¼šå»è·å–å¯¹è±¡ä¿¡æ¯ã€‚å¦‚æœå¯ä»¥ç›´æ¥å†™ï¼š1sum = obj.x + obj.y å°±ä¸è¦å†™ï¼š1sum = getattr(obj, 'x') + getattr(obj, 'y') ä¸€ä¸ªæ­£ç¡®çš„ç”¨æ³•çš„ä¾‹å­å¦‚ä¸‹ï¼š1234def readImage(fp): if hasattr(fp, 'read'): return readData(fp) return None å‡è®¾æˆ‘ä»¬å¸Œæœ›ä»æ–‡ä»¶æµfpä¸­è¯»å–å›¾åƒï¼Œæˆ‘ä»¬é¦–å…ˆè¦åˆ¤æ–­è¯¥fpå¯¹è±¡æ˜¯å¦å­˜åœ¨readæ–¹æ³•ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªæµï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ— æ³•è¯»å–ã€‚hasattr()å°±æ´¾ä¸Šäº†ç”¨åœºã€‚ è¯·æ³¨æ„ï¼Œåœ¨Pythonè¿™ç±»åŠ¨æ€è¯­è¨€ä¸­ï¼Œæ ¹æ®é¸­å­ç±»å‹ï¼Œæœ‰read()æ–¹æ³•ï¼Œä¸ä»£è¡¨è¯¥fpå¯¹è±¡å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶æµï¼Œå®ƒä¹Ÿå¯èƒ½æ˜¯ç½‘ç»œæµï¼Œä¹Ÿå¯èƒ½æ˜¯å†…å­˜ä¸­çš„ä¸€ä¸ªå­—èŠ‚æµï¼Œä½†åªè¦read()æ–¹æ³•è¿”å›çš„æ˜¯æœ‰æ•ˆçš„å›¾åƒæ•°æ®ï¼Œå°±ä¸å½±å“è¯»å–å›¾åƒçš„åŠŸèƒ½ã€‚ ##å®ä¾‹å±æ€§å’Œç±»å±æ€§ç”±äºPythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ ¹æ®ç±»åˆ›å»ºçš„å®ä¾‹å¯ä»¥ä»»æ„ç»‘å®šå±æ€§ã€‚ ç»™å®ä¾‹ç»‘å®šå±æ€§çš„æ–¹æ³•æ˜¯é€šè¿‡å®ä¾‹å˜é‡ï¼Œæˆ–è€…é€šè¿‡selfå˜é‡ï¼š123456class Student(object): def __init__(self, name): self.name = names = Student('Bob')s.score = 90 ä½†æ˜¯ï¼Œå¦‚æœStudentç±»æœ¬èº«éœ€è¦ç»‘å®šä¸€ä¸ªå±æ€§å‘¢ï¼Ÿå¯ä»¥ç›´æ¥åœ¨classä¸­å®šä¹‰å±æ€§ï¼Œè¿™ç§å±æ€§æ˜¯ç±»å±æ€§ï¼Œå½’Studentç±»æ‰€æœ‰ï¼š12class Student(object): name = 'Student' 12345678910111213141516&gt;&gt;&gt; class Student(object):... name = 'Student'...&gt;&gt;&gt; s = Student() # åˆ›å»ºå®ä¾‹s&gt;&gt;&gt; print(s.name) # æ‰“å°nameå±æ€§ï¼Œå› ä¸ºå®ä¾‹å¹¶æ²¡æœ‰nameå±æ€§ï¼Œæ‰€ä»¥ä¼šç»§ç»­æŸ¥æ‰¾classçš„nameå±æ€§Student&gt;&gt;&gt; print(Student.name) # æ‰“å°ç±»çš„nameå±æ€§Student&gt;&gt;&gt; s.name = 'Michael' # ç»™å®ä¾‹ç»‘å®šnameå±æ€§&gt;&gt;&gt; print(s.name) # ç”±äºå®ä¾‹å±æ€§ä¼˜å…ˆçº§æ¯”ç±»å±æ€§é«˜ï¼Œå› æ­¤ï¼Œå®ƒä¼šå±è”½æ‰ç±»çš„nameå±æ€§Michael&gt;&gt;&gt; print(Student.name) # ä½†æ˜¯ç±»å±æ€§å¹¶æœªæ¶ˆå¤±ï¼Œç”¨Student.nameä»ç„¶å¯ä»¥è®¿é—®Student&gt;&gt;&gt; del s.name # å¦‚æœåˆ é™¤å®ä¾‹çš„nameå±æ€§&gt;&gt;&gt; print(s.name) # å†æ¬¡è°ƒç”¨s.nameï¼Œç”±äºå®ä¾‹çš„nameå±æ€§æ²¡æœ‰æ‰¾åˆ°ï¼Œç±»çš„nameå±æ€§å°±æ˜¾ç¤ºå‡ºæ¥äº†Student ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œåœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™ï¼Œåƒä¸‡ä¸è¦æŠŠå®ä¾‹å±æ€§å’Œç±»å±æ€§ä½¿ç”¨ç›¸åŒçš„åå­—ï¼Œå› ä¸ºç›¸åŒåç§°çš„å®ä¾‹å±æ€§å°†å±è”½æ‰ç±»å±æ€§ï¼Œä½†æ˜¯å½“ä½ åˆ é™¤å®ä¾‹å±æ€§åï¼Œå†ä½¿ç”¨ç›¸åŒçš„åç§°ï¼Œè®¿é—®åˆ°çš„å°†æ˜¯ç±»å±æ€§ã€‚","categories":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/categories/python/"}],"tags":[{"name":"python","slug":"python","permalink":"http://frankchen.xyz/tags/python/"}]},{"title":"ä½¿ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤è·å–é“¾æ¥æ‰¹é‡ä¸‹è½½","slug":"2016-05-24-di-pian-bo-ke","date":"2016-05-24T11:48:48.000Z","updated":"2017-01-13T09:49:27.000Z","comments":true,"path":"2016/05/24/2016-05-24-di-pian-bo-ke/","link":"","permalink":"http://frankchen.xyz/2016/05/24/2016-05-24-di-pian-bo-ke/","excerpt":"å‰å‡ å¤©çœ‹åˆ°ä¸€ä¸ªä¸é”™çš„æ–¹æ³•ï¼Œç°åœ¨åˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›æœ‰å¸®åŠ© æ¯”å¦‚æˆ‘çœ‹åˆ°Nmapçš„èµ„æºå¾ˆæƒ³æŠŠä»–å…¨éƒ¨ä¸‹è½½åˆ°æœ¬åœ°æ€ä¹ˆåŠå‘ï¼Ÿå³é”®ä¸€ä¸ªä¸ªç‚¹ï¼Ÿç”¨å·¥å…·é•œåƒæ•´ä¸ªç«™ç‚¹ï¼Ÿ ä»¥å‰æˆ‘ç”¨çš„æ–¹æ³•æ˜¯å·¦è¾¹æ‰“å¼€æµè§ˆå™¨ï¼Œå³è¾¹æ‰“å¼€Notepad++ ä¸€ä¸ªä¸ªé“¾æ¥æ‹–åˆ°Notepad++é‡Œï¼Œæœ€åå°±æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ä¸‹è½½åˆ—è¡¨ ç°åœ¨æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œåˆ©ç”¨Linuxçš„æ–‡æœ¬å¤„ç†å·¥å…·æå–å®Œæ•´çš„ä¸‹è½½é“¾æ¥ï¼Œæ–‡æœ¬å¤„ç†å·¥å…·æˆ‘å¾ˆæ—©å°±å­¦è¿‡äº†ï¼Œä½†æ˜¯å¹³å¸¸ä¸ç”¨ï¼Œå­¦äº†å°±å¿˜","text":"å‰å‡ å¤©çœ‹åˆ°ä¸€ä¸ªä¸é”™çš„æ–¹æ³•ï¼Œç°åœ¨åˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›æœ‰å¸®åŠ© æ¯”å¦‚æˆ‘çœ‹åˆ°Nmapçš„èµ„æºå¾ˆæƒ³æŠŠä»–å…¨éƒ¨ä¸‹è½½åˆ°æœ¬åœ°æ€ä¹ˆåŠå‘ï¼Ÿå³é”®ä¸€ä¸ªä¸ªç‚¹ï¼Ÿç”¨å·¥å…·é•œåƒæ•´ä¸ªç«™ç‚¹ï¼Ÿ ä»¥å‰æˆ‘ç”¨çš„æ–¹æ³•æ˜¯å·¦è¾¹æ‰“å¼€æµè§ˆå™¨ï¼Œå³è¾¹æ‰“å¼€Notepad++ ä¸€ä¸ªä¸ªé“¾æ¥æ‹–åˆ°Notepad++é‡Œï¼Œæœ€åå°±æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ä¸‹è½½åˆ—è¡¨ ç°åœ¨æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œåˆ©ç”¨Linuxçš„æ–‡æœ¬å¤„ç†å·¥å…·æå–å®Œæ•´çš„ä¸‹è½½é“¾æ¥ï¼Œæ–‡æœ¬å¤„ç†å·¥å…·æˆ‘å¾ˆæ—©å°±å­¦è¿‡äº†ï¼Œä½†æ˜¯å¹³å¸¸ä¸ç”¨ï¼Œå­¦äº†å°±å¿˜ æ‰“å¼€ä½ è¦å¤„ç†ç½‘ç«™çš„é¡µé¢https://nmap.org/dist/ å³é”®ä¿å­˜ç½‘é¡µ ç”¨ç¼–è¾‘å™¨æ‰“å¼€åˆ é™¤HTMLæ–‡ä»¶é¡¶éƒ¨çš„ä»£ç å’Œåº•éƒ¨ä»£ç ç•™ä¸‹é“¾æ¥éƒ¨åˆ† ä½¿ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤å‰”é™¤å¤šä½™æ–‡æœ¬ï¼Œç•™ä¸‹å®Œæ•´é“¾æ¥ 1awk &apos;&#123;print $7&#125;&apos; index-of.html | cut -d &apos;&quot;&apos; -f2 &gt; output.txt è§£é‡Šå¦‚ä¸‹ï¼š 1234awk &apos;&#123;print $7&#125;&apos; // æ‰“å°å‡ºç¬¬7åˆ—æ–‡æœ¬ï¼ŒæŒ‰ç©ºæ ¼æˆ–è€…åˆ¶è¡¨ç¬¦(Tab) index-of.html // è¦å¤„ç†çš„æ–‡ä»¶ | cut -d &apos;&quot;&apos; -f2 // é€šè¿‡ç®¡é“ä¼ é€’ç»™ cut -d æŒ‡å®šåˆ†éš”ç¬¦ä¸º&quot; -f2 æŒ‡å®šè¾“å‡ºåœ°2åˆ—æ–‡æœ¬ &gt; output.txt // é‡å®šå‘æ ‡å‡†è¾“å‡ºåˆ°output.txt ç„¶åå°±å¯ä»¥ä½¿ç”¨è·å–åˆ°çš„é“¾æ¥åˆ—è¡¨è‡ªåŠ¨æ‰¹é‡ä¸‹è½½äº† 1wget -i output.txt åŸé“¾æ¥åœ°å€ï¼šä½¿ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤è·å–é“¾æ¥æ‰¹é‡ä¸‹è½½","categories":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/categories/tutorial/"}],"tags":[{"name":"tutorial","slug":"tutorial","permalink":"http://frankchen.xyz/tags/tutorial/"}]}]}