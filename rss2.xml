<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>ä¸æ­£ç»çš„ç¤¾é•¿</title>
    <link>http://example.com/</link>
    
    <atom:link href="http://example.com/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>Affiliate Marketing/Python/Clojure/Game/Resource</description>
    <pubDate>Sat, 30 Oct 2021 10:30:38 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Recommend some useful telegram channels æ¨èä¸€äº›æœ‰ç”¨çš„ telegram é¢‘é“</title>
      <link>http://example.com/2021/10/30/Recommend-some-useful-telegram-channels/</link>
      <guid>http://example.com/2021/10/30/Recommend-some-useful-telegram-channels/</guid>
      <pubDate>Sat, 30 Oct 2021 10:09:40 GMT</pubDate>
      
      <description>&lt;p&gt;æ¨èä¸€äº›ä¸ªäººç»å¸¸ä½¿ç”¨çš„å…è´¹ç”µæŠ¥èµ„æºé¢‘é“,åŒ…æ‹¬å…è´¹ç”µå­ä¹¦\å…è´¹æ‚å¿—\å…è´¹ udemy è¯¾ç¨‹ç­‰ç­‰.&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æ¨èä¸€äº›ä¸ªäººç»å¸¸ä½¿ç”¨çš„å…è´¹ç”µæŠ¥èµ„æºé¢‘é“,åŒ…æ‹¬å…è´¹ç”µå­ä¹¦\å…è´¹æ‚å¿—\å…è´¹ udemy è¯¾ç¨‹ç­‰ç­‰.</p><span id="more"></span><h3 id="å…è´¹-udemy-è¯¾ç¨‹"><a href="#å…è´¹-udemy-è¯¾ç¨‹" class="headerlink" title="å…è´¹ udemy è¯¾ç¨‹"></a>å…è´¹ udemy è¯¾ç¨‹</h3><p><a href="https://t.me/Ebooksenglish">https://t.me/Ebooksenglish</a></p><p>è¿™ä¸ªç¾¤å¯ä»¥å…è´¹é¢†å– udemy è¯¾ç¨‹,ç‚¹å‡»å…¶ä¸­çš„ link ä¸€æ­¥æ­¥è·³è½¬å³å¯,ä¼šæŠŠä½ å¸¦åˆ°æœ€ç»ˆç»“ç®—,é‡Œé¢åšäº†ä¸€äº›çŸ­é“¾å¼ºåˆ¶ Google æœç´¢è€Œä¸æ˜¯ç›´æ¥è·³è½¬åˆ°æœ€ç»ˆé¡µé¢,åº”è¯¥æ˜¯ seo çš„å°æŠ€å·§,æœ‰ free çš„ä¼˜æƒ ç ,æ‰€ä»¥ç»“ç®—åæ˜¯å…è´¹çš„,è¯¾ç¨‹æ°¸ä¹…æ‹¥æœ‰.å”¯ä¸€è¦æ³¨æ„çš„æ˜¯é“¾æ¥å†…çš„ä¼˜æƒ ç è¿™äº›éƒ½æ˜¯æœ‰æœ‰æ•ˆæœŸçš„.</p><p><img src="/images/1635589099722.jpg"></p><h3 id="å…è´¹ç”µå­ä¹¦"><a href="#å…è´¹ç”µå­ä¹¦" class="headerlink" title="å…è´¹ç”µå­ä¹¦"></a>å…è´¹ç”µå­ä¹¦</h3><p><a href="https://t.me/ebooksenglish2">https://t.me/ebooksenglish2</a></p><p><img src="/images/1635588979060.jpg"></p><h3 id="å…è´¹æ‚å¿—"><a href="#å…è´¹æ‚å¿—" class="headerlink" title="å…è´¹æ‚å¿—"></a>å…è´¹æ‚å¿—</h3><p><a href="https://t.me/inPDF">https://t.me/inPDF</a></p><p>å¯ä»¥çœ‹åˆ°,åŸºæœ¬ä¸»æµçš„æ‚å¿—éƒ½æœ‰å…è´¹ç»æµå­¦äºº/å…è´¹Playboy/å“ˆä½›å•†ä¸šè¯„è®ºç­‰ç­‰,ç›´æ¥ä¸‹è½½å³å¯,æ¯”è‹¥å¹²ä¸‹è½½åè½¬å–çš„è‰¯å¿ƒå¤šäº†.</p><p><img src="/images/1635589361599.jpg"></p><h3 id="å…è´¹-Google-Drive-èµ„æº-å…è´¹é˜¿é‡Œäº‘èµ„æº"><a href="#å…è´¹-Google-Drive-èµ„æº-å…è´¹é˜¿é‡Œäº‘èµ„æº" class="headerlink" title="å…è´¹ Google Drive èµ„æº/å…è´¹é˜¿é‡Œäº‘èµ„æº"></a>å…è´¹ Google Drive èµ„æº/å…è´¹é˜¿é‡Œäº‘èµ„æº</h3><p><a href="https://t.me/gdsharing">https://t.me/gdsharing</a></p><p><img src="/images/1635589599683.jpg"></p><p>æ­£ç»å’Œä¸æ­£ç»çš„èµ„æºéƒ½æœ‰,çŒå¥‡ç”¨.æµé‡å¤§çš„èµ„æºå®¹æ˜“è¢«é™æµ.</p><h2 id="èµ„è®¯ç±»"><a href="#èµ„è®¯ç±»" class="headerlink" title="èµ„è®¯ç±»"></a>èµ„è®¯ç±»</h2><p>ä¸»è¦ä½¿ç”¨ç«¹æ–°ç¤¾<br><a href="https://t.me/tnews365">https://t.me/tnews365</a><br>7Ã—24ä¸å®šæ—¶ç¼–è¯‘å›½å†…å¤–åª’ä½“çš„å³æ—¶æ–°é—»æŠ¥é“ã€‚</p><p>å’Œé£å‘æ——<br><a href="https://t.me/xhqcankao">https://t.me/xhqcankao</a></p><p>é£é—»å¥äº‹ï¼ŒéæŸ¥è®¿çŸ¥ã€‚å³æ—¶å‘å¸ƒVPSã€ç½‘ç›˜ç­‰æœ‰ä»·å€¼è™šæ‹Ÿèµ„äº§çš„æ–°é—»å’Œäº¤æ˜“ä¿¡æ¯ï¼Œæä¾›äº’è”ç½‘ç§‘æŠ€æ–°é—»å¿«è®¯ã€‚ä¸ºVPSä¿¡å·æ——æ’­æŠ¥ç­›é€‰ä¾›ç¨¿ã€‚ğŸš©</p><p>å…ˆåˆ—å‡ºè¿™ä¹ˆå¤š,åç»­å†è¡¥å…….</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/resources-Telegram/">resources Telegram</category>
      
      
      <comments>http://example.com/2021/10/30/Recommend-some-useful-telegram-channels/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>å‘æ”¾4ä¸ªptç«™çš„é‚€è¯·ç ï¼šæµ·èƒ†ä¹‹å®¶ã€HDcity</title>
      <link>http://example.com/2021/09/18/2021-09-18-pt-invite/</link>
      <guid>http://example.com/2021/09/18/2021-09-18-pt-invite/</guid>
      <pubDate>Sat, 18 Sep 2021 02:49:42 GMT</pubDate>
      
      <description>&lt;p&gt;ç© pt ç«™æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œèµ é€4ä¸ªptç«™çš„é‚€è¯·ç ï¼šæµ·èƒ†ä¹‹å®¶ã€HDcityç»™æ„Ÿå…´è¶£çš„æœ‹å‹ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç© pt ç«™æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œèµ é€4ä¸ªptç«™çš„é‚€è¯·ç ï¼šæµ·èƒ†ä¹‹å®¶ã€HDcityç»™æ„Ÿå…´è¶£çš„æœ‹å‹ã€‚</p><span id="more"></span><p><a href="https://www.haidan.video/">æµ·èƒ†ä¹‹å®¶</a>ã€<a href="https://hdcity.city/">HDcity</a>å„ä¸¤ä¸ªï¼š</p><p><img src="/images/1631936380423.jpg"><br><img src="/images/L20180831.22016014363i1.jpg"></p><p>ç•™è¨€ç•™ä¸‹é‚®ç®±å’Œæ‚¨è¿™è¾¹å…³äº pt çš„è®¾å¤‡çš„æƒ…å†µï¼ˆnas ç­‰ç­‰ï¼‰å³å¯ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/pt/">pt</category>
      
      
      <comments>http://example.com/2021/09/18/2021-09-18-pt-invite/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç”¨python è‡ªåŠ¨è®¡ç®—äºšé©¬é€Švatç¨æ¬¾</title>
      <link>http://example.com/2019/10/24/amazon-vat-cal/</link>
      <guid>http://example.com/2019/10/24/amazon-vat-cal/</guid>
      <pubDate>Thu, 24 Oct 2019 09:17:01 GMT</pubDate>
      
      <description>&lt;p&gt;ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pandasè®¡ç®—äºšé©¬é€Šè‹±å›½vatç¨æ¬¾ï¼Œçº¯ç²¹æ˜¯pandasçš„ä¸šåŠ¡ä»£ç ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pandasè®¡ç®—äºšé©¬é€Šè‹±å›½vatç¨æ¬¾ï¼Œçº¯ç²¹æ˜¯pandasçš„ä¸šåŠ¡ä»£ç ã€‚</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">vat_csv = <span class="string">r&quot;C:\Users\Administrator\Downloads\18168935102018178.csv&quot;</span></span><br><span class="line"></span><br><span class="line">df = pd.read_csv(vat_csv)</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">filter_free_tax_zone_post_code</span>(<span class="params">x : <span class="built_in">str</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(x) <span class="keyword">is</span> <span class="keyword">not</span> <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> x.startswith(<span class="string">&#x27;JE&#x27;</span>) <span class="keyword">or</span> x.startswith(<span class="string">&#x27;GY&#x27;</span>)</span><br><span class="line"><span class="comment"># # BNåˆ—é‚®ç¼–é¦–å­—æ¯ä¸ºJEå’ŒGYçš„ï¼Œæ˜¯è‹±å›½çš„é™„å±å²›å±¿ï¼Œç›®å‰æœ‰å…ç¨ä¼˜æƒ ï¼Œä¸ç”¨è®¡ç®—</span></span><br><span class="line">df = df[~df[<span class="string">&#x27;ARRIVAL_POST_CODE&#x27;</span>].apply(filter_free_tax_zone_post_code)].copy()</span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># BO  SALE_DEPART_COUNTRY å‘è´§å›½å®¶ BP  SALE_ARRIVAL_COUNTRY æ”¶è´§å›½å®¶</span></span><br><span class="line"><span class="comment"># AZ TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL é”€å”®é¢ BA  TRANSACTION_CURRENCY_CODE è´§å¸</span></span><br><span class="line">df[<span class="string">&#x27;SALE_DEPART_COUNTRY&#x27;</span>].value_counts()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">SALE_ARRIVAL_COUNTRY_ = df[<span class="string">&#x27;SALE_ARRIVAL_COUNTRY&#x27;</span>].value_counts().index</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">euro_nation_code_excel = <span class="string">&#x27;euro-nation-code.xlsx&#x27;</span></span><br><span class="line">euro_country = pd.read_excel(euro_nation_code_excel)[<span class="string">&#x27;CODE&#x27;</span>].values</span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># step 1</span></span><br><span class="line">A = df[df[<span class="string">&#x27;SALE_DEPART_COUNTRY&#x27;</span>].isin(euro_country)]</span><br><span class="line">step_1_df = A[A[<span class="string">&#x27;SALE_ARRIVAL_COUNTRY&#x27;</span>] == <span class="string">&#x27;GB&#x27;</span>]</span><br><span class="line">step_1 = step_1_df[[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>, <span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]].groupby([<span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]).<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line">step_1 = step_1[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>].to_dict()</span><br><span class="line">step_1</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># step 2</span></span><br><span class="line">A = df[df[<span class="string">&#x27;SALE_DEPART_COUNTRY&#x27;</span>] == <span class="string">&#x27;GB&#x27;</span>]</span><br><span class="line">except_country = <span class="string">&quot;DE GB ES IT FR&quot;</span>.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">sub_euro_country = [i <span class="keyword">for</span> i <span class="keyword">in</span> euro_country <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> except_country]</span><br><span class="line">step_2_df = A[A[<span class="string">&#x27;SALE_ARRIVAL_COUNTRY&#x27;</span>] .isin(sub_euro_country)]</span><br><span class="line">step_2 = step_2_df[[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>, <span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]].groupby([<span class="string">&#x27;TRANSACTION_CURRENCY_CODE&#x27;</span>]).<span class="built_in">sum</span>()</span><br><span class="line">step_2 = step_2[<span class="string">&#x27;TOTAL_ACTIVITY_VALUE_AMT_VAT_INCL&#x27;</span>].to_dict()</span><br><span class="line">step_2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line"><span class="comment"># TOTAL</span></span><br><span class="line">euro2gbp = <span class="number">0.8637</span></span><br><span class="line"><span class="comment"># euro2gbp = 1 / 1.1504</span></span><br><span class="line">tax_rate = <span class="number">0.155</span></span><br><span class="line">other = <span class="number">26510.48</span></span><br><span class="line"></span><br><span class="line">euro = step_1.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>) + step_2.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">gbp = step_1.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>) + step_2.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">total = gbp + euro2gbp * euro</span><br><span class="line"></span><br><span class="line">vat = <span class="built_in">round</span>(total * tax_rate, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">vat</span><br><span class="line"><span class="comment">#%%</span></span><br><span class="line">s = <span class="string">f&quot;&quot;&quot;ç¬¬ä¸€æ­¥ä¸­ç®—çš„è‹±é•‘ <span class="subst">&#123;step_1.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span> æ¬§å…ƒ <span class="subst">&#123;step_1.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span>ï¼Œ</span></span><br><span class="line"><span class="string">ç¬¬äºŒæ­¥ä¸­ç®—çš„è‹±é•‘ <span class="subst">&#123;step_2.get(<span class="string">&#x27;GBP&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span> æ¬§å…ƒ <span class="subst">&#123;step_2.get(<span class="string">&#x27;EUR&#x27;</span>, <span class="number">0</span>) :<span class="number">.2</span>f&#125;</span>ï¼Œ</span></span><br><span class="line"><span class="string">å…±è®¡ è‹±é•‘ <span class="subst">&#123;gbp :<span class="number">.2</span>f&#125;</span>å…ƒï¼Œæ¬§å…ƒ<span class="subst">&#123;euro :<span class="number">.2</span>f&#125;</span>å…ƒï¼Œ</span></span><br><span class="line"><span class="string">æŒ‰ç…§å½“å‰æ¬§å…ƒå…‘è‹±é•‘æ±‡ç‡ä¸º <span class="subst">&#123;euro2gbp :<span class="number">.2</span>f&#125;</span>ï¼Œ</span></span><br><span class="line"><span class="string">å…±è®¡è‹±é•‘ <span class="subst">&#123;total :<span class="number">.2</span>f&#125;</span> å…ƒï¼Œ</span></span><br><span class="line"><span class="string">æŒ‰ç…§vatç¨ç‡ <span class="subst">&#123;tax_rate&#125;</span></span></span><br><span class="line"><span class="string">è®¡ç®—çš„vatç¨æ¬¾ä¸º <span class="subst">&#123;vat&#125;</span> å…ƒ</span></span><br><span class="line"><span class="string">ä¸æä¾›çš„æ•°æ®å·®å€¼ä¸º <span class="subst">&#123;vat - other :<span class="number">.2</span>f&#125;</span> å…ƒ</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é™„èµ æ¬§ç›Ÿ28å›½çš„å›½å®¶ä»£ç ï¼Œå½“å‰ï¼ˆ2019-10-24ï¼‰è‹±å›½è¿˜ç®—æ˜¯æ¬§ç›Ÿå›½å®¶</p><blockquote><p>å¾·å›½DE<br>è·å…°NL<br>æ¯”åˆ©æ—¶BE<br>å¢æ£®å ¡LU<br>æ³•å›½FR<br>æ„å¤§åˆ©IT<br>ä¸¹éº¦DK<br>è‹±å›½GB<br>çˆ±å°”å…°IE<br>å¸Œè…ŠGR<br>è¥¿ç­ç‰™ES<br>è‘¡è„ç‰™PT<br>ç‘å…¸SE<br>èŠ¬å…°FI<br>å¥¥åœ°åˆ©AT<br>å¡æµ¦è·¯æ–¯CY<br>çˆ±æ²™å°¼äºšEE<br>æ‹‰è„±ç»´äºšLV<br>ç«‹é™¶å®›LT<br>æ³¢å…°PL<br>æ·å…‹CZ<br>æ–¯æ´›ä¼å…‹SK<br>æ–¯æ´›æ–‡å°¼äºšSI<br>åŒˆç‰™åˆ©HU<br>é©¬è€³ä»–MT<br>ç½—é©¬å°¼äºšRO<br>ä¿åŠ åˆ©äºšBG<br>å…‹ç½—åœ°äºšHR</p></blockquote><p>ç°åœ¨Pycharmå¯¹äºjupyter notebookçš„æ”¯æŒä¹Ÿå¾ˆå¥½äº†ï¼Œæˆ‘åŸºæœ¬ä¸Šç›´æ¥åœ¨IDEé‡Œé¢å†™ï¼Œè¿™ä¸ªä¸»é¢˜æ˜¯Gradianto Dark Fuchsiaï¼ŒJetbrainså®˜ç½‘å¯ä»¥ä¸‹è½½ï¼ŒPyCharmä¸æ˜¯åªæœ‰Darculaçš„ï¼Œå¥½äº†ï¼Œæˆ‘å¤§çº¦ä¸€å¹´æ²¡æœ‰æ›´äº†ï¼Œç°åœ¨æ­£å¼å›å½’äº†ï¼Œæˆ‘ç°åœ¨åšçš„æ˜¯ç”µå•†è¡Œä¸šï¼Œä»¥åæˆ‘ä¹Ÿè®¸ä¼šæ›´å¤šçš„æ˜¯ç”Ÿäº§åŠ›è½¯ä»¶ã€çˆ¬è™«ä¸æ•°æ®åˆ†æã€ä¼ä¸šç³»ç»Ÿæ–¹é¢è½¬äº†ï¼Œä»æ¥å°±ä¸æ˜¯æ­£ç»çš„æ•°æ®ç§‘å­¦å®¶ã€‚ç”Ÿå‘½è¿‡ç¨‹å¾ˆå¤æ‚å¾ˆä¸°å¯Œï¼Œç»§ç»­åšä¸ªé¡½å¼ºçš„äººï¼Œç¥å¤§å®¶<strong>1024ç¨‹åºå‘˜èŠ‚å¿«ä¹</strong>ï¼Œæˆ‘è¿˜ç®—ç¨‹åºå‘˜çš„å§ğŸ¤£å“ˆå“ˆå“ˆ</p><p><img src="/images/vat-auto.png"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/amazon/">amazon</category>
      
      <category domain="http://example.com/tags/pandas/">pandas</category>
      
      
      <comments>http://example.com/2019/10/24/amazon-vat-cal/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>python å‘é€å¸¦å„ç§é™„ä»¶çš„é‚®ä»¶ç¤ºä¾‹</title>
      <link>http://example.com/2018/12/20/attachments/</link>
      <guid>http://example.com/2018/12/20/attachments/</guid>
      <pubDate>Thu, 20 Dec 2018 12:47:39 GMT</pubDate>
      
      <description>&lt;p&gt;ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pythonå‘é€å„ç§é™„ä»¶çš„é‚®ä»¶ï¼Œæ¯”å¦‚wordã€excelã€pdfã€txtï¼Œä»¥åŠåœ¨æ­£æ–‡æ’å…¥å›¾ç‰‡ç­‰ç­‰&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç®€è¿°ä¸‹å¦‚ä½•ä½¿ç”¨pythonå‘é€å„ç§é™„ä»¶çš„é‚®ä»¶ï¼Œæ¯”å¦‚wordã€excelã€pdfã€txtï¼Œä»¥åŠåœ¨æ­£æ–‡æ’å…¥å›¾ç‰‡ç­‰ç­‰</p><span id="more"></span><p>å¦‚ä¸‹æ‰€ç¤ºï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.header <span class="keyword">import</span> Header</span><br><span class="line"><span class="keyword">from</span> smtplib <span class="keyword">import</span> SMTP_SSL</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> email.mime.image <span class="keyword">import</span> MIMEImage</span><br><span class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</span><br><span class="line"><span class="keyword">from</span> email.mime.application <span class="keyword">import</span> MIMEApplication</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.mime.base <span class="keyword">import</span> MIMEBase</span><br><span class="line"><span class="keyword">from</span> email.encoders <span class="keyword">import</span> encode_base64</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> traceback</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_mail</span>(<span class="params">mail_title,</span></span></span><br><span class="line"><span class="params"><span class="function">              mail_content=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_img=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_txt=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_pdf=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_excel=<span class="literal">None</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">              attachment_word=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="comment"># qqé‚®ç®±smtpæœåŠ¡å™¨</span></span><br><span class="line">    host_server = <span class="string">&#x27;smtp.qq.com&#x27;</span></span><br><span class="line">    <span class="comment"># sender_qqä¸ºå‘ä»¶äººçš„qqå·ç </span></span><br><span class="line">    sender_qq = <span class="string">&#x27;947118251&#x27;</span></span><br><span class="line">    <span class="comment"># pwdä¸ºqqé‚®ç®±çš„æˆæƒç </span></span><br><span class="line">    pwd = <span class="string">&#x27;tvjl******zpbebb&#x27;</span></span><br><span class="line">    <span class="comment"># å‘ä»¶äººçš„é‚®ç®±</span></span><br><span class="line">    sender_qq_mail = <span class="string">&#x27;947118251@qq.com&#x27;</span></span><br><span class="line">    <span class="comment"># æ”¶ä»¶äººé‚®ç®±</span></span><br><span class="line">    <span class="comment"># receiver = &#x27;znwindy@gmail.com&#x27;</span></span><br><span class="line">    receiver = <span class="string">&#x27;947118251@qq.com&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># sslç™»å½•</span></span><br><span class="line">        smtp = SMTP_SSL(host_server)</span><br><span class="line">        <span class="comment"># set_debuglevel()æ˜¯ç”¨æ¥è°ƒè¯•çš„ã€‚å‚æ•°å€¼ä¸º1è¡¨ç¤ºå¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œå‚æ•°å€¼ä¸º0å…³é—­è°ƒè¯•æ¨¡å¼</span></span><br><span class="line">        smtp.set_debuglevel(<span class="number">1</span>)</span><br><span class="line">        smtp.ehlo(host_server)</span><br><span class="line">        smtp.login(sender_qq, pwd)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># msg = MIMEText(mail_content, &quot;plain&quot;, &#x27;utf-8&#x27;)</span></span><br><span class="line">        msg = MIMEMultipart(<span class="string">&#x27;related&#x27;</span>)</span><br><span class="line">        msg[<span class="string">&quot;Subject&quot;</span>] = Header(mail_title, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        msg[<span class="string">&quot;From&quot;</span>] = sender_qq_mail</span><br><span class="line">        msg[<span class="string">&quot;To&quot;</span>] = receiver</span><br><span class="line"></span><br><span class="line">        msgAlternative = MIMEMultipart(<span class="string">&#x27;alternative&#x27;</span>)</span><br><span class="line">        msg.attach(msgAlternative)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># image attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_img:</span><br><span class="line">            mail_body = <span class="string">&#x27;&lt;b&gt;%s&lt;/b&gt;&lt;br&gt;&lt;img src=&quot;cid:%s&quot;&gt;&lt;br&gt;&#x27;</span> % (mail_content, attachment_img)</span><br><span class="line">            msgText = (MIMEText(mail_body, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">            msgAlternative.attach(msgText)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_img, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                msgImage = MIMEImage(fp.read())</span><br><span class="line">            msgImage.add_header(<span class="string">&#x27;Content-ID&#x27;</span>, <span class="string">&#x27;&lt;&#123;&#125;&gt;&#x27;</span>.<span class="built_in">format</span>(attachment_img))</span><br><span class="line">            msg.attach(msgImage)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># txt attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_txt:</span><br><span class="line">            file_name = os.path.split(attachment_txt)[<span class="number">1</span>]</span><br><span class="line">            att1 = MIMEText(<span class="built_in">open</span>(attachment_txt, <span class="string">&#x27;rb&#x27;</span>).read(), <span class="string">&#x27;base64&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">            att1[<span class="string">&quot;Content-Type&quot;</span>] = <span class="string">&#x27;application/octet-stream&#x27;</span></span><br><span class="line">            <span class="comment"># è¿™é‡Œçš„filenameå¯ä»¥ä»»æ„å†™ï¼Œå†™ä»€ä¹ˆåå­—ï¼Œé‚®ä»¶ä¸­æ˜¾ç¤ºä»€ä¹ˆåå­—</span></span><br><span class="line">            att1[<span class="string">&quot;Content-Disposition&quot;</span>] = <span class="string">f&#x27;attachment; filename=&quot;<span class="subst">&#123;file_name&#125;</span>&quot;&#x27;</span></span><br><span class="line">            msg.attach(att1)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># pdf attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_pdf:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_pdf, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                fileMsg = MIMEBase(<span class="string">&#x27;application&#x27;</span>, <span class="string">&#x27;pdf&#x27;</span>)</span><br><span class="line">                fileMsg.set_payload(fp.read())</span><br><span class="line">                encode_base64(fileMsg)</span><br><span class="line">                fileMsg.add_header(<span class="string">&#x27;Content-Disposition&#x27;</span>, <span class="string">f&#x27;attachment;filename=<span class="subst">&#123;os.path.split(attachment_pdf)[<span class="number">1</span>]&#125;</span>&#x27;</span>)</span><br><span class="line">                msg.attach(fileMsg)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># excel attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_excel:</span><br><span class="line">            part = MIMEBase(<span class="string">&#x27;application&#x27;</span>, <span class="string">&quot;vnd.ms-excel&quot;</span>)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_excel, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                part.set_payload(fp.read())</span><br><span class="line">                encode_base64(part)</span><br><span class="line">                part.add_header(<span class="string">&#x27;Content-Disposition&#x27;</span>, <span class="string">f&#x27;attachment; filename=&quot;<span class="subst">&#123;os.path.split(attachment_excel)[<span class="number">1</span>]&#125;</span>&quot;&#x27;</span>)</span><br><span class="line">                msg.attach(part)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># word attach</span></span><br><span class="line">        <span class="keyword">if</span> attachment_word:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(attachment_word, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">                part = MIMEApplication(fp.read())</span><br><span class="line">                part.add_header(<span class="string">&#x27;Content-Disposition&#x27;</span>, <span class="string">f&#x27;attachment; filename=&quot;<span class="subst">&#123;os.path.split(attachment_word)[<span class="number">1</span>]&#125;</span>&quot;&#x27;</span>)</span><br><span class="line">                part.set_charset(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">                msg.attach(part)</span><br><span class="line"></span><br><span class="line">        smtp.sendmail(sender_qq_mail, receiver, msg.as_string())</span><br><span class="line">        smtp.quit()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Success!&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Error!&#x27;</span>)</span><br><span class="line">        traceback.print_exc()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    send_mail(mail_title=<span class="string">&#x27;çˆ¬è™«ç»“æŸäº†ï¼Œæ­£å¸¸é€€å‡º!&#x27;</span>,</span><br><span class="line">              mail_content=<span class="string">&#x27;ä½ å¥½ï¼Œè¿™æ˜¯ä½¿ç”¨pythonç™»å½•qqé‚®ç®±å‘é‚®ä»¶çš„æµ‹è¯•&#x27;</span>,</span><br><span class="line">              attachment_img=<span class="string">&#x27;../data/test.jpg&#x27;</span>,</span><br><span class="line">              attachment_txt=<span class="string">&#x27;../data/start_urls.txt&#x27;</span>,</span><br><span class="line">              attachment_pdf=<span class="string">&#x27;../data/Gmail - How to add images in the product description_.pdf&#x27;</span>,</span><br><span class="line">              attachment_excel=<span class="string">&#x27;../data/shops.xlsx&#x27;</span>,</span><br><span class="line">              attachment_word=<span class="string">&#x27;../data/asdasd.docx&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2018/12/20/attachments/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>PyQt5 ç¼–å†™å¹¶åœ¨Windowsä¸Šç”¨Cx_Freezeæ‰“åŒ…GUIç¨‹åº</title>
      <link>http://example.com/2018/09/11/Pyqt5-GUI-package-on-Windows/</link>
      <guid>http://example.com/2018/09/11/Pyqt5-GUI-package-on-Windows/</guid>
      <pubDate>Tue, 11 Sep 2018 14:51:05 GMT</pubDate>
      
      <description>&lt;p&gt;ç®€è¿°ä¸‹å¦‚ä½•åœ¨Windowsä¸Šç”¨Cx_Freezeæ­£ç¡®æ‰“åŒ…GUIç¨‹åº&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç®€è¿°ä¸‹å¦‚ä½•åœ¨Windowsä¸Šç”¨Cx_Freezeæ­£ç¡®æ‰“åŒ…GUIç¨‹åº</p><span id="more"></span><p>ä¸ºäº†é˜²æ­¢å‡ºç°&gt; This application failed to start because it could not find or load the Qt platform plugin â€œwindowsâ€ é”™è¯¯ï¼Œå¦‚<a href="https://pythonexample.com/code/cx_freeze-pyqt5">Cx_Freeze Pyqt5 - pythonexample.com</a>è¿™é‡Œç®€è¿°çš„ï¼Œæˆ‘ä»¬éœ€è¦PyQt5çš„åº“ä½ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> cx_Freeze <span class="keyword">import</span> setup, Executable</span><br><span class="line"></span><br><span class="line">path_platforms = ( <span class="string">&quot;C:\\Users\\zhaon\\Anaconda3\\pkgs\\qt-5.9.5-vc14he4a7d60_0\\Library\\plugins\\platforms\\qwindows.dll&quot;</span>, <span class="string">&quot;platforms\qwindows.dll&quot;</span> )</span><br><span class="line">includefiles = [path_platforms]</span><br><span class="line"><span class="comment"># Dependencies are automatically detected, but it might need fine tuning.</span></span><br><span class="line">build_exe_options = &#123;<span class="string">&quot;packages&quot;</span>: [<span class="string">&quot;os&quot;</span>],</span><br><span class="line">                     <span class="string">&quot;excludes&quot;</span>: [<span class="string">&quot;tkinter&quot;</span>],</span><br><span class="line">                     <span class="string">&quot;include_files&quot;</span>: includefiles,&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># GUI applications require a different base on Windows (the default is for a</span></span><br><span class="line"><span class="comment"># console application).</span></span><br><span class="line">base = <span class="literal">None</span></span><br><span class="line"><span class="keyword">if</span> sys.platform == <span class="string">&quot;win64&quot;</span>:</span><br><span class="line">    base = <span class="string">&quot;Win64GUI&quot;</span></span><br><span class="line"></span><br><span class="line">setup(name=<span class="string">&quot;QuickJump&quot;</span>,</span><br><span class="line">      version=<span class="string">&quot;0.9&quot;</span>,</span><br><span class="line">      description=<span class="string">&quot;application!&quot;</span>,</span><br><span class="line">      options=&#123;<span class="string">&quot;build_exe&quot;</span>: build_exe_options&#125;,</span><br><span class="line">      executables=[Executable(<span class="string">&quot;app.py&quot;</span>, base=base)])</span><br></pre></td></tr></table></figure><p>å†<code>python setup.py bdist_msi</code>å³å¯æ‰“åŒ…msiå®‰è£…åŒ…ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/PyQt5/">PyQt5</category>
      
      
      <comments>http://example.com/2018/09/11/Pyqt5-GUI-package-on-Windows/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Numpyä¸­çš„mask</title>
      <link>http://example.com/2018/07/20/numpy-mask/</link>
      <guid>http://example.com/2018/07/20/numpy-mask/</guid>
      <pubDate>Fri, 20 Jul 2018 08:48:48 GMT</pubDate>
      
      <description>&lt;p&gt;numpyä¸­çŸ©é˜µé€‰å–å­é›†æˆ–è€…ä»¥æ¡ä»¶æ›¿æ¢ï¼Œç”¨maskæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>numpyä¸­çŸ©é˜µé€‰å–å­é›†æˆ–è€…ä»¥æ¡ä»¶æ›¿æ¢ï¼Œç”¨maskæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•</p><span id="more"></span><p>ç®€å•æ¥è¯´å°±æ˜¯ç”¨boolç±»å‹çš„indiceçŸ©é˜µå»é€‰æ‹©ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mask = np.ones(X.shape[<span class="number">0</span>], dtype=<span class="built_in">bool</span>)</span><br><span class="line">X[mask].shape</span><br><span class="line">mask.shape</span><br><span class="line">mask[indices[<span class="number">0</span>]] = <span class="literal">False</span></span><br><span class="line">mask.shape</span><br><span class="line">X[mask].shape</span><br><span class="line">X[~mask].shape</span><br><span class="line">(<span class="number">678</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">678</span>,)</span><br><span class="line">(<span class="number">678</span>,)</span><br><span class="line">(<span class="number">675</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚æˆ‘ä»¬è¿™é‡Œç”¨æ¥é€‰å–å…¨éƒ¨ç‚¹ä¸­KNNé€‰å–çš„ç‚¹ä»¥åŠæ‰€æœ‰å‰©ä½™çš„ç‚¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> NearestNeighbors</span><br><span class="line">nbrs = NearestNeighbors(<span class="number">10</span>).fit(X)</span><br><span class="line">_,indices = nbrs.kneighbors(X)</span><br><span class="line">mask = np.ones(X.shape[<span class="number">0</span>], dtype=<span class="built_in">bool</span>)</span><br><span class="line">mask[indices[<span class="number">0</span>]] = <span class="literal">False</span></span><br><span class="line">plt.scatter(X[mask][:,<span class="number">0</span>],X[mask][:,<span class="number">1</span>],c=<span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">plt.scatter(X[~mask][:,<span class="number">0</span>],X[~mask][:,<span class="number">1</span>],c=<span class="string">&#x27;r&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="/images/15320771581233.jpg"></p><p>å¸¦æ¡ä»¶é€‰æ‹©æ›¿æ¢ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦å°†açŸ©é˜µå†…æŸæ¡ä»¶çš„è¡Œç½®æ¢ä¸º888å‰©ä½™ç½®æ¢ä¸º999ï¼Œå¯ä»¥ç›´æ¥ç”¨maskæˆ–è€…å†ç”¨whereä¸€æ­¥æå®šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mask = np.ones(a.shape,dtype=<span class="built_in">bool</span>) <span class="comment">#np.ones_like(a,dtype=bool)</span></span><br><span class="line">mask[indices] = <span class="literal">False</span></span><br><span class="line">a[~mask] = <span class="number">999</span></span><br><span class="line">a[mask] = <span class="number">888</span></span><br><span class="line"><span class="comment">#############</span></span><br><span class="line">np.where(mask, <span class="number">888</span>, <span class="number">999</span>)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Numpy/">Numpy</category>
      
      
      <comments>http://example.com/2018/07/20/numpy-mask/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ä¸ºä»€ä¹ˆæˆ‘æ¯å¤©æ—©ä¸Š5:30èµ·åºŠ</title>
      <link>http://example.com/2018/07/19/Why-I-Wake-Up-at-5-30-am-Every-Morning-And-What-You-Will-Gain-From-Doing-It-Too/</link>
      <guid>http://example.com/2018/07/19/Why-I-Wake-Up-at-5-30-am-Every-Morning-And-What-You-Will-Gain-From-Doing-It-Too/</guid>
      <pubDate>Thu, 19 Jul 2018 00:52:23 GMT</pubDate>
      
      <description>&lt;p&gt;å‡ ä¸ªæœˆå‰ï¼Œæˆ‘åšå‡ºä¸€ä¸ªå¯¹æˆ‘æ¥è¯´å®Œå…¨ä¸åˆæ—¶å®œï¼Œå‡ ä¸ªæœˆå†…ä¼šäº§ç”Ÿæ—¥å¸¸å½±å“çš„å†³å®šã€‚&lt;/p&gt;
&lt;p&gt;å†³å®šå°±æ˜¯åœ¨æ¯å¤©æ—©ä¸Š5:30é†’æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/15319616493254.gif&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>å‡ ä¸ªæœˆå‰ï¼Œæˆ‘åšå‡ºä¸€ä¸ªå¯¹æˆ‘æ¥è¯´å®Œå…¨ä¸åˆæ—¶å®œï¼Œå‡ ä¸ªæœˆå†…ä¼šäº§ç”Ÿæ—¥å¸¸å½±å“çš„å†³å®šã€‚</p><p>å†³å®šå°±æ˜¯åœ¨æ¯å¤©æ—©ä¸Š5:30é†’æ¥ã€‚</p><p><img src="/images/15319616493254.gif"></p><span id="more"></span><p>â€œä¸ºä»€ä¹ˆï¼Ÿâ€</p><p>è¿™æ˜¯ä¸€ä¸ªåˆç†çš„é—®é¢˜ã€‚ ï¼ˆæˆ‘å¿…é¡»æ‰¿è®¤ï¼Œæœ‰äº›æ—©æ™¨ï¼Œæˆ‘é—®è‡ªå·±åŒæ ·çš„é—®é¢˜ã€‚ï¼‰</p><p>ä½ æœ‰æ²¡æœ‰é†’è¿‡æ¥è§‰å¾—ä½ å®Œå…¨æ²¡æœ‰äº†ï¼Ÿä½ çå¼€çœ¼ç›ï¼Œä½ å°±ä¼šå› æ€¨æ¨è€Œæˆ˜èƒœã€‚ä½ ä¼šç«‹å³æƒ³è±¡ä½ æ— æƒ…çš„å¾…åŠäº‹é¡¹æ¸…å•ï¼Œä½ èƒŒåçš„ä¸€åˆ‡ï¼Œä»¥åŠæ‰€æœ‰å¿…é¡»è¾¾åˆ°çš„æœ€åæœŸé™ã€‚</p><p>ç»“æœï¼šæ¯å¤©æ—©ä¸Šé†’æ¥ï¼Œå¸Œæœ›ä½ å¯ä»¥åœ¨åºŠä¸Šåº¦è¿‡ä½™ä¸‹çš„ä¸€å¤©ã€‚</p><p>æˆ‘ä¸äº†è§£ä½ ï¼Œä½†åœ¨æˆ‘çš„ä½™ç”Ÿä¸­æ¯å¤©éƒ½å¼€å§‹è¿™æ ·åšï¼Ÿä¸ï¼Œè°¢è°¢ã€‚</p><p>ç„¶åæˆ‘å‘ç°äº†Hal Elrodçš„å¥‡è¿¹æ—©æ™¨ï¼Œä»¥åŠ<a href="http://uk.businessinsider.com/successful-tech-people-who-wake-up-reall-early-2015-8?r=US&IR=T">ä¸€äº›æœ€æˆåŠŸçš„ä¼ä¸šå®¶çš„æ—©æ™¨ä¾‹ç¨‹</a>ã€‚</p><p>å¦‚æœæˆåƒä¸Šä¸‡çš„The Miracle Morningç²‰ä¸ï¼Œä»¥åŠåƒRichard Bransonï¼ˆVirginçš„åˆ›å§‹äººå…¼é¦–å¸­æ‰§è¡Œå®˜ï¼‰ï¼ŒTim Cookï¼ˆAppleé¦–å¸­æ‰§è¡Œå®˜ï¼‰ï¼ŒHoward Schulzï¼ˆæ˜Ÿå·´å…‹é¦–å¸­æ‰§è¡Œå®˜ï¼‰å’ŒJack Dorseyï¼ˆTwitteråˆ›å§‹äººå…¼é¦–å¸­æ‰§è¡Œå®˜ï¼‰ç­‰äººå’Œå¹¿åœºï¼‰åŠªåŠ›åšåˆ°è¿™ä¸€ç‚¹ï¼Œå¿…é¡»æœ‰ä¸€äº›ä¸œè¥¿ï¼Œå¯¹å§ï¼Ÿ</p><p>è¿™ä¸æ˜¯ä¸ºäº†åœ¨å¤ªé˜³ä¹‹å‰åœ¨5:30èµ·åºŠï¼ˆæˆ‘å–œæ¬¢æˆ‘çš„åºŠå’Œä¸‹ä¸€ä¸ªäººä¸€æ ·ï¼‰ã€‚è¿™æ˜¯å…³äºæœ‰æ—¶é—´å®Œæˆæ´»åŠ¨ï¼Œè¿™äº›æ´»åŠ¨å·²çŸ¥ä¼šå¯¹æˆ‘ä»¬çš„å¿ƒç†çŠ¶æ€ï¼Œæ•ˆç‡å’Œï¼ˆé¡ºä¾¿æä¸€ä¸‹ï¼‰æˆ‘ä»¬çš„å¹¸ç¦æ°´å¹³äº§ç”Ÿç›¸å½“ç§¯æçš„å½±å“ã€‚</p><p>å¦‚æœä»¥çƒ­æƒ…çš„çƒ­æƒ…å¼€å§‹æ–°çš„ä¸€å¤©ï¼Œå¹¶ä¸”æƒ³è¦å……åˆ†åˆ©ç”¨å®ƒçš„æƒ³æ³•å¸å¼•ä½ ï¼Œè¿™å°±æ˜¯æˆ‘é‡‡ç”¨çš„æƒ¯ä¾‹ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°äº†å“ˆå°”Â·åŸƒå°”ç½—å¾·åœ¨â€œå¥‡è¿¹æ—©æ™¨â€ä¸­æå‡ºçš„å»ºè®®çš„å¯å‘ã€‚<br>ï¼ˆé‡è¦æç¤ºï¼šæ—©ä¸Š5ç‚¹åŠé†’æ¥å¹¶ä¸æ˜¯å¼ºåˆ¶æ€§çš„ã€‚ä¸ºäº†æœ‰æ—¶é—´è¿›è¡Œè¿™äº›æ´»åŠ¨ï¼Œåªéœ€è¦æ¯”å¹³å¸¸æ—©èµ·æ¥å°±è¶³å¤Ÿäº†ã€‚</p><h2 id="æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ"><a href="#æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ" class="headerlink" title="æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ"></a>æ¸…é†’ä½ çš„æ€æƒ³å’Œä¸“å¿ƒ</h2><p>æˆ‘ä»¬å³å°†è°ˆè®ºå†¥æƒ³ã€‚å…³äºå†¥æƒ³ç›Šå¤„çš„ç§‘å­¦è¯æ®æ­£åœ¨å¢é•¿ã€‚</p><p>å†¥æƒ³ä¸ä¸€å®šæ˜¯ç›˜è…¿ååœ¨åœ°æ¿ä¸Šæ•´æ•´ä¸€ä¸ªå°æ—¶ã€‚ç»å¸¸ç»ƒä¹ äº”åˆ†é’Ÿçš„å†¥æƒ³ä¼šç»™ä½ åŒæ ·çš„å¥½å¤„ã€‚</p><p>æˆ‘æµ‹è¯•äº†ä¸¤ä¸ªå¯ä»¥åœ¨ä¸€å¼€å§‹å°±æŒ‡å¯¼æ‚¨çš„åº”ç”¨ç¨‹åºï¼š</p><ul><li>Headspaceï¼ˆæ— å¯æŒ‘å‰”çš„ç”¨æˆ·ä½“éªŒè®¾è®¡ï¼ï¼‰</li><li>Calmï¼ˆæˆ‘ç›®å‰ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆï¼‰</li></ul><p>åœ¨The Miracle Morningä¸­ï¼ŒHal Elrodç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„æŠ€å·§ï¼š</p><ul><li>æ‰¾ä¸€ä¸ªèˆ’é€‚çš„åœ°æ–¹ï¼Œåç›´ã€‚</li><li>é—­ä¸Šçœ¼ç›æˆ–ç›¯ç€ä½ é¢å‰çš„å›ºå®šç‚¹ã€‚</li><li>ä¸“æ³¨äºä½ çš„å‘¼å¸;ä»ä½ çš„è…¹éƒ¨å¸æ°”ï¼Œé€šè¿‡èƒ¸éƒ¨å‘¼æ°”ã€‚</li><li>æ¬£èµå¹³é™;å°½é‡ä¸“æ³¨äºä½ çš„å‘¼å¸ï¼Œä¸è¦æƒ³å…¶ä»–ä»»ä½•äº‹æƒ…ã€‚å½“ä½ çš„æ€ç»ªå¾˜å¾Šåˆ°æµæµªçš„æ€ç»ªæ—¶ï¼Œä¸è¦æƒŠæ…Œå¤±æªï¼Œå¹³é™åœ°å°†ä½ çš„ç„¦ç‚¹å¸å›ä½ çš„å‘¼å¸ã€‚<br>ä¼˜ç‚¹ï¼š</li></ul><p>ä½ æ„Ÿåˆ°å‹åŠ›å‡è½»ï¼Œä½ è·å¾—äº†å®‰å¿ƒã€‚ç»è¿‡ä¸€äº›ç»ƒä¹ ï¼Œä¸€æ—¦ä½ åœ¨é‚£10åˆ†é’Ÿåé‡æ–°çå¼€çœ¼ç›ï¼Œä½ ä¼šçœŸæ­£æ„Ÿè§‰åˆ°ä½ å¤„äºä¸åŒçš„å¿ƒæ€ã€‚</p><h2 id="å†™"><a href="#å†™" class="headerlink" title="å†™"></a>å†™</h2><p>æ¯å¤©æ—©ä¸ŠèŠ±ç‚¹æ—¶é—´å†™å‡ åˆ†é’Ÿï¼ŒçœŸçš„å¯ä»¥å¸®åˆ°ä½ ã€‚å®ƒå…è®¸æ‚¨è¯„ä¼°æ‚¨çš„å½“å‰çŠ¶æ€ï¼Œå¹¶é‡æ–°å…³æ³¨é‡è¦çš„äº‹æƒ…ã€‚</p><p>ä½ å¯ä»¥ï¼Œä¾‹å¦‚ï¼š</p><ul><li>å†™ä¸‹ä½ æ„Ÿæ©çš„ä¸‰ä»¶äº‹ï¼šäº²å¯†çš„æœ‹å‹å’Œå®¶äººï¼Œä¸€äº›å¥½æ¶ˆæ¯ï¼Œç¾å¥½çš„å›å¿†æˆ–æˆå°±ã€‚</li><li>å†™ä¸‹ä½ å½“æ—¶çš„æƒ³æ³•ã€‚</li><li>å†™ä¸‹ä½ æƒ³åœ¨ç™½å¤©å®Œæˆçš„ä¸€åˆ‡ã€‚</li><li>å†™ä¸‹ä¸€æ¡æ¿€åŠ±ä½ æˆ–ä½ æƒ³è¦è®°ä½çš„å¼•è¯­ã€‚</li><li>è®°ä¸‹ä½ æœ€è¿‘å­¦åˆ°çš„ä¸€ä»¶äº‹æˆ–è€…ä½ æœ‰ä¸€ä¸ªé¡¿æ‚Ÿã€‚</li><li>ä¸€å¼€å§‹æˆ‘æ›¾ç»å†™è¿‡ä¸€ä¸ªç©ºç™½çš„Moleskineç¬”è®°æœ¬ã€‚ç„¶åæˆ‘ä½¿ç”¨äº†ä¸€ç§ç‰¹æ®Šçš„æ—¥è®°ï¼ˆä¸æ˜¯é‚£äº›14å²å°å­©ç”¨çš„å°å¿ƒè„çš„æ—¥è®°ï¼‰ã€‚ä»Šå¤©ï¼Œæˆ‘æ­£åœ¨åˆ¶ä½œè‡ªå·±çš„æœŸåˆŠã€‚å®ƒå°†æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å¸ƒå±€ï¼Œæˆ‘å¯ä»¥å›ç­”é¢„å®šä¹‰çš„æ¯æ—¥é—®é¢˜ã€‚</li></ul><p>ä¼˜ç‚¹ï¼š</p><p>ä½ ä¼šæ„Ÿåˆ°æ›´å¿«ä¹ï¼Œæ›´ä¸“æ³¨ã€‚åšè¿™ä¸ªç»ƒä¹ ä¹Ÿå¯ä»¥å¸®åŠ©ä½ è®°å½•ä½ çš„è¿›æ­¥ï¼Œä»¥åŠä½ ç”Ÿæ´»ä¸­æ‰€æœ‰ç§¯æçš„äº‹æƒ…ã€‚</p><h2 id="æé†’è‡ªå·±ä½ çš„ç›®æ ‡"><a href="#æé†’è‡ªå·±ä½ çš„ç›®æ ‡" class="headerlink" title="æé†’è‡ªå·±ä½ çš„ç›®æ ‡"></a>æé†’è‡ªå·±ä½ çš„ç›®æ ‡</h2><p>æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚æ‚¨å¯ä»¥é€‰æ‹©å…¶ä¸­ä¹‹ä¸€æˆ–ä¸‰è€…çš„ç»„åˆã€‚</p><ul><li>èª“è¯ã€‚è¿™äº›æ˜¯å¯é‡å¤çš„çŸ­è¯­ï¼Œæè¿°äº†æ‚¨æƒ³æˆä¸ºçš„äººã€‚</li><li>å¯è§†åŒ–ã€‚æƒ³è±¡ä¸€ä¸‹è‡ªå·±æ­£åœ¨å®Œæˆä½ æƒ³è¦å®Œæˆçš„äº‹æƒ…ï¼Œäº«å—ç¾å¥½çš„ä¸€å¤©ã€‚æƒ³è±¡å¹¶æƒ³è±¡æ‚¨å°†ä½“éªŒåˆ°çš„æ„Ÿå—ã€‚</li><li>æé†’ç›®æ ‡ã€‚è¿™æ˜¯æŠ½å‡ºæˆ‘ä»¬ä¹‹å‰è®¨è®ºè¿‡çš„æ¯å‘¨å·¥ä½œè¡¨çš„æ—¶åˆ»ã€‚æ‚¨è¿˜å¯ä»¥èŠ±ç‚¹æ—¶é—´å†™ä¸‹æ‚¨çš„ç›®æ ‡å¹¶æé†’æ‚¨è‡ªå·±æƒ³è¦å®Œæˆå®ƒä»¬çš„åŸå› ã€‚ä¾‹å¦‚ï¼šâ€œä¸å®¶äººå…±åº¦ç¾å¥½çš„ä¸€å¤© - å› ä¸ºä»–ä»¬æ˜¯æˆ‘çš„é¦–è¦ä»»åŠ¡ã€‚â€<br>æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°è‚¯å®šå’Œå¯è§†åŒ–æ—¶çš„åˆæ­¥ååº”ï¼š<br>ï¼ˆèµ·åˆæˆ‘æœ‰ä¸€ç‚¹è‚¯å®šå’Œå¯è§†åŒ–æ–¹é¢æœ‰ç‚¹éº»çƒ¦ã€‚å½“ä½ æœ€åˆå¼€å§‹å°è¯•å®ƒä»¬æ—¶ï¼Œä½ ä¼šæ„Ÿè§‰åˆ°ä½ å·²ç»è½åœ¨å…¶ä¸­ä¸€ä¸ªç¾å›½å¤§ä¼šçš„ä¸­é—´ï¼Œåœ¨é‚£é‡Œæ¼”è®²è€…å‘Šè¯‰ä½ ä½ æ˜¯å¤šä¹ˆç¾å¦™ï¼Œä»¥åŠå¦‚ä½•æ”¹å˜ä¸–ç•Œâ€¦ä½†æœ€ç»ˆï¼Œæˆ‘å·²ç»ä¹ æƒ¯äº†ä»–ä»¬ã€‚ï¼‰</li></ul><h2 id="åŠ¨èµ·æ¥-ï¼"><a href="#åŠ¨èµ·æ¥-ï¼" class="headerlink" title="åŠ¨èµ·æ¥ ï¼"></a>åŠ¨èµ·æ¥ ï¼</h2><p>è¿™æ˜¯æˆ‘æ—¥å¸¸åŠ¨æœºçš„é•œå¤´ï¼å®ƒè®©æˆ‘æƒ³èµ·äº†æˆ‘æƒ³åšä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œä»¥åŠæˆ‘å°†å¦‚ä½•å»åšã€‚</p><p>æˆåŠŸäººå£«ç»å¸¸é”»ç‚¼æ˜¯æœ‰åŸå› çš„ã€‚è¿™æ˜¯å› ä¸ºä»–ä»¬æ„è¯†åˆ°ä»–ä»¬éœ€è¦åœ¨æ¸¸æˆä¸­å¤„äºé¢†å…ˆåœ°ä½ï¼Œä»¥å®ç°ä»–ä»¬çš„ç›®æ ‡ï¼Œå¹¶ä¸”æ¯å¤©éƒ½å……åˆ†å‘æŒ¥ä½œç”¨ã€‚</p><p>è’‚å§†åº“å…‹æ¯å¤©å‡Œæ™¨5ç‚¹å»å¥èº«æˆ¿ï¼Œæˆ–è€…æ°å…‹å¤šå°”è¥¿è·‘10å…¬é‡Œå¼€å§‹ä»–çš„ä¼‘æ¯æ—¥å¹¶ä¸å¥‡æ€ªã€‚</p><p>å¦‚æœæ‚¨æƒ³åœ¨æ²¡æœ‰è´­ä¹°ä»»ä½•è®¾å¤‡çš„æƒ…å†µä¸‹å¼€å§‹ï¼Œæ— éœ€åŠ å…¥å¥èº«æˆ¿ï¼Œä¹Ÿæ²¡æœ‰æ‰¿è¯ºï¼Œæ‚¨å¯ä»¥ä¸¾ä¾‹ï¼š</p><p>å»è·‘æ­¥ï¼Œå³ä½¿ä½ å¼€å§‹10-15åˆ†é’Ÿ<br>åšä¸€ä¸ªç€åçš„ä¸ƒåˆ†é’Ÿè®­ç»ƒï¼ˆä¾‹å¦‚è¿™ä¸ª -  <a href="https://itunes.apple.com/en/app/7-minute-workout/id650762525?mt=8%EF%BC%89">https://itunes.apple.com/en/app/7-minute-workout/id650762525?mt=8ï¼‰</a></p><p>æ¯å¤©æ—©ä¸Šåšä¸€ç‚¹æ˜¯ç†æƒ³çš„ã€‚ä½†æˆ‘å‘ç°æœ€æœ‰ç”¨çš„æ˜¯æ¯éš”ä¸€ä¸ªæ—©æ™¨é”»ç‚¼ä¸€ä¸ªåŠå°æ—¶ã€‚å½“æˆ‘ä¸é”»ç‚¼æ—¶ï¼Œæˆ‘ä¼‘æ¯ã€‚æœ€åï¼Œå½“æˆ‘ä¸å»å¥èº«æˆ¿æ—¶ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿåš10åˆ†é’Ÿçš„ç‘œä¼½ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><p>æ—©ä¸Šè¿›è¡ŒæŸç§å½¢å¼çš„èº«ä½“æ´»åŠ¨ï¼Œå³ä½¿åªè¿›è¡Œ10åˆ†é’Ÿçš„è¿åŠ¨ï¼Œä¹Ÿå¯ä»¥è®©ä½ å®Œå…¨é†’æ¥ï¼Œæ”¾æ¾å‹åŠ›ï¼Œå……æ»¡æ´»åŠ›ã€‚å“¦æ˜¯çš„ï¼Œå®ƒä¹Ÿå¾ˆå¥åº·ã€‚éå¸¸å¥½ï¼Œå¯¹å§</p><h2 id="è¯»"><a href="#è¯»" class="headerlink" title="è¯»"></a>è¯»</h2><p>æ‚¨å¯ä»¥éšæ„ä½¿ç”¨æ— é™çš„çŸ¥è¯†æ¥æºï¼šä¹¦ç±ã€‚æ— è®ºä½ æƒ³è¦å®Œæˆä»€ä¹ˆï¼šè·‘é©¬æ‹‰æ¾ï¼Œè‡´å¯Œï¼Œç¯æ¸¸ä¸–ç•Œâ€¦â€¦æœ‰å…³äºè¿™ä¸ªä¸»é¢˜çš„ä¹¦ç±å¯ä»¥æä¾›ç›¸å½“å¤§çš„å¸®åŠ©ã€‚</p><p>æ¯å¤©æ—©ä¸Šé˜…è¯»20åˆ†é’Ÿï¼ˆç”šè‡³10åˆ†é’Ÿï¼‰æ„å‘³ç€å¸æ”¶çŸ¥è¯†ï¼Œä½ å¯ä»¥ç«‹å³ä»˜è¯¸å®è·µï¼Œæ›´æ¥è¿‘å®ç°ç›®æ ‡ã€‚</p><p>æˆ‘ç»å¸¸å†™ä¸€äº›å¯¹æˆ‘æ¥è¯´æœ€æœ‰ç”¨çš„ä¹¦ç±æ‘˜è¦ã€‚</p><p>ä¸€äº›å¯¹æˆ‘äº§ç”ŸçœŸæ­£å½±å“çš„ä¹¦ç±çš„ä¾‹å­ï¼š</p><ul><li>Tim Ferrisçš„The 4-Hour Workweekï¼ˆé˜…è¯»å®ƒä»¥å¤§å¤§æé«˜æ‚¨çš„å·¥ä½œæ•ˆç‡ï¼‰</li><li>Dale Carnegie çš„How to Win Friends and Influence People ï¼ˆæ— ç–‘æ˜¯å…³äºäººé™…äº¤å¾€å’Œæƒ…å•†çš„æœ€ä½³ç°å­˜ä¹¦ç±ï¼‰</li><li>Chris Guillebeauçš„The100 Startupï¼ˆå‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨è¿½æ±‚æ¿€æƒ…çš„åŒæ—¶è·å¾—è‰¯å¥½çš„ç”Ÿæ´»ï¼‰</li><li>The Power of Lessï¼šå°†è‡ªå·±é™åˆ¶åœ¨å•†ä¸šå’Œç”Ÿæ´»ä¸­å¿…ä¸å¯å°‘çš„ç¾æœ¯Leo Babautaï¼ˆæ•™ä½ æ¶ˆé™¤ä¸å¿…è¦çš„æ›´å¤šï¼‰</li></ul><p><strong>ğŸ˜ç«™é•¿æ¨èï¼šå¤–æ–‡åŸç‰ˆç”µå­ä¹¦æ¨èä¸‹è½½ç½‘ç«™<a href="http://gen.lib.rus.ec/">Library Genesis</a></strong><br><img src="/images/15319638830117.jpg"></p><p>ä¼˜ç‚¹ï¼š</p><p>ä¸ºä»€ä¹ˆä¸ä»æˆåŠŸäººå£«çš„ç»éªŒä¸­å­¦ä¹ å‘¢ï¼Ÿä½ ä¼šèŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚ä½ ä¼šä¸°å¯Œè‡ªå·±ã€‚é€šè¿‡åˆ†äº«æ‚¨å­¦åˆ°çš„æ‰€æœ‰çŸ¥è¯†ï¼Œæ‚¨å°†èƒ½å¤Ÿå¸®åŠ©èº«è¾¹çš„äººã€‚</p><p>æˆ‘å·²ç»ç»ƒä¹ äº†å‡ ä¸ªæœˆçš„è¿™ç§ä»ªå¼ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¥½å¤„ï¼š</p><ul><li>æˆ‘ä»æœªè¯»è¿‡é‚£ä¹ˆå¤šï¼Œå› æ­¤å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼ ï¼ˆæˆ‘ä¹Ÿåœ¨æ—©æ™¨çš„ä»ªå¼ä¹‹å¤–é˜…è¯»ï¼‰</li><li>æˆ‘ï¼ˆæœ€ç»ˆï¼‰æˆåŠŸåœ°è‡´åŠ›äºå®šæœŸé”»ç‚¼ï¼ˆè¿™ä¸ªå¥‡è¿¹ä¸€ä¸‹ï¼‰</li><li>æˆ‘çŸ¥é“æˆ‘æƒ³å»å“ªé‡Œï¼Œä¸ºä»€ä¹ˆï¼ˆå³ä½¿â€œå¦‚ä½•â€ä»ç„¶å«ç³Šä¸æ¸…ï¼‰<br>é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘åœ¨æ—©ä¸Š6:10å†™äº†è¿™ç¯‡æ–‡ç« ã€‚æˆ‘åˆšåˆšå®Œæˆäº†æ—©ä¸Šçš„ä»ªå¼ï¼Œæˆ‘å·²ç»å¼€å§‹å®Œæˆå½“å¤©çš„ç¬¬ä¸€é¡¹ä»»åŠ¡äº†ï¼šå†™è¿™ç¯‡æ–‡ç« ï¼</li></ul><p>æˆ‘åªèƒ½é¼“åŠ±ä½ ç»™è‡ªå·±æ¯å¤©å¼€å§‹çš„æœºä¼šï¼Œè€Œä¸æ˜¯è¿Ÿåˆ°å’Œå‹åŠ›ï¼Œä½†è¦ç…§é¡¾å¥½è‡ªå·±ï¼Œå……æ»¡åŠ¨åŠ›ï¼Œå¹¶å†³å¿ƒå……åˆ†åˆ©ç”¨æ¯ä¸€åˆ†é’Ÿã€‚</p><h2 id="ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯"><a href="#ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯" class="headerlink" title="ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯"></a>ä½ çš„å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå¦‚æœä½ æ„¿æ„çš„è¯</h2><ul><li>å¯¹äºä½ ä»¬ä¸­é—´çš„æ ¸å¿ƒï¼šæ˜å¤©æ—©ä¸Šæ¯”å¹³å¸¸æå‰ä¸€å°æ—¶è®¾ç½®ä½ çš„é—¹é’Ÿï¼Œå¹¶ä¸”æ¯æ¬¡è¿™äº›æ´»åŠ¨éƒ½è¦åš10åˆ†é’Ÿã€‚</li><li>å¯¹äºé‚£äº›å–œæ¬¢æ…¢æ…¢åšçš„äººï¼šé€‰æ‹©ä¸¤ä¸‰ä¸ªå¯¹ä½ æœ‰å¸å¼•åŠ›çš„ä»»åŠ¡ï¼Œå¹¶æ˜å¤©æ—©ä¸Šå¼€å§‹åšã€‚</li><li>ä»–ä»¬è¯´ï¼Œä¸ºäº†åœ¨ä½ çš„ç”Ÿæ´»ä¸­å»ºç«‹ä¸€ä¸ªæ–°çš„ä¹ æƒ¯ï¼Œä½ å¿…é¡»é€šè¿‡â€œ21å¤©å¤§å…³ã€‚â€å¦‚æœä½ æƒ³å†’é™©ï¼Œä½ çŸ¥é“ä½ å¿…é¡»åšä»€ä¹ˆã€‚</li></ul><h2 id="è¯‘è€…çš„è¯"><a href="#è¯‘è€…çš„è¯" class="headerlink" title="è¯‘è€…çš„è¯"></a>è¯‘è€…çš„è¯</h2><p>æˆ‘å°è¯•äº†è®¸å¤šä¼ è¯´ä¸­å¯¹äºæ—©æœŸæœ‰å¸®åŠ©çš„APPï¼Œè®¸å¤šçš„ç†å¿µåŸºäºå¼ºåˆ¶æ€§çš„è®©ä½ åšä¸€äº›åŠ¨ä½œï¼ˆæ¯”å¦‚å¼ºè¿«æ‰«ç ä½ çš„ç‰™è†ï¼‰æ¥æ¶ˆé™¤ä½ çš„ç¡æ„ï¼Œä¸è¿‡æˆ‘è®¤ä¸ºè¿™ç§ç†å¿µæœ¬æ¥å°±æ˜¯ä¸å¯¹çš„ï¼Œæƒ¹æ€¥äº†ç”¨æˆ·è¦ç¡åˆ äº†APPä¸å°±è¡Œäº†ï¼Ÿï¼ğŸ˜‚<br>ç°åœ¨æˆ‘ç”¨çš„æ„Ÿè§‰å¾ˆæˆåŠŸçš„ä¸€æ¬¾APPå«åš<a href="https://www.sleepcycle.com/">Sleep Cycle alarm clock</a>ï¼ŒåŸºäºåœ¨ä½ æµ…ç¡çœ çš„æ—¶å€™å«é†’çš„è¿™ä¸ªç†å¿µï¼Œä¿è¯é—¹é“ƒå“èµ·çš„æ—¶å€™èµ·åºŠæ¦‚ç‡è¶…é«˜ï¼<br>æ¯”å¦‚ä¸‹å›¾ï¼Œæˆ‘å®šäº†5ï¼š30çš„é—¹é’Ÿï¼Œé‚£ä¹ˆAPPä¼šæ¢æµ‹æˆ‘åœ¨5ï¼š00~5ï¼š30ä¹‹é—´çš„ä¸€ä¸ªæµ…ç¡çœ æ—¶åˆ»å«é†’æˆ‘ã€‚<br><img src="/images/15319625280582.jpg"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.huffingtonpost.com/entry/why-i-wake-up-at-530-am-e_b_8055880">Why I Wake Up at 5:30 am Every Morning (And What You Will Gain From Doing It Too) | HuffPost</a></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/chicken-soup/">chicken-soup</category>
      
      
      <comments>http://example.com/2018/07/19/Why-I-Wake-Up-at-5-30-am-Every-Morning-And-What-You-Will-Gain-From-Doing-It-Too/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Datacamp Git ç¬”è®°</title>
      <link>http://example.com/2018/07/13/Datacamp-Git-Nones/</link>
      <guid>http://example.com/2018/07/13/Datacamp-Git-Nones/</guid>
      <pubDate>Fri, 13 Jul 2018 09:14:07 GMT</pubDate>
      
      <description>&lt;p&gt;æœ€è¿‘å…¥äº†&lt;a href=&quot;https://item.taobao.com/item.htm?spm=a1z09.2.0.0.11752e8diqYgI7&amp;id=565426495436&amp;_u=dn2i5bf6736&quot;&gt;elecomI Padè´´è†œ&lt;/a&gt;åç”¨iPadå†™å­—æ„Ÿè§‰è¶…æ£’ï¼ğŸ±&lt;br&gt;è¿™é‡Œæ˜¯ä¸€æ®µDataCampä¸Šçš„Gitè¯¾ç¨‹çš„ç¬”è®°ï¼Œå½“ç„¶è¿™æ˜¯å…è´¹è¯¾ç¨‹ï¼Œå…¶å®æˆ‘é¢†å–&lt;a href=&quot;http://www.10tiao.com/html/407/201801/2650545581/1.html&quot;&gt;å¾®è½¯é€çš„çš„ä¸¤æœˆDataCampä¼šå‘˜&lt;/a&gt;è¿‡æœŸäº†ã€‚ã€‚ã€‚ğŸ˜¡&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ€è¿‘å…¥äº†<a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.11752e8diqYgI7&id=565426495436&_u=dn2i5bf6736">elecomI Padè´´è†œ</a>åç”¨iPadå†™å­—æ„Ÿè§‰è¶…æ£’ï¼ğŸ±<br>è¿™é‡Œæ˜¯ä¸€æ®µDataCampä¸Šçš„Gitè¯¾ç¨‹çš„ç¬”è®°ï¼Œå½“ç„¶è¿™æ˜¯å…è´¹è¯¾ç¨‹ï¼Œå…¶å®æˆ‘é¢†å–<a href="http://www.10tiao.com/html/407/201801/2650545581/1.html">å¾®è½¯é€çš„çš„ä¸¤æœˆDataCampä¼šå‘˜</a>è¿‡æœŸäº†ã€‚ã€‚ã€‚ğŸ˜¡</p><span id="more"></span><p>è¿™å°±æ˜¯[elecomI çš„Padè´´è†œ]<br><img src="/images/15319713559370.jpg"></p><p><img src="/images/IMG_0150.png" alt="IMG_0150"><br><img src="/images/IMG_0151.png" alt="IMG_0151"></p><p>åç»­æœ‰æ›´æ–°å†è¡¥å……~</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/git/">git</category>
      
      
      <comments>http://example.com/2018/07/13/Datacamp-Git-Nones/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åœ¨Linuxä¸Šé‡æ–°æ˜ å°„Winï¼ŒCtrlå’ŒAlté”®</title>
      <link>http://example.com/2018/07/12/remap-win-ctrl-and-alt-keys-on-linux/</link>
      <guid>http://example.com/2018/07/12/remap-win-ctrl-and-alt-keys-on-linux/</guid>
      <pubDate>Thu, 12 Jul 2018 08:43:42 GMT</pubDate>
      
      <description>&lt;p&gt;ç”¨æƒ¯äº†Macä¸Šçš„CMD + * ç­‰æ“ä½œï¼Œå°±ä¹ æƒ¯äº†å·¦æ‰‹å¤§æ‹‡æŒ‡è¿™ä¸ªç»„åˆé”®æ“ä½œäº†ï¼Œåˆ‡æ¢åˆ°Linuxä¸Šå¿…é¡»è¦Ctrlå„ç§å°æŒ‡ä¸èˆ’æœã€‚ã€‚ã€‚å€¼å¾—ä¸€æçš„æ˜¯Macä¸Šå·¦ä¾§æŒ‰é”®é¡ºåºæ˜¯controlã€alt/optionã€commandï¼ŒUbuntuåˆ™æ˜¯controlã€superã€altï¼ŒWindowsåˆ™æ˜¯controlã€Winã€altã€‚è¿™é‡Œæˆ‘ä»¬æ–¹ä¾¿Macç”¨æˆ·èµ·è§ï¼Œå°±æŠŠUbuntuçš„controlã€superã€altæ˜ å°„ä¸ºsuperã€altã€control&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç”¨æƒ¯äº†Macä¸Šçš„CMD + * ç­‰æ“ä½œï¼Œå°±ä¹ æƒ¯äº†å·¦æ‰‹å¤§æ‹‡æŒ‡è¿™ä¸ªç»„åˆé”®æ“ä½œäº†ï¼Œåˆ‡æ¢åˆ°Linuxä¸Šå¿…é¡»è¦Ctrlå„ç§å°æŒ‡ä¸èˆ’æœã€‚ã€‚ã€‚å€¼å¾—ä¸€æçš„æ˜¯Macä¸Šå·¦ä¾§æŒ‰é”®é¡ºåºæ˜¯controlã€alt/optionã€commandï¼ŒUbuntuåˆ™æ˜¯controlã€superã€altï¼ŒWindowsåˆ™æ˜¯controlã€Winã€altã€‚è¿™é‡Œæˆ‘ä»¬æ–¹ä¾¿Macç”¨æˆ·èµ·è§ï¼Œå°±æŠŠUbuntuçš„controlã€superã€altæ˜ å°„ä¸ºsuperã€altã€control</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.Xmodmap</span><br><span class="line"></span><br><span class="line">clear control</span><br><span class="line">clear mod1</span><br><span class="line">clear mod4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">keycode 37  = Super_L     </span><br><span class="line">! left  Ctrl becomes Super</span><br><span class="line">keycode 64  = Control_L</span><br><span class="line">! left  Alt  becomes Control </span><br><span class="line">keycode 133 = Alt_L Meta_L</span><br><span class="line">! left  Win  becomes Alt</span><br><span class="line">keycode 108 = Control_R</span><br><span class="line">! right Alt  becomes Control </span><br><span class="line">keycode 134 = Alt_R Meta_R</span><br><span class="line">! right Win  becomes Alt</span><br><span class="line">keycode 105 = Super_R</span><br><span class="line">! right Ctrl becomes Super</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">add control = Control_L Control_R</span><br><span class="line">add mod1 = Alt_L Meta_L</span><br><span class="line">add mod4 = Super_L Super_R</span><br></pre></td></tr></table></figure><p>å†<code>xmodmap ~/.Xmodmap</code>å³å¯ï¼</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2018/07/12/remap-win-ctrl-and-alt-keys-on-linux/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Mac åŒå¼€ ss æ–¹æ³•</title>
      <link>http://example.com/2018/05/31/dual-ss-on-mac/</link>
      <guid>http://example.com/2018/05/31/dual-ss-on-mac/</guid>
      <pubDate>Thu, 31 May 2018 11:24:17 GMT</pubDate>
      
      <description>&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªä»£ç†ï¼Œè­¬å¦‚ä¸€ä¸ªç”¨æ¥è¿éœ€è¦ç»è¿‡è·³æ¿æœºä»£ç†çš„é›†ç¾¤æœåŠ¡ï¼Œä¸€ä¸ªåˆ™ç”¨æ¥ç§‘å­¦ä¸Šç½‘ï¼Œä¸åœåˆ‡æ¢éº»çƒ¦ä¸”ä»£ä»·æ¯”è¾ƒé«˜ï¼Œé‚£æˆ‘ä»¬é™¤äº†ShadowsocksX-NGå®¢æˆ·ç«¯ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼å†å¼€å¯ä¸€ä¸ªï¼Œ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªä»£ç†ï¼Œè­¬å¦‚ä¸€ä¸ªç”¨æ¥è¿éœ€è¦ç»è¿‡è·³æ¿æœºä»£ç†çš„é›†ç¾¤æœåŠ¡ï¼Œä¸€ä¸ªåˆ™ç”¨æ¥ç§‘å­¦ä¸Šç½‘ï¼Œä¸åœåˆ‡æ¢éº»çƒ¦ä¸”ä»£ä»·æ¯”è¾ƒé«˜ï¼Œé‚£æˆ‘ä»¬é™¤äº†ShadowsocksX-NGå®¢æˆ·ç«¯ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼å†å¼€å¯ä¸€ä¸ªï¼Œ</p><span id="more"></span><p><img src="/images/15277663104280.jpg"></p><p><img src="/images/15277666370736.jpg"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨Homebrewå®‰è£…</span></span><br><span class="line">brew install shadowsocks-libev</span><br><span class="line"><span class="comment"># ç¼–è¾‘é…ç½®ä¿¡æ¯</span></span><br><span class="line">sudo vim /usr/<span class="built_in">local</span>/etc/shadowsocks-libev.json</span><br><span class="line"><span class="comment"># æ ¼å¼å¦‚ä¸‹ï¼Œæ³¨æ„ä¸ShadowsocksX-NGçš„local_portä¹Ÿå°±æ˜¯socks5ä¸åŒ</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;server&quot;</span>:<span class="string">&quot;107.167.185.234&quot;</span>,</span><br><span class="line">    <span class="string">&quot;server_port&quot;</span>:11499,</span><br><span class="line">    <span class="string">&quot;local_port&quot;</span>:1079,</span><br><span class="line">    <span class="string">&quot;password&quot;</span>:<span class="string">&quot;xxxxxxxx&quot;</span>,</span><br><span class="line">    <span class="string">&quot;timeout&quot;</span>:600,</span><br><span class="line">    <span class="string">&quot;method&quot;</span>:<span class="string">&quot;aes-256-gcm&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># é‡å¯ shadowsocks-libevï¼Œä¼šè‡ªåŠ¨æ·»åŠ å¼€æœºè‡ªå¯</span></span><br><span class="line">brew services restart shadowsocks-libev</span><br></pre></td></tr></table></figure><p>å†åœ¨SwitchyOmegaé‡Œé¢è®¾ç½®ä¸¤ä¸ªä¸åŒçš„ä»£ç†å³å¯ï¼Œ<br><img src="/images/15277663992132.jpg"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Mac/">Mac</category>
      
      
      <comments>http://example.com/2018/05/31/dual-ss-on-mac/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ä» Hive è·å–æ•°æ®åˆ°æœ¬åœ°çš„æ–¹æ³• ğŸ¦„</title>
      <link>http://example.com/2018/05/03/get-table-from-spark/</link>
      <guid>http://example.com/2018/05/03/get-table-from-spark/</guid>
      <pubDate>Thu, 03 May 2018 12:51:14 GMT</pubDate>
      
      <description>&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨pyspark è¯»å–Hiveé‡Œçš„è¡¨æ ¼ï¼Œå­˜å‚¨åˆ°HDFSï¼Œå†getåˆ°è·³æ¿æœºï¼Œå†rsyncåˆ°æœ¬åœ°ï¼Œå†ç”¨daskè¯»å–ä¸ºDataframeã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æˆ‘ä»¬ä½¿ç”¨pyspark è¯»å–Hiveé‡Œçš„è¡¨æ ¼ï¼Œå­˜å‚¨åˆ°HDFSï¼Œå†getåˆ°è·³æ¿æœºï¼Œå†rsyncåˆ°æœ¬åœ°ï¼Œå†ç”¨daskè¯»å–ä¸ºDataframeã€‚</p><span id="more"></span><h2 id="ç¬¬ä¸€ç‰ˆ"><a href="#ç¬¬ä¸€ç‰ˆ" class="headerlink" title="ç¬¬ä¸€ç‰ˆ"></a>ç¬¬ä¸€ç‰ˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">1</span> <span class="keyword">from</span> pyspark.sql <span class="keyword">import</span> *</span><br><span class="line"> <span class="number">2</span> <span class="keyword">import</span> pyspark</span><br><span class="line"> <span class="number">3</span> <span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"> <span class="number">4</span>     spark = SparkSession.builder.master(<span class="string">&quot;yarn&quot;</span>).appName(<span class="string">&quot;pyspark location process&quot;</span>).enableHiveSupport().getOrCreate()</span><br><span class="line"> <span class="number">5</span>     sc = spark.sparkContext</span><br><span class="line"> <span class="number">6</span>    <span class="comment"># spark.sql(&#x27;show databases&#x27;).show()</span></span><br><span class="line"> <span class="number">7</span>     spark.sql(<span class="string">&#x27;use annals&#x27;</span>).show()</span><br><span class="line"> <span class="number">8</span>    <span class="comment"># spark.sql(&#x27;describe gps2&#x27;).show()</span></span><br><span class="line"> <span class="number">9</span>     spark.sql(<span class="string">&#x27;select * from gps2 limit 1&#x27;</span>).show()</span><br><span class="line"><span class="number">10</span>     sql_df = spark.sql(<span class="string">&#x27;select uid, lat, lgt, app_adjust_time from gps2 limit 5&#x27;</span>)</span><br><span class="line"><span class="number">11</span>     <span class="comment">#sql_df.show()</span></span><br><span class="line"><span class="number">12</span>     <span class="built_in">print</span>(<span class="built_in">type</span>(sql_df))</span><br><span class="line"><span class="number">13</span>     sql_df.write.save(<span class="string">&quot;data/GrMWKfDj9eIjsRuh.parquet&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="ç¬¬äºŒç‰ˆ"><a href="#ç¬¬äºŒç‰ˆ" class="headerlink" title="ç¬¬äºŒç‰ˆ"></a>ç¬¬äºŒç‰ˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># find pyspark and import</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> gc </span><br><span class="line">os.environ[<span class="string">&#x27;SPARK_HOME&#x27;</span>] = <span class="string">&quot;/opt/cloudera/parcels/SPARK2/lib/spark2&quot;</span></span><br><span class="line">sys.path.append(os.path.join(<span class="string">&quot;/home/ubuntu/data/pythonpackage&quot;</span>))</span><br><span class="line">sys.path.append(os.path.join(os.environ[<span class="string">&#x27;SPARK_HOME&#x27;</span>], <span class="string">&quot;python&quot;</span>))</span><br><span class="line">sys.path.append(os.path.join(os.environ[<span class="string">&#x27;SPARK_HOME&#x27;</span>], <span class="string">&quot;python/lib/py4j-0.10.6-src.zip&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">from</span> pyspark <span class="keyword">import</span> SparkContext</span><br><span class="line">    <span class="keyword">from</span> pyspark.sql <span class="keyword">import</span> SparkSession</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> pyspark <span class="keyword">import</span> SparkConf</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;success&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">except</span> ImportError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;error importing spark modules&quot;</span>, e)</span><br><span class="line">    sys.exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#   SparkSessionåˆå§‹åŒ–</span></span><br><span class="line">spark = SparkSession \</span><br><span class="line">    .builder \</span><br><span class="line">    .master(<span class="string">&quot;yarn&quot;</span>) \</span><br><span class="line">    .appName(<span class="string">&quot;gps&quot;</span>) \</span><br><span class="line">    .config(<span class="string">&quot;spark.submit.deployMode&quot;</span>,<span class="string">&quot;client&quot;</span>) \</span><br><span class="line">    .config(<span class="string">&quot;num-executors&quot;</span>, <span class="number">5</span>) \</span><br><span class="line">    .config(<span class="string">&quot;executor-cores&quot;</span>, <span class="number">4</span>) \</span><br><span class="line">    .config(<span class="string">&quot;executor-memory&quot;</span>, <span class="string">&quot;2g&quot;</span>) \</span><br><span class="line">    .config(<span class="string">&quot;driver-memory&quot;</span>, <span class="string">&quot;1g&quot;</span>) \</span><br><span class="line">    .enableHiveSupport() \</span><br><span class="line">    .getOrCreate() </span><br><span class="line">sc = spark.sparkContext</span><br><span class="line"></span><br><span class="line"><span class="comment"># spark sqlï¼Œå¾—åˆ°dataframe</span></span><br><span class="line">df = spark.sql(<span class="string">&quot;SELECT * FROM tmp.czn_userlocation_filteredby_black&quot;</span>)</span><br><span class="line">df.printSchema()</span><br><span class="line">df.show(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™åˆ°hdfsä¸Šï¼Œparquetæ ¼å¼</span></span><br><span class="line">df.write.parquet(<span class="string">&quot;/user/akulaku/czn_userlocation_filteredby_black.parquet&quot;</span>) </span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±åœ¨hdfsä¸Šå¾—åˆ°äº†ä¸€ä»½parquetæ ¼å¼çš„æ–‡ä»¶ã€‚</p><h2 id="ç¬¬ä¸‰ç‰ˆ"><a href="#ç¬¬ä¸‰ç‰ˆ" class="headerlink" title="ç¬¬ä¸‰ç‰ˆ"></a>ç¬¬ä¸‰ç‰ˆ</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨hiveæˆ–è€…impalaä¸Šå»ºè¡¨ï¼Œä¾‹å¦‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create table tmp.czn_usersensorlog_of_may as SELECT uid, apptime, value0, value1, value2 FROM ods.usersensorlog WHERE month = <span class="string">&quot;2018_05&quot;</span> </span><br></pre></td></tr></table></figure><p><code>show create table tmp.czn_usersensorlog_of_may</code><br><code>CREATE TABLE tmp.czn_usersensorlog_of_may (   uid BIGINT,   apptime BIGINT,   value0 FLOAT,   value1 FLOAT,   value2 FLOAT ) STORED AS TEXTFILE LOCATION &#39;hdfs://nameservice1/user/hive/warehouse/tmp.db/czn_usersensorlog_of_may&#39; </code></p><h2 id="ç¬¬å››ç‰ˆ"><a href="#ç¬¬å››ç‰ˆ" class="headerlink" title="ç¬¬å››ç‰ˆ"></a>ç¬¬å››ç‰ˆ</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æŒ‡å®šè¡¨çš„æ ¼å¼ä¸ºparquetï¼Œè¿™æ ·æœ‰åˆ©äºç”¨pandasæˆ–è€…daskè¯»å–ï¼Œé‚£ä¹ˆå¯ä»¥å¦‚ä¸‹è®¾ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆå»ºè¡¨å†æ’å…¥æ•°æ®ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">drop table <span class="keyword">if</span> exists tmp.czn_userlocation_tmp_test;</span><br><span class="line">CREATE TABLE tmp.czn_userlocation_tmp_test </span><br><span class="line">(   </span><br><span class="line">uid BIGINT,</span><br><span class="line">lat <span class="built_in">float</span>,</span><br><span class="line">lgt <span class="built_in">float</span>,</span><br><span class="line">apptime BIGINT,</span><br><span class="line">)</span><br><span class="line">STORED AS PARQUET</span><br><span class="line">TBLPROPERTIES (<span class="string">&#x27;parquet.compression&#x27;</span>=<span class="string">&#x27;SNAPPY&#x27;</span>);</span><br><span class="line"></span><br><span class="line">insert OVERWRITE TABLE tmp. czn_userlocation_tmp_test</span><br><span class="line">SELECT  uid, lat, lgt,  apptime </span><br><span class="line">from kafka_table.userlocation2 </span><br><span class="line">WHERE apptime between 1532156404000 and 1532156764000;</span><br></pre></td></tr></table></figure><p>å¾—åˆ°äº†hdfsè·¯å¾„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨hdfså‘½ä»¤get</p><p>æ­¤æ—¶æ•°æ®åªæ˜¯åœ¨hdfsä¸Šï¼Œæˆ‘ä»¬è¦ä¸‹è½½è¿˜éœ€è¦å°†æ•°æ®ä»hdfs å¤åˆ¶åˆ°è·³æ¿æœºï¼Œ</p><p><code>hadoop fs -get /user/akulaku/czn_userlocation_filteredby_black.parquet chenzn/</code></p><p>å†scp ä¹‹ç±»çš„ å¤åˆ¶åˆ°æœ¬åœ°å³å¯ï¼Œä¸è¿‡ç›¸æ¯”scpï¼Œrsyncæ›´é€‚åˆä¼ è¾“parquetï¼Œä¾‹å¦‚ï¼Œå¯ä»¥å‹ç¼©ï¼Œæ–­ç‚¹ç»­ä¼ ç­‰ç­‰ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -P -z -r -e ssh akulaku@cdh-master4:~/chenzn/czn_userlocation_filteredby_black.parquet ~</span><br></pre></td></tr></table></figure><p>parquetæ ¼å¼æ–‡ä»¶çš„è¯»å–å¯ä»¥ä½¿ç”¨daskï¼Œå¹¶é€‰æ‹©â€˜pyarrowâ€™å¼•æ“ï¼Œå¯ä»¥é¡ºåˆ©è¯»å–è¶…è¿‡å†…å­˜çš„æ•°æ®ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dask.dataframe <span class="keyword">as</span> dd</span><br><span class="line">df = dd.read_parquet(file_path, engine=<span class="string">&#x27;pyarrow&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><p>rsyncå…¶ä¸­å‚æ•°å¦‚ä¸‹ï¼Œå‚è€ƒè‡ª<a href="https://kyup.com/tutorials/copy-files-rsync-ssh/">How to copy files with rsync over SSH - Tutorials For Kyup.com</a>ï¼š</p><ul><li>â€“delete - delete files that donâ€™t exist on sender (system)</li><li>-v - verbose (-vv will provide more detailed information)</li><li>-e â€œssh optionsâ€ - specify the ssh as remote shell</li><li>-a - archive mode - it preserves permissions (owners, groups), times, symbolic links, and devices</li><li>-r - recurse into directories</li><li>-z - compress file data during transfer</li><li>â€“exclude â€˜foldernameâ€™ â€“ excludes the corresponding folder from transfer</li><li>-P â€“ show progress during transfer</li></ul><p>ğŸ¶ğŸ’</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/spark/">spark</category>
      
      
      <comments>http://example.com/2018/05/03/get-table-from-spark/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Mac é€šè¿‡ socks5 ä»£ç† è¿æ¥ ssh çš„æ–¹æ³•ğŸ†</title>
      <link>http://example.com/2018/05/03/mac-ssh-through-socks5-proxy/</link>
      <guid>http://example.com/2018/05/03/mac-ssh-through-socks5-proxy/</guid>
      <pubDate>Thu, 03 May 2018 09:08:10 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;ç»è¿‡ä¸€ç•ªç—›è‹¦çš„æŠ˜è…¾ï¼Œæˆ‘æ‰å‘ç°**socks,httpä»£ç†ç­‰ä½¿ç”¨çš„æ˜¯TCPæˆ–UDPåè®®, è€Œpingå‘½ä»¤åˆ™æ˜¯ICMPåè®®, æ‰€ä»¥proxychains4å¯¹pingå‘½ä»¤æ— æ•ˆ.**ï¼Œæœ€ç»ˆåˆæŠ˜è…¾è¿‡tsocksç­‰å’Œproxychainsä¸€æ ·å¾·è¡Œçš„ä»¥åï¼Œæœ€ç»ˆåœ¨ä¸‡èƒ½çš„Stack Over</description>
        
      
      
      
      <content:encoded><![CDATA[<p>ç»è¿‡ä¸€ç•ªç—›è‹¦çš„æŠ˜è…¾ï¼Œæˆ‘æ‰å‘ç°**socks,httpä»£ç†ç­‰ä½¿ç”¨çš„æ˜¯TCPæˆ–UDPåè®®, è€Œpingå‘½ä»¤åˆ™æ˜¯ICMPåè®®, æ‰€ä»¥proxychains4å¯¹pingå‘½ä»¤æ— æ•ˆ.**ï¼Œæœ€ç»ˆåˆæŠ˜è…¾è¿‡tsocksç­‰å’Œproxychainsä¸€æ ·å¾·è¡Œçš„ä»¥åï¼Œæœ€ç»ˆåœ¨ä¸‡èƒ½çš„Stack Overflowæ‰¾åˆ°<a href="https://serverfault.com/questions/315605/ssh-through-a-socks-proxy-client-openssh-os-x">ç­”æ¡ˆ</a>ï¼šå³é€šè¿‡NetCat (nc)è¿æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹å†…å®¹</span></span><br><span class="line">Host 52.* <span class="comment"># è¿™é‡Œå¯ä»¥é€šé…ä¹Ÿå¯ä»¥æŒ‡å®šIP</span></span><br><span class="line">    ProxyCommand nc -X 5 -x 127.0.0.1:1079 %h %p</span><br><span class="line">    <span class="comment"># &quot;5&quot; æ˜¯ SOCKS 5, &quot;1079&quot; æ˜¯æœ¬åœ°socksç«¯å£</span></span><br></pre></td></tr></table></figure><p>ä¹‹åç›´æ¥ä½¿ç”¨<code>ssh</code>å‘½ä»¤è¿æ¥å³å¯ğŸ˜ğŸ˜‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Mac/">Mac</category>
      
      
      <comments>http://example.com/2018/05/03/mac-ssh-through-socks5-proxy/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>moving averge æ»‘åŠ¨å¹³å‡</title>
      <link>http://example.com/2018/04/25/moving-averge/</link>
      <guid>http://example.com/2018/04/25/moving-averge/</guid>
      <pubDate>Wed, 25 Apr 2018 14:58:46 GMT</pubDate>
      
      <description>&lt;p&gt;moving averge å³æ»‘åŠ¨å¹³å‡ï¼Œæ—¶é—´åºåˆ—å¤„ç†ä¸­å¸¸è§çš„æ–¹æ³•ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šæ•°åˆ—ï¼Œè®¾å®šä¸€ä¸ªçª—å£å€¼Nï¼Œä¾æ¬¡å–ç¬¬1é¡¹&lt;del&gt;ç¬¬Né¡¹ï¼Œç¬¬2é¡¹&lt;/del&gt;ç¬¬N+1é¡¹ï¼Œç¬¬3é¡¹~ç¬¬N+2é¡¹çš„å¹³å‡å€¼ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>moving averge å³æ»‘åŠ¨å¹³å‡ï¼Œæ—¶é—´åºåˆ—å¤„ç†ä¸­å¸¸è§çš„æ–¹æ³•ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šæ•°åˆ—ï¼Œè®¾å®šä¸€ä¸ªçª—å£å€¼Nï¼Œä¾æ¬¡å–ç¬¬1é¡¹<del>ç¬¬Né¡¹ï¼Œç¬¬2é¡¹</del>ç¬¬N+1é¡¹ï¼Œç¬¬3é¡¹~ç¬¬N+2é¡¹çš„å¹³å‡å€¼ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><span id="more"></span><p>æ•°æ®æ¥è‡ª<a href="http://blog.topspeedsnail.com/wp-content/uploads/2016/12/%E9%93%81%E8%B7%AF%E5%AE%A2%E8%BF%90%E9%87%8F.csv">é“è·¯å®¢è¿é‡.csvï¼ˆ2005-2016æœˆåº¦æ•°æ®ï¼‰</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pylab</span><br><span class="line">pylab.style.use(<span class="string">&#x27;bmh&#x27;</span>)</span><br><span class="line"><span class="keyword">from</span> pylab <span class="keyword">import</span> rcParams</span><br><span class="line">rcParams[<span class="string">&#x27;figure.figsize&#x27;</span>] = <span class="number">10</span>, <span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moving_average</span>(<span class="params">l, N</span>):</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">result = <span class="built_in">list</span>( <span class="number">0</span> <span class="keyword">for</span> x <span class="keyword">in</span> l)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>( <span class="number">0</span>, N ):</span><br><span class="line">       <span class="comment"># ä»å·¦åˆ°å³é€æ¸æ·»åŠ indexåœ¨Nä¹‹å†…çš„æ•°å­—</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="built_in">sum</span> + l[i]</span><br><span class="line">result[i] = <span class="built_in">sum</span> / (i+<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>( N, <span class="built_in">len</span>(l) ):</span><br><span class="line">       <span class="comment"># åŠ å…¥æœ€å³è¾¹æ•°å­—å‡å»æœ€å·¦è¾¹æ•°å­—</span></span><br><span class="line"><span class="built_in">sum</span> = <span class="built_in">sum</span> - l[i-N] + l[i]</span><br><span class="line">result[i] = <span class="built_in">sum</span> / N</span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line"> </span><br><span class="line"><span class="comment"># ä½¿ç”¨æ•ˆç‡æ›´é«˜çš„numpy</span></span><br><span class="line"><span class="comment"># http://stackoverflow.com/questions/13728392/moving-average-or-running-mean</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fast_moving_average</span>(<span class="params">x, N</span>):</span></span><br><span class="line"><span class="keyword">return</span> np.convolve(x, np.ones((N,))/N)[(N-<span class="number">1</span>):]</span><br><span class="line"> </span><br><span class="line">url = <span class="string">&#x27;é“è·¯å®¢è¿é‡.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">df = pd.read_csv(url)  <span class="comment"># python2ä½¿ç”¨StringIO.StringIO</span></span><br><span class="line"> </span><br><span class="line">data = np.array(df[<span class="string">&#x27;é“è·¯å®¢è¿é‡_å½“æœŸå€¼(ä¸‡äºº)&#x27;</span>])</span><br><span class="line"> </span><br><span class="line">dic = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">3</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">20</span>]:</span><br><span class="line">    ma_data = moving_average(data, i)</span><br><span class="line">    dic[i] = ma_data</span><br><span class="line">ma_data_df = pd.DataFrame(dic)</span><br><span class="line"></span><br><span class="line">ma_data_df.plot()</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¶‹åŠ¿é€æ¸å˜å¾—å¹³æ»‘ï¼Œå³å¯¹å±€éƒ¨éœ‡è¡ä¸æ•æ„Ÿã€‚</p><p><img src="/images/download.png" alt="download"></p><p>ä½¿ç”¨numpy.convolveæ˜¯ä¸€ç§æ›´æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯å…¶æœ‰ä¸‰ç§modeï¼Œåˆ†åˆ«æ˜¯â€™fullâ€™ï¼ˆå•ä¸ªé‡å ä¹Ÿè®¡ç®—ï¼‰, â€˜sameâ€™ï¼ˆå¼ºåˆ¶ç­‰é•¿ï¼‰, â€˜validâ€™ï¼ˆå®Œå…¨é‡å ï¼‰ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fast_moving_average</span>(<span class="params">x, N, mode</span>):</span></span><br><span class="line"><span class="comment"># return np.convolve(x, np.ones((N,))/N, mode=&#x27;valid&#x27;)[(N-1):]</span></span><br><span class="line"><span class="keyword">return</span> np.convolve(x, np.ones((N,))/N, mode=mode)</span><br><span class="line">dic = &#123;&#125;</span><br><span class="line">modes = [<span class="string">&#x27;full&#x27;</span>, <span class="string">&#x27;same&#x27;</span>, <span class="string">&#x27;valid&#x27;</span>]</span><br><span class="line">i = <span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> mode <span class="keyword">in</span> modes:</span><br><span class="line">    ma_data = fast_moving_average(data, i, mode)</span><br><span class="line">    pylab.plot(ma_data)</span><br><span class="line">pylab.legend(modes)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/images/download%20-1-.png" alt="download -1-"></p><p>å‚è€ƒè‡ªæ–—å¤§ç†Šçš„åšå®¢<a href="http://blog.topspeedsnail.com/archives/11022">MovingAverage-æ»‘åŠ¨å¹³å‡ â€“ WTF Daily Blog</a></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/time-series/">time series</category>
      
      
      <comments>http://example.com/2018/04/25/moving-averge/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>keras ä¸­æ¨¡å‹çš„ä¿å­˜åŠé‡ç”¨</title>
      <link>http://example.com/2018/04/19/keras-reuse-model/</link>
      <guid>http://example.com/2018/04/19/keras-reuse-model/</guid>
      <pubDate>Thu, 19 Apr 2018 08:50:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15135840798621.jpg&quot;&gt;&lt;br&gt;æ·±åº¦å­¦ä¹ ä¸­å¦‚ä½•ä¿å­˜æœ€ä½³æ¨¡å‹ï¼Œå¦‚ä½•é‡ç”¨å·²ç»ä¿å­˜çš„æ¨¡å‹ï¼Ÿæœ¬æ–‡ä¸»è¦ä»‹ç»Keras ä¿å­˜åŠé‡ç”¨æ¨¡å‹çš„æ–¹æ³•&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15135840798621.jpg"><br>æ·±åº¦å­¦ä¹ ä¸­å¦‚ä½•ä¿å­˜æœ€ä½³æ¨¡å‹ï¼Œå¦‚ä½•é‡ç”¨å·²ç»ä¿å­˜çš„æ¨¡å‹ï¼Ÿæœ¬æ–‡ä¸»è¦ä»‹ç»Keras ä¿å­˜åŠé‡ç”¨æ¨¡å‹çš„æ–¹æ³•</p><span id="more"></span><h2 id="ä¿å­˜æ¨¡å‹"><a href="#ä¿å­˜æ¨¡å‹" class="headerlink" title="ä¿å­˜æ¨¡å‹"></a>ä¿å­˜æ¨¡å‹</h2><p>å¦‚ä¸‹ï¼Œæˆ‘ä»¬é¢„å®šä¹‰ä¿å­˜çš„<code>hdf5</code>æ–‡ä»¶åï¼Œå†åˆå§‹åŒ–<code>ModelCheckpoint</code>ï¼Œå°†å…¶åŠ å…¥Kerasçš„callbacké‡Œï¼ˆå³æ¯ä¸ªbatchç»“æŸååšçš„äº‹æƒ…ï¼‰ï¼Œé‚£ä¹ˆæ¨¡å‹å°±ä¼šåœ¨æ¯æ¬¡batchç»“æŸåå¯¹æ¯”ï¼Œä¿å­˜æœ€å¥½çš„æ¨¡å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.callbacks <span class="keyword">import</span> ModelCheckpoint</span><br><span class="line"></span><br><span class="line"><span class="comment"># create model</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line"><span class="comment"># Compile model</span></span><br><span class="line">model.<span class="built_in">compile</span>(...)</span><br><span class="line"><span class="comment"># checkpoint</span></span><br><span class="line">filepath=<span class="string">&quot;weights-&#123;epoch:02d&#125;-&#123;val_acc:.2f&#125;.hdf5&quot;</span></span><br><span class="line">checkpoint = ModelCheckpoint(filepath, monitor=<span class="string">&#x27;val_acc&#x27;</span>, verbose=<span class="number">1</span>, save_best_only=<span class="literal">True</span>, mode=<span class="string">&#x27;max&#x27;</span>)</span><br><span class="line"><span class="comment"># Fit the model</span></span><br><span class="line">model.fit(X, Y, validation_split=<span class="number">0.33</span>, epochs=<span class="number">150</span>, batch_size=<span class="number">10</span>, callbacks=[checkpoint], verbose=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>ç»“æŸåï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸‹çš„ç»“æœï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">weights-53-0.76.hdf5</span><br><span class="line">weights-71-0.76.hdf5</span><br><span class="line">weights-77-0.78.hdf5</span><br><span class="line">weights-99-0.78.hdf5</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬åªæƒ³ä¿å­˜ä¸€ä¸ªæœ€å¥½çš„æ¨¡å‹ï¼Œé‚£ä¹ˆæŠŠä¿å­˜æ–‡ä»¶åå­—å›ºå®šä¸º<code>filepath=&quot;weights.best.hdf5&quot;</code>å³å¯ã€‚</p><h2 id="loadæ¨¡å‹"><a href="#loadæ¨¡å‹" class="headerlink" title="loadæ¨¡å‹"></a>loadæ¨¡å‹</h2><p>æ³¨æ„ï¼Œä¹‹å‰ä¿å­˜çš„åªæ˜¯æ¨¡å‹çš„weightsï¼Œé‡æ–°loadéœ€è¦å†æ¬¡å®šä¹‰æ¨¡å‹ç»“æ„å†load weightså¹¶å†æ¬¡combineï¼Œä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.callbacks <span class="keyword">import</span> ModelCheckpoint</span><br><span class="line"><span class="comment"># create model</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line"><span class="comment"># load weights</span></span><br><span class="line">model.load_weights(<span class="string">&quot;weights.best.hdf5&quot;</span>)</span><br><span class="line"><span class="comment"># Compile model </span></span><br><span class="line">model.<span class="built_in">compile</span>(...)</span><br><span class="line"><span class="comment"># estimate accuracy </span></span><br><span class="line">scores = model.evaluate(X, Y, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125;: &#123;:.2%&#125;&#x27;</span>.<span class="built_in">format</span>(model.metrics_names[<span class="number">1</span>], scores[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure><p>å¦‚æœä¹‹å‰é€‰æ‹©äº†è¿æ¨¡å‹ç»“æ„ä¹Ÿä¸€èµ·ä¿å­˜ï¼ˆå³åœ¨<code>ModelCheckpoint</code>ä¸­é€‰æ‹©<code> save_weights_only=False</code>ï¼‰ï¼Œé‚£ä¹ˆloadå°±å¾ˆç®€å•ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.callbacks <span class="keyword">import</span> ModelCheckpoint</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> load_model</span><br><span class="line"></span><br><span class="line"><span class="comment"># create model</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line">model.add(...)</span><br><span class="line"><span class="comment"># Compile model</span></span><br><span class="line">model.<span class="built_in">compile</span>(...)</span><br><span class="line"><span class="comment"># checkpoint</span></span><br><span class="line">filepath=<span class="string">&quot;weights-best.hdf5&quot;</span></span><br><span class="line">checkpoint = ModelCheckpoint(filepath, monitor=<span class="string">&#x27;val_acc&#x27;</span>, verbose=<span class="number">1</span>, save_best_only=<span class="literal">True</span>, mode=<span class="string">&#x27;max&#x27;</span>, save_weights_only=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fit the model</span></span><br><span class="line">model.fit(X, Y, validation_split=<span class="number">0.33</span>, epochs=<span class="number">150</span>, batch_size=<span class="number">10</span>, callbacks=[checkpoint], verbose=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Load the model</span></span><br><span class="line">model= load_model(filepath)</span><br><span class="line">scores=model.evaluate(X, Y,verbose=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125;: &#123;:.2%&#125;&#x27;</span>.<span class="built_in">format</span>(model.metrics_names[<span class="number">1</span>], scores[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Keras/">Keras</category>
      
      
      <comments>http://example.com/2018/04/19/keras-reuse-model/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç†è§£ä¸€ç»´å·ç§¯</title>
      <link>http://example.com/2018/04/17/conv1d-in-keras/</link>
      <guid>http://example.com/2018/04/17/conv1d-in-keras/</guid>
      <pubDate>Tue, 17 Apr 2018 07:46:36 GMT</pubDate>
      
      <description>&lt;p&gt;ç†è§£ä¸€ç»´å·ç§¯&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç†è§£ä¸€ç»´å·ç§¯</p><span id="more"></span><p>ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ©ç”¨CNNè¿›è¡ŒNLPä¸­çš„æƒ…æ„Ÿåˆ†ç±»çš„ä¾‹å­ï¼Œ<br><img src="/images/15240224514694.png"></p><p>ä¸Šå›¾ä¸­ï¼Œè¾“å…¥ä¸ºè¡¨ç¤ºä¸ºè¯è¡¨ä¸ºd=5ï¼Œé•¿åº¦ä¸º7çš„çŸ©é˜µçš„å¥å­ï¼Œ1Då·ç§¯æ ¸ä¸ºé•¿åº¦åˆ†åˆ«ä¸º(2,3,4)çš„å„ä¸¤ä¸ªï¼Œç»è¿‡å·ç§¯å¹¶æ¿€æ´»å‡½æ•°åï¼Œå„è‡ªäº§ç”Ÿäº†(4x1, 5x1, 6x1)çš„å„ä¸¤ä¸ªfeature mapï¼Œæ¯ä¸ªfeature mapç»è¿‡ä¸€æ¬¡1D max poolingåï¼ˆå³å–æ¯ä¸ªfeature mapçš„æœ€å¤§å€¼ï¼‰å†concatenateä¸ºä¸€ä¸ª6x1çš„1Då‘é‡ï¼Œç»è¿‡ä¸€ä¸ªå…¨è¿æ¥å±‚å†softmaxæ¿€æ´»å³å¯è¿›è¡Œæƒ…æ„Ÿåˆ†ç±»é¢„æµ‹ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      
      <comments>http://example.com/2018/04/17/conv1d-in-keras/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>å¤„ç†å¤§æ•°æ®é›†çš„å»ºè®®</title>
      <link>http://example.com/2018/04/10/handle-big-datasets/</link>
      <guid>http://example.com/2018/04/10/handle-big-datasets/</guid>
      <pubDate>Tue, 10 Apr 2018 07:07:34 GMT</pubDate>
      
      <description>&lt;p&gt;æœ€è¿‘çš„ä¸€äº›æ¯”èµ›å¦‚&lt;a href=&quot;https://www.kaggle.com/c/talkingdata-adtracking-fraud-detection&quot;&gt;TalkingData AdTracking Fraud Detection Challenge | Kaggle&lt;/a&gt;æä¾›äº†å¾ˆå¤§çš„æ•°æ®é›†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªæœ‰16Gçš„å†…å­˜çš„â€œå°â€ç”µè„‘éƒ½æ— æ³•ç›´æ¥å¤„ç†è¿™ç§æ•°æ®é›†äº†ï¼Œæœ¬æ–‡æ”¶é›†äº†ä¸€äº›å…³äºå¤„ç†è¿™ç§æ•°æ®çš„å»ºè®®ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ€è¿‘çš„ä¸€äº›æ¯”èµ›å¦‚<a href="https://www.kaggle.com/c/talkingdata-adtracking-fraud-detection">TalkingData AdTracking Fraud Detection Challenge | Kaggle</a>æä¾›äº†å¾ˆå¤§çš„æ•°æ®é›†ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåªæœ‰16Gçš„å†…å­˜çš„â€œå°â€ç”µè„‘éƒ½æ— æ³•ç›´æ¥å¤„ç†è¿™ç§æ•°æ®é›†äº†ï¼Œæœ¬æ–‡æ”¶é›†äº†ä¸€äº›å…³äºå¤„ç†è¿™ç§æ•°æ®çš„å»ºè®®ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚</p><span id="more"></span><h2 id="1-åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶"><a href="#1-åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶" class="headerlink" title="1.åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶"></a>1.åŠæ—¶åˆ é™¤æ— ç”¨å˜é‡å¹¶åƒåœ¾å›æ”¶</h2><p>é€šå¸¸æˆ‘ä»¬åœ¨ç‰¹å¾å·¥ç¨‹ä¸­ä¼šæ¶‰åŠå¤§é‡çš„è½¬æ¢æ“ä½œï¼Œäº§ç”Ÿå¾ˆå¤šçš„ä¸­é—´å˜é‡ç­‰ï¼Œé™¤äº†ä½¿ç”¨<code>del</code>ä»¥å¤–ï¼Œä½¿ç”¨<code>gc.collect()</code>ä¹Ÿæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">temp = pd.read_csv(<span class="string">&#x27;../input/train_sample.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#do something to the file</span></span><br><span class="line">temp[<span class="string">&#x27;os&#x27;</span>] = temp[<span class="string">&#x27;os&#x27;</span>].astype(<span class="string">&#x27;str&#x27;</span>)</span><br><span class="line"><span class="comment">#delete when no longer needed</span></span><br><span class="line"><span class="keyword">del</span> temp</span><br><span class="line"><span class="comment">#collect residual garbage</span></span><br><span class="line">gc.collect()</span><br></pre></td></tr></table></figure><h2 id="2-é¢„å®šä¹‰æ•°æ®ç±»å‹"><a href="#2-é¢„å®šä¹‰æ•°æ®ç±»å‹" class="headerlink" title="2.é¢„å®šä¹‰æ•°æ®ç±»å‹"></a>2.é¢„å®šä¹‰æ•°æ®ç±»å‹</h2><p>pandasä¸€èˆ¬ä¼šè‡ªå·±æ¨æ–­æ•°æ®ç±»å‹ï¼Œä¸è¿‡å€¾å‘äºä½¿ç”¨è€—è´¹ç©ºé—´å¤§çš„ï¼Œå¦‚ä¸‹é¢ä¾‹å­æ‰€ç¤ºï¼Œé¢„å®šä¹‰æ•°æ®ç±»å‹èŠ‚çœäº†è¶…è¿‡ä¸€åŠçš„ç©ºé—´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">dtypes = &#123;</span><br><span class="line">        <span class="string">&#x27;ip&#x27;</span>            : <span class="string">&#x27;uint32&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;app&#x27;</span>           : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;device&#x27;</span>        : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;os&#x27;</span>            : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;channel&#x27;</span>       : <span class="string">&#x27;uint16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;is_attributed&#x27;</span> : <span class="string">&#x27;uint8&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">dtypes2 = &#123;</span><br><span class="line">        <span class="string">&#x27;ip&#x27;</span>            : <span class="string">&#x27;int32&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;app&#x27;</span>           : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;device&#x27;</span>        : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;os&#x27;</span>            : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;channel&#x27;</span>       : <span class="string">&#x27;int16&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;is_attributed&#x27;</span> : <span class="string">&#x27;int8&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">train = pd.read_csv(train_sample_file,parse_dates=[<span class="string">&#x27;click_time&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#check datatypes:</span></span><br><span class="line">train.info()</span><br><span class="line"></span><br><span class="line">train = pd.read_csv(train_sample_file,dtype=dtypes,parse_dates=[<span class="string">&#x27;click_time&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#check datatypes:</span></span><br><span class="line">train.info()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">train = pd.read_csv(train_sample_file,dtype=dtypes2,parse_dates=[<span class="string">&#x27;click_time&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#check datatypes:</span></span><br><span class="line">train.info()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 100000 entries, 0 to 99999</span></span><br><span class="line"><span class="string">Data columns (total 8 columns):</span></span><br><span class="line"><span class="string">ip                 100000 non-null int64</span></span><br><span class="line"><span class="string">app                100000 non-null int64</span></span><br><span class="line"><span class="string">device             100000 non-null int64</span></span><br><span class="line"><span class="string">os                 100000 non-null int64</span></span><br><span class="line"><span class="string">channel            100000 non-null int64</span></span><br><span class="line"><span class="string">click_time         100000 non-null datetime64[ns]</span></span><br><span class="line"><span class="string">attributed_time    227 non-null object</span></span><br><span class="line"><span class="string">is_attributed      100000 non-null int64</span></span><br><span class="line"><span class="string">dtypes: datetime64[ns](1), int64(6), object(1)</span></span><br><span class="line"><span class="string">memory usage: 6.1+ MB</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 100000 entries, 0 to 99999</span></span><br><span class="line"><span class="string">Data columns (total 8 columns):</span></span><br><span class="line"><span class="string">ip                 100000 non-null uint32</span></span><br><span class="line"><span class="string">app                100000 non-null uint16</span></span><br><span class="line"><span class="string">device             100000 non-null uint16</span></span><br><span class="line"><span class="string">os                 100000 non-null uint16</span></span><br><span class="line"><span class="string">channel            100000 non-null uint16</span></span><br><span class="line"><span class="string">click_time         100000 non-null datetime64[ns]</span></span><br><span class="line"><span class="string">attributed_time    227 non-null object</span></span><br><span class="line"><span class="string">is_attributed      100000 non-null uint8</span></span><br><span class="line"><span class="string">dtypes: datetime64[ns](1), object(1), uint16(4), uint32(1), uint8(1)</span></span><br><span class="line"><span class="string">memory usage: 2.8+ MB</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 100000 entries, 0 to 99999</span></span><br><span class="line"><span class="string">Data columns (total 8 columns):</span></span><br><span class="line"><span class="string">ip                 100000 non-null int32</span></span><br><span class="line"><span class="string">app                100000 non-null int16</span></span><br><span class="line"><span class="string">device             100000 non-null int16</span></span><br><span class="line"><span class="string">os                 100000 non-null int16</span></span><br><span class="line"><span class="string">channel            100000 non-null int16</span></span><br><span class="line"><span class="string">click_time         100000 non-null datetime64[ns]</span></span><br><span class="line"><span class="string">attributed_time    227 non-null object</span></span><br><span class="line"><span class="string">is_attributed      100000 non-null int8</span></span><br><span class="line"><span class="string">dtypes: datetime64[ns](1), int16(4), int32(1), int8(1), object(1)</span></span><br><span class="line"><span class="string">memory usage: 2.8+ MB</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="3-åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ"><a href="#3-åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ" class="headerlink" title="3.åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ"></a>3.åªä½¿ç”¨csvæ–‡ä»¶å†…çš„æŒ‡å®šè¡Œ</h2><h3 id="a-æŒ‡å®šè¡Œæ•°"><a href="#a-æŒ‡å®šè¡Œæ•°" class="headerlink" title="a) æŒ‡å®šè¡Œæ•°"></a>a) æŒ‡å®šè¡Œæ•°</h3><p>ç›´æ¥ä½¿ç”¨nrowsæŒ‡å®š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, nrows=<span class="number">1e5</span>, dtype=dtypes)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="b-è·³è¿‡è¡Œæ•°"><a href="#b-è·³è¿‡è¡Œæ•°" class="headerlink" title="b) è·³è¿‡è¡Œæ•°"></a>b) è·³è¿‡è¡Œæ•°</h3><p>æ¯”å¦‚æˆ‘ä»¬è·³è¿‡å‰500wå–100wä¸‹é¢ä¿ç•™äº†headï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">train = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, skiprows=<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5000000</span>), nrows=<span class="number">1000000</span>, dtype=dtypes)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="c-sampling"><a href="#c-sampling" class="headerlink" title="c) sampling"></a>c) sampling</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;# Line count:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> [<span class="string">&#x27;train.csv&#x27;</span>, <span class="string">&#x27;test.csv&#x27;</span>, <span class="string">&#x27;train_sample.csv&#x27;</span>]:</span><br><span class="line">    lines = subprocess.run([<span class="string">&#x27;wc&#x27;</span>, <span class="string">&#x27;-l&#x27;</span>, <span class="string">&#x27;../input/&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(file)], stdout=subprocess.PIPE).stdout.decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(lines, end=<span class="string">&#x27;&#x27;</span>, flush=<span class="literal">True</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># Line count:</span></span><br><span class="line"><span class="string">184903891 ../input/train.csv</span></span><br><span class="line"><span class="string">18790470 ../input/test.csv</span></span><br><span class="line"><span class="string">100001 ../input/train_sample.csv</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>trainä¸€å…±æœ‰<code>lines=184903891</code> è¡Œï¼Œé‚£ä¹ˆå‡è®¾æˆ‘ä»¬éœ€è¦é‡‡æ ·å‡º100wè¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è·³è¿‡<code>lines - 1 - 1000000</code>è¡Œï¼Œå³</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#generate list of lines to skip</span></span><br><span class="line">skiplines = np.random.choice(np.arange(<span class="number">1</span>, lines), size=lines-<span class="number">1</span>-<span class="number">1000000</span>, replace=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#sort the list</span></span><br><span class="line">skiplines=np.sort(skiplines)</span><br><span class="line"><span class="comment">#check our list</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;lines to skip:&#x27;</span>, <span class="built_in">len</span>(skiplines))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;remaining lines in sample:&#x27;</span>, lines-<span class="built_in">len</span>(skiplines), <span class="string">&#x27;(remember that it includes the heading!)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">###################SANITY CHECK###################</span></span><br><span class="line"><span class="comment">#find lines that weren&#x27;t skipped by checking difference between each consecutive line</span></span><br><span class="line"><span class="comment">#how many out of first 100000 will be imported into the csv?</span></span><br><span class="line">diff = skiplines[<span class="number">1</span>:<span class="number">100000</span>]-skiplines[<span class="number">2</span>:<span class="number">100001</span>]</span><br><span class="line">remain = <span class="built_in">sum</span>(diff!=-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Ratio of lines from first 100000 lines:&#x27;</span>,  <span class="string">&#x27;&#123;0:.5f&#125;&#x27;</span>.<span class="built_in">format</span>(remain/<span class="number">100000</span>) ) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Ratio imported from all lines:&#x27;</span>, <span class="string">&#x27;&#123;0:.5f&#125;&#x27;</span>.<span class="built_in">format</span>((lines-<span class="built_in">len</span>(skiplines))/lines) )</span><br><span class="line">train = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, skiprows=skiplines, dtype=dtypes)</span><br><span class="line">train.head()</span><br><span class="line"><span class="keyword">del</span> skiplines</span><br><span class="line">gc.collect()</span><br></pre></td></tr></table></figure><h2 id="4-ä½¿ç”¨pandas-çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†"><a href="#4-ä½¿ç”¨pandas-çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†" class="headerlink" title="4.ä½¿ç”¨pandas çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†"></a>4.ä½¿ç”¨pandas çš„ç”Ÿæˆå™¨ï¼Œç”¨chunkå¤„ç†</h2><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨np.whereè¿‡æ»¤æ‰â€˜is_attributedâ€™ä¸º0çš„éƒ¨åˆ†ï¼ˆä¾‹å¦‚<code>[xv if c else yv for (c,xv,yv) in zip(condition,x,y)] </code>ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#set up an empty dataframe</span></span><br><span class="line">df_converted = pd.DataFrame()</span><br><span class="line"></span><br><span class="line"><span class="comment">#we are going to work with chunks of size 1 million rows</span></span><br><span class="line">chunksize = <span class="number">10</span> ** <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#in each chunk, filter for values that have &#x27;is_attributed&#x27;==1, and merge these values into one dataframe</span></span><br><span class="line"><span class="keyword">for</span> chunk <span class="keyword">in</span> pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, chunksize=chunksize, dtype=dtypes):</span><br><span class="line">    filtered = (chunk[(np.where(chunk[<span class="string">&#x27;is_attributed&#x27;</span>]==<span class="number">1</span>, <span class="literal">True</span>, <span class="literal">False</span>))])</span><br><span class="line">    df_converted = pd.concat([df_converted, filtered], ignore_index=<span class="literal">True</span>, )</span><br></pre></td></tr></table></figure><h2 id="5-åªè½½å…¥è‹¥å¹²åˆ—"><a href="#5-åªè½½å…¥è‹¥å¹²åˆ—" class="headerlink" title="5.åªè½½å…¥è‹¥å¹²åˆ—"></a>5.åªè½½å…¥è‹¥å¹²åˆ—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#wanted columns</span></span><br><span class="line">columns = [<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;click_time&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]</span><br><span class="line">dtypes = &#123;</span><br><span class="line">        <span class="string">&#x27;ip&#x27;</span>            : <span class="string">&#x27;uint32&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;is_attributed&#x27;</span> : <span class="string">&#x27;uint8&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">ips_df = pd.read_csv(<span class="string">&#x27;../input/train.csv&#x27;</span>, usecols=columns, dtype=dtypes)</span><br><span class="line"><span class="built_in">print</span>(ips_df.info())</span><br><span class="line">ips_df.head()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span></span><br><span class="line"><span class="string">RangeIndex: 184903890 entries, 0 to 184903889</span></span><br><span class="line"><span class="string">Data columns (total 3 columns):</span></span><br><span class="line"><span class="string">ip               uint32</span></span><br><span class="line"><span class="string">click_time       object</span></span><br><span class="line"><span class="string">is_attributed    uint8</span></span><br><span class="line"><span class="string">dtypes: object(1), uint32(1), uint8(1)</span></span><br><span class="line"><span class="string">memory usage: 2.2+ GB</span></span><br><span class="line"><span class="string">None&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="6-ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®"><a href="#6-ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®" class="headerlink" title="6.ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®"></a>6.ç»“åˆå¤šç§æ–¹æ³•åˆ›æ„æ€§çš„å¤„ç†æ•°æ®</h2><p>ä¾‹å¦‚æ— æ³•ä½¿ç”¨æ•´ä¸ªæ•°æ®æ¥groupbyé‚£ä¹ˆå¯ä»¥åˆ†å—æ¥åšï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">size=<span class="number">100000</span></span><br><span class="line">all_rows = <span class="built_in">len</span>(ips_df)</span><br><span class="line">num_parts = all_rows//size</span><br><span class="line"></span><br><span class="line"><span class="comment">#generate the first batch</span></span><br><span class="line">ip_sums = ips_df[<span class="number">0</span>:size][[<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]].groupby(<span class="string">&#x27;ip&#x27;</span>, as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">#add remaining batches</span></span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,num_parts):</span><br><span class="line">    start = p*size</span><br><span class="line">    end = p*size + size</span><br><span class="line">    <span class="keyword">if</span> end &lt; all_rows:</span><br><span class="line">        group = ips_df[start:end][[<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]].groupby(<span class="string">&#x27;ip&#x27;</span>, as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        group = ips_df[start:][[<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;is_attributed&#x27;</span>]].groupby(<span class="string">&#x27;ip&#x27;</span>, as_index=<span class="literal">False</span>).<span class="built_in">sum</span>()</span><br><span class="line">    ip_sums = ip_sums.merge(group, on=<span class="string">&#x27;ip&#x27;</span>, how=<span class="string">&#x27;outer&#x27;</span>)</span><br><span class="line">    ip_sums.columns = [<span class="string">&#x27;ip&#x27;</span>, <span class="string">&#x27;sum1&#x27;</span>,<span class="string">&#x27;sum2&#x27;</span>]</span><br><span class="line">    ip_sums[<span class="string">&#x27;conversions_per_ip&#x27;</span>] = np.nansum((ip_sums[<span class="string">&#x27;sum1&#x27;</span>], ip_sums[<span class="string">&#x27;sum2&#x27;</span>]), axis = <span class="number">0</span>)</span><br><span class="line">    ip_sums.drop(columns=[<span class="string">&#x27;sum1&#x27;</span>, <span class="string">&#x27;sum2&#x27;</span>], axis = <span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="7-ä½¿ç”¨daskä»£æ›¿pandas"><a href="#7-ä½¿ç”¨daskä»£æ›¿pandas" class="headerlink" title="7.ä½¿ç”¨daskä»£æ›¿pandas"></a>7.ä½¿ç”¨daskä»£æ›¿pandas</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import dask</span><br><span class="line">import dask.dataframe as dd</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      <category domain="http://example.com/tags/Kaggle/">Kaggle</category>
      
      
      <comments>http://example.com/2018/04/10/handle-big-datasets/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>æœºå™¨å­¦ä¹ ä¹‹ sklearnä¸­çš„pipeline</title>
      <link>http://example.com/2018/04/08/pipeline-in-machine-learning/</link>
      <guid>http://example.com/2018/04/08/pipeline-in-machine-learning/</guid>
      <pubDate>Sun, 08 Apr 2018 08:13:42 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15231874915799.jpg&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15231874915799.jpg"></p><span id="more"></span><p>å¦‚å›¾æ‰€ç¤ºï¼Œåˆ©ç”¨pipelineæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å‡å°‘ä»£ç é‡åŒæ—¶è®©æœºå™¨å­¦ä¹ çš„æµç¨‹å˜å¾—ç›´è§‚ï¼Œ<br><img src="/images/15231783974167.jpg"></p><p>ä¾‹å¦‚æˆ‘ä»¬éœ€è¦åšå¦‚ä¸‹æ“ä½œï¼Œå®¹æ˜“çœ‹å‡ºï¼Œè®­ç»ƒæµ‹è¯•é›†é‡å¤äº†ä»£ç ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vect = CountVectorizer()</span><br><span class="line">tfidf = TfidfTransformer()</span><br><span class="line">clf = SGDClassifier()</span><br><span class="line"></span><br><span class="line">vX = vect.fit_transform(Xtrain)</span><br><span class="line">tfidfX = tfidf.fit_transform(vX)</span><br><span class="line">predicted = clf.fit_predict(tfidfX)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Now evaluate all steps on test set</span></span><br><span class="line">vX = vect.fit_transform(Xtest)</span><br><span class="line">tfidfX = tfidf.fit_transform(vX)</span><br><span class="line">predicted = clf.fit_predict(tfidfX)</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨pipelineï¼Œä¸Šé¢ä»£ç å¯ä»¥æŠ½è±¡ä¸ºï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pipeline = Pipeline([</span><br><span class="line">    (<span class="string">&#x27;vect&#x27;</span>, CountVectorizer()),</span><br><span class="line">    (<span class="string">&#x27;tfidf&#x27;</span>, TfidfTransformer()),</span><br><span class="line">    (<span class="string">&#x27;clf&#x27;</span>, SGDClassifier()),</span><br><span class="line">])</span><br><span class="line">predicted = pipeline.fit(Xtrain).predict(Xtrain)</span><br><span class="line"><span class="comment"># Now evaluate all steps on test set</span></span><br><span class="line">predicted = pipeline.predict(Xtest)</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œpipelineæœ€åä¸€æ­¥å¦‚æœæœ‰predict()æ–¹æ³•æˆ‘ä»¬æ‰å¯ä»¥å¯¹pipelineä½¿ç”¨fit_predict()ï¼ŒåŒç†ï¼Œæœ€åä¸€æ­¥å¦‚æœæœ‰transform()æ–¹æ³•æˆ‘ä»¬æ‰å¯ä»¥å¯¹pipelineä½¿ç”¨fit_transform()æ–¹æ³•ã€‚</p><h2 id="ä½¿ç”¨pipelineåšcross-validation"><a href="#ä½¿ç”¨pipelineåšcross-validation" class="headerlink" title="ä½¿ç”¨pipelineåšcross validation"></a>ä½¿ç”¨pipelineåšcross validation</h2><p>çœ‹å¦‚ä¸‹æ¡ˆä¾‹ï¼Œå³å…ˆå¯¹è¾“å…¥æ‰‹å†™æ•°å­—çš„æ•°æ®è¿›è¡ŒPCAé™ç»´ï¼Œå†é€šè¿‡é€»è¾‘å›å½’é¢„æµ‹æ ‡ç­¾ã€‚å…¶ä¸­æˆ‘ä»¬é€šè¿‡pipelineå¯¹<br>PCAçš„é™ç»´ç»´æ•°n_componentså’Œé€»è¾‘å›å½’çš„æ­£åˆ™é¡¹Cå¤§å°åšäº¤å‰éªŒè¯ï¼Œä¸»è¦æ­¥éª¤æœ‰ï¼š</p><ol><li>ä¾æ¬¡å®ä¾‹åŒ–å„æˆåˆ†å¯¹è±¡å¦‚<code>pca = decomposition.PCA()</code></li><li>ä»¥(name, object)çš„tubleä¸ºå…ƒç´ ç»„è£…pipelineå¦‚<code>Pipeline(steps=[(&#39;pca&#39;, pca), (&#39;logistic&#39;, logistic)])</code></li><li>åˆå§‹åŒ–CVå‚æ•°å¦‚<code>n_components = [20, 40, 64]</code></li><li>å®ä¾‹åŒ–CVå¯¹è±¡å¦‚<code>estimator = GridSearchCV(pipe, dict(pca__n_components=n_components, logistic__C=Cs))</code>ï¼Œå…¶ä¸­æ³¨æ„å‚æ•°çš„ä¼ é€’æ–¹å¼ï¼Œå³keyä¸ºpipelineå…ƒç´ å+å‡½æ•°å‚æ•°</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> linear_model, decomposition, datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line">logistic = linear_model.LogisticRegression()</span><br><span class="line"></span><br><span class="line">pca = decomposition.PCA()</span><br><span class="line">pipe = Pipeline(steps=[(<span class="string">&#x27;pca&#x27;</span>, pca), (<span class="string">&#x27;logistic&#x27;</span>, logistic)])</span><br><span class="line"></span><br><span class="line">digits = datasets.load_digits()</span><br><span class="line">X_digits = digits.data</span><br><span class="line">y_digits = digits.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prediction</span></span><br><span class="line">n_components = [<span class="number">20</span>, <span class="number">40</span>, <span class="number">64</span>]</span><br><span class="line">Cs = np.logspace(-<span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">pca.fit(X_digits)</span><br><span class="line">estimator = GridSearchCV(pipe,</span><br><span class="line">                         <span class="built_in">dict</span>(pca__n_components=n_components, logistic__C=Cs))</span><br><span class="line">estimator.fit(X_digits, y_digits)</span><br><span class="line"></span><br><span class="line">plt.figure(<span class="number">1</span>, figsize=(<span class="number">4</span>, <span class="number">3</span>))</span><br><span class="line">plt.clf()</span><br><span class="line">plt.axes([<span class="number">.2</span>, <span class="number">.2</span>, <span class="number">.7</span>, <span class="number">.7</span>])</span><br><span class="line">plt.plot(pca.explained_variance_, linewidth=<span class="number">2</span>)</span><br><span class="line">plt.axis(<span class="string">&#x27;tight&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;n_components&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;explained_variance_&#x27;</span>)</span><br><span class="line">plt.axvline(</span><br><span class="line">    estimator.best_estimator_.named_steps[<span class="string">&#x27;pca&#x27;</span>].n_components,</span><br><span class="line">    linestyle=<span class="string">&#x27;:&#x27;</span>,</span><br><span class="line">    label=<span class="string">&#x27;n_components chosen&#x27;</span>)</span><br><span class="line">plt.legend(prop=<span class="built_in">dict</span>(size=<span class="number">12</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰transformer"><a href="#è‡ªå®šä¹‰transformer" class="headerlink" title="è‡ªå®šä¹‰transformer"></a>è‡ªå®šä¹‰transformer</h2><p>æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹è‡ªå®šä¹‰transformerï¼ˆæ¥è‡ª<a href="http://michelleful.github.io/code-blog/2015/06/20/pipelines/">Using Pipelines and FeatureUnions in scikit-learn - Michelle Fullwood</a>ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.base <span class="keyword">import</span> BaseEstimator, TransformerMixin</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SampleExtractor</span>(<span class="params">BaseEstimator, TransformerMixin</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, <span class="built_in">vars</span></span>):</span></span><br><span class="line">        self.<span class="built_in">vars</span> = <span class="built_in">vars</span>  <span class="comment"># e.g. pass in a column name to extract</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transform</span>(<span class="params">self, X, y=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="keyword">return</span> do_something_to(X, self.<span class="built_in">vars</span>)  <span class="comment"># where the actual feature extraction happens</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, X, y=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="keyword">return</span> self  <span class="comment"># generally does nothing</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹æ¯ä¸ªfeatureå•ç‹¬å¤„ç†ï¼Œä¾‹å¦‚ä¸‹é¢çš„è¿™ä¸ªæ¯”è¾ƒå¤§çš„æµæ°´çº¿ï¼ˆæ¥è‡ª<a href="http://zacstewart.com/2014/08/05/pipelines-of-featureunions-of-pipelines.html">Using scikit-learn Pipelines and FeatureUnions | zacstewart.com</a>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä½œè€…çš„pipelineä¸­ï¼Œé¦–å…ˆæ˜¯ä¸€ä¸ªå«åš<code>features</code>çš„FeatureUnionï¼Œå…¶ä¸­ï¼Œæ¯ä¸ªç‰¹å¾åˆ†åˆ«ä»¥ä¸€ä¸ªpipelineæ¥å¤„ç†ï¼Œè¿™ä¸ªpipelineé¦–å…ˆæ˜¯ä¸€ä¸ª<code>ColumnExtractor</code>æå–å‡ºè¿™ä¸ªç‰¹å¾ï¼Œåç»­è¿›è¡Œä¸€ç³»åˆ—å¤„ç†è½¬æ¢ï¼Œæœ€ç»ˆè¿™äº›pipelineç»„åˆä¸ºç‰¹å¾ç»„åˆï¼Œå†å–‚ç»™ä¸€ç³»åˆ—<code>ModelTransformer</code>åŒ…è£…çš„æ¨¡å‹æ¥predictï¼Œæœ€ç»ˆä½¿ç”¨<code>KNeighborsRegressor</code>é¢„æµ‹ï¼ˆç›¸å½“äºä¸¤å±‚stackingï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">pipeline = Pipeline([</span><br><span class="line">    (<span class="string">&#x27;features&#x27;</span>, FeatureUnion([</span><br><span class="line">        (<span class="string">&#x27;continuous&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, ColumnExtractor(CONTINUOUS_FIELDS)),</span><br><span class="line">            (<span class="string">&#x27;scale&#x27;</span>, Normalizer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;factors&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, ColumnExtractor(FACTOR_FIELDS)),</span><br><span class="line">            (<span class="string">&#x27;one_hot&#x27;</span>, OneHotEncoder(n_values=<span class="number">5</span>)),</span><br><span class="line">            (<span class="string">&#x27;to_dense&#x27;</span>, DenseTransformer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;weekday&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, DayOfWeekTransformer()),</span><br><span class="line">            (<span class="string">&#x27;one_hot&#x27;</span>, OneHotEncoder()),</span><br><span class="line">            (<span class="string">&#x27;to_dense&#x27;</span>, DenseTransformer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;hour_of_day&#x27;</span>, HourOfDayTransformer()),</span><br><span class="line">        (<span class="string">&#x27;month&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;extract&#x27;</span>, ColumnExtractor([<span class="string">&#x27;datetime&#x27;</span>])),</span><br><span class="line">            (<span class="string">&#x27;to_month&#x27;</span>, DateTransformer()),</span><br><span class="line">            (<span class="string">&#x27;one_hot&#x27;</span>, OneHotEncoder()),</span><br><span class="line">            (<span class="string">&#x27;to_dense&#x27;</span>, DenseTransformer())</span><br><span class="line">        ])),</span><br><span class="line">        (<span class="string">&#x27;growth&#x27;</span>, Pipeline([</span><br><span class="line">            (<span class="string">&#x27;datetime&#x27;</span>, ColumnExtractor([<span class="string">&#x27;datetime&#x27;</span>])),</span><br><span class="line">            (<span class="string">&#x27;to_numeric&#x27;</span>, MatrixConversion(<span class="built_in">int</span>)),</span><br><span class="line">            (<span class="string">&#x27;regression&#x27;</span>, ModelTransformer(LinearRegression()))</span><br><span class="line">        ]))</span><br><span class="line">    ])),</span><br><span class="line">    (<span class="string">&#x27;estimators&#x27;</span>, FeatureUnion([</span><br><span class="line">        (<span class="string">&#x27;knn&#x27;</span>, ModelTransformer(KNeighborsRegressor(n_neighbors=<span class="number">5</span>))),</span><br><span class="line">        (<span class="string">&#x27;gbr&#x27;</span>, ModelTransformer(GradientBoostingRegressor())),</span><br><span class="line">        (<span class="string">&#x27;dtr&#x27;</span>, ModelTransformer(DecisionTreeRegressor())),</span><br><span class="line">        (<span class="string">&#x27;etr&#x27;</span>, ModelTransformer(ExtraTreesRegressor())),</span><br><span class="line">        (<span class="string">&#x27;rfr&#x27;</span>, ModelTransformer(RandomForestRegressor())),</span><br><span class="line">        (<span class="string">&#x27;par&#x27;</span>, ModelTransformer(PassiveAggressiveRegressor())),</span><br><span class="line">        (<span class="string">&#x27;en&#x27;</span>, ModelTransformer(ElasticNet())),</span><br><span class="line">        (<span class="string">&#x27;cluster&#x27;</span>, ModelTransformer(KMeans(n_clusters=<span class="number">2</span>)))</span><br><span class="line">    ])),</span><br><span class="line">    (<span class="string">&#x27;estimator&#x27;</span>, KNeighborsRegressor())</span><br><span class="line">])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HourOfDayTransformer</span>(<span class="params">TransformerMixin</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transform</span>(<span class="params">self, X, **transform_params</span>):</span></span><br><span class="line">        hours = DataFrame(X[<span class="string">&#x27;datetime&#x27;</span>].apply(<span class="keyword">lambda</span> x: x.hour))</span><br><span class="line">        <span class="keyword">return</span> hours</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, X, y=<span class="literal">None</span>, **fit_params</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ModelTransformer</span>(<span class="params">TransformerMixin</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, model</span>):</span></span><br><span class="line">        self.model = model</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fit</span>(<span class="params">self, *args, **kwargs</span>):</span></span><br><span class="line">        self.model.fit(*args, **kwargs)</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">transform</span>(<span class="params">self, X, **transform_params</span>):</span></span><br><span class="line">        <span class="keyword">return</span> DataFrame(self.model.predict(X))</span><br></pre></td></tr></table></figure><h2 id="FeatureUnion"><a href="#FeatureUnion" class="headerlink" title="FeatureUnion"></a>FeatureUnion</h2><p><a href="http://scikit-learn.org/stable/modules/generated/sklearn.pipeline.FeatureUnion.html">sklearn.pipeline.FeatureUnion â€” scikit-learn 0.19.1 documentation</a> å’Œpipelineçš„åºåˆ—æ‰§è¡Œä¸åŒï¼ŒFeatureUnionæŒ‡çš„æ˜¯å¹¶è¡Œåœ°åº”ç”¨è®¸å¤štransformeråœ¨inputä¸Šï¼Œå†å°†ç»“æœåˆå¹¶ï¼Œæ‰€ä»¥è‡ªç„¶åœ°é€‚åˆç‰¹å¾å·¥ç¨‹ä¸­çš„å¢åŠ ç‰¹å¾ï¼Œè€ŒFeatureUnionä¸pipelineç»„åˆå¯ä»¥æ–¹ä¾¿çš„å®Œæˆè®¸å¤šå¤æ‚çš„æ“ä½œï¼Œä¾‹å¦‚å¦‚ä¸‹çš„ä¾‹å­ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pipeline = Pipeline([</span><br><span class="line">  (<span class="string">&#x27;extract_essays&#x27;</span>, EssayExractor()),</span><br><span class="line">  (<span class="string">&#x27;features&#x27;</span>, FeatureUnion([</span><br><span class="line">    (<span class="string">&#x27;ngram_tf_idf&#x27;</span>, Pipeline([</span><br><span class="line">      (<span class="string">&#x27;counts&#x27;</span>, CountVectorizer()),</span><br><span class="line">      (<span class="string">&#x27;tf_idf&#x27;</span>, TfidfTransformer())</span><br><span class="line">    ])),</span><br><span class="line">    (<span class="string">&#x27;essay_length&#x27;</span>, LengthTransformer()),</span><br><span class="line">    (<span class="string">&#x27;misspellings&#x27;</span>, MispellingCountTransformer())</span><br><span class="line">  ])),</span><br><span class="line">  (<span class="string">&#x27;classifier&#x27;</span>, MultinomialNB())</span><br><span class="line">])</span><br></pre></td></tr></table></figure><p>æ•´ä¸ª<code>features</code>æ˜¯ä¸€ä¸ªFeatureUnionï¼Œè€Œå…¶ä¸­çš„ngram_tf_idfåˆæ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸¤æ­¥çš„pipelineã€‚<br><img src="/images/15233302459256.jpg"></p><p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨FeatureUnionç»“åˆPCAé™ç»´åç‰¹å¾ä»¥åŠé€‰æ‹©åŸç‰¹å¾ä¸­çš„å‡ ä¸ªä½œä¸ºç‰¹å¾ç»„åˆå†å–‚ç»™SVMåˆ†ç±»ï¼Œæœ€åç”¨grid_search åšäº† pcaçš„<code>n_components</code>ã€SelectKBestçš„<code>k</code>ä»¥åŠSVMçš„<code>C</code>çš„CVã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.pipeline <span class="keyword">import</span> Pipeline, FeatureUnion</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> SVC</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> SelectKBest</span><br><span class="line"></span><br><span class="line">iris = load_iris()</span><br><span class="line"></span><br><span class="line">X, y = iris.data, iris.target</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># This dataset is way too high-dimensional. Better do PCA:</span></span><br><span class="line">pca = PCA()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Maybe some original features where good, too?</span></span><br><span class="line">selection = SelectKBest()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Build estimator from PCA and Univariate selection:</span></span><br><span class="line"></span><br><span class="line">svm = SVC(kernel=<span class="string">&quot;linear&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Do grid search over k, n_components and C:</span></span><br><span class="line"></span><br><span class="line">pipeline = Pipeline([(<span class="string">&quot;features&quot;</span>,</span><br><span class="line">                      FeatureUnion([(<span class="string">&quot;pca&quot;</span>, pca), (<span class="string">&quot;univ_select&quot;</span>,</span><br><span class="line">                                                   selection)])), (<span class="string">&quot;svm&quot;</span>,</span><br><span class="line">                                                                   svm)])</span><br><span class="line"></span><br><span class="line">param_grid = <span class="built_in">dict</span>(</span><br><span class="line">    features__pca__n_components=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">    features__univ_select__k=[<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">    svm__C=[<span class="number">0.1</span>, <span class="number">1</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">grid_search = GridSearchCV(pipeline, param_grid=param_grid, verbose=<span class="number">10</span>)</span><br><span class="line">grid_search.fit(X, y)</span><br><span class="line"></span><br><span class="line">grid_search.best_estimator_</span><br><span class="line">grid_search.best_params_</span><br><span class="line">grid_search.best_score_</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      
      <comments>http://example.com/2018/04/08/pipeline-in-machine-learning/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨</title>
      <link>http://example.com/2018/04/08/private-BT-server/</link>
      <guid>http://example.com/2018/04/08/private-BT-server/</guid>
      <pubDate>Sun, 08 Apr 2018 03:13:51 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15231584798585.jpg&quot;&gt;&lt;br&gt;ä½¿ç”¨é—²ç½®çš„VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œäº¦æˆ–è€…æ¨å¹¿è‡³æ ‘è“æ´¾æˆ–è€…å®¶ç”¨è·¯ç”±å™¨äº¦å¯ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15231584798585.jpg"><br>ä½¿ç”¨é—²ç½®çš„VPSæ­å»ºç§äººBTç¦»çº¿æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œäº¦æˆ–è€…æ¨å¹¿è‡³æ ‘è“æ´¾æˆ–è€…å®¶ç”¨è·¯ç”±å™¨äº¦å¯ã€‚</p><span id="more"></span> <h2 id="å®‰è£…åŠé…ç½®-Transmission"><a href="#å®‰è£…åŠé…ç½®-Transmission" class="headerlink" title="å®‰è£…åŠé…ç½® Transmission"></a>å®‰è£…åŠé…ç½® Transmission</h2><ul><li>å®‰è£… <code>sudo apt-get install transmission-daemon</code></li><li>é…ç½® åœæ­¢æœåŠ¡ï¼ˆå¦åˆ™é…ç½®æ–‡ä»¶é”å®šï¼Œæ— æ³•ä¿®æ”¹ï¼‰<code>sudo service transmission-daemon stop</code></li><li>ç¼–è¾‘é…ç½®æ–‡ä»¶</li></ul><p><code>sudo vim /etc/transmission-daemon/settings.json</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;ratio-limit&quot;</span>: 0.0100, </span><br><span class="line">    <span class="string">&quot;ratio-limit-enabled&quot;</span>: <span class="literal">true</span>,  </span><br><span class="line">    <span class="string">&quot;rpc-password&quot;</span>: <span class="string">&quot;*******&quot;</span>,   </span><br><span class="line">    <span class="string">&quot;rpc-username&quot;</span>: <span class="string">&quot;frank&quot;</span>,</span><br><span class="line">    <span class="string">&quot;download-dir&quot;</span>: <span class="string">&quot;/var/www/html/Downloads&quot;</span>, </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æˆ‘åªåˆ—å‡ºäº†æˆ‘ä¿®æ”¹è¿‡ä¸”æ— æ³•åœ¨ Transmission Web-GUI ä¸­æ— æ³•å®Œæˆä¿®æ”¹çš„å‡ é¡¹ï¼Œå››é¡¹ä¾æ¬¡æ˜¯ä¸‹è½½å®Œæˆåšç§ç‡ï¼Œå¼€å¯é™åˆ¶åšç§ç‡ï¼ŒWeb-GUI å¯†ç ï¼ŒWeb-GUI ç”¨æˆ·åã€‚åƒä¿å­˜è·¯å¾„ï¼Œä¸‹è½½/ ä¸Šä¼ é€Ÿåº¦é™åˆ¶ï¼Œéƒ½å¯ä»¥åœ¨ Web-GUI ä¸­ç›´æ¥è®¾å®šï¼Œä¸ºäº†æ–¹ä¾¿ä¹‹åå¯¹ä¸‹è½½æ–‡ä»¶çš„ Web ç®¡ç†ï¼Œæˆ‘ç›´æ¥å°†ä¿å­˜è·¯å¾„æ”¹åˆ°äº† Web å‘å¸ƒè·¯å¾„ä¸‹çš„ä¸€ä¸ªå­ç›®å½•ã€‚</p><p> é‡å¯æœåŠ¡</p><p> <code>sudo service transmission-daemon start</code></p><p> æ­¤æ—¶åœ¨æµè§ˆå™¨æ‰“å¼€<code>VPSçš„IPåœ°å€/åŸŸå:9091</code>å¹¶è¾“å…¥åˆšåˆšè®¾ç½®çš„ç”¨æˆ·ååŠå¯†ç åº”è¯¥å°±å¯ä»¥è®¿é—® Transmission çš„ Web-GUIäº†ã€‚<br> <img src="/images/Screen%20Shot%202018-04-08%20at%2011.25.35.png" alt="Screen Shot 2018-04-08 at 11.25.35"></p><p> å¯æ˜¯åœ¨æ·»åŠ äº†ç¬¬ä¸€ä¸ªä»»åŠ¡åå‡ºç°ä¿å­˜è·¯å¾„å†™å…¥æƒé™çš„é—®é¢˜ã€‚<br>è§£å†³åŠæ³•å¦‚<a href="https://askubuntu.com/questions/221081/permission-denied-when-downloading-with-transmission-deamon">Permission denied when downloading with transmission deamon - Ask Ubuntu</a>æ‰€ç¤ºï¼š</p><p>æˆ‘ä»¬çš„ä¸‹è½½åœ°å€æ˜¯ <code>/var/www/html/Downloads</code> ç”¨æˆ·åæ˜¯<code>znwindy</code>:<br>é‚£ä¹ˆ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†æœ¬ç”¨æˆ·åŠ å…¥ `debian-transmission`ç»„</span></span><br><span class="line">sudo usermod -a -G debian-transmission znwindy</span><br><span class="line"><span class="comment"># æ–‡ä»¶å¤¹æ‰€æœ‰è€…</span></span><br><span class="line">sudo chgrp debian-transmission /var/www/html/Downloads</span><br><span class="line"><span class="comment"># ç»„æ·»åŠ å†™æƒé™</span></span><br><span class="line">sudo chmod -R 755 /var/www</span><br><span class="line"><span class="comment"># åœæ­¢åå°deamon </span></span><br><span class="line"></span><br><span class="line">sudo service transmission-daemon stop</span><br><span class="line"><span class="comment"># æ›´æ”¹ file creation mask</span></span><br><span class="line">sudo vim /etc/transmission-daemon/settings.json</span><br><span class="line"><span class="comment"># æŠŠ&quot;umask&quot;: 18 æ”¹ä¸º &quot;umask&quot;: 2</span></span><br><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">sudo service transmission-daemon start</span><br></pre></td></tr></table></figure><p>å³å¯è§£å†³å†™çš„é—®é¢˜ã€‚</p><h2 id="é…ç½®-Apache-åŠ å¯†åŒºåŸŸ"><a href="#é…ç½®-Apache-åŠ å¯†åŒºåŸŸ" class="headerlink" title="é…ç½® Apache åŠ å¯†åŒºåŸŸ"></a>é…ç½® Apache åŠ å¯†åŒºåŸŸ</h2><p>å®‰è£…apache2</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install apache2</span><br></pre></td></tr></table></figure><p>Adjust the Firewall</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw app list</span><br><span class="line">sudo ufw allow <span class="string">&#x27;Apache Full&#x27;</span></span><br><span class="line">sudo ufw status</span><br><span class="line">sudo systemctl status apache2</span><br></pre></td></tr></table></figure><p>å¯†ç ç”Ÿæˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo htpasswd -c /etc/apache2/.htpasswd ç”¨æˆ·å</span><br></pre></td></tr></table></figure><p>ç„¶åä¼šè¢«æç¤ºè¾“å…¥ä¸¤æ¬¡è¯¥ â€œç”¨æˆ·åâ€ çš„å¯†ç ã€‚</p><p>ä¿®æ”¹è™šæ‹Ÿ host çš„é…ç½®æ–‡ä»¶<br><code>sudo vim /etc/apache2/sites-enabled/000-default.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory <span class="string">&quot;/var/www/html&quot;</span>&gt;</span><br><span class="line">        AuthType Basic</span><br><span class="line">        AuthName <span class="string">&quot;Restricted Content&quot;</span></span><br><span class="line">        AuthUserFile /etc/apache2/.htpasswd</span><br><span class="line">        Require valid-user</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p>ä¿å­˜åé‡å¯</p><p><code>sudo service apache2 restart</code></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡ HTTP å°†ä¸‹è½½çš„ä»»åŠ¡å–å›æœ¬åœ°ï¼Œé€Ÿåº¦ä¹Ÿå¾ˆå¿«ï¼è¿™æ ·ï¼Œé€šè¿‡è®¿é—® Transmission Web-GUI â€œæŠ•å–‚â€ ç§å­ï¼Œç£åŠ›é“¾ï¼Œç„¶ååœ¨ä¸‹è½½å®Œæˆåé€šè¿‡ HTTP æ–¹å¼ä» VPS å°†èµ„æºå–å›æœ¬åœ°ï¼Œç”šè‡³ç›´æ¥å¯¹ .mp3ã€.mp4 ç­‰æ–‡ä»¶æ ¼å¼è¿›è¡Œåœ¨çº¿æ’­æ”¾ï¼Œå®ç°äº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„è¿…é›·ç¦»çº¿ä¸‹è½½ï¼Œå¯æ˜¯å®ƒå´åœ¨ä¸‹è½½æŸäº›ç‰¹å®šèµ„æºæ—¶è¿œæ¯”è¿…é›·ç¦»çº¿ç®¡ç”¨ã€‚</p><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/24478342">åœ¨ VPS ä¸Šæ­å»ºç§äººç¦»çº¿ä¸‹è½½</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      <category domain="http://example.com/tags/Old-Driver/">Old Driver</category>
      
      
      <comments>http://example.com/2018/04/08/private-BT-server/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>numpy ä¸­å¢åŠ channelçš„æ–¹æ³•</title>
      <link>http://example.com/2018/03/29/numpy-add-channel/</link>
      <guid>http://example.com/2018/03/29/numpy-add-channel/</guid>
      <pubDate>Thu, 29 Mar 2018 12:15:30 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15223277046847.jpg&quot;&gt;&lt;br&gt;numpy æ•°ç»„ä¸­ä¸€ç»´æ€ä¹ˆè½¬äºŒç»´å’Œå¤šç»´ï¼Ÿç®€è¿° numpy ä¸­å¢åŠ channelçš„æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15223277046847.jpg"><br>numpy æ•°ç»„ä¸­ä¸€ç»´æ€ä¹ˆè½¬äºŒç»´å’Œå¤šç»´ï¼Ÿç®€è¿° numpy ä¸­å¢åŠ channelçš„æ–¹æ³•ã€‚</p><span id="more"></span><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯å‘é‡å’ŒçŸ©é˜µï¼Œè€Œæ€ä¹ˆæ ¹æ®æˆ‘ä»¬æ‰€è¦è§£å†³çš„é—®é¢˜æ¥è°ƒæ•´æ¨¡å‹ä»¥åŠæ•°æ®çš„æ ¼å¼ï¼Œä¹Ÿå°±æ˜¯çŸ©é˜µçš„ç»´åº¦å’Œå¤§å°æ˜¯ä¸€é¡¹é‡è¦çš„åŸºæœ¬åŠŸï¼Œé‚£ä¹ˆæœ¬æ–‡å°±å…·ä½“ä»‹ç»ä¸‹numpyä¸­æ•°ç»„çš„è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯å¢åŠ channelçš„æ–¹æ³•ã€‚</p><h2 id="ä¸€ç»´è½¬äºŒç»´"><a href="#ä¸€ç»´è½¬äºŒç»´" class="headerlink" title="ä¸€ç»´è½¬äºŒç»´"></a>ä¸€ç»´è½¬äºŒç»´</h2><p>ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸€ç»´çš„numpy arrayï¼Œæœ‰å¦‚ä¸‹æ–¹æ³•å¯ä»¥è½¬ä¸ºäºŒç»´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line">a</span><br><span class="line">a.shape</span><br><span class="line">b = a[:,<span class="literal">None</span>]</span><br><span class="line">b</span><br><span class="line">b.shape</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span></span><br><span class="line"><span class="string">(10,)</span></span><br><span class="line"><span class="string">array([[0],</span></span><br><span class="line"><span class="string">       [1],</span></span><br><span class="line"><span class="string">       [2],</span></span><br><span class="line"><span class="string">       [3],</span></span><br><span class="line"><span class="string">       [4],</span></span><br><span class="line"><span class="string">       [5],</span></span><br><span class="line"><span class="string">       [6],</span></span><br><span class="line"><span class="string">       [7],</span></span><br><span class="line"><span class="string">       [8],</span></span><br><span class="line"><span class="string">       [9]])</span></span><br><span class="line"><span class="string">(10, 1)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p> å¯ä»¥çœ‹åˆ°ï¼Œ<code>a</code>ç¡®å®è¢«è½¬ä¸ºäº†äºŒç»´ï¼Œä»¥ä¸‹æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">c = a[:,np.newaxis]</span><br><span class="line">c</span><br><span class="line">(c == b).<span class="built_in">all</span>()</span><br><span class="line">np.newaxis == <span class="literal">None</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([[0],</span></span><br><span class="line"><span class="string">       [1],</span></span><br><span class="line"><span class="string">       [2],</span></span><br><span class="line"><span class="string">       [3],</span></span><br><span class="line"><span class="string">       [4],</span></span><br><span class="line"><span class="string">       [5],</span></span><br><span class="line"><span class="string">       [6],</span></span><br><span class="line"><span class="string">       [7],</span></span><br><span class="line"><span class="string">       [8],</span></span><br><span class="line"><span class="string">       [9]])</span></span><br><span class="line"><span class="string">True</span></span><br><span class="line"><span class="string">True</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="è½¬ä¸ºå¤šç»´"><a href="#è½¬ä¸ºå¤šç»´" class="headerlink" title="è½¬ä¸ºå¤šç»´"></a>è½¬ä¸ºå¤šç»´</h2><p>æ—¶é—´åºåˆ—é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦çš„æ˜¯(sampleï¼Œtime_stampï¼Œfeature)çš„3 ä¸ªchannelçš„æ•°æ®ï¼Œå³ä¸€ä¸ªä¸‰ç»´çŸ©é˜µï¼ŒåŒ…å«è‹¥å¹²ä¸ªsampleï¼Œæ¯ä¸ªsampleåŒ…å«è‹¥å¹²ä¸ªæ—¶é—´åºåˆ—ç‚¹ï¼Œè€Œæ¯ä¸ªæ—¶é—´åºåˆ—ç‚¹æœ‰åŒ…æ‹¬è‹¥å¹²ä¸ªfeatureï¼Œå“ªæ€•æˆ‘ä»¬åªæ˜¯åšå•å˜é‡çš„æ—¶é—´åºåˆ—é¢„æµ‹ï¼Œè¾“å…¥RNNç½‘ç»œä¾‹å¦‚LSTMçš„æ—¶å€™ï¼Œæ•°æ®ä¹Ÿå¿…é¡»æ˜¯ä¸‰ç»´çš„æ ¼å¼ï¼Œä¸‹é¢æˆ‘ä»¬è®²ä¸€è®²è¿™ä¹ˆåšçš„æ–¹æ³•ã€‚</p><p>ä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè‹¥å¹²ä¸ªæ—¶é—´ç‚¹æ¯ä¸ªæ—¶é—´ç‚¹æœ‰ä¸¤ä¸ªç‰¹å¾çš„æ•°æ®ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">24</span>).reshape((-<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">a.shape</span><br><span class="line">a</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">(12, 2)</span></span><br><span class="line"><span class="string">array([[ 0,  1],</span></span><br><span class="line"><span class="string">       [ 2,  3],</span></span><br><span class="line"><span class="string">       [ 4,  5],</span></span><br><span class="line"><span class="string">       [ 6,  7],</span></span><br><span class="line"><span class="string">       [ 8,  9],</span></span><br><span class="line"><span class="string">       [10, 11],</span></span><br><span class="line"><span class="string">       [12, 13],</span></span><br><span class="line"><span class="string">       [14, 15],</span></span><br><span class="line"><span class="string">       [16, 17],</span></span><br><span class="line"><span class="string">       [18, 19],</span></span><br><span class="line"><span class="string">       [20, 21],</span></span><br><span class="line"><span class="string">       [22, 23]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†aè½¬åŒ–ä¸ºä¸‰ä¸ªchannelï¼Œå³å¯ä»¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">b = a[:,<span class="literal">None</span>,:]</span><br><span class="line">b.shape</span><br><span class="line">b</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">(12, 1, 2)</span></span><br><span class="line"><span class="string">array([[[ 0,  1]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 2,  3]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 4,  5]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 6,  7]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 8,  9]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[10, 11]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[12, 13]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[14, 15]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[16, 17]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[18, 19]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[20, 21]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[22, 23]]])</span></span><br><span class="line"><span class="string">       &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå¯¹åº”ç€pandasçš„Dataframeï¼ŒåŠæˆ‘ä»¬å¯¹Dataframeå–valueså±æ€§ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œåšæ³•å°±å¦‚åŒä¸Šé¢ä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœæ˜¯Seriesçš„è¯ï¼Œå–valueså±æ€§å¾—åˆ°çš„æ˜¯ä¸€ä¸ªä¸€ç»´çš„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„åšæ³•åˆ™æ˜¯ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">c = np.arange(<span class="number">12</span>)</span><br><span class="line">c</span><br><span class="line">d = c[:,<span class="literal">None</span>,<span class="literal">None</span>]</span><br><span class="line">d.shape</span><br><span class="line">d</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])</span></span><br><span class="line"><span class="string">(12, 1, 1)</span></span><br><span class="line"><span class="string">array([[[ 0]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 1]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 2]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 3]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 4]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 5]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 6]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 7]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 8]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 9]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[10]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[11]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="å‡å°‘ç»´åº¦"><a href="#å‡å°‘ç»´åº¦" class="headerlink" title="å‡å°‘ç»´åº¦"></a>å‡å°‘ç»´åº¦</h2><p>è‹¥è¦å‡å°‘æ•°æ®çš„ç»´åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çš„æ–¹æ³•å¦‚ä¸‹ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">d = np.arange(<span class="number">12</span>)[:,<span class="literal">None</span>,<span class="literal">None</span>]</span><br><span class="line">d.shape</span><br><span class="line">d</span><br><span class="line">e = np.squeeze(d)</span><br><span class="line">e.shape</span><br><span class="line">e</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;(12, 1, 1)</span></span><br><span class="line"><span class="string">array([[[ 0]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 1]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 2]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 3]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 4]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 5]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 6]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 7]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 8]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[ 9]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[10]],</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">       [[11]]])</span></span><br><span class="line"><span class="string">(12,)</span></span><br><span class="line"><span class="string">array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2018/03/29/numpy-add-channel/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>python æ­£åˆ™å®ç”¨ä¾‹å­</title>
      <link>http://example.com/2018/02/24/re-basic-of-python/</link>
      <guid>http://example.com/2018/02/24/re-basic-of-python/</guid>
      <pubDate>Sat, 24 Feb 2018 10:52:00 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15194705842254.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¸»è¦å…³äºpythonçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¦å·ä¸æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15194705842254.png"></p><p>æœ¬æ–‡ä¸»è¦å…³äºpythonçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¦å·ä¸æ–¹æ³•ã€‚</p><span id="more"></span><ul><li>findall: æ‰¾å¯»æ‰€æœ‰åŒ¹é…ï¼Œè¿”å›æ‰€æœ‰ç»„åˆçš„åˆ—è¡¨</li><li>search: æ‰¾å¯»ç¬¬ä¸€ä¸ªåŒ¹é…å¹¶è¿”å›</li><li>sub: æ›¿æ¢ç¬¦åˆè§„å¾‹çš„å†…å®¹ï¼Œå¹¶è¿”å›æ›¿æ¢åçš„å†…å®¹</li></ul><p>**.**ï¼šåŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;xy123&#x27;</span></span><br><span class="line">b = re.findall(<span class="string">&#x27;x...&#x27;</span>,a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;xy12&#x27;]</span></span><br></pre></td></tr></table></figure><p>*****ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…æ— é™æ¬¡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;xyxy123&#x27;</span></span><br><span class="line">b = re.findall(<span class="string">&#x27;x*&#x27;</span>,a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;x&#x27;, &#x27;&#x27;, &#x27;x&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;]</span></span><br></pre></td></tr></table></figure><p>**?**ï¼šåŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦0æ¬¡æˆ–è€…1æ¬¡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;xy123&#x27;</span></span><br><span class="line">b = re.findall(<span class="string">&#x27;x?&#x27;</span>,a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;x&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;]</span></span><br></pre></td></tr></table></figure><p>**.***ï¼šè´ªå¿ƒç®—æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b = re.findall(<span class="string">&#x27;xx.*xx&#x27;</span>,secret_code)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># [&#x27;xxIxxfasdjifja134xxlovexx23345sdfxxyouxx&#x27;]</span></span><br></pre></td></tr></table></figure><p>**.*?**ï¼šéè´ªå¿ƒç®—æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = re.findall(<span class="string">&#x27;xx.*?xx&#x27;</span>,secret_code)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># [&#x27;xxIxx&#x27;, &#x27;xxlovexx&#x27;, &#x27;xxyouxx&#x27;]</span></span><br></pre></td></tr></table></figure><p>**()**ï¼šæ‹¬å·å†…ç»“æœè¿”å›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">d = re.findall(<span class="string">&#x27;xx(.*?)xx&#x27;</span>,secret_code)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> d:</span><br><span class="line">    <span class="built_in">print</span>(each)</span><br><span class="line"><span class="comment"># [&#x27;I&#x27;, &#x27;love&#x27;, &#x27;you&#x27;]</span></span><br><span class="line"><span class="comment"># I</span></span><br><span class="line"><span class="comment"># love</span></span><br><span class="line"><span class="comment"># you</span></span><br></pre></td></tr></table></figure><p><strong>re.S</strong>ä½¿å¾—.çš„ä½œç”¨åŸŸåŒ…æ‹¬æ¢è¡Œç¬¦â€\nâ€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;&#x27;&#x27;sdfxxhello</span></span><br><span class="line"><span class="string">xxfsdfxxworldxxasdf&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">d = re.findall(<span class="string">&#x27;xx(.*?)xx&#x27;</span>,s,re.S)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment">#  [&#x27;hello\n&#x27;, &#x27;world&#x27;]</span></span><br></pre></td></tr></table></figure><p>å¯¹æ¯”findallä¸searchçš„åŒºåˆ«</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s2 = <span class="string">&#x27;asdfxxIxx123xxlovexxdfd&#x27;</span></span><br><span class="line">f = re.search(<span class="string">&#x27;xx(.*?)xx123xx(.*?)xx&#x27;</span>,s2).group(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(f)</span><br><span class="line">f2 = re.findall(<span class="string">&#x27;xx(.*?)xx123xx(.*?)xx&#x27;</span>,s2)</span><br><span class="line"><span class="built_in">print</span>(f2[<span class="number">0</span>][<span class="number">1</span>])</span><br><span class="line"><span class="comment"># love</span></span><br><span class="line"><span class="comment"># love</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶ä¸¤è€…ç»“æœç›¸åŒï¼Œä½†æ˜¯searchæ˜¯æ­é…groupæ¥å¾—åˆ°ç¬¬äºŒä¸ªåŒ¹é…ï¼Œè€Œfindallçš„ç»“æœæ˜¯[(â€˜Iâ€™, â€˜loveâ€™)]ï¼ŒåŒ…å«å…ƒç»„çš„åˆ—è¡¨ï¼Œæ‰€ä»¥éœ€è¦f2[0][1]æ¥å¼•å…¥ã€‚</p><p><strong>sub</strong>çš„ä½¿ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&#x27;123rrrrr123&#x27;</span></span><br><span class="line">output = re.sub(<span class="string">&#x27;123(.*?)123&#x27;</span>,<span class="string">&#x27;123%d123&#x27;</span>%<span class="number">789</span>,s)</span><br><span class="line"><span class="built_in">print</span>(output)</span><br><span class="line"><span class="comment"># 123789123</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚æˆ‘ä»¬éœ€è¦å°†æ–‡æ¡£ä¸­çš„æ‰€æœ‰çš„pngå›¾ç‰‡æ”¹å˜è·¯å¾„ï¼Œå³éœ€è¦æ‰¾åˆ°æ‰€æœ‰çš„<code>.png</code>ç»“å°¾ï¼Œå†å°†å…¶éƒ½åŠ ä¸Šè·¯å¾„ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiply</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="comment"># Convert group 0 to an integer.</span></span><br><span class="line">    v = m.group(<span class="number">0</span>)</span><br><span class="line">    <span class="built_in">print</span>(v)</span><br><span class="line">    <span class="comment"># Multiply integer by 2.</span></span><br><span class="line">    <span class="comment"># ... Convert back into string and return it.</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;basic/&#x27;</span>+v)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;basic/&#x27;</span>+v</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>autoencoder.png</span><br><span class="line">    basic/autoencoder.png</span><br><span class="line">    RNN.png</span><br><span class="line">    basic/RNN.png</span><br><span class="line">    rnn_step_forward.png</span><br><span class="line">    basic/rnn_step_forward.png</span><br><span class="line">    rnns.png</span><br><span class="line">    basic/rnns.png</span><br><span class="line">    rnn_cell_backprop.png</span><br><span class="line">    basic/rnn_cell_backprop.png</span><br><span class="line">    LSTM.png</span><br><span class="line">    basic/LSTM.png</span><br><span class="line">    LSTM_rnn.png</span><br><span class="line">    basic/LSTM_rnn.png</span><br><span class="line">    attn_mechanism.png</span><br><span class="line">    basic/attn_mechanism.png</span><br><span class="line">    attn_model.png</span><br><span class="line">    basic/attn_model.png</span><br></pre></td></tr></table></figure><p>ä»¿ç…§ä¸Šé¢æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„å¯¹æˆ‘ä»¬çš„ä»»åŠ¡è¿›è¡Œå®šåˆ¶ã€‚</p><p><strong>subn</strong> ç›¸æ¯”subï¼Œsubnè¿”å›å…ƒç»„ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºæ›¿æ¢å‘ç”Ÿçš„æ¬¡æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">m</span>):</span></span><br><span class="line">    <span class="comment"># Convert.</span></span><br><span class="line">    v = <span class="built_in">int</span>(m.group(<span class="number">0</span>))</span><br><span class="line">    <span class="comment"># Add 2.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>(v + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Call re.subn.</span></span><br><span class="line">result = re.subn(<span class="string">&quot;\d+&quot;</span>, add, <span class="string">&quot;1 2 3 4 5&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Result string:&quot;</span>, result[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Number of substitutions:&quot;</span>, result[<span class="number">1</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line">Result string: <span class="number">11</span> <span class="number">21</span> <span class="number">31</span> <span class="number">41</span> <span class="number">51</span></span><br><span class="line">Number of substitutions: <span class="number">5</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/re/">re</category>
      
      
      <comments>http://example.com/2018/02/24/re-basic-of-python/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥</title>
      <link>http://example.com/2018/02/08/Writing-Graduation-Thesis-in-Tex/</link>
      <guid>http://example.com/2018/02/08/Writing-Graduation-Thesis-in-Tex/</guid>
      <pubDate>Wed, 07 Feb 2018 17:36:41 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15180252634406.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç”¨ Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥ï¼Œé«˜æ•ˆã€ä¾¿æ·ã€ä¼˜é›…ï¼&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15180252634406.png"></p><p>ç”¨ Tex å†™ï¼ˆä¸­æ–‡ï¼‰æ¯•ä¸šè®ºæ–‡å…¨æ”»ç•¥ï¼Œé«˜æ•ˆã€ä¾¿æ·ã€ä¼˜é›…ï¼</p><span id="more"></span><p>è¿™é‡Œæˆ‘ä»¬å¹¶ä¸å­˜åœ¨é„™è§†é“¾ï¼Œè¯´ä»€ä¹ˆTex ä¼˜äº Wordä¹‹ç±»çš„ï¼Œå…¶å®Wordä½œä¸ºæå…¶å¤æ‚çš„æ–‡æœ¬å¤„ç†è½¯ä»¶ï¼Œæˆ‘ç›¸ä¿¡Texèƒ½åšåˆ°çš„ï¼ŒWordä¸€å®šæœ‰å…¶å®ç°æ–¹å¼ï¼Œåªä¸è¿‡å¤§éƒ¨åˆ†äººéƒ½åªä¼šç”¨åˆ°Wordçš„ä¸€å°éƒ¨åˆ†åŠŸèƒ½ï¼Œç›¸æ¯”Wordï¼ŒTexè§£å†³æ–¹æ¡ˆæ›´åŠ ä¾¿æ·ä¼˜é›…ï¼Œæ¯”å¦‚è‡ªåŠ¨æ’å·ï¼ˆç« èŠ‚ã€è¡¨æ ¼ã€å‚è€ƒæ–‡çŒ®çš„ç¼–å·ï¼‰ï¼Œå…¨å±€è®¾ç½®çš„å­—ä½“ã€é—´è·æ ¼å¼ç­‰ç­‰ã€‚ç›¸æ¯”Wordäº‹æ— å·¨ç»†çš„ç»´æŠ¤ä¿®æ”¹æˆæœ¬ï¼ŒTex çš„è§£å†³æ–¹æ¡ˆæ›´åŠ programmerï¼Œå³è½¯ä»¶å¼€å‘ï¼ŒåæœŸä¸»è¦å·¥ä½œæ˜¯è¿­ä»£ç»´æŠ¤ï¼Œè‹¥èƒ½åœ¨å‰æœŸå³è€ƒè™‘è¿™ç‚¹ï¼ŒåæœŸèƒ½çœä¸‹æå¤šçš„è„‘ç»†èƒå’Œç²¾åŠ›ã€‚å¥½äº†ä¸è¯´å¤šï¼Œå‘è½¦å§~</p><h2 id="æ€»è®º"><a href="#æ€»è®º" class="headerlink" title="æ€»è®º"></a>æ€»è®º</h2><p> æ€»ä½“æ¥è¯´ï¼Œæ˜¯ç”¨ä¸Šäº¤Texæ¨¡æ¿ç»“åˆAtomç¼–è¾‘å™¨åœ¨æœ¬åœ°ç¼–è¾‘<a href="https://atom.io/">Atom</a>ï¼ˆè¿™ä¸ªç”¨ä»€ä¹ˆç¼–è¾‘å™¨éšæ„ï¼‰ä»¥åŠDropboxåŒæ­¥åˆ°äº‘ç«¯<a href="https://www.dropbox.com/h">Dropbox</a>ä»¥åŠäº‘ç«¯ä¸Šåœ¨sharelatexæœåŠ¡å™¨ä¸Šå³æ—¶ç¼–è¯‘æ‰€è§å³æ‰€å¾—ã€‚</p><h2 id="å·¥å…·ä½¿ç”¨æ–¹æ³•"><a href="#å·¥å…·ä½¿ç”¨æ–¹æ³•" class="headerlink" title="å·¥å…·ä½¿ç”¨æ–¹æ³•"></a>å·¥å…·ä½¿ç”¨æ–¹æ³•</h2><p>é¦–å…ˆæˆ‘ä»¬åœ¨sharelatexå®˜ç½‘<a href="https://www.sharelatex.com/project">Your Projects - ShareLaTeX, Online LaTeX Editor</a>æ³¨å†Œè´¦å·ï¼Œå…è´¹è´¦å·å³å¯ï¼Œå¦‚æœéœ€è¦å¤šäººåä½œå¯ä»¥ç”¨é‚€è¯·å°å·çš„æ–¹å¼è®©è‡ªå·±å¢åŠ æƒé™ï¼ˆsharelatexæ–°å»ºè´¦å·ä¸éªŒè¯é‚®ç®±ã€‚ã€‚æ‰€ä»¥ä½ æ‡‚çš„ï¼‰ï¼Œæ¥ä¸‹æ¥åœ¨ä¸Šäº¤æ¨¡æ¿<a href="https://github.com/sjtug/SJTUThesis">sjtug/SJTUThesis: ä¸Šæµ·äº¤é€šå¤§å­¦ XeLaTeX å­¦ä½è®ºæ–‡æ¨¡æ¿ A XeLaTeX template for Shanghai Jiao Tong University (SJTU) thesis.</a>å¤„ç‚¹å‡»æ­¤å¤„æ·»åŠ æœ€æ–°ç‰ˆæ¨¡æ¿åˆ°æˆ‘ä»¬çš„sharelatexé¡¹ç›®ï¼Œ<br><img src="/images/Screen%20Shot%202018-02-08%20at%2001.58.25.png" alt="Screen Shot 2018-02-08 at 01.58.25"></p><p><img src="/images/Screen%20Shot%202018-02-08%20at%2001.58.56.png" alt="Screen Shot 2018-02-08 at 01.58.56"></p><p>å¦‚å›¾ï¼Œå†ç‚¹è¿›å»ï¼Œå…ˆåˆ«æ€¥ç€ä¿®æ”¹ï¼Œæˆ‘ä»¬å…ˆè®¾ç½®ä¸ªç½‘ç›˜åŒæ­¥ï¼ŒDropboxéœ€è¦æ¢¯å­ï¼Œåœ¨sharelatexçš„è´¦å·è®¾ç½®å¤„é“¾æ¥åˆ°Dropboxï¼Œ<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.00.57.png" alt="Screen Shot 2018-02-08 at 02.00.57"></p><p>åŒæ—¶Dropboxå®‰è£…ä¸€ä¸ªæ¡Œé¢ç‰ˆï¼Œéœ€è¦è®¾ç½®ä»£ç†ï¼Œ<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.02.29.png" alt="Screen Shot 2018-02-08 at 02.02.29"><br>å¦‚å›¾ï¼Œæˆ‘ä»¬ä½¿ç”¨ssä½œä¸ºä»£ç†ã€‚</p><p>æ¥ä¸‹æ¥å®‰è£…Atomç¼–è¾‘å™¨ï¼Œåœ¨æ’ä»¶é‡Œè£…ä¸€ä¸ªå¦‚ä¸‹æ’ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å®ƒåªæ˜¯ä¸ºäº†æ³¨é‡Šè¿™ä¸€ä¸ªåŠŸèƒ½ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦æœ¬åœ°ç¼–è¯‘ã€‚<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.03.38.png" alt="Screen Shot 2018-02-08 at 02.03.38"></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨æœ¬åœ°ç”¨Atomç¼–è¾‘Dropboxç½‘ç›˜åœ¨æœ¬åœ°çš„Texé¡¹ç›®ï¼Œåªè¦æˆ‘ä»¬ä¿å­˜ï¼ŒDropboxå°±ä¼šåŒæ­¥åˆ°sharelatexï¼Œå¦‚æœå¼€å¯è‡ªåŠ¨ç¼–è¯‘äº‘ç«¯å°±ä¼šå±•ç¤ºå½“ä¸‹ç¼–è¯‘çš„PDFæ•ˆæœï¼Œå¦‚å›¾<br><img src="/images/Screen%20Shot%202018-02-08%20at%2002.07.11.png" alt="Screen Shot 2018-02-08 at 02.07.11"></p><h2 id="Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜"><a href="#Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜" class="headerlink" title="Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜"></a>Texæ¨¡æ¿ä½¿ç”¨è¯´æ˜</h2><p>è¯¦è§æ­¤å¤„<a href="http://sjtug.org/SJTUThesis/README.pdf">README.pdf</a>ï¼Œä¸»è¦æ€è·¯å°±æ˜¯æŠŠå„ç« ã€æ‘˜è¦ã€å‚è€ƒæ–‡çŒ®ç­‰åˆ†ä¸ºä¸åŒçš„texæ–‡ä»¶ï¼Œå›¾è¡¨ç­‰èµ„æºæ”¾åœ¨ä¸€å¤„æ–‡ä»¶å¤¹å†…ï¼Œé€ä¸ªå¼•ç”¨ï¼Œæœ‰å…¨å±€çš„çš„è®¾ç½®æ–‡ä»¶ï¼Œç¼–è¯‘æ—¶å°†è¿™äº›é›¶ä»¶æ‹¼æ¥ä¸ºpdfï¼Œåç»­ä¼šæ·»åŠ æ›´å¤šå¿ƒå¾—ã€‚</p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><ol><li><a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">MathJax basic tutorial and quick reference - Mathematics Meta Stack Exchange</a>ï¼šä¸€ä¸ªå¸¸ç”¨Latexå…¬å¼ç¬¦å·çš„å…¨é›†</li><li>å¦‚æœä¸Šé¢æ²¡æ‰¾åˆ°ï¼Œå¯ä»¥è¯•è¯•è¿™é‡Œï¼Œæ‰‹å†™è¯†åˆ«latexå­—ç¬¦<a href="http://detexify.kirelabs.org/classify.html">Detexify LaTeX handwritten symbol recognition</a></li></ol>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Tex/">Tex</category>
      
      
      <comments>http://example.com/2018/02/08/Writing-Graduation-Thesis-in-Tex/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç†è§£TSNEç®—æ³•</title>
      <link>http://example.com/2018/01/30/Understanding-TSNE/</link>
      <guid>http://example.com/2018/01/30/Understanding-TSNE/</guid>
      <pubDate>Tue, 30 Jan 2018 03:39:39 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15172836269060.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç»“åˆ&lt;a href=&quot;http://lvdmaaten.github.io/publications/papers/JMLR_2008.pdf&quot;&gt;è®ºæ–‡&lt;/a&gt;å…¬å¼ä¸å‡ ä¸ªpythonå®ç°ç†è§£t-SNEç®—æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15172836269060.jpg"></p><p>ç»“åˆ<a href="http://lvdmaaten.github.io/publications/papers/JMLR_2008.pdf">è®ºæ–‡</a>å…¬å¼ä¸å‡ ä¸ªpythonå®ç°ç†è§£t-SNEç®—æ³•ã€‚</p><span id="more"></span><p>t-SNE æ˜¯ä¸€ç§æ•°æ®å¯è§†åŒ–å·¥å…·ï¼Œå®ƒå¯ä»¥å°†é«˜ç»´æ•°æ®é™ç»´åˆ°2-3ç»´ä»¥ç”¨äºç”»å›¾ï¼Œå±€éƒ¨ç›¸ä¼¼æ€§è¢«è¿™ç§embeddingæ‰€ä¿ç•™ã€‚</p><p>t-SNEæŠŠåŸç©ºé—´çš„æ•°æ®ç‚¹ä¹‹é—´çš„è·ç¦»è½¬æ¢ä¸ºé«˜æ–¯åˆ†å¸ƒæ¦‚ç‡ï¼Œå¦‚æœä¸¤ç‚¹åœ¨é«˜ç»´ç©ºé—´è·ç¦»è¶Šè¿‘ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¦‚ç‡å€¼è¶Šå¤§ã€‚æ³¨æ„åˆ°é«˜æ–¯åˆ†å¸ƒçš„è¿™ä¸ªæ ‡å‡†å·®$\sigma_i$ å¯¹æ¯ä¸ªç‚¹éƒ½æ˜¯ä¸åŒçš„ï¼Œè¿™ä¹Ÿæ˜¯ç®—æ³•çš„åˆ›æ–°ç‚¹ä¹‹ä¸€ï¼Œå› ä¸ºç†è®ºä¸Šç©ºé—´ä¸åŒä½ç½®çš„ç‚¹çš„å¯†åº¦æ˜¯ä¸åŒçš„ï¼Œæ¡ä»¶æ¦‚ç‡å¦‚æ­¤è®¡ç®—ï¼Œ</p><p>$$p_{j|i} = \frac{\exp{(-d(\boldsymbol{x}_i, \boldsymbol{x}<em>j) / (2 \sigma_i^2)})}{\sum</em>{i \neq k} \exp{(-d(\boldsymbol{x}_i, \boldsymbol{x}<em>k) / (2 \sigma_i^2)})}, \quad p</em>{i|i} = 0,$$<br><img src="/images/Screen%20Shot%202018-01-30%20at%2015.18.45.png" alt="Screen Shot 2018-01-30 at 15.18.45"></p><p>å›¾ä¸­å…¬å¼æ˜¯ç†è®ºæ–¹å¼ï¼Œå®é™…æ˜¯å…ˆè®¡ç®—æ¡ä»¶æ¦‚ç‡å†ç”¨ä¸‹é¢å…¬å¼æ¥äº§ç”Ÿè”åˆåˆ†å¸ƒï¼Œ</p><p>$$p_{ij} = \frac{p_{j|i} + p_{i|j}}{2N}.$$</p><p>å…¶ä¸­ $\sigma_i$ å°†è‡ªåŠ¨ç¡®å®šã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥é€šè¿‡è®¾ç½®ç®—æ³•çš„å›°æƒ‘æ€§æ¥å½±å“ã€‚</p><p>ç”¨ä¸€ä¸ªé•¿å°¾åˆ†å¸ƒ(Student-t Distributionï¼Œç®€ç§°ä¸ºtåˆ†å¸ƒ)æ¥è¡¨ç¤º embedç©ºé—´çš„ç›¸ä¼¼æ€§<br>$$q_{ij} = \frac{(1 + ||\boldsymbol{y}_i - \boldsymbol{y}<em>j)||^2)^{-1}}{\sum</em>{k \neq l} (1 + ||\boldsymbol{y}_k - \boldsymbol{y}_l)||^2)^{-1}},$$<br><img src="/images/Screen%20Shot%202018-01-30%20at%2015.28.56.png" alt="Screen Shot 2018-01-30 at 15.28.56"></p><p>æŸå¤±å‡½æ•°æ˜¯ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„ Kullback-Leibler divergenceï¼ˆKLæ•£åº¦ï¼‰</p><p>$$KL(P|Q) = \sum_{i \neq j} p_{ij} \log \frac{p_{ij}}{q_{ij}}$$</p><p>è€Œä¸ºä»€ä¹ˆè¯´tsneä¿ç•™çš„æ˜¯å±€éƒ¨ç›¸ä¼¼æ€§å‘¢ï¼Ÿæˆ‘ä»¬ä»KLæ•£åº¦çš„å…¬å¼å‡ºå‘æ¥è§£é‡Šï¼Œ<br><img src="/images/Screen%20Shot%202018-01-30%20at%2015.33.19.png" alt="Screen Shot 2018-01-30 at 15.33.19"><br>å¯ä»¥çœ‹åˆ°ï¼Œå½“$p_{ij}$å¾ˆå¤§è€Œ$q_{ij}$å¾ˆå°ï¼ˆé«˜ç»´ç©ºé—´è·ç¦»è¿‘ï¼Œä½ç»´ç©ºé—´è·ç¦»è¿œï¼‰æƒ©ç½šå¾ˆå¤§ï¼Œåä¹‹æƒ©ç½šå°ï¼ˆé«˜ç»´ç©ºé—´è·ç¦»è¿œï¼Œä½ç»´ç©ºé—´è·ç¦»è¿‘ï¼‰ã€‚</p><p>è€Œä¸ºä»€ä¹ˆé«˜ç»´ç©ºé—´ç”¨é«˜æ–¯åˆ†å¸ƒï¼Œä½ç»´ç©ºé—´ç”¨Student-t Distributionå‘¢ï¼Ÿ</p><p><img src="/images/Screen%20Shot%202018-01-30%20at%2015.41.32.png" alt="Screen Shot 2018-01-30 at 15.41.32"><img src="/images/Screen%20Shot%202018-01-30%20at%2015.41.43.png" alt="Screen Shot 2018-01-30 at 15.41.43"><br>åŸå› å°±æ˜¯å› ä¸ºé™ç»´æ˜¯å¿…ç„¶è¦å¸¦æ¥ä¿¡æ¯æŸå¤±ï¼Œæˆ‘ä»¬è¦ä¿å­˜å±€éƒ¨ä¿¡æ¯é‚£ä¹ˆå¿…ç„¶è¦æŸå¤±å…¨å±€ä¿¡æ¯ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æŠŠä¸Šé¢çš„è¿™ä¸ª2ç»´ç©ºé—´çš„ä¸‰ä¸ªæˆç›´è§’è¾¹çš„ç‚¹é™ç»´åˆ°1ç»´ï¼Œé‚£ä¹ˆæŠŠå®ƒä»¬æ”¾å¹³å°±ä¿å­˜äº†å±€éƒ¨ä¿¡æ¯ï¼ˆå·¦ä¸­å’Œä¸­å³ä¹‹é—´çš„è·ç¦»ä¿æŒä¸å˜ï¼‰ï¼Œä½†æ˜¯ç‰ºç‰²äº†å…¨å±€ä¿¡æ¯ï¼ˆå·¦å³ä¹‹é—´çš„è·ç¦»å˜å¤§äº†ï¼‰ã€‚è€ŒStudent-t Distributionå°±èƒ½æ”¾å¤§è¿™ç§å¯†åº¦ï¼Œå¦‚ä¸‹å›¾ï¼ˆtsneé»˜è®¤tåˆ†å¸ƒè‡ªç”±åº¦ä¸º1ï¼‰ï¼Œtåˆ†å¸ƒç›¸æ¯”é«˜æ–¯åˆ†å¸ƒæ›´åŠ é•¿å°¾ã€‚<br><img src="/images/Screen%20Shot%202018-01-30%20at%2015.48.47.png" alt="Screen Shot 2018-01-30 at 15.48.47"><br>æ¢¯åº¦è®¡ç®—æ—¶æœ‰ä¼˜åŒ–æŠ€å·§ï¼Œå¦‚æœæŒ‰ä¸‹å›¾ä¸­çš„åŸå…¬å¼è®¡ç®—ï¼Œå¤æ‚åº¦ä¸º$O(N^2)$ Barnes-Hut æ ‘æ–¹æ³•å°±å¯ä»¥ä¼˜åŒ–åˆ°$ O(NlogN)$<br><img src="/images/Screen%20Shot%202018-01-30%20at%2015.59.02.png" alt="Screen Shot 2018-01-30 at 15.59.02"><br><img src="/images/Screen%20Shot%202018-01-30%20at%2016.01.17.png" alt="Screen Shot 2018-01-30 at 16.01.17"><br>åŸç†ç±»ä¼¼äºç”¨ä¸Šå›¾ä¸­ABCä¸‰ç‚¹ä¸­å¿ƒçš„è·ç¦»ä¹˜ä»¥ä¸‰æ¥ä»£æ›¿è®¡ç®—ä¸‰è€…å„è‡ªçš„è·ç¦»ã€‚<br>é‚£ä¹ˆæŠŠç”¨barnesæ ‘ç»“æ„æ¥è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œåˆ†åˆ«åˆ¤æ–­å…¶è·ç¦»æ˜¯å¦å¤§äºé˜ˆå€¼ï¼Œåˆ†å—è®¡ç®—è·ç¦»ï¼Œè¿™æ ·å¤æ‚åº¦å°±é™ä½äº†ã€‚<br><img src="/images/Screen%20Shot%202018-01-30%20at%2016.01.38.png" alt="Screen Shot 2018-01-30 at 16.01.38"></p><p>ä»¥ä¸‹æ˜¯è®¡ç®—æŸå¤±KLæ•£åº¦çš„å…¬å¼ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_kl_divergence</span>(<span class="params">params, P, degrees_of_freedom, n_samples, n_components,</span></span></span><br><span class="line"><span class="params"><span class="function">                   skip_num_points=<span class="number">0</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;t-SNE objective function: gradient of the KL divergence</span></span><br><span class="line"><span class="string">    of p_ijs and q_ijs and the absolute error.&quot;&quot;&quot;</span></span><br><span class="line">    X_embedded = params.reshape(n_samples, n_components)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Q is a heavy-tailed distribution: Student&#x27;s t-distribution</span></span><br><span class="line">    n = pdist(X_embedded, <span class="string">&quot;sqeuclidean&quot;</span>)</span><br><span class="line">    n += <span class="number">1.</span></span><br><span class="line">    n /= degrees_of_freedom</span><br><span class="line">    n **= (degrees_of_freedom + <span class="number">1.0</span>) / -<span class="number">2.0</span></span><br><span class="line">    Q = np.maximum(n / (<span class="number">2.0</span> * np.<span class="built_in">sum</span>(n)), MACHINE_EPSILON)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Optimization trick below: np.dot(x, y) is faster than</span></span><br><span class="line">    <span class="comment"># np.sum(x * y) because it calls BLAS</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Objective: C (Kullback-Leibler divergence of P and Q)</span></span><br><span class="line">    kl_divergence = <span class="number">2.0</span> * np.dot(P, np.log(P / Q))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Gradient: dC/dY</span></span><br><span class="line">    grad = np.ndarray((n_samples, n_components))</span><br><span class="line">    PQd = squareform((P - Q) * n)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(skip_num_points, n_samples):</span><br><span class="line">        np.dot(_ravel(PQd[i]), X_embedded[i] - X_embedded, out=grad[i])</span><br><span class="line">    grad = grad.ravel()</span><br><span class="line">    c = <span class="number">2.0</span> * (degrees_of_freedom + <span class="number">1.0</span>) / degrees_of_freedom</span><br><span class="line">    grad *= c</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”¨æ¢¯åº¦ä¸‹é™ï¼ˆå’Œä¸€äº›tricksï¼‰ä¼˜åŒ–ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯æŸå¤±å‡½æ•°éå¯¹ç§°ï¼Œå¹¶ä¸”ä¸åŒçš„è®­ç»ƒä¼šå¯¼è‡´ç»“æœçš„ä¸åŒã€‚</p><p>sklearné‡Œå¯¹äºbinary searchè®¡ç®— è”åˆåˆ†å¸ƒä¸‹é¢çš„(<a href="https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/manifold/_utils.pyx">_utils._binary_search_perplexity</a>)å’ŒBarnes-Hut æ ‘è®¡ç®—æ¢¯åº¦(<a href="https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/manifold/_barnes_hut_tsne.pyx">_barnes_hut_tsne.gradient</a>)éƒ½æ˜¯Cå®ç°ï¼Œæœ‰ç©ºå†æ¥ç ”ç©¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_joint_probabilities</span>(<span class="params">distances, desired_perplexity, verbose</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Compute joint probabilities p_ij from distances.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># Compute conditional probabilities such that they approximately match</span></span><br><span class="line">    <span class="comment"># the desired perplexity</span></span><br><span class="line">    distances = astype(distances, np.float32, copy=<span class="literal">False</span>)</span><br><span class="line">    </span><br><span class="line">    conditional_P = _utils._binary_search_perplexity(</span><br><span class="line">        distances, <span class="literal">None</span>, desired_perplexity, verbose)</span><br><span class="line">    P = conditional_P + conditional_P.T</span><br><span class="line">    sum_P = np.maximum(np.<span class="built_in">sum</span>(P), MACHINE_EPSILON)</span><br><span class="line">    P = np.maximum(squareform(P) / sum_P, MACHINE_EPSILON)</span><br><span class="line">    <span class="keyword">return</span> P</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_kl_divergence_bh</span>(<span class="params">params, P, neighbors, degrees_of_freedom, n_samples,</span></span></span><br><span class="line"><span class="params"><span class="function">                      n_components, angle=<span class="number">0.5</span>, skip_num_points=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">                      verbose=<span class="literal">False</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;t-SNE objective function: KL divergence of p_ijs and q_ijs.&quot;&quot;&quot;</span></span><br><span class="line">    params = astype(params, np.float32, copy=<span class="literal">False</span>)</span><br><span class="line">    X_embedded = params.reshape(n_samples, n_components)</span><br><span class="line">    neighbors = astype(neighbors, np.int64, copy=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(P.shape) == <span class="number">1</span>:</span><br><span class="line">        sP = squareform(P).astype(np.float32)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sP = P.astype(np.float32)</span><br><span class="line"></span><br><span class="line">    grad = np.zeros(X_embedded.shape, dtype=np.float32)</span><br><span class="line">    error = _barnes_hut_tsne.gradient(sP, X_embedded, neighbors,</span><br><span class="line">                                      grad, angle, n_components, verbose,</span><br><span class="line">                                      dof=degrees_of_freedom)</span><br><span class="line">    c = <span class="number">2.0</span> * (degrees_of_freedom + <span class="number">1.0</span>) / degrees_of_freedom</span><br><span class="line">    grad = grad.ravel()</span><br><span class="line">    grad *= c</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> error, grad</span><br></pre></td></tr></table></figure><p><a href="http://lvdmaaten.github.io/tsne/">t-SNE â€“ Laurens van der Maaten</a>è¿™ä¸ªé“¾æ¥æ˜¯ä½œè€…æ”¶é›†çš„å„ç§tsneå˜ç§åŠç›¸å…³å®ç°ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      
      <comments>http://example.com/2018/01/30/Understanding-TSNE/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Data Science Pipelines |  ç‰¹å¾å·¥ç¨‹ä¸­çš„ç®¡é“</title>
      <link>http://example.com/2018/01/12/Data-Science-Notes/</link>
      <guid>http://example.com/2018/01/12/Data-Science-Notes/</guid>
      <pubDate>Fri, 12 Jan 2018 06:22:50 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15161698020879.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;æš‚å®šä¸ºè®°å½•å„å¼æ•°æ®ç§‘å­¦é¡¹ç›®ã€Kaggleç«èµ›é‡Œé¢å¸¸ç”¨ã€æœ‰ç”¨çš„ä»£ç ç‰‡æ®µã€APIã€ç¥æ“ä½œç­‰ï¼Œé€šå¸¸æ˜¯Numpyã€Pandasã€Matplotlibã€Seabornç­‰ç›¸å…³ï¼Œé€šå¸¸æ¥è¯´ï¼Œé¡¹ç›®åŸºæœ¬æ­¥éª¤å¯ä»¥åˆ†ä¸ºEDAã€ç‰¹å¾å·¥ç¨‹ä»¥åŠè°ƒå‚ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15161698020879.png"></p><p>æš‚å®šä¸ºè®°å½•å„å¼æ•°æ®ç§‘å­¦é¡¹ç›®ã€Kaggleç«èµ›é‡Œé¢å¸¸ç”¨ã€æœ‰ç”¨çš„ä»£ç ç‰‡æ®µã€APIã€ç¥æ“ä½œç­‰ï¼Œé€šå¸¸æ˜¯Numpyã€Pandasã€Matplotlibã€Seabornç­‰ç›¸å…³ï¼Œé€šå¸¸æ¥è¯´ï¼Œé¡¹ç›®åŸºæœ¬æ­¥éª¤å¯ä»¥åˆ†ä¸ºEDAã€ç‰¹å¾å·¥ç¨‹ä»¥åŠè°ƒå‚ã€‚</p><span id="more"></span><h2 id="åŸºæœ¬æµç¨‹"><a href="#åŸºæœ¬æµç¨‹" class="headerlink" title="åŸºæœ¬æµç¨‹"></a>åŸºæœ¬æµç¨‹</h2><ol><li><p>ä»¥ä¸€ä¸ªKaggleä¸Šçš„House Priceä¸ºæ¡ˆä¾‹ï¼Œæœºå™¨å­¦ä¹ æµç¨‹åˆ†æˆä¸¤ä¸ªå¤§æ­¥éª¤ ï¼šå³<br>EDAä¸ç‰¹å¾å·¥ç¨‹ï¼ˆåªä½¿ç”¨Pandas, StatsModelï¼Œscipy,numpy, seabornç­‰åº“ï¼‰</p><ul><li><p>è¾“å…¥ï¼š åŸå§‹Train, Test æ•°æ®é›†ï¼Œå°†åŸå§‹Trainå’ŒTest åˆå¹¶æˆä¸€ä¸ªæ•°æ®é›†combined</p></li><li><p>å¤„ç†ï¼š Pandas Pipe</p><p>  æ ¹æ®å„ç§å¯èƒ½å’Œå„ç§ç‰¹å¾å·¥ç¨‹æ–¹æ³•å®šä¹‰å„ç§å‡½æ•°ï¼ˆè¾“å…¥combined, è¾“å…¥pre_combined)<br>  ç”¨PandasPipe å°†è¿™ä¸ªå‡½æ•°åƒæ­ç§¯æœ¨ä¸€æ ·è¿åœ¨ä¸€èµ·ã€‚ç”¨åˆ—è¡¨æŒ‰åºå­˜æ”¾è¿™äº›å‡½æ•°ï¼‰<br>  è¿™ä¸ªåˆ—è¡¨å°±æ˜¯ï¼Œ1. åŸºæœ¬çš„å¡«å……ç©ºå€¼, 2. è½¬æ¢æ•°æ®ç±»å‹ï¼Œ 3. ç©ºç™½å‡½æ•°ï¼ˆä¸ºäº†å¯¹é½ç¾è§‚è€Œä»¥ï¼Œå•¥äº‹ä¸åšï¼‰ï¼Œ4. log è½¬æ¢ï¼Œç±»åˆ«æ•°æ®å“‘å…ƒå¤„ç†ï¼Œ 5. å¯¼å‡ºåˆ°hdf5æ–‡ä»¶ï¼Œ 6.æ£€æŸ¥R2å€¼<br>  åˆ©ç”¨å„ç§æ’åˆ—ç»„åˆï¼Œæˆ–è€…å„ç§å‚æ•°ç»„åˆï¼Œå¯ä»¥äº§ç”Ÿä¸°å¯Œçš„pipesï¼Œæ¯ä¸€ä¸ªpipeséƒ½å¯ä»¥äº§ç”Ÿä¸€ä¸ªé¢„å¤„ç†è¿‡çš„æ–‡ä»¶ã€‚</p></li><li><p>è¾“å‡ºï¼šæŸæ–‡ä»¶å¤¹ä¸‹ çš„Nä¸ªé¢„å¤„ç†è¿‡çš„hdf5æ–‡ä»¶ã€‚ é’ˆå¯¹å„ç§ç‰¹å¾å·¥ç¨‹çš„æ’åˆ—ç»„åˆï¼Œæˆ–è€…æ˜¯Kaggleä¸Šé¢çš„å„ç§æ–°å¥‡çš„ç‰¹å¾å·¥ç¨‹æ–¹æ³•ã€‚</p></li></ul></li><li><p>æœºå™¨å­¦ä¹ é˜¶æ®µï¼ˆè®­ç»ƒå’Œäº§ç”Ÿæ¨¡å‹ï¼Œç›®æ ‡æ˜¯å°½å¯èƒ½è·å¾—å°½å¯èƒ½ä½çš„RMSEå€¼ï¼ˆé’ˆå¯¹è®­ç»ƒæ•°æ®ï¼‰ï¼ŒåŒæ—¶è¦å…·æœ‰èŒƒåŒ–çš„èƒ½åŠ›ï¼ˆé’ˆå¯¹æµ‹è¯•æ•°æ®ï¼‰ï¼‰</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œå»ºç«‹åŸºå‡†ï¼Œç­›é€‰å‡ºæœ€å¥½çš„ä¸€ä¸ªï¼ˆå‡ ä¸ªï¼‰é¢„å¤„ç†æ–‡ä»¶ï¼ˆéšæœºæ•°è®¾æˆå›ºå®šå€¼ï¼‰</li><li>ç¬¬äºŒæ­¥ï¼Œé’ˆå¯¹ç­›é€‰å‡ºæ¥çš„é¢„å¤„ç†æ–‡ä»¶ï¼Œè¿›è¡Œè°ƒå‚ã€‚æ‰¾åˆ°æœ€åˆé€‚çš„å‡ ä¸ªç®—æ³•ï¼ˆé€šå¸¸æ˜¯RMSEå€¼æœ€ä½ï¼Œä¸”ä¸åŒKernelï¼‰ï¼ˆéšæœºæ•°è®¾æˆå›ºå®šå€¼ï¼‰    </li><li>ç¬¬ä¸‰æ­¥ï¼Œç”¨è°ƒå¥½çš„å‚æ•°æ¥é¢„å¤„ç†æ–‡ä»¶ä¸­çš„Traingæ•°æ®çš„åšaverage å’Œstacking</li><li>ç¬¬å››éƒ¨ï¼Œç”Ÿæˆcsvæ–‡ä»¶ï¼Œæäº¤åˆ°Kaggle çœ‹çœ‹å¾—åˆ†å¦‚ä½•ã€‚</li></ul></li></ol><h2 id="å‡†å¤‡é˜¶æ®µ-ä¸-NoteBook-Head"><a href="#å‡†å¤‡é˜¶æ®µ-ä¸-NoteBook-Head" class="headerlink" title="å‡†å¤‡é˜¶æ®µ ä¸ NoteBook Head"></a>å‡†å¤‡é˜¶æ®µ ä¸ NoteBook Head</h2><p>è¿‡æ»¤warningï¼šæœ‰å¥è¯è¯´çš„å¥½ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦é‡Œï¼Œæˆ‘ä»¬åªåœ¨æ„é”™è¯¯ä¸åœ¨æ„warning</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>) </span><br></pre></td></tr></table></figure><hr><p>å·¥ä½œç›®å½•åˆ‡æ¢åˆ°å½“å‰pythonæ–‡ä»¶æ‰€åœ¨ç›®å½•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.chdir(os.path.dirname(os.path.abspath(__file__)))</span><br></pre></td></tr></table></figure><hr><p>Notebookäº¤äº’è¾“å‡ºæ‰€æœ‰ç»“æœ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython.core.interactiveshell <span class="keyword">import</span> InteractiveShell</span><br><span class="line">InteractiveShell.ast_node_interactivity=<span class="string">&#x27;all&#x27;</span></span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹<br><img src="/images/Screen%20Shot%202018-01-12%20at%2015.27.58.png" alt="Screen Shot 2018-01-12 at 15.27.58"></p><p>ä»¥ä¸Šå¯ä»¥é€šè¿‡è®¾ç½®å›ºå®šä¸‹æ¥ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><p><img src="/images/Screen%20Shot%202018-02-05%20at%2014.51.01.png" alt="Screen Shot 2018-02-05 at 14.51.01"></p><p><img src="/images/Screen%20Shot%202018-02-05%20at%2014.50.29.png" alt="Screen Shot 2018-02-05 at 14.50.29"></p><hr><p>ä¸€èˆ¬å¯¹trainä»¥åŠteståšä¸€ä¸ªconcatï¼Œå¹¶è®°å½•trainçš„æ¡æ•°ntrain</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">train = pd.read_csv(<span class="string">&quot;train.csv.gz&quot;</span>)</span><br><span class="line">test = pd.read_csv(<span class="string">&quot;test.csv.gz&quot;</span>)</span><br><span class="line"></span><br><span class="line">combined = pd.concat([train,test],axis =<span class="number">0</span>, ignore_index =<span class="literal">True</span>)</span><br><span class="line">ntrain = train.shape[<span class="number">0</span>]</span><br><span class="line">Y_train = train[<span class="string">&quot;SalePrice&quot;</span>]</span><br><span class="line">X_train = train.drop([<span class="string">&quot;Id&quot;</span>,<span class="string">&quot;SalePrice&quot;</span>],axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;train data shape:\t &quot;</span>,train.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;test data shape:\t &quot;</span>,test.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;combined data shape:\t&quot;</span>,combined.shape)</span><br></pre></td></tr></table></figure><h2 id="EDAç›¸å…³"><a href="#EDAç›¸å…³" class="headerlink" title="EDAç›¸å…³"></a>EDAç›¸å…³</h2><p>1D Scatter</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nca = NCA(num_dims=<span class="number">1</span>)</span><br><span class="line">nca.fit(xx_t, yy)</span><br><span class="line">xxxxx = nca.transform(xx)</span><br><span class="line">zeros=np.zeros_like(xxxxx)</span><br><span class="line">plt.scatter(xxxxx, zeros+<span class="number">1</span>,c=yy[:,np.newaxis])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/myplot.png" alt="myplot"></p><hr><p>ç¼ºå¤±å€¼åˆ†æ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cols_missing_value = combined.isnull().<span class="built_in">sum</span>()/combined.shape[<span class="number">0</span>]</span><br><span class="line">cols_missing_value = cols_missing_value[cols_missing_value&gt;<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;How many features is bad/missing value? The answer is:&quot;</span>,cols_missing_value.shape[<span class="number">0</span>])</span><br><span class="line">cols_missing_value.sort_values(ascending=<span class="literal">False</span>).head(<span class="number">10</span>).plot.barh()</span><br></pre></td></tr></table></figure><p><img src="/images/15161679439549.jpg"></p><p>æœ‰ç¼ºå¤± - éœ€è¦å¡«å……æˆ–è€…åˆ é™¤ï¼Œé€šå¸¸ç”¨å‡å€¼æˆ–è€…ä¸­æŒ‡ï¼Œæˆ–è€…ç”¨äººå·¥åˆ†æï¼ˆäººå·¥åˆ†ææ˜¯æåˆ†å…³é”®ï¼‰</p><hr><p>å°†è‹¥å¹²ä¸ªDataframeç”»åœ¨åŒä¸€ä¸ªå›¾é‡Œé¢ç›¸åŒåæ ‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots()</span><br><span class="line"><span class="comment"># desc, group æ˜¯ä¸€ä¸ªDataframe groupby desc å‡ºçš„ç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> desc, group <span class="keyword">in</span> Energy_sources:</span><br><span class="line">    group.plot(x = group.index, y=<span class="string">&#x27;Value&#x27;</span>, label=desc,ax = ax, title=<span class="string">&#x27;Carbon Emissions per Energy Source&#x27;</span>, fontsize = <span class="number">20</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">&#x27;Time(Monthly)&#x27;</span>)</span><br><span class="line">    ax.set_ylabel(<span class="string">&#x27;Carbon Emissions in MMT&#x27;</span>)</span><br><span class="line">    ax.xaxis.label.set_size(<span class="number">20</span>)</span><br><span class="line">    ax.yaxis.label.set_size(<span class="number">20</span>)</span><br><span class="line">    ax.legend(fontsize = <span class="number">16</span>)</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹å›¾ï¼Œ<br><img src="/images/15157398435931.jpg"></p><hr><p>ç”»a*bçš„å­å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fig, axes = plt.subplots(<span class="number">3</span>,<span class="number">3</span>, figsize = (<span class="number">30</span>, <span class="number">20</span>))</span><br><span class="line"><span class="comment"># desc, group æ˜¯ä¸€ä¸ªDataframe groupby desc å‡ºçš„ç»“æœ ä¹Ÿå°±æ˜¯ä¸‹é¢çš„Energy_sources</span></span><br><span class="line"><span class="keyword">for</span> (desc, group), ax <span class="keyword">in</span> <span class="built_in">zip</span>(Energy_sources, axes.flatten()):</span><br><span class="line">    group.plot(x = group.index, y=<span class="string">&#x27;Value&#x27;</span>,ax = ax, title=desc, fontsize = <span class="number">18</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">&#x27;Time(Monthly)&#x27;</span>)</span><br><span class="line">    ax.set_ylabel(<span class="string">&#x27;Carbon Emissions in MMT&#x27;</span>)</span><br><span class="line">    ax.xaxis.label.set_size(<span class="number">18</span>)</span><br><span class="line">    ax.yaxis.label.set_size(<span class="number">18</span>)</span><br></pre></td></tr></table></figure><p><img src="/images/15157402388676.jpg"></p><hr><p>ç”»æŸ±çŠ¶å›¾</p><p><img src="/images/Screen%20Shot%202018-01-12%20at%2015.19.32.png" alt="Screen Shot 2018-01-12 at 15.19.32"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(figsize = (<span class="number">16</span>,<span class="number">9</span>))</span><br><span class="line"><span class="comment"># CO2_per_sourceçš„æ¥æºä¸ç»“æ„å¦‚ä¸Šå›¾</span></span><br><span class="line">x_label = <span class="built_in">map</span>(<span class="keyword">lambda</span> x: x[:<span class="number">20</span>],CO2_per_source.index)</span><br><span class="line">x_tick = np.arange(<span class="built_in">len</span>(cols))</span><br><span class="line">plt.bar(x_tick, CO2_per_source, align = <span class="string">&#x27;center&#x27;</span>, alpha = <span class="number">0.5</span>)</span><br><span class="line">fig.suptitle(<span class="string">&quot;CO2 Emissions by Electric Power Sector&quot;</span>, fontsize= <span class="number">25</span>)</span><br><span class="line">plt.xticks(x_tick, x_label, rotation = <span class="number">70</span>, fontsize = <span class="number">15</span>)</span><br><span class="line">plt.yticks(fontsize = <span class="number">20</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Carbon Emissions in MMT&#x27;</span>, fontsize = <span class="number">20</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15157416530029.jpg"></p><hr><p>é‡å å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> statsmodels.tsa.seasonal <span class="keyword">import</span> seasonal_decompose</span><br><span class="line">decomposition = seasonal_decompose(mte)</span><br><span class="line"></span><br><span class="line">trend = decomposition.trend</span><br><span class="line">seasonal = decomposition.seasonal</span><br><span class="line">residual = decomposition.resid</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">411</span>)</span><br><span class="line">plt.plot(mte, label=<span class="string">&#x27;Original&#x27;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">412</span>)</span><br><span class="line">plt.plot(trend, label=<span class="string">&#x27;Trend&#x27;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">413</span>)</span><br><span class="line">plt.plot(seasonal,label=<span class="string">&#x27;Seasonality&#x27;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line">plt.subplot(<span class="number">414</span>)</span><br><span class="line">plt.plot(residual, label=<span class="string">&#x27;Residuals&#x27;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure><p><img src="/images/15157543822442.jpg"></p><hr><p>ç¯å½¢å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">plt.subplots(figsize=(<span class="number">15</span>,<span class="number">15</span>))</span><br><span class="line">data=response[<span class="string">&#x27;PublicDatasetsSelect&#x27;</span>].<span class="built_in">str</span>.split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">dataset=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data.dropna():</span><br><span class="line">    dataset.extend(i)</span><br><span class="line">pd.Series(dataset).value_counts().plot.pie(autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>,colors=sns.color_palette(<span class="string">&#x27;Paired&#x27;</span>,<span class="number">10</span>),startangle=<span class="number">90</span>,wedgeprops = &#123; <span class="string">&#x27;linewidth&#x27;</span> : <span class="number">2</span>, <span class="string">&#x27;edgecolor&#x27;</span> : <span class="string">&#x27;white&#x27;</span> &#125;)</span><br><span class="line">plt.title(<span class="string">&#x27;Dataset Source&#x27;</span>)</span><br><span class="line">my_circle=plt.Circle( (<span class="number">0</span>,<span class="number">0</span>), <span class="number">0.7</span>, color=<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">p=plt.gcf()</span><br><span class="line">p.gca().add_artist(my_circle)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159953413652.jpg"></p><hr><p>é¥¼çŠ¶å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">f,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">18</span>,<span class="number">8</span>))</span><br><span class="line">response[<span class="string">&#x27;JobSkillImportancePython&#x27;</span>].value_counts().plot.pie(ax=ax[<span class="number">0</span>],autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>,explode=[<span class="number">0.1</span>,<span class="number">0</span>,<span class="number">0</span>],shadow=<span class="literal">True</span>,colors=[<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;lightblue&#x27;</span>,<span class="string">&#x27;r&#x27;</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Python Necessity&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">response[<span class="string">&#x27;JobSkillImportanceR&#x27;</span>].value_counts().plot.pie(ax=ax[<span class="number">1</span>],autopct=<span class="string">&#x27;%1.1f%%&#x27;</span>,explode=[<span class="number">0</span>,<span class="number">0.1</span>,<span class="number">0</span>],shadow=<span class="literal">True</span>,colors=[<span class="string">&#x27;lightblue&#x27;</span>,<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;r&#x27;</span>])</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;R Necessity&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159954686370.jpg"></p><hr><p>ç»´æ©å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">18</span>,<span class="number">8</span>))</span><br><span class="line">pd.Series([python.shape[<span class="number">0</span>],R.shape[<span class="number">0</span>],both.shape[<span class="number">0</span>]],index=[<span class="string">&#x27;Python&#x27;</span>,<span class="string">&#x27;R&#x27;</span>,<span class="string">&#x27;Both&#x27;</span>]).plot.bar(ax=ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Number of Users&#x27;</span>)</span><br><span class="line">venn2(subsets = (python.shape[<span class="number">0</span>],R.shape[<span class="number">0</span>],both.shape[<span class="number">0</span>]), set_labels = (<span class="string">&#x27;Python Users&#x27;</span>, <span class="string">&#x27;R Users&#x27;</span>))</span><br><span class="line">plt.title(<span class="string">&#x27;Venn Diagram for Users&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/images/15159955616741.jpg"></p><h2 id="Seaborn"><a href="#Seaborn" class="headerlink" title="Seaborn"></a>Seaborn</h2><p>count plot</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.subplots(figsize=(<span class="number">22</span>,<span class="number">12</span>))</span><br><span class="line">sns.countplot(y=response[<span class="string">&#x27;GenderSelect&#x27;</span>],order=response[<span class="string">&#x27;GenderSelect&#x27;</span>].value_counts().index)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159941639903.jpg"></p><hr><p>åˆ©ç”¨squarifyç”»æ ‘å½¢å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> squarify</span><br><span class="line">tree=response[<span class="string">&#x27;Country&#x27;</span>].value_counts().to_frame()</span><br><span class="line">squarify.plot(sizes=tree[<span class="string">&#x27;Country&#x27;</span>].values,label=tree.index,color=sns.color_palette(<span class="string">&#x27;RdYlGn_r&#x27;</span>,<span class="number">52</span>))</span><br><span class="line">plt.rcParams.update(&#123;<span class="string">&#x27;font.size&#x27;</span>:<span class="number">20</span>&#125;)</span><br><span class="line">fig=plt.gcf()</span><br><span class="line">fig.set_size_inches(<span class="number">40</span>,<span class="number">15</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159945932245.jpg"></p><hr><p>snsç”»åˆ†å¸ƒå›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.subplots(figsize=(<span class="number">15</span>,<span class="number">8</span>))</span><br><span class="line">salary=salary[salary[<span class="string">&#x27;Salary&#x27;</span>]&lt;<span class="number">1000000</span>]</span><br><span class="line">sns.distplot(salary[<span class="string">&#x27;Salary&#x27;</span>])</span><br><span class="line">plt.title(<span class="string">&#x27;Salary Distribution&#x27;</span>,size=<span class="number">15</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159947979455.jpg"></p><hr><p>snså­å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">f,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">18</span>,<span class="number">8</span>))</span><br><span class="line">sal_coun=salary.groupby(<span class="string">&#x27;Country&#x27;</span>)[<span class="string">&#x27;Salary&#x27;</span>].median().sort_values(ascending=<span class="literal">False</span>)[:<span class="number">15</span>].to_frame()</span><br><span class="line">sns.barplot(<span class="string">&#x27;Salary&#x27;</span>,sal_coun.index,data=sal_coun,palette=<span class="string">&#x27;RdYlGn&#x27;</span>,ax=ax[<span class="number">0</span>])</span><br><span class="line">ax[<span class="number">0</span>].axvline(salary[<span class="string">&#x27;Salary&#x27;</span>].median(),linestyle=<span class="string">&#x27;dashed&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Highest Salary Paying Countries&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_xlabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">max_coun=salary.groupby(<span class="string">&#x27;Country&#x27;</span>)[<span class="string">&#x27;Salary&#x27;</span>].median().to_frame()</span><br><span class="line">max_coun=max_coun[max_coun.index.isin(resp_coun.index)]</span><br><span class="line">max_coun.sort_values(by=<span class="string">&#x27;Salary&#x27;</span>,ascending=<span class="literal">True</span>).plot.barh(width=<span class="number">0.8</span>,ax=ax[<span class="number">1</span>],color=sns.color_palette(<span class="string">&#x27;RdYlGn&#x27;</span>))</span><br><span class="line">ax[<span class="number">1</span>].axvline(salary[<span class="string">&#x27;Salary&#x27;</span>].median(),linestyle=<span class="string">&#x27;dashed&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Compensation of Top 15 Respondent Countries&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_xlabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">plt.subplots_adjust(wspace=<span class="number">0.8</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159948678550.jpg"></p><hr><p>seabornç®±å‹å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.subplots(figsize=(<span class="number">10</span>,<span class="number">8</span>))</span><br><span class="line">sns.boxplot(y=<span class="string">&#x27;GenderSelect&#x27;</span>,x=<span class="string">&#x27;Salary&#x27;</span>,data=salary)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159949427978.jpg"></p><hr><p>seaborn count_plot</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">f,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">25</span>,<span class="number">15</span>))</span><br><span class="line">sns.countplot(y=response[<span class="string">&#x27;MajorSelect&#x27;</span>],ax=ax[<span class="number">0</span>],order=response[<span class="string">&#x27;MajorSelect&#x27;</span>].value_counts().index)</span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Major&#x27;</span>)</span><br><span class="line">ax[<span class="number">0</span>].set_ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">sns.countplot(y=response[<span class="string">&#x27;CurrentJobTitleSelect&#x27;</span>],ax=ax[<span class="number">1</span>],order=response[<span class="string">&#x27;CurrentJobTitleSelect&#x27;</span>].value_counts().index)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&#x27;Current Job&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_ylabel(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">plt.subplots_adjust(wspace=<span class="number">0.8</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159950249702.jpg"></p><hr><p>seaborn å›¾ä¸­æ·»åŠ æ–‡å­—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sal_job=salary.groupby(<span class="string">&#x27;CurrentJobTitleSelect&#x27;</span>)[<span class="string">&#x27;Salary&#x27;</span>].median().to_frame().sort_values(by=<span class="string">&#x27;Salary&#x27;</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">ax=sns.barplot(sal_job.Salary,sal_job.index,palette=sns.color_palette(<span class="string">&#x27;inferno&#x27;</span>,<span class="number">20</span>))</span><br><span class="line">plt.title(<span class="string">&#x27;Compensation By Job Title&#x27;</span>,size=<span class="number">15</span>)</span><br><span class="line"><span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">enumerate</span>(sal_job.Salary): </span><br><span class="line">    ax.text(<span class="number">.5</span>, i, v,fontsize=<span class="number">10</span>,color=<span class="string">&#x27;white&#x27;</span>,weight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">fig=plt.gcf()</span><br><span class="line">fig.set_size_inches(<span class="number">8</span>,<span class="number">8</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159951024672.jpg"></p><hr><p>è¯äº‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> WordCloud, STOPWORDS</span><br><span class="line"><span class="keyword">import</span> nltk</span><br><span class="line"><span class="keyword">from</span> nltk.corpus <span class="keyword">import</span> stopwords</span><br><span class="line">free=pd.read_csv(<span class="string">&#x27;../input/freeformResponses.csv&#x27;</span>)</span><br><span class="line">stop_words=<span class="built_in">set</span>(stopwords.words(<span class="string">&#x27;english&#x27;</span>))</span><br><span class="line">stop_words.update(<span class="string">&#x27;,&#x27;</span>,<span class="string">&#x27;;&#x27;</span>,<span class="string">&#x27;!&#x27;</span>,<span class="string">&#x27;?&#x27;</span>,<span class="string">&#x27;.&#x27;</span>,<span class="string">&#x27;(&#x27;</span>,<span class="string">&#x27;)&#x27;</span>,<span class="string">&#x27;$&#x27;</span>,<span class="string">&#x27;#&#x27;</span>,<span class="string">&#x27;+&#x27;</span>,<span class="string">&#x27;:&#x27;</span>,<span class="string">&#x27;...&#x27;</span>)</span><br><span class="line">motivation=free[<span class="string">&#x27;KaggleMotivationFreeForm&#x27;</span>].dropna().apply(nltk.word_tokenize)</span><br><span class="line">motivate=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> motivation:</span><br><span class="line">    motivate.extend(i)</span><br><span class="line">motivate=pd.Series(motivate)</span><br><span class="line">motivate=([i <span class="keyword">for</span> i <span class="keyword">in</span> motivate.<span class="built_in">str</span>.lower() <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> stop_words])</span><br><span class="line">f1=<span class="built_in">open</span>(<span class="string">&quot;kaggle.png&quot;</span>, <span class="string">&quot;wb&quot;</span>)</span><br><span class="line">f1.write(codecs.decode(kaggle,<span class="string">&#x27;base64&#x27;</span>))</span><br><span class="line">f1.close()</span><br><span class="line">img1 = imread(<span class="string">&quot;kaggle.png&quot;</span>)</span><br><span class="line">hcmask1 = img1</span><br><span class="line">wc = WordCloud(background_color=<span class="string">&quot;black&quot;</span>, max_words=<span class="number">4000</span>, mask=hcmask1, </span><br><span class="line">               stopwords=STOPWORDS, max_font_size= <span class="number">60</span>,width=<span class="number">1000</span>,height=<span class="number">1000</span>)</span><br><span class="line">wc.generate(<span class="string">&quot; &quot;</span>.join(motivate))</span><br><span class="line">plt.imshow(wc)</span><br><span class="line">plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">fig=plt.gcf()</span><br><span class="line">fig.set_size_inches(<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15159971204332.jpg"></p><hr><p>ç®€å•æƒ…å†µä¸‹çš„åˆ†ç±»å±•ç¤º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> IPython <span class="keyword">import</span> display</span><br><span class="line"></span><br><span class="line">h = <span class="number">0.01</span></span><br><span class="line">x_min, x_max = X[:, <span class="number">0</span>].<span class="built_in">min</span>() - <span class="number">1</span>, X[:, <span class="number">0</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line">y_min, y_max = X[:, <span class="number">1</span>].<span class="built_in">min</span>() - <span class="number">1</span>, X[:, <span class="number">1</span>].<span class="built_in">max</span>() + <span class="number">1</span></span><br><span class="line">xx, yy = np.meshgrid(np.arange(x_min, x_max, h), np.arange(y_min, y_max, h))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visualize</span>(<span class="params">X, y, w, history</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;draws classifier prediction with matplotlib magic&quot;&quot;&quot;</span></span><br><span class="line">    Z = probability(expand(np.c_[xx.ravel(), yy.ravel()]), w)</span><br><span class="line">    Z = Z.reshape(xx.shape)</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    plt.contourf(xx, yy, Z, alpha=<span class="number">0.8</span>)</span><br><span class="line">    plt.scatter(X[:, <span class="number">0</span>], X[:, <span class="number">1</span>], c=y, cmap=plt.cm.Paired)</span><br><span class="line">    plt.xlim(xx.<span class="built_in">min</span>(), xx.<span class="built_in">max</span>())</span><br><span class="line">    plt.ylim(yy.<span class="built_in">min</span>(), yy.<span class="built_in">max</span>())</span><br><span class="line">    </span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">    plt.plot(history)</span><br><span class="line">    plt.grid()</span><br><span class="line">    ymin, ymax = plt.ylim()</span><br><span class="line">    plt.ylim(<span class="number">0</span>, ymax)</span><br><span class="line">    display.clear_output(wait=<span class="literal">True</span>)</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15163355887784.jpg"></p><hr><p>å›¾ä¸­æ’å…¥LaTeXå…¬å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">x = np.linspace(-<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">x_squared, x_squared_der = s.run([scalar_squared, derivative[<span class="number">0</span>]],</span><br><span class="line">                                 &#123;my_scalar:x&#125;)</span><br><span class="line"></span><br><span class="line">plt.plot(x, x_squared,label=<span class="string">&quot;$x^2$&quot;</span>)</span><br><span class="line">plt.plot(x, x_squared_der, label=<span class="string">r&quot;$\frac&#123;dx^2&#125;&#123;dx&#125;$&quot;</span>)</span><br><span class="line">plt.legend();</span><br></pre></td></tr></table></figure><p><img src="/images/15163465540386.jpg"></p><hr><p>ç”»å¤šå¼ å­å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show random images from train</span></span><br><span class="line">cols = <span class="number">8</span></span><br><span class="line">rows = <span class="number">2</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">2</span> * cols - <span class="number">1</span>, <span class="number">2.5</span> * rows - <span class="number">1</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(cols):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(rows):</span><br><span class="line">        random_index = np.random.randint(<span class="number">0</span>, <span class="built_in">len</span>(y_train))</span><br><span class="line">        ax = fig.add_subplot(rows, cols, i * rows + j + <span class="number">1</span>)</span><br><span class="line">        ax.grid(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">        ax.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">        ax.imshow(x_train[random_index, :])</span><br><span class="line">        ax.set_title(cifar10_classes[y_train[random_index, <span class="number">0</span>]])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/15167635233971.jpg"></p><h2 id="ç‰¹å¾å·¥ç¨‹é˜¶æ®µ"><a href="#ç‰¹å¾å·¥ç¨‹é˜¶æ®µ" class="headerlink" title="ç‰¹å¾å·¥ç¨‹é˜¶æ®µ"></a>ç‰¹å¾å·¥ç¨‹é˜¶æ®µ</h2><p>NumpyåŒºé—´ç™¾åˆ†æ¯”åˆ‡åˆ†å¼‚å¸¸å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cut off long distance trips</span></span><br><span class="line">lat_low, lat_hgh = np.percentile(latlong[:,<span class="number">0</span>], [<span class="number">2</span>, <span class="number">98</span>])</span><br><span class="line">lon_low, lon_hgh = np.percentile(latlong[:,<span class="number">1</span>], [<span class="number">2</span>, <span class="number">98</span>])</span><br></pre></td></tr></table></figure><hr><p>åˆå§‹åŒ–åŒshapeå‘é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">g2 = np.zeros_like(w)</span><br><span class="line">``</span><br><span class="line"></span><br><span class="line">-------</span><br><span class="line"></span><br><span class="line">ç´¯ç§¯<span class="built_in">sum</span></span><br><span class="line">``` python</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.cumsum(a,axis=<span class="number">1</span>)      <span class="comment"># sum over columns for each of the 2 rows</span></span><br><span class="line">array([[ <span class="number">1</span>,  <span class="number">3</span>,  <span class="number">6</span>],</span><br><span class="line">       [ <span class="number">4</span>,  <span class="number">9</span>, <span class="number">15</span>]])</span><br></pre></td></tr></table></figure><hr><p>numpy array æ‰©å±•ç»´åº¦ï¼Œå¾ˆç®€å•åœ°å°†Numpyå‘é‡æ‰©å±•ä¸ºäºŒç»´çŸ©é˜µ<br><img src="/images/15167894435840.png"><br><img src="/images/Screen%20Shot%202018-01-24%20at%2019.02.32.png" alt="Screen Shot 2018-01-24 at 19.02.32"></p><hr><p>Numpy ç«–ç€å æ”¾å‘é‡<br><code>np.column_stack</code></p><hr><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨äºæŸ¥çœ‹Dataframeå„åˆ—æ•°æ®ç±»å‹</span></span><br><span class="line">ts.dtypes</span><br></pre></td></tr></table></figure><hr><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#skewæ˜¯å•å˜é‡å·¥å…·ï¼Œç”¨æ¥ç›‘æµ‹æ•°æ®æ˜¯å¦æœ‰é•¿å°¾ï¼Œå·¦åæˆ–è€…å³å</span></span><br><span class="line"><span class="built_in">print</span>(Y_train.skew())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#np.abs æ˜¯ç»å¯¹å€¼å‡½æ•°ï¼Œç”¨æ¥å–æ•´ä¸ªå‘é‡ç»å¯¹å€¼</span></span><br><span class="line"><span class="comment"># è¿™é‡Œå¯¹æ‰€æœ‰trainé‡Œçš„ç‰¹å¾æ±‚ååº¦å¹¶æ’åº</span></span><br><span class="line">np.<span class="built_in">abs</span>(combined[:ntrain].skew()).sort_values(ascending = <span class="literal">False</span> ).head(<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>æœ‰ååº¦ - éœ€è¦å¤„ç†ã€‚é€šå¸¸æ˜¯ç”¨log1p </p><hr><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨äºå°†Dataframeä¸­è¢«è¯»å–ä¸ºobjectçš„æ•°æ®è½¬æ¢ä¸ºæ•°å€¼å‹ï¼Œerrors=&#x27;coerce&#x27;ä»£è¡¨é”™è¯¯å°†è¢«ç½®ä¸ºNaN</span></span><br><span class="line">ts[<span class="string">&#x27;Value&#x27;</span>] = pd.to_numeric(ts[<span class="string">&#x27;Value&#x27;</span>] , errors=<span class="string">&#x27;coerce&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><p>è¿‡æ»¤index é‡Œé¢çš„NaNå€¼ï¼Œæ¨å¹¿ä¹Ÿå¯ä»¥è¿‡æ»¤å…¶ä»–åˆ—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ts = df.loc[pd.Series(pd.to_datetime(df.index, errors=<span class="string">&#x27;coerce&#x27;</span>)).notnull().values]</span><br></pre></td></tr></table></figure><hr><p>æŒ‰æœˆgroupbyï¼Œä»¥åŠunstackè§£æ„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Emissions.groupby([<span class="string">&#x27;Description&#x27;</span>, pd.TimeGrouper(<span class="string">&#x27;M&#x27;</span>)])[<span class="string">&#x27;Value&#x27;</span>].<span class="built_in">sum</span>().unstack(level = <span class="number">0</span>)</span><br></pre></td></tr></table></figure><p><img src="/images/Screen%20Shot%202018-01-12%20at%2016.16.30.png" alt="Screen Shot 2018-01-12 at 16.16.30"></p><hr><p>å°†value_countsã€groupbyç­‰Seriesè½¬æ¢ä¸ºDataframe</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree=response[<span class="string">&#x27;Country&#x27;</span>].value_counts().to_frame()</span><br></pre></td></tr></table></figure><hr><p>ç‰¹å¾å·¥ç¨‹å¤§æ€å™¨ï¼Œ<a href="http://pandas.pydata.org/pandas-docs/stable/basics.html?highlight=pipe#tablewise-function-application">Pandas Pipe</a><br>è¿™é‡Œæœ‰ä¸ªç®€å•çš„ä¾‹å­ï¼Œ,æ¯ä¸ªpipesé‡Œé¢éƒ½æœ‰è‹¥å¹²ä¸ªç‰¹å¾å¤„ç†å‡½æ•°å’Œä¸€ä¸ªå¿«é€Ÿæµ‹è¯•çš„å‡½æ•°ï¼Œå…¶ä¸­ä¸ºäº†å¯¹é½ç¾è§‚ï¼Œç”¨bypasså‡½æ•°æ¥å¡«å……ç©ºç™½çš„åœ°æ–¹ï¼ˆæ— ç”¨ä½†æ˜¯ä¸ºäº†å¼ºè¡Œè®©pipesé•¿åº¦ç›¸åŒï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">pipe_basic = [pipe_basic_fillna,pipe_bypass,\</span><br><span class="line">              pipe_bypass,pipe_bypass,\</span><br><span class="line">              pipe_bypass,pipe_bypass,\</span><br><span class="line">              pipe_log_getdummies,pipe_bypass, \</span><br><span class="line">              pipe_export,pipe_r2test]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pipe_ascat = [pipe_fillna_ascat,pipe_drop_cols,\</span><br><span class="line">              pipe_drop4cols,pipe_outliersdrop,\</span><br><span class="line">              pipe_extract,pipe_bypass,\</span><br><span class="line">              pipe_log_getdummies,pipe_drop_dummycols, \</span><br><span class="line">              pipe_export,pipe_r2test]</span><br><span class="line"></span><br><span class="line">pipe_ascat_unitprice = [pipe_fillna_ascat,pipe_drop_cols,\</span><br><span class="line">              pipe_drop4cols,pipe_outliersdrop,\</span><br><span class="line">              pipe_extract,pipe_unitprice,\</span><br><span class="line">              pipe_log_getdummies,pipe_drop_dummycols, \</span><br><span class="line">              pipe_export,pipe_r2test]</span><br><span class="line"></span><br><span class="line">pipes = [pipe_basic,pipe_ascat,pipe_ascat_unitprice ]</span><br></pre></td></tr></table></figure><p>è·‘çš„ä»£ç ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(pipes)):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span>*<span class="number">10</span>,<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    pipe_output=pipes[i]</span><br><span class="line">    output_name =<span class="string">&quot;_&quot;</span>.join([x.__name__[<span class="number">5</span>:] <span class="keyword">for</span> x <span class="keyword">in</span> pipe_output <span class="keyword">if</span> x.__name__ <span class="keyword">is</span> <span class="keyword">not</span> <span class="string">&quot;pipe_bypass&quot;</span>])</span><br><span class="line">    output_name = <span class="string">&quot;PIPE_&quot;</span> +output_name</span><br><span class="line">    <span class="built_in">print</span>(output_name)</span><br><span class="line">    (combined.pipe(pipe_output[<span class="number">0</span>])</span><br><span class="line">             .pipe(pipe_output[<span class="number">1</span>])</span><br><span class="line">             .pipe(pipe_output[<span class="number">2</span>])</span><br><span class="line">             .pipe(pipe_output[<span class="number">3</span>])</span><br><span class="line">             .pipe(pipe_output[<span class="number">4</span>])</span><br><span class="line">             .pipe(pipe_output[<span class="number">5</span>])          </span><br><span class="line">             .pipe(pipe_output[<span class="number">6</span>])</span><br><span class="line">             .pipe(pipe_output[<span class="number">7</span>])</span><br><span class="line">             .pipe(pipe_output[<span class="number">8</span>],name=output_name)</span><br><span class="line">             .pipe(pipe_output[<span class="number">9</span>])</span><br><span class="line">             ï¼‰</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆæ­¥çœ‹åˆ°ä¸‰ä¸ªç‰¹å¾å·¥ç¨‹çš„æ€§èƒ½ã€‚å¹¶ä¸”æ–‡ä»¶å·²ç»è¾“å‡ºåˆ°hd5æ ¼å¼æ–‡ä»¶ã€‚åæœŸåœ¨è®­ç»ƒå’Œé¢„æµ‹æ—¶ï¼Œç›´æ¥å–å‡ºé¢„å¤„ç†çš„æ–‡ä»¶å°±å¯ä»¥ã€‚å„ä¸ªpipeä»£ç å¯è§<a href="https://gist.github.com/frankchen0130/5950eaa4d98ea4f93deed707b027b517">æ­¤å¤„</a>ã€‚</p><h2 id="è°ƒå‚é˜¶æ®µ"><a href="#è°ƒå‚é˜¶æ®µ" class="headerlink" title="è°ƒå‚é˜¶æ®µ"></a>è°ƒå‚é˜¶æ®µ</h2><p>åœ¨æ•°æ®å‡†å¤‡å¥½åè®­ç»ƒæ—¶ï¼Œæœ€åŸºæœ¬çš„å°±æ˜¯è¦è°ƒæ•´è¶…å‚ï¼ˆHyperparameterï¼‰è€—æ—¶è€—åŠ›ï¼Œå¹¶ä¸”å’Œå‘ç”Ÿé”™è¯¯å’Œé—æ¼æƒ…å†µã€‚<br>Stackoverflowä¸Šå¸¸è§çš„ç®—æ³•è®­ç»ƒé”™è¯¯æœ‰ï¼š</p><ul><li>ç®—æ³•é¢„æµ‹çš„ç»“æœå·®å¼‚éå¸¸å¤§ã€‚ å…¶ä¸­ä¸€ä¸ªå¯èƒ½å°±æ˜¯è®­ç»ƒæ—¶çš„æ ‡å‡†åŒ–æ­¥éª¤ï¼Œåœ¨é¢„æµ‹æ—¶é—æ¼äº†ã€‚</li><li>ç®—æ³•çš„è°ƒå‚ç»“æœå·®å¼‚éå¸¸å¤§ã€‚ï¼ˆæœ‰çš„æ˜¯0.01,æœ‰çš„å°±æ˜¯10ï¼‰ã€‚å…¶ä¸­çš„ä¸€ä¸ªå¯èƒ½å°±æ˜¯ä¸åŒçš„è®­ç»ƒæ­¥éª¤ä¸­é‡‡ç”¨çš„æ ‡å‡†åŒ–ç®—æ³•ä¸åŒï¼ˆä¾‹å¦‚,ä¸€æ¬¡ç”¨äº†StandardScaler, å¦ä¸€æ¬¡ç”¨äº†RobustScaler)</li><li>æ­¤å¤–ï¼Œç¹å¤šçš„è¶…å‚æ•°è°ƒæ•´èµ·æ¥å¼‚å¸¸ç¹çã€‚æ¯”è¾ƒå®¹æ˜“é”™è¯¯æˆ–è€…å†™é”™ã€‚</li></ul><p><strong>è§£å†³æ–¹æ³•ï¼šPipeline + Gridsearch + å‚æ•°å­—å…¸ + å®¹å™¨ã€‚</strong><br>ä½¿ç”¨Pipelineçš„ä¾‹å­</p><p>é’ˆå¯¹çº¿å½¢å›å½’é—®é¢˜ï¼ŒSklearnæä¾›äº†è¶…è¿‡15ç§å›å½’ç®—æ³•ã€‚åˆ©ç”¨Pipeline å¤§æ³•å¯ä»¥ç»¼åˆæµ‹è¯•æ‰€æœ‰ç®—æ³•ï¼Œæ‰¾åˆ°æœ€åˆé€‚çš„ç®—æ³•ã€‚ å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><p>åˆå§‹åŒ–æ‰€æœ‰å¸Œæœ›è°ƒæµ‹çº¿å½¢å›å½’ã€‚</p></li><li><p>å»ºç«‹ä¸€ä¸ªå­—å…¸å®¹å™¨ã€‚{â€œç®—æ³•åç§°â€:[åˆå§‹ç®—æ³•å¯¹è±¡ï¼Œå‚æ•°å­—å…¸ï¼Œè®­ç»ƒå¥½çš„Pipelineæ¨¡å‹å¯¹è±¡ï¼ŒCVçš„æˆç»©}</p></li><li><p>åœ¨è°ƒå‚æ­¥éª¤ï¼Œå°†åˆå§‹ç®—æ³•ç”¨PipelineåŒ…è£…èµ·æ¥ï¼Œåˆ©ç”¨Gridsearchè¿›è¡Œè°ƒå‚ã€‚è°ƒå‚å®Œæˆåå¯ä»¥å¾—åˆ°é’ˆå¯¹ç›¸åº”çš„CVè€Œè·å¾—çš„æœ€åæ¨¡å‹å¯¹è±¡ã€‚ ä¾‹å¦‚ï¼š lasso ç®—æ³•çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p></li></ol><ul><li><pre><code>åŒ…è£… pipe=Pipeline([(&quot;scaler&quot;:None),(&quot;selector&quot;:None),(&quot;clf&quot;:Lasso())    * Pipeå°±æ˜¯åˆšåˆšåŒ…è£…å¥½çš„ç®—æ³•ã€‚å¯ä»¥ç›´æ¥ç”¨äº è®­ç»ƒ(fit)å’Œé¢„æµ‹(predict)    * ä½¿ç”¨Pipeæ¥å¤„ç†è®­ç»ƒé›†å’Œæµ‹è¯•é›†å¯ä»¥é¿å…é”™è¯¯å’Œé—æ¼ï¼Œæé«˜æ•ˆç‡ã€‚    * ä½†æ˜¯Pipeä¸­ç®—æ³•æ˜¯é»˜è®¤çš„å‚æ•°ï¼Œç›´æ¥è®­ç»ƒå‡ºçš„æ¨¡å‹RMSEä¸å¤ªç†æƒ³ã€‚ï¼ˆä¾‹å¦‚ï¼šlocal CV, 0.12~0.14å·¦å³ï¼‰ã€‚è¿™æ—¶å¯ä»¥è€ƒè™‘è°ƒå‚ã€‚</code></pre></li><li>è°ƒå‚ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å‚æ•°å­—å…¸ï¼š<br>  Params_lasso ={<br>  â€œScalerâ€:[RobustScaler(),StandardScaler()], #ä¸¤ä¸ªæ ‡å‡†åŒ–ç®—æ³•ä¾›è°ƒæ¨¡å‹<br>  â€œselector__thresholdâ€:np.logspace(-5,-4,3), #3ä¸ªé€‰æ‹©é—¨é™ä¾›é€‰ç‰¹å¾<br>  â€œclf__alphaâ€:np.logspace(-5,-1,10) }ï¼Œ #10ä¸ªalphaæŒ‡ä¾›è°ƒå‚</li><li>è°ƒå‚ç¬¬äºŒæ­¥ï¼šæš´åŠ›è°ƒå‚å’Œç”Ÿæˆæ¨¡å‹ rsearch = GridSearchCV(pipe, param_grid=Params_lasso,scoring =â€™neg_mean_squared_errorâ€™,verbose=verbose,cv=10,refit =True)<ul><li>GridSearch æ˜¯æš´åŠ›è°ƒå‚ã€‚éå†æ‰€æœ‰å‚æ•°ç»„åˆï¼Œå¦å¤–æœ‰ä¸€ä¸ªRandomedSearch å¯ä»¥éšæœºé€‰æ‹©å‚æ•°ç»„åˆï¼Œç¼©çŸ­è°ƒå‚æ—¶é—´ï¼Œå¹¶ä¸”è·å¾—è¿‘ä¼¼çš„è°ƒå‚æ€§èƒ½</li><li>Pipeå°±æ˜¯åˆšåˆšåŒ…è£…å¥½çš„ç®—æ³•ã€‚GridSearchæŠŠå¯é€‰çš„å‚æ•°å’Œç®—æ³•ï¼ˆæ”¾å…¥ï¼Œæˆ–è€…æ›´å¥½çš„ç»„åˆã€‚</li><li>è°ƒå‚çš„è®­ç»ƒæ ‡å‡†æ˜¯â€œâ€™neg_mean_squared_errorâ€, RMSEçš„è´Ÿæ•°ã€‚ è¿™ç§å¤„ç†æ–¹æ³•ï¼Œè®©æœ€å¤§å€¼ç§°ä¸ºæœ€å°çš„MSEæŒ‡ã€‚åªéœ€è¦å¯¹ç»“æœåšä¸€æ¬¡np.sqrt( ç»“æœè´Ÿæ•°ï¼‰å°±èƒ½è·å¾—RMSEå€¼ã€‚</li><li>cv=10. Cross Validate æ•°æ®é›†ä¸º9ï¼š1ã€‚æ•°æ®é›†å°çš„æƒ…å†µï¼Œä¾‹å¦‚House Price. 3æŠ˜å’Œ10æŠ˜ç»“æœç”šè‡³æ¯”è°ƒå‚å·®å¼‚è¿˜å¤§ã€‚</li><li>refit =True. åœ¨è°ƒå‚å®Œæˆåï¼Œå†éœ€è¦åšä¸€æ¬¡æ‰€æœ‰æ•°æ®é›†çš„fit. ç”Ÿæˆå®Œæ•´çš„è®­ç»ƒæ¨¡å‹</li></ul></li></ul><hr><p>Sklearn æµç¨‹å›¾<br><img src="/images/15161696298310.jpg"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      <category domain="http://example.com/tags/Python/">Python</category>
      
      
      <comments>http://example.com/2018/01/12/Data-Science-Notes/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>DIYè¿œç¨‹Jupyter NotebookæœåŠ¡å™¨</title>
      <link>http://example.com/2017/12/25/Remote-jupyter-notebook/</link>
      <guid>http://example.com/2017/12/25/Remote-jupyter-notebook/</guid>
      <pubDate>Mon, 25 Dec 2017 11:43:17 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15142020075328.jpg&quot; alt=&quot;Screen Shot 2017-07-18 at 14.16.18&quot;&gt;&lt;br&gt;æ„å»ºè‡ªå·±çš„è¿œç¨‹Jupyter NotebookæœåŠ¡å™¨ï¼Œæ·»åŠ systemå¼€æœºè‡ªå¯ï¼Œè®©Jupyter Notebookæ”¯æŒè·¨ç½‘ç»œè®¿é—®çš„æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15142020075328.jpg" alt="Screen Shot 2017-07-18 at 14.16.18"><br>æ„å»ºè‡ªå·±çš„è¿œç¨‹Jupyter NotebookæœåŠ¡å™¨ï¼Œæ·»åŠ systemå¼€æœºè‡ªå¯ï¼Œè®©Jupyter Notebookæ”¯æŒè·¨ç½‘ç»œè®¿é—®çš„æ–¹æ³•ã€‚</p><span id="more"></span><h2 id="å®Œå…¨å¼€æ”¾ï¼Œä¸éœ€å¯†ç "><a href="#å®Œå…¨å¼€æ”¾ï¼Œä¸éœ€å¯†ç " class="headerlink" title="å®Œå…¨å¼€æ”¾ï¼Œä¸éœ€å¯†ç "></a>å®Œå…¨å¼€æ”¾ï¼Œä¸éœ€å¯†ç </h2><h3 id="1-ç™»é™†è¿œç¨‹æœåŠ¡å™¨"><a href="#1-ç™»é™†è¿œç¨‹æœåŠ¡å™¨" class="headerlink" title="1.  ç™»é™†è¿œç¨‹æœåŠ¡å™¨"></a>1.  ç™»é™†è¿œç¨‹æœåŠ¡å™¨</h3><h3 id="2-ç”Ÿæˆé…ç½®æ–‡ä»¶"><a href="#2-ç”Ÿæˆé…ç½®æ–‡ä»¶" class="headerlink" title="2.ç”Ÿæˆé…ç½®æ–‡ä»¶"></a>2.ç”Ÿæˆé…ç½®æ–‡ä»¶</h3><p><code>$jupyter notebook --generate-config</code></p><h3 id="3-ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶"><a href="#3-ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶" class="headerlink" title="3. ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶"></a>3. ä¿®æ”¹é»˜è®¤é…ç½®æ–‡ä»¶</h3><p><code>$vim ~/.jupyter/jupyter_notebook_config.py </code><br>è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.ip = <span class="string">&#x27;0.0.0.0&#x27;</span>      <span class="comment">#æ”¯æŒå…¶å®ƒIPè®¿é—®ï¼Œå…³é”®</span></span><br><span class="line">c.NotebookApp.port = <span class="number">10000</span> <span class="comment">#éšä¾¿æŒ‡å®šä¸€ä¸ªç«¯å£</span></span><br></pre></td></tr></table></figure><h3 id="4-å¯åŠ¨jupyter-notebookï¼š"><a href="#4-å¯åŠ¨jupyter-notebookï¼š" class="headerlink" title="4. å¯åŠ¨jupyter notebookï¼š"></a>4. å¯åŠ¨jupyter notebookï¼š</h3><p><code>jupyter notebook</code></p><h3 id="5-è¿œç¨‹è®¿é—®"><a href="#5-è¿œç¨‹è®¿é—®" class="headerlink" title="5. è¿œç¨‹è®¿é—®"></a>5. è¿œç¨‹è®¿é—®</h3><p>æ­¤æ—¶åº”è¯¥å¯ä»¥ç›´æ¥ä»æœ¬åœ°æµè§ˆå™¨ç›´æ¥è®¿é—®<code>http://address_of_remote:10000</code>å°±å¯ä»¥çœ‹åˆ°jupyterçš„ç™»é™†ç•Œé¢ï¼Œè¾“å…¥å¯†ç å³å¯ã€‚</p><h2 id="éœ€è¦å¯†ç "><a href="#éœ€è¦å¯†ç " class="headerlink" title="éœ€è¦å¯†ç "></a>éœ€è¦å¯†ç </h2><h3 id="1-ç”Ÿæˆå¯†ç "><a href="#1-ç”Ÿæˆå¯†ç " class="headerlink" title="1. ç”Ÿæˆå¯†ç "></a>1. ç”Ÿæˆå¯†ç </h3><p>æ‰“å¼€ipythonï¼Œåˆ›å»ºä¸€ä¸ªå¯†æ–‡çš„å¯†ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">from</span> notebook.auth <span class="keyword">import</span> passwd</span><br><span class="line">In [<span class="number">2</span>]: passwd()</span><br><span class="line">Enter password: </span><br><span class="line">Verify password: </span><br><span class="line">Out[<span class="number">2</span>]: <span class="string">&#x27;sha1:ce23d945972f:34769685a7ccd3d08c84a18c63968a41f1140274&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="2-æ·»åŠ å¯†ç "><a href="#2-æ·»åŠ å¯†ç " class="headerlink" title="2. æ·»åŠ å¯†ç "></a>2. æ·»åŠ å¯†ç </h3><p><code>$vim ~/.jupyter/jupyter_notebook_config.py </code><br>è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.password = <span class="string">u&#x27;sha:ce...åˆšæ‰å¤åˆ¶çš„é‚£ä¸ªå¯†æ–‡&#x27;</span></span><br></pre></td></tr></table></figure><p><img src="/images/Screen%20Shot%202017-07-18%20at%2014.16.18.png" alt="Screen Shot 2017-07-18 at 14.16.18"></p><h3 id="3-å»ºç«‹sshé€šé“"><a href="#3-å»ºç«‹sshé€šé“" class="headerlink" title="3. å»ºç«‹sshé€šé“"></a>3. å»ºç«‹sshé€šé“</h3><p>è‹¥è¿˜æ˜¯æ— æ³•ç™»å½•ï¼Œä¹Ÿå¯ç”¨</p><p><code>ssh username@address_of_remote -L 127.0.0.1:10000:127.0.0.1:10000</code></p><p>å»ºç«‹sshé€šé“ï¼Œä¾¿å¯ä»¥åœ¨localhost:10000ç›´æ¥è®¿é—®è¿œç¨‹çš„jupyteräº†ã€‚</p><h2 id="æ·»åŠ systemå¼€æœºè‡ªå¯"><a href="#æ·»åŠ systemå¼€æœºè‡ªå¯" class="headerlink" title="æ·»åŠ systemå¼€æœºè‡ªå¯"></a>æ·»åŠ systemå¼€æœºè‡ªå¯</h2><p>å°† Jupyter Notebook è®¾å®šä¸ºç³»ç»ŸæœåŠ¡å¹¶ä¸”å¼€æœºè‡ªåŠ¨å¯åŠ¨ï¼Œè¿™é‡Œä»¥ systemd ä¸‹çš„è®¾å®šä¸ºä¾‹ï¼Œåˆ›å»ºæ–‡ä»¶ <code>sudo vim /etc/systemd/system/jupyter.service </code>æ–‡ä»¶ï¼Œå†…å®¹æ˜¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Jupyter Notebook</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/home/frank/anaconda3/bin/jupyter-notebook  --config=/home/frank/.jupyter/jupyter_notebook_config.py --no-browser</span><br><span class="line">User=frank</span><br><span class="line">Group=frank</span><br><span class="line">WorkingDirectory=/home/frank/</span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=10</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä½ éœ€è¦æŠŠæˆ‘çš„ç”¨æˆ·åfrankæ›¿æ¢æ‰ï¼Œä¿å­˜æ–‡ä»¶ä¹‹åæ‰§è¡Œ<br><code>systemctl enable jupyter</code><br>å†æ‰§è¡Œ<br><code>systemctl start jupyter</code><br>å³å¯ï¼Œéœ€è¦è¾“å…¥å‡ æ¬¡å¯†ç ï¼Œä¹‹åé‡å¯Notebookä¼šè‡ªå¯ã€‚</p><p><img src="/images/Screen%20Shot%202017-12-25%20at%2019.32.28.png" alt="Screen Shot 2017-12-25 at 19.32.28"></p><h2 id="å†…ç½‘ç©¿é€"><a href="#å†…ç½‘ç©¿é€" class="headerlink" title="å†…ç½‘ç©¿é€"></a>å†…ç½‘ç©¿é€</h2><p>ç»“åˆä¸‹æ–‡çš„æ–¹æ³•ï¼Œç”¨ftpå³å¯åšåˆ°</p><ul><li><a href="http://frankchen.xyz/2017/11/12/ftp-using/">frpçš„å†…ç½‘ç©¿é€åŠå¤–ç½‘è®¿é—®å†…ç½‘jupyter-notebookçš„å®ç° | ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶</a></li></ul><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/23110830">Jupyter (IPython notebook)ç”¨äºæœåŠ¡å™¨çš„é…ç½®æ–¹æ³•(Windows) - çŸ¥ä¹ä¸“æ </a></li><li><a href="http://blog.leanote.com/post/jevonswang/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AEjupyter-notebook">è¿œç¨‹è®¿é—®jupyter notebook</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Jupyter-Notebook/">Jupyter Notebook</category>
      
      
      <comments>http://example.com/2017/12/25/Remote-jupyter-notebook/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>æ·±åº¦å­¦ä¹ ä¸­Kerasä¸­çš„Embeddingå±‚çš„ç†è§£ä¸ä½¿ç”¨</title>
      <link>http://example.com/2017/12/18/How-to-Use-Word-Embedding-Layers-for-Deep-Learning-with-Keras/</link>
      <guid>http://example.com/2017/12/18/How-to-Use-Word-Embedding-Layers-for-Deep-Learning-with-Keras/</guid>
      <pubDate>Mon, 18 Dec 2017 07:59:41 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15135840798621.jpg&quot;&gt;&lt;br&gt;å•è¯åµŒå…¥æä¾›äº†å•è¯çš„å¯†é›†è¡¨ç¤ºåŠå…¶ç›¸å¯¹å«ä¹‰ï¼Œå®ƒä»¬æ˜¯å¯¹ç®€å•åŒ…æ¨¡å‹è¡¨ç¤ºä¸­ä½¿ç”¨çš„ç¨€ç–è¡¨ç¤ºçš„æ”¹è¿›ï¼Œå¯ä»¥ä»æ–‡æœ¬æ•°æ®ä¸­å­¦ä¹ å­—åµŒå…¥ï¼Œå¹¶åœ¨é¡¹ç›®ä¹‹é—´é‡å¤ä½¿ç”¨ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥ä½œä¸ºæ‹Ÿåˆæ–‡æœ¬æ•°æ®çš„ç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†æ¥å­¦ä¹ ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15135840798621.jpg"><br>å•è¯åµŒå…¥æä¾›äº†å•è¯çš„å¯†é›†è¡¨ç¤ºåŠå…¶ç›¸å¯¹å«ä¹‰ï¼Œå®ƒä»¬æ˜¯å¯¹ç®€å•åŒ…æ¨¡å‹è¡¨ç¤ºä¸­ä½¿ç”¨çš„ç¨€ç–è¡¨ç¤ºçš„æ”¹è¿›ï¼Œå¯ä»¥ä»æ–‡æœ¬æ•°æ®ä¸­å­¦ä¹ å­—åµŒå…¥ï¼Œå¹¶åœ¨é¡¹ç›®ä¹‹é—´é‡å¤ä½¿ç”¨ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥ä½œä¸ºæ‹Ÿåˆæ–‡æœ¬æ•°æ®çš„ç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†æ¥å­¦ä¹ ã€‚</p><span id="more"></span><h2 id="Word-Embedding"><a href="#Word-Embedding" class="headerlink" title="Word Embedding"></a>Word Embedding</h2><p>å•è¯åµŒå…¥æ˜¯ä½¿ç”¨å¯†é›†çš„çŸ¢é‡è¡¨ç¤ºæ¥è¡¨ç¤ºå•è¯å’Œæ–‡æ¡£çš„ä¸€ç±»æ–¹æ³•ã€‚</p><p>è¯åµŒå…¥æ˜¯å¯¹ä¼ ç»Ÿçš„è¯è¢‹æ¨¡å‹ç¼–ç æ–¹æ¡ˆçš„æ”¹è¿›ï¼Œä¼ ç»Ÿæ–¹æ³•ä½¿ç”¨å¤§è€Œç¨€ç–çš„çŸ¢é‡æ¥è¡¨ç¤ºæ¯ä¸ªå•è¯æˆ–è€…åœ¨çŸ¢é‡å†…å¯¹æ¯ä¸ªå•è¯è¿›è¡Œè¯„åˆ†ä»¥è¡¨ç¤ºæ•´ä¸ªè¯æ±‡è¡¨ï¼Œè¿™äº›è¡¨ç¤ºæ˜¯ç¨€ç–çš„ï¼Œå› ä¸ºæ¯ä¸ªè¯æ±‡çš„è¡¨ç¤ºæ˜¯å·¨å¤§çš„ï¼Œç»™å®šçš„è¯æˆ–æ–‡æ¡£ä¸»è¦ç”±é›¶å€¼ç»„æˆçš„å¤§å‘é‡è¡¨ç¤ºã€‚</p><p>ç›¸åï¼Œåœ¨åµŒå…¥ä¸­ï¼Œå•è¯ç”±å¯†é›†å‘é‡è¡¨ç¤ºï¼Œå…¶ä¸­å‘é‡è¡¨ç¤ºå°†å•è¯æŠ•å½±åˆ°è¿ç»­å‘é‡ç©ºé—´ä¸­ã€‚</p><p>å‘é‡ç©ºé—´ä¸­çš„å•è¯çš„ä½ç½®æ˜¯ä»æ–‡æœ¬ä¸­å­¦ä¹ çš„ï¼Œå¹¶ä¸”åŸºäºåœ¨ä½¿ç”¨å•è¯æ—¶å›´ç»•å•è¯çš„å•è¯ã€‚</p><p>å­¦ä¹ åˆ°çš„å‘é‡ç©ºé—´ä¸­çš„å•è¯çš„ä½ç½®è¢«ç§°ä¸ºå®ƒçš„åµŒå…¥ï¼šEmbeddingã€‚</p><p>ä»æ–‡æœ¬å­¦ä¹ å•è¯åµŒå…¥æ–¹æ³•çš„ä¸¤ä¸ªæµè¡Œä¾‹å­åŒ…æ‹¬ï¼š</p><ul><li>Word2Vec.</li><li>GloVe.</li></ul><p>é™¤äº†è¿™äº›ç²¾å¿ƒè®¾è®¡çš„æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å°†è¯åµŒå…¥å­¦ä¹ ä½œä¸ºæ·±åº¦å­¦ä¹ æ¨¡å‹çš„ä¸€éƒ¨åˆ†ã€‚è¿™å¯èƒ½æ˜¯ä¸€ä¸ªè¾ƒæ…¢çš„æ–¹æ³•ï¼Œä½†å¯ä»¥é€šè¿‡è¿™æ ·ä¸ºç‰¹å®šæ•°æ®é›†å®šåˆ¶æ¨¡å‹ã€‚</p><h2 id="Keras-Embedding-Layer"><a href="#Keras-Embedding-Layer" class="headerlink" title="Keras Embedding Layer"></a>Keras Embedding Layer</h2><p>Kerasæä¾›äº†ä¸€ä¸ªåµŒå…¥å±‚ï¼Œé€‚ç”¨äºæ–‡æœ¬æ•°æ®çš„ç¥ç»ç½‘ç»œã€‚</p><p>å®ƒè¦æ±‚è¾“å…¥æ•°æ®æ˜¯æ•´æ•°ç¼–ç çš„ï¼Œæ‰€ä»¥æ¯ä¸ªå­—éƒ½ç”¨ä¸€ä¸ªå”¯ä¸€çš„æ•´æ•°è¡¨ç¤ºã€‚è¿™ä¸ªæ•°æ®å‡†å¤‡æ­¥éª¤å¯ä»¥ä½¿ç”¨Kerasæä¾›çš„Tokenizer APIæ¥æ‰§è¡Œã€‚</p><p>åµŒå…¥å±‚ç”¨éšæœºæƒé‡è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶å°†å­¦ä¹ è®­ç»ƒæ•°æ®é›†ä¸­æ‰€æœ‰å•è¯çš„åµŒå…¥ã€‚</p><p>å®ƒæ˜¯ä¸€ä¸ªçµæ´»çš„å›¾å±‚ï¼Œå¯ä»¥ä»¥å¤šç§æ–¹å¼ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š</p><ul><li>å®ƒå¯ä»¥å•ç‹¬ä½¿ç”¨æ¥å­¦ä¹ ä¸€ä¸ªå•è¯åµŒå…¥ï¼Œä»¥åå¯ä»¥ä¿å­˜å¹¶åœ¨å¦ä¸€ä¸ªæ¨¡å‹ä¸­ä½¿ç”¨ã€‚</li><li>å®ƒå¯ä»¥ç”¨ä½œæ·±åº¦å­¦ä¹ æ¨¡å‹çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­åµŒå…¥ä¸æ¨¡å‹æœ¬èº«ä¸€èµ·å­¦ä¹ ã€‚</li><li>å®ƒå¯ä»¥ç”¨æ¥åŠ è½½é¢„å…ˆè®­ç»ƒçš„è¯åµŒå…¥æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ç§è¿ç§»å­¦ä¹ ã€‚</li></ul><p>åµŒå…¥å±‚è¢«å®šä¹‰ä¸ºç½‘ç»œçš„ç¬¬ä¸€ä¸ªéšè—å±‚ã€‚å®ƒå¿…é¡»æŒ‡å®š3ä¸ªå‚æ•°ï¼š</p><ul><li>input_dimï¼šè¿™æ˜¯æ–‡æœ¬æ•°æ®ä¸­è¯æ±‡çš„å–å€¼å¯èƒ½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„æ•°æ®æ˜¯æ•´æ•°ç¼–ç ä¸º0-9ä¹‹é—´çš„å€¼ï¼Œé‚£ä¹ˆè¯æ±‡çš„å¤§å°å°±æ˜¯10ä¸ªå•è¯ï¼›</li><li>output_dimï¼šè¿™æ˜¯åµŒå…¥å•è¯çš„å‘é‡ç©ºé—´çš„å¤§å°ã€‚å®ƒä¸ºæ¯ä¸ªå•è¯å®šä¹‰äº†è¿™ä¸ªå±‚çš„è¾“å‡ºå‘é‡çš„å¤§å°ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯èƒ½æ˜¯32æˆ–100ç”šè‡³æ›´å¤§ï¼Œå¯ä»¥è§†ä¸ºå…·ä½“é—®é¢˜çš„è¶…å‚æ•°ï¼›</li><li>input_lengthï¼šè¿™æ˜¯è¾“å…¥åºåˆ—çš„é•¿åº¦ï¼Œå°±åƒæ‚¨ä¸ºKerasæ¨¡å‹çš„ä»»ä½•è¾“å…¥å±‚æ‰€å®šä¹‰çš„ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡è¾“å…¥å¸¦æœ‰çš„è¯æ±‡ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„æ‰€æœ‰è¾“å…¥æ–‡æ¡£éƒ½ç”±1000ä¸ªå­—ç»„æˆï¼Œé‚£ä¹ˆinput_lengthå°±æ˜¯1000ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè¯æ±‡è¡¨ä¸º200çš„åµŒå…¥å±‚ï¼ˆä¾‹å¦‚ä»0åˆ°199çš„æ•´æ•°ç¼–ç çš„å­—ï¼ŒåŒ…æ‹¬0åˆ°199ï¼‰ï¼Œä¸€ä¸ª32ç»´çš„å‘é‡ç©ºé—´ï¼Œå…¶ä¸­å°†åµŒå…¥å•è¯ï¼Œä»¥åŠè¾“å…¥æ–‡æ¡£ï¼Œæ¯ä¸ªå•è¯æœ‰50ä¸ªå•è¯ã€‚</p><p><code>e = Embedding(input_dim=200, output_dim=32, input_length=50)</code></p><p>åµŒå…¥å±‚è‡ªå¸¦å­¦ä¹ çš„æƒé‡ï¼Œå¦‚æœå°†æ¨¡å‹ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œåˆ™å°†åŒ…å«åµŒå…¥å›¾å±‚çš„æƒé‡ã€‚</p><p>åµŒå…¥å±‚çš„è¾“å‡ºæ˜¯ä¸€ä¸ªäºŒç»´å‘é‡ï¼Œæ¯ä¸ªå•è¯åœ¨è¾“å…¥æ–‡æœ¬ï¼ˆè¾“å…¥æ–‡æ¡£ï¼‰åºåˆ—ä¸­åµŒå…¥ä¸€ä¸ªã€‚</p><p>å¦‚æœæ‚¨å¸Œæœ›ç›´æ¥å°†Denseå±‚æ¥åˆ°Embeddingå±‚åé¢ï¼Œåˆ™å¿…é¡»å…ˆä½¿ç”¨Flattenå±‚å°†Embeddingå±‚çš„2Dè¾“å‡ºçŸ©é˜µå¹³é“ºä¸ºä¸€ç»´çŸ¢é‡ã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•åœ¨å®è·µä¸­ä½¿ç”¨åµŒå…¥å±‚ã€‚</p><h2 id="å­¦ä¹ -Embeddingçš„ä¾‹å­"><a href="#å­¦ä¹ -Embeddingçš„ä¾‹å­" class="headerlink" title="å­¦ä¹  Embeddingçš„ä¾‹å­"></a>å­¦ä¹  Embeddingçš„ä¾‹å­</h2><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦‚ä½•åœ¨æ–‡æœ¬åˆ†ç±»é—®é¢˜ä¸Šæ‹Ÿåˆç¥ç»ç½‘ç»œçš„åŒæ—¶å­¦ä¹ å•è¯åµŒå…¥ã€‚</p><p>æˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªå°é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰10ä¸ªæ–‡æœ¬æ–‡æ¡£ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ªå­¦ç”Ÿæäº¤çš„å·¥ä½œè¯„è®ºã€‚æ¯ä¸ªæ–‡æœ¬æ–‡æ¡£è¢«åˆ†ç±»ä¸ºæ­£çš„â€œ1â€æˆ–è´Ÿçš„â€œ0â€ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æƒ…æ„Ÿåˆ†æé—®é¢˜ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†å®šä¹‰æ–‡æ¡£åŠå…¶ç±»åˆ«æ ‡ç­¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># define documents å®šä¹‰æ–‡æ¡£</span></span><br><span class="line">docs = [<span class="string">&#x27;Well done!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Good work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Great effort&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;nice work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Excellent!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Weak&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Poor effort!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;not good&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;poor work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Could have done better.&#x27;</span>]</span><br><span class="line"><span class="comment"># define class labels å®šä¹‰åˆ†ç±»æ ‡ç­¾</span></span><br><span class="line">labels = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥æ•´æ•°ç¼–ç æ¯ä¸ªæ–‡ä»¶ã€‚è¿™æ„å‘³ç€æŠŠè¾“å…¥ï¼ŒåµŒå…¥å±‚å°†å…·æœ‰æ•´æ•°åºåˆ—ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•å…¶ä»–æ›´å¤æ‚çš„bag of word æ¨¡å‹æ¯”å¦‚è®¡æ•°æˆ–TF-IDFã€‚</p><p>Kerasæä¾›<a href="https://keras.io/preprocessing/text/#one_hot">one_hot()</a>å‡½æ•°æ¥åˆ›å»ºæ¯ä¸ªå•è¯çš„æ•£åˆ—ä½œä¸ºä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°ç¼–ç ã€‚æˆ‘ä»¬ç”¨ä¼°è®¡50çš„è¯æ±‡è¡¨å¤§å°ï¼Œè¿™å¤§å¤§å‡å°‘äº†hashå‡½æ•°çš„å†²çªæ¦‚ç‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># integer encode the documents ç‹¬çƒ­ç¼–ç </span></span><br><span class="line">vocab_size = <span class="number">50</span></span><br><span class="line">encoded_docs = [one_hot(d, vocab_size) <span class="keyword">for</span> d <span class="keyword">in</span> docs]</span><br><span class="line"><span class="built_in">print</span>(encoded_docs)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[6, 16], [42, 24], [2, 17], [42, 24], [18], [17], [22, 17], [27, 42], [22, 24], [49, 46, 16, 34]]</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä»¥ååºåˆ—å…·æœ‰ä¸åŒçš„é•¿åº¦ï¼Œä½†æ˜¯Kerasæ›´å–œæ¬¢è¾“å…¥çŸ¢é‡åŒ–å’Œæ‰€æœ‰è¾“å…¥å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚æˆ‘ä»¬å°†å¡«å……æ‰€æœ‰è¾“å…¥åºåˆ—çš„é•¿åº¦ä¸º4ï¼ŒåŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„Keraså‡½æ•°ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ä¸º<a href="https://keras.io/preprocessing/sequence/#pad_sequences">pad_sequences()</a>å‡½æ•°ï¼‰æ‰§è¡Œæ­¤æ“ä½œ,</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pad documents to a max length of 4 words å°†ä¸è¶³é•¿åº¦çš„ç”¨0å¡«å……ä¸ºé•¿åº¦4</span></span><br><span class="line">max_length = <span class="number">4</span></span><br><span class="line">padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding=<span class="string">&#x27;post&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(padded_docs)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[[ 6 16  0  0]</span><br><span class="line"> [42 24  0  0]</span><br><span class="line"> [ 2 17  0  0]</span><br><span class="line"> [42 24  0  0]</span><br><span class="line"> [18  0  0  0]</span><br><span class="line"> [17  0  0  0]</span><br><span class="line"> [22 17  0  0]</span><br><span class="line"> [27 42  0  0]</span><br><span class="line"> [22 24  0  0]</span><br><span class="line"> [49 46 16 34]]</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç°åœ¨å‡†å¤‡å°†æˆ‘ä»¬çš„åµŒå…¥å±‚å®šä¹‰ä¸ºæˆ‘ä»¬çš„ç¥ç»ç½‘ç»œæ¨¡å‹çš„ä¸€éƒ¨åˆ†ã€‚</p><p>åµŒå…¥çš„è¯æ±‡é‡ä¸º50ï¼Œè¾“å…¥é•¿åº¦ä¸º4ï¼Œæˆ‘ä»¬å°†é€‰æ‹©ä¸€ä¸ª8ç»´çš„åµŒå…¥ç©ºé—´ã€‚</p><p>è¯¥æ¨¡å‹æ˜¯ä¸€ä¸ªç®€å•çš„äºŒå…ƒåˆ†ç±»æ¨¡å‹ã€‚é‡è¦çš„æ˜¯ï¼ŒåµŒå…¥å±‚çš„è¾“å‡ºå°†æ˜¯æ¯ä¸ª8ç»´çš„4ä¸ªçŸ¢é‡ï¼Œæ¯ä¸ªå•è¯ä¸€ä¸ªã€‚æˆ‘ä»¬å°†å…¶å¹³é“ºåˆ°ä¸€ä¸ª32ä¸ªå…ƒç´ çš„å‘é‡ä¸Šä»¥ä¼ é€’åˆ°å¯†é›†è¾“å‡ºå±‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># define the model å®šä¹‰æ¨¡å‹</span></span><br><span class="line">model = Sequential()</span><br><span class="line">model.add(Embedding(vocab_size, <span class="number">8</span>, input_length=max_length))</span><br><span class="line">model.add(Flatten())</span><br><span class="line">model.add(Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line"><span class="comment"># compile the model ç¼–è¯‘</span></span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;adam&#x27;</span>, loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, metrics=[<span class="string">&#x27;acc&#x27;</span>])</span><br><span class="line"><span class="comment"># summarize the model æ‰“å°æ¨¡å‹ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">_________________________________________________________________</span><br><span class="line">Layer (type)                 Output Shape              Param #</span><br><span class="line">=================================================================</span><br><span class="line">embedding_1 (Embedding)      (None, 4, 8)              400</span><br><span class="line">_________________________________________________________________</span><br><span class="line">flatten_1 (Flatten)          (None, 32)                0</span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_1 (Dense)              (None, 1)                 33</span><br><span class="line">=================================================================</span><br><span class="line">Total params: 433</span><br><span class="line">Trainable params: 433</span><br><span class="line">Non-trainable params: 0</span><br><span class="line">_________________________________________________________________</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æ‹Ÿåˆå’Œè¯„ä¼°åˆ†ç±»æ¨¡å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fit the model æ‹Ÿåˆ</span></span><br><span class="line">model.fit(padded_docs, labels, epochs=<span class="number">50</span>, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># evaluate the model è¯„ä¼°</span></span><br><span class="line">loss, accuracy = model.evaluate(padded_docs, labels, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Accuracy: %f&#x27;</span> % (accuracy*<span class="number">100</span>))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accuracy: 100.000000</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯å®Œæ•´çš„ä»£ç ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨å‡½æ•°å¼APIæ”¹å†™äº†æ¨¡å‹å®šä¹‰ï¼Œä¸è¿‡ç»“æ„å’Œä¸Šé¢æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense, Flatten, Input</span><br><span class="line"><span class="keyword">from</span> keras.layers.embeddings <span class="keyword">import</span> Embedding</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Model</span><br><span class="line"><span class="keyword">from</span> keras.preprocessing.sequence <span class="keyword">import</span> pad_sequences</span><br><span class="line"><span class="keyword">from</span> keras.preprocessing.text <span class="keyword">import</span> one_hot</span><br><span class="line"></span><br><span class="line"><span class="comment"># define documents</span></span><br><span class="line">docs = [<span class="string">&#x27;Well done!&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Good work&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Great effort&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;nice work&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Excellent!&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Weak&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Poor effort!&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;not good&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;poor work&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Could have done better.&#x27;</span>]</span><br><span class="line"><span class="comment"># define class labels</span></span><br><span class="line">labels = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"><span class="comment"># integer encode the documents</span></span><br><span class="line">vocab_size = <span class="number">50</span></span><br><span class="line">encoded_docs = [one_hot(d, vocab_size) <span class="keyword">for</span> d <span class="keyword">in</span> docs]</span><br><span class="line"><span class="built_in">print</span>(encoded_docs)</span><br><span class="line"><span class="comment"># pad documents to a max length of 4 words</span></span><br><span class="line">max_length = <span class="number">4</span></span><br><span class="line">padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding=<span class="string">&#x27;post&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(padded_docs)</span><br><span class="line"><span class="comment"># define the model</span></span><br><span class="line"><span class="built_in">input</span> = Input(shape=(<span class="number">4</span>, ))</span><br><span class="line">x = Embedding(vocab_size, <span class="number">8</span>, input_length=max_length)(<span class="built_in">input</span>)</span><br><span class="line">x = Flatten()(x)</span><br><span class="line">x = Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>)(x)</span><br><span class="line">model = Model(inputs=<span class="built_in">input</span>, outputs=x)</span><br><span class="line"><span class="comment"># compile the model</span></span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;adam&#x27;</span>, loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, metrics=[<span class="string">&#x27;acc&#x27;</span>])</span><br><span class="line"><span class="comment"># summarize the model</span></span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br><span class="line"><span class="comment"># fit the model</span></span><br><span class="line">model.fit(padded_docs, labels, epochs=<span class="number">50</span>, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># evaluate the model</span></span><br><span class="line">loss, accuracy = model.evaluate(padded_docs, labels, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Accuracy: %f&#x27;</span> % (accuracy * <span class="number">100</span>))</span><br></pre></td></tr></table></figure><p>ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å°†åµŒå…¥å›¾å±‚ä¸­å­¦ä¹ çš„æƒé‡ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿ä»¥ååœ¨å…¶ä»–æ¨¡å‹ä¸­ä½¿ç”¨ã€‚</p><p>é€šå¸¸ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡å‹æ¥åˆ†ç±»åœ¨æµ‹è¯•æ•°æ®é›†ä¸­çœ‹åˆ°çš„åŒç±»è¯æ±‡çš„å…¶ä»–æ–‡æ¡£ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹åœ¨Kerasä¸­åŠ è½½é¢„å…ˆè®­ç»ƒçš„è¯åµŒå…¥ã€‚</p><h2 id="ä½¿ç”¨é¢„è®­ç»ƒGloVEåµŒå…¥çš„ç¤ºä¾‹"><a href="#ä½¿ç”¨é¢„è®­ç»ƒGloVEåµŒå…¥çš„ç¤ºä¾‹" class="headerlink" title="ä½¿ç”¨é¢„è®­ç»ƒGloVEåµŒå…¥çš„ç¤ºä¾‹"></a>ä½¿ç”¨é¢„è®­ç»ƒGloVEåµŒå…¥çš„ç¤ºä¾‹</h2><p>KerasåµŒå…¥å±‚ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å…¶ä»–åœ°æ–¹å­¦ä¹ çš„åµŒå…¥å­—ã€‚</p><p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œå­¦ä¹ ï¼Œä¿å­˜å’Œåˆ†äº«æä¾›è¯åµŒå…¥æ˜¯å¾ˆå¸¸è§çš„ã€‚</p><p>ä¾‹å¦‚ï¼ŒGloVeæ–¹æ³•èƒŒåçš„ç ”ç©¶äººå‘˜æä¾›äº†ä¸€å¥—åœ¨å…¬å…±é¢†åŸŸè®¸å¯ä¸‹å‘å¸ƒçš„é¢„å…ˆè®­ç»ƒçš„è¯åµŒå…¥ã€‚çœ‹åˆ°ï¼š</p><ul><li><a href="https://nlp.stanford.edu/projects/glove/">GloVe: Global Vectors for Word Representation</a></li></ul><p>æœ€å°çš„åŒ…æ˜¯822Mbï¼Œå«åšâ€œglove.6B.zipâ€ã€‚å®ƒè®­ç»ƒäº†10äº¿ä¸ªè¯æ±‡ï¼ˆå•è¯ï¼‰çš„æ•°æ®é›†ï¼Œè¯æ±‡é‡ä¸º40ä¸‡å­—ï¼Œæœ‰å‡ ç§ä¸åŒçš„åµŒå…¥çŸ¢é‡å°ºå¯¸ï¼ŒåŒ…æ‹¬50,100,200å’Œ300sizeã€‚</p><p>æ‚¨å¯ä»¥ä¸‹è½½è¿™ä¸ªåµŒå…¥çš„é›†åˆï¼Œå¯ä»¥ä½œä¸ºKerasåµŒå…¥å±‚ä¸­è®­ç»ƒæ•°æ®é›†ä¸­çš„å•è¯é¢„å…ˆè®­ç»ƒåµŒå…¥çš„æƒé‡ã€‚</p><p>è¿™ä¸ªä¾‹å­å—Kerasé¡¹ç›®ä¸­çš„ä¸€ä¸ªä¾‹å­çš„å¯å‘ï¼š<a href="https://github.com/keras-team/keras/blob/master/examples/pretrained_word_embeddings.py">pretrained_word_embeddings.py</a>ã€‚</p><p>ä¸‹è½½å¹¶è§£å‹ç¼©åï¼Œæ‚¨å°†çœ‹åˆ°å‡ ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯â€œglove.6B.100d.txtâ€ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª100ç»´ç‰ˆæœ¬çš„åµŒå…¥ã€‚</p><p>å¦‚æœä½ åœ¨æ–‡ä»¶å†…éƒ¨å·çœ‹ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªtokenï¼ˆå•è¯ï¼‰ï¼Œåé¢æ˜¯æ¯è¡Œçš„æƒé‡ï¼ˆ100ä¸ªæ•°å­—ï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯åµŒå…¥çš„ASCIIæ–‡æœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼Œæ˜¾ç¤ºâ€œtheâ€çš„åµŒå…¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">the -0.038194 -0.24487 0.72812 -0.39961 0.083172 0.043953 -0.39141 0.3344 -0.57545 0.087459 0.28787 -0.06731 0.30906 -0.26384 -0.13231 -0.20757 0.33395 -0.33848 -0.31743 -0.48336 0.1464 -0.37304 0.34577 0.052041 0.44946 -0.46971 0.02628 -0.54155 -0.15518 -0.14107 -0.039722 0.28277 0.14393 0.23464 -0.31021 0.086173 0.20397 0.52624 0.17164 -0.082378 -0.71787 -0.41531 0.20335 -0.12763 0.41367 0.55187 0.57908 -0.33477 -0.36559 -0.54857 -0.062892 0.26584 0.30205 0.99775 -0.80481 -3.0243 0.01254 -0.36942 2.2167 0.72201 -0.24978 0.92136 0.034514 0.46745 1.1079 -0.19358 -0.074575 0.23353 -0.052062 -0.22044 0.057162 -0.15806 -0.30798 -0.41625 0.37972 0.15006 -0.53212 -0.2055 -1.2526 0.071624 0.70565 0.49744 -0.42063 0.26148 -1.538 -0.30223 -0.073438 -0.28312 0.37104 -0.25217 0.016215 -0.017099 -0.38984 0.87424 -0.72569 -0.51058 -0.52028 -0.1459 0.8278 0.27062</span><br></pre></td></tr></table></figure><p>å¦‚å‰ä¸€èŠ‚æ‰€è¿°ï¼Œç¬¬ä¸€æ­¥æ˜¯å®šä¹‰è¿™äº›ç¤ºä¾‹ï¼Œå°†å®ƒä»¬ç¼–ç ä¸ºæ•´æ•°ï¼Œç„¶åå°†è¿™äº›åºåˆ—å¡«å……ä¸ºç›¸åŒçš„é•¿åº¦ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿå°†å•è¯æ˜ å°„åˆ°æ•´æ•°ä»¥åŠæ•´æ•°åˆ°å•è¯ã€‚</p><p>Kerasæä¾›äº†ä¸€ä¸ª<a href="https://keras.io/preprocessing/text/#tokenizer">Tokenizer</a>ç±»ï¼Œå¯ä»¥é€‚åº”è®­ç»ƒæ•°æ®ï¼Œé€šè¿‡è°ƒç”¨Tokenizerç±»çš„texts_to_sequencesï¼ˆï¼‰æ–¹æ³•ï¼Œå¯ä»¥ä¸€è‡´åœ°å°†æ–‡æœ¬è½¬æ¢ä¸ºåºåˆ—ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®å•è¯åœ¨word_indexå±æ€§ä¸­çš„æ•´æ•°å­—å…¸æ˜ å°„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># define documents</span></span><br><span class="line">docs = [<span class="string">&#x27;Well done!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Good work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Great effort&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;nice work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Excellent!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Weak&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Poor effort!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;not good&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;poor work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Could have done better.&#x27;</span>]</span><br><span class="line"><span class="comment"># define class labels</span></span><br><span class="line">labels = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"><span class="comment"># prepare tokenizer</span></span><br><span class="line">t = Tokenizer()</span><br><span class="line">t.fit_on_texts(docs)</span><br><span class="line">vocab_size = <span class="built_in">len</span>(t.word_index) + <span class="number">1</span></span><br><span class="line"><span class="comment"># integer encode the documents</span></span><br><span class="line">encoded_docs = t.texts_to_sequences(docs)</span><br><span class="line"><span class="built_in">print</span>(encoded_docs)</span><br><span class="line"><span class="comment"># pad documents to a max length of 4 words</span></span><br><span class="line">max_length = <span class="number">4</span></span><br><span class="line">padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding=<span class="string">&#x27;post&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(padded_docs)</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•´ä¸ªGloveå­—åµŒå…¥æ–‡ä»¶ä½œä¸ºå­—çš„å­—å…¸åŠ è½½åˆ°å†…å­˜ä¸­ä»¥åµŒå…¥æ•°ç»„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># load the whole embedding into memory</span></span><br><span class="line">embeddings_index = <span class="built_in">dict</span>()</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;glove.6B.100d.txt&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">values = line.split()</span><br><span class="line">word = values[<span class="number">0</span>]</span><br><span class="line">coefs = asarray(values[<span class="number">1</span>:], dtype=<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">embeddings_index[word] = coefs</span><br><span class="line">f.close()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Loaded %s word vectors.&#x27;</span> % <span class="built_in">len</span>(embeddings_index))</span><br></pre></td></tr></table></figure><p>è¿™å¾ˆæ…¢ã€‚åœ¨è®­ç»ƒæ•°æ®ä¸­è¿‡æ»¤ç‰¹æ®Šå­—è¯çš„åµŒå…¥å¯èƒ½ä¼šæ›´å¥½ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºè®­ç»ƒæ•°æ®é›†ä¸­çš„æ¯ä¸ªå•è¯åˆ›å»ºä¸€ä¸ªåµŒå…¥çŸ©é˜µã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æšä¸¾Tokenizer.word_indexä¸­çš„æ‰€æœ‰å”¯ä¸€å•è¯å¹¶ä»åŠ è½½çš„GloVeåµŒå…¥ä¸­æ‰¾åˆ°åµŒå…¥æƒé‡å‘é‡æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><p>ç»“æœæ˜¯ä¸€ä¸ªä»…ç”¨äºè®­ç»ƒæœŸé—´å°†ä¼šçœ‹åˆ°çš„å•è¯çš„æƒé‡çŸ©é˜µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create a weight matrix for words in training docs</span></span><br><span class="line">embedding_matrix = zeros((vocab_size, <span class="number">100</span>))</span><br><span class="line"><span class="keyword">for</span> word, i <span class="keyword">in</span> t.word_index.items():</span><br><span class="line">embedding_vector = embeddings_index.get(word)</span><br><span class="line"><span class="keyword">if</span> embedding_vector <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">embedding_matrix[i] = embedding_vector</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥åƒä»¥å‰ä¸€æ ·å®šä¹‰æˆ‘ä»¬çš„æ¨¡å‹ï¼Œå¹¶è¿›è¡Œè¯„ä¼°ã€‚</p><p>å…³é”®çš„åŒºåˆ«æ˜¯åµŒå…¥å±‚å¯ä»¥ç”¨GloVeå­—åµŒå…¥æƒé‡æ¥æ’­ç§ã€‚æˆ‘ä»¬é€‰æ‹©äº†100ç»´ç‰ˆæœ¬ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨output_dimå°†å…¶è®¾ç½®ä¸º100æ¥å®šä¹‰åµŒå…¥å±‚ã€‚æœ€åï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ›´æ–°æ­¤æ¨¡å‹ä¸­çš„å­¦ä¹ å•è¯æƒé‡ï¼Œå› æ­¤æˆ‘ä»¬å°†è®¾ç½®æ¨¡å‹çš„å¯è®­ç»ƒå±æ€§ä¸ºFalse ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e = Embedding(vocab_size, 100, weights=[embedding_matrix], input_length=4, trainable=False)</span><br></pre></td></tr></table></figure><p>ä¸‹é¢åˆ—å‡ºäº†å®Œæ•´çš„å·¥ä½œç¤ºä¾‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> asarray</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> zeros</span><br><span class="line"><span class="keyword">from</span> keras.preprocessing.text <span class="keyword">import</span> Tokenizer</span><br><span class="line"><span class="keyword">from</span> keras.preprocessing.sequence <span class="keyword">import</span> pad_sequences</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Flatten</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Embedding</span><br><span class="line"><span class="comment"># define documents</span></span><br><span class="line">docs = [<span class="string">&#x27;Well done!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Good work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Great effort&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;nice work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Excellent!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Weak&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Poor effort!&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;not good&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;poor work&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;Could have done better.&#x27;</span>]</span><br><span class="line"><span class="comment"># define class labels</span></span><br><span class="line">labels = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line"><span class="comment"># prepare tokenizer</span></span><br><span class="line">t = Tokenizer()</span><br><span class="line">t.fit_on_texts(docs)</span><br><span class="line">vocab_size = <span class="built_in">len</span>(t.word_index) + <span class="number">1</span></span><br><span class="line"><span class="comment"># integer encode the documents</span></span><br><span class="line">encoded_docs = t.texts_to_sequences(docs)</span><br><span class="line"><span class="built_in">print</span>(encoded_docs)</span><br><span class="line"><span class="comment"># pad documents to a max length of 4 words</span></span><br><span class="line">max_length = <span class="number">4</span></span><br><span class="line">padded_docs = pad_sequences(encoded_docs, maxlen=max_length, padding=<span class="string">&#x27;post&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(padded_docs)</span><br><span class="line"><span class="comment"># load the whole embedding into memory</span></span><br><span class="line">embeddings_index = <span class="built_in">dict</span>()</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;../glove_data/glove.6B/glove.6B.100d.txt&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">values = line.split()</span><br><span class="line">word = values[<span class="number">0</span>]</span><br><span class="line">coefs = asarray(values[<span class="number">1</span>:], dtype=<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">embeddings_index[word] = coefs</span><br><span class="line">f.close()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Loaded %s word vectors.&#x27;</span> % <span class="built_in">len</span>(embeddings_index))</span><br><span class="line"><span class="comment"># create a weight matrix for words in training docs</span></span><br><span class="line">embedding_matrix = zeros((vocab_size, <span class="number">100</span>))</span><br><span class="line"><span class="keyword">for</span> word, i <span class="keyword">in</span> t.word_index.items():</span><br><span class="line">embedding_vector = embeddings_index.get(word)</span><br><span class="line"><span class="keyword">if</span> embedding_vector <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">embedding_matrix[i] = embedding_vector</span><br><span class="line"><span class="comment"># define model</span></span><br><span class="line">model = Sequential()</span><br><span class="line">e = Embedding(vocab_size, <span class="number">100</span>, weights=[embedding_matrix], input_length=<span class="number">4</span>, trainable=<span class="literal">False</span>)</span><br><span class="line">model.add(e)</span><br><span class="line">model.add(Flatten())</span><br><span class="line">model.add(Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>))</span><br><span class="line"><span class="comment"># compile the model</span></span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;adam&#x27;</span>, loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>, metrics=[<span class="string">&#x27;acc&#x27;</span>])</span><br><span class="line"><span class="comment"># summarize the model</span></span><br><span class="line"><span class="built_in">print</span>(model.summary())</span><br><span class="line"><span class="comment"># fit the model</span></span><br><span class="line">model.fit(padded_docs, labels, epochs=<span class="number">50</span>, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># evaluate the model</span></span><br><span class="line">loss, accuracy = model.evaluate(padded_docs, labels, verbose=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Accuracy: %f&#x27;</span> % (accuracy*<span class="number">100</span>))</span><br></pre></td></tr></table></figure><p>è¿è¡Œè¿™ä¸ªä¾‹å­å¯èƒ½éœ€è¦æ›´é•¿çš„æ—¶é—´ï¼Œä½†æ˜¯è¿™è¡¨æ˜å®ƒèƒ½å¤Ÿé€‚åº”è¿™ä¸ªç®€å•çš„é—®é¢˜ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[[6, 2], [3, 1], [7, 4], [8, 1], [9], [10], [5, 4], [11, 3], [5, 1], [12, 13, 2, 14]]</span><br><span class="line"></span><br><span class="line">[[ 6  2  0  0]</span><br><span class="line"> [ 3  1  0  0]</span><br><span class="line"> [ 7  4  0  0]</span><br><span class="line"> [ 8  1  0  0]</span><br><span class="line"> [ 9  0  0  0]</span><br><span class="line"> [10  0  0  0]</span><br><span class="line"> [ 5  4  0  0]</span><br><span class="line"> [11  3  0  0]</span><br><span class="line"> [ 5  1  0  0]</span><br><span class="line"> [12 13  2 14]]</span><br><span class="line"></span><br><span class="line">Loaded 400000 word vectors.</span><br><span class="line"></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (type)                 Output Shape              Param #</span><br><span class="line">=================================================================</span><br><span class="line">embedding_1 (Embedding)      (None, 4, 100)            1500</span><br><span class="line">_________________________________________________________________</span><br><span class="line">flatten_1 (Flatten)          (None, 400)               0</span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_1 (Dense)              (None, 1)                 401</span><br><span class="line">=================================================================</span><br><span class="line">Total params: 1,901</span><br><span class="line">Trainable params: 401</span><br><span class="line">Non-trainable params: 1,500</span><br><span class="line">_________________________________________________________________</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Accuracy: 100.000000</span><br></pre></td></tr></table></figure><p>åœ¨å®è·µä¸­ï¼Œæœ€å¥½è¿˜æ˜¯å°è¯•ä½¿ç”¨é¢„å…ˆè®­ç»ƒå¥½çš„åµŒå…¥æ¥å­¦ä¹ å•è¯åµŒå…¥ï¼Œå› ä¸ºå®ƒæ˜¯å›ºå®šçš„ï¼Œå¹¶å°è¯•åœ¨é¢„å…ˆè®­ç»ƒå¥½çš„åµŒå…¥ä¹‹ä¸Šè¿›è¡Œå­¦ä¹ ï¼Œè¿™å°±ç±»ä¼¼äºè®¡ç®—æœºè§†è§‰é‡Œé¢ç”¨é¢„è®­ç»ƒçš„VGGæˆ–è€…res-netè¿ç§»å…·ä½“é—®é¢˜é‚£æ ·ã€‚</p><p>ä¸è¿‡è¿™å–å†³äºä»€ä¹ˆæœ€é€‚åˆä½ çš„å…·ä½“é—®é¢˜ã€‚</p><h2 id="IMDB-æ•°æ®é›†Embeddingå®ä¾‹"><a href="#IMDB-æ•°æ®é›†Embeddingå®ä¾‹" class="headerlink" title="IMDB æ•°æ®é›†Embeddingå®ä¾‹"></a>IMDB æ•°æ®é›†Embeddingå®ä¾‹</h2><p><img src="/images/15204978301733.jpg"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential,Model</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Flatten, Dense, Embedding, Input</span><br><span class="line"></span><br><span class="line">input_layer = Input(shape=(maxlen,)) </span><br><span class="line">x = Embedding(input_dim=<span class="number">10000</span>,output_dim=<span class="number">8</span>)(input_layer)</span><br><span class="line"><span class="comment"># å•ç‹¬åšä¸€ä¸ªembeddingæ¨¡å‹ï¼Œåˆ©äºåé¢è§‚å¯Ÿ</span></span><br><span class="line">embedding = Model(input_layer,x)</span><br><span class="line">x = Flatten()(x)</span><br><span class="line">x = Dense(<span class="number">1</span>,activation=<span class="string">&#x27;sigmoid&#x27;</span>)(x)</span><br><span class="line">model = Model(input_layer,x)</span><br><span class="line">model.<span class="built_in">compile</span>(optimizer=<span class="string">&#x27;rmsprop&#x27;</span>,loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>,metrics=[<span class="string">&#x27;acc&#x27;</span>])</span><br><span class="line">model.summary()</span><br><span class="line">history = modhistory = modhistory = mod&gt; history = model.fit(x_train,y_train,epochs=<span class="number">10</span>,batch_size=<span class="number">32</span>,validation_split=<span class="number">0.2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Layer (<span class="built_in">type</span>)                 Output Shape              Param <span class="comment">#   </span></span><br><span class="line">=================================================================</span><br><span class="line">input_4 (InputLayer)         (<span class="literal">None</span>, <span class="number">20</span>)                <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">embedding_5 (Embedding)      (<span class="literal">None</span>, <span class="number">20</span>, <span class="number">8</span>)             <span class="number">80000</span>     </span><br><span class="line">_________________________________________________________________</span><br><span class="line">flatten_5 (Flatten)          (<span class="literal">None</span>, <span class="number">160</span>)               <span class="number">0</span>         </span><br><span class="line">_________________________________________________________________</span><br><span class="line">dense_5 (Dense)              (<span class="literal">None</span>, <span class="number">1</span>)                 <span class="number">161</span>       </span><br><span class="line">=================================================================</span><br><span class="line"></span><br><span class="line">Total params: <span class="number">80</span>,<span class="number">161</span></span><br><span class="line">Trainable params: <span class="number">80</span>,<span class="number">161</span></span><br><span class="line">Non-trainable params: <span class="number">0</span></span><br><span class="line">_________________________________________________________________</span><br><span class="line">Train on <span class="number">20000</span> samples, validate on <span class="number">5000</span> samples</span><br><span class="line">Epoch <span class="number">1</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 105us/step - loss: <span class="number">0.6772</span> - acc: <span class="number">0.6006</span> - val_loss: <span class="number">0.6448</span> - val_acc: <span class="number">0.6704</span></span><br><span class="line">Epoch <span class="number">2</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 93us/step - loss: <span class="number">0.5830</span> - acc: <span class="number">0.7188</span> - val_loss: <span class="number">0.5629</span> - val_acc: <span class="number">0.7046</span></span><br><span class="line">Epoch <span class="number">3</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 95us/step - loss: <span class="number">0.5152</span> - acc: <span class="number">0.7464</span> - val_loss: <span class="number">0.5362</span> - val_acc: <span class="number">0.7208</span></span><br><span class="line">Epoch <span class="number">4</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 93us/step - loss: <span class="number">0.4879</span> - acc: <span class="number">0.7607</span> - val_loss: <span class="number">0.5299</span> - val_acc: <span class="number">0.7292</span></span><br><span class="line">Epoch <span class="number">5</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 97us/step - loss: <span class="number">0.4731</span> - acc: <span class="number">0.7694</span> - val_loss: <span class="number">0.5290</span> - val_acc: <span class="number">0.7334</span></span><br><span class="line">Epoch <span class="number">6</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 98us/step - loss: <span class="number">0.4633</span> - acc: <span class="number">0.7773</span> - val_loss: <span class="number">0.5317</span> - val_acc: <span class="number">0.7344</span></span><br><span class="line">Epoch <span class="number">7</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 96us/step - loss: <span class="number">0.4548</span> - acc: <span class="number">0.7819</span> - val_loss: <span class="number">0.5333</span> - val_acc: <span class="number">0.7318</span></span><br><span class="line">Epoch <span class="number">8</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 93us/step - loss: <span class="number">0.4471</span> - acc: <span class="number">0.7870</span> - val_loss: <span class="number">0.5377</span> - val_acc: <span class="number">0.7288</span></span><br><span class="line">Epoch <span class="number">9</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 95us/step - loss: <span class="number">0.4399</span> - acc: <span class="number">0.7924</span> - val_loss: <span class="number">0.5422</span> - val_acc: <span class="number">0.7278</span></span><br><span class="line">Epoch <span class="number">10</span>/<span class="number">10</span></span><br><span class="line"><span class="number">20000</span>/<span class="number">20000</span> [==============================] - 2s 90us/step - loss: <span class="number">0.4328</span> - acc: <span class="number">0.7957</span> - val_loss: <span class="number">0.5458</span> - val_acc: <span class="number">0.7290</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹inputçš„shape</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x_train[<span class="number">1</span>].shape</span><br><span class="line">x_train[<span class="number">1</span>]</span><br><span class="line">x_train[:<span class="number">1</span>].shape</span><br><span class="line">x_train[:<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">(<span class="number">20</span>,)</span><br><span class="line">array([ <span class="number">23</span>,   <span class="number">4</span>,   <span class="number">2</span>,  <span class="number">15</span>,  <span class="number">16</span>,   <span class="number">4</span>,   <span class="number">2</span>,   <span class="number">5</span>,  <span class="number">28</span>,   <span class="number">6</span>,  <span class="number">52</span>, <span class="number">154</span>, <span class="number">462</span>,</span><br><span class="line">        <span class="number">33</span>,  <span class="number">89</span>,  <span class="number">78</span>, <span class="number">285</span>,  <span class="number">16</span>, <span class="number">145</span>,  <span class="number">95</span>], dtype=int32)</span><br><span class="line">(<span class="number">1</span>, <span class="number">20</span>)</span><br><span class="line">array([[ <span class="number">65</span>,  <span class="number">16</span>,  <span class="number">38</span>,   <span class="number">2</span>,  <span class="number">88</span>,  <span class="number">12</span>,  <span class="number">16</span>, <span class="number">283</span>,   <span class="number">5</span>,  <span class="number">16</span>,   <span class="number">2</span>, <span class="number">113</span>, <span class="number">103</span>,</span><br><span class="line">         <span class="number">32</span>,  <span class="number">15</span>,  <span class="number">16</span>,   <span class="number">2</span>,  <span class="number">19</span>, <span class="number">178</span>,  <span class="number">32</span>]], dtype=int32)</span><br></pre></td></tr></table></figure><p>å†çœ‹çœ‹embeddingçš„è¾“å‡ºï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">embedding.predict(x_train[:<span class="number">1</span>]).shape</span><br><span class="line">embedding.predict(x_train[:<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>, <span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">array([[[-<span class="number">0.17401133</span>, -<span class="number">0.08743777</span>,  <span class="number">0.15631911</span>, -<span class="number">0.06831486</span>, -<span class="number">0.09105065</span>,</span><br><span class="line">          <span class="number">0.06253908</span>, -<span class="number">0.0798945</span> ,  <span class="number">0.07671431</span>],</span><br><span class="line">        [ <span class="number">0.18718374</span>,  <span class="number">0.10347525</span>, -<span class="number">0.06668846</span>,  <span class="number">0.25818944</span>,  <span class="number">0.07522523</span>,</span><br><span class="line">          <span class="number">0.07082067</span>,  <span class="number">0.05170904</span>,  <span class="number">0.22902426</span>],</span><br><span class="line">        [ <span class="number">0.06872956</span>, -<span class="number">0.00586612</span>,  <span class="number">0.07713806</span>, -<span class="number">0.00182899</span>,  <span class="number">0.00882899</span>,</span><br><span class="line">         -<span class="number">0.18892162</span>, -<span class="number">0.13580748</span>, -<span class="number">0.03166043</span>],</span><br><span class="line">        [-<span class="number">0.01912907</span>, -<span class="number">0.01732869</span>,  <span class="number">0.00391375</span>, -<span class="number">0.02338142</span>,  <span class="number">0.02787969</span>,</span><br><span class="line">         -<span class="number">0.02744135</span>,  <span class="number">0.0074541</span> ,  <span class="number">0.01806928</span>],</span><br><span class="line">        [ <span class="number">0.20604047</span>,  <span class="number">0.10910885</span>,  <span class="number">0.06304865</span>, -<span class="number">0.14038748</span>,  <span class="number">0.12123005</span>,</span><br><span class="line">          <span class="number">0.06124007</span>,  <span class="number">0.0532628</span> ,  <span class="number">0.17591232</span>],</span><br><span class="line">        [-<span class="number">0.19636872</span>, -<span class="number">0.0027669</span> ,  <span class="number">0.01087157</span>, -<span class="number">0.02332311</span>, -<span class="number">0.04321857</span>,</span><br><span class="line">         -<span class="number">0.09228673</span>, -<span class="number">0.03061322</span>, -<span class="number">0.13376454</span>],</span><br><span class="line">        [ <span class="number">0.18718374</span>,  <span class="number">0.10347525</span>, -<span class="number">0.06668846</span>,  <span class="number">0.25818944</span>,  <span class="number">0.07522523</span>,</span><br><span class="line">          <span class="number">0.07082067</span>,  <span class="number">0.05170904</span>,  <span class="number">0.22902426</span>],</span><br><span class="line">        [-<span class="number">0.27160701</span>, -<span class="number">0.29296583</span>,  <span class="number">0.1055108</span> ,  <span class="number">0.15896739</span>, -<span class="number">0.24833643</span>,</span><br><span class="line">         -<span class="number">0.17791845</span>, -<span class="number">0.27316946</span>, -<span class="number">0.241273</span>  ],</span><br><span class="line">        [-<span class="number">0.02175452</span>, -<span class="number">0.0839383</span> ,  <span class="number">0.04338101</span>,  <span class="number">0.01062139</span>, -<span class="number">0.11473208</span>,</span><br><span class="line">         -<span class="number">0.18394938</span>, -<span class="number">0.05141308</span>, -<span class="number">0.10405254</span>],</span><br><span class="line">        [ <span class="number">0.18718374</span>,  <span class="number">0.10347525</span>, -<span class="number">0.06668846</span>,  <span class="number">0.25818944</span>,  <span class="number">0.07522523</span>,</span><br><span class="line">          <span class="number">0.07082067</span>,  <span class="number">0.05170904</span>,  <span class="number">0.22902426</span>],</span><br><span class="line">        [-<span class="number">0.01912907</span>, -<span class="number">0.01732869</span>,  <span class="number">0.00391375</span>, -<span class="number">0.02338142</span>,  <span class="number">0.02787969</span>,</span><br><span class="line">         -<span class="number">0.02744135</span>,  <span class="number">0.0074541</span> ,  <span class="number">0.01806928</span>],</span><br><span class="line">        [-<span class="number">0.14751843</span>,  <span class="number">0.05572686</span>,  <span class="number">0.20332271</span>, -<span class="number">0.01759946</span>, -<span class="number">0.0946402</span> ,</span><br><span class="line">         -<span class="number">0.14416233</span>,  <span class="number">0.16961734</span>,  <span class="number">0.01381243</span>],</span><br><span class="line">        [ <span class="number">0.00282665</span>, -<span class="number">0.17532936</span>, -<span class="number">0.09342033</span>,  <span class="number">0.04514923</span>, -<span class="number">0.04684081</span>,</span><br><span class="line">          <span class="number">0.1748796</span> , -<span class="number">0.09669576</span>, -<span class="number">0.10699435</span>],</span><br><span class="line">        [ <span class="number">0.00225757</span>, -<span class="number">0.12751001</span>, -<span class="number">0.12703758</span>,  <span class="number">0.17167819</span>, -<span class="number">0.03712473</span>,</span><br><span class="line">          <span class="number">0.04252302</span>,  <span class="number">0.04741228</span>, -<span class="number">0.02731293</span>],</span><br><span class="line">        [ <span class="number">0.02198115</span>,  <span class="number">0.03989581</span>,  <span class="number">0.13165356</span>,  <span class="number">0.06523556</span>,  <span class="number">0.14900513</span>,</span><br><span class="line">          <span class="number">0.01858517</span>, -<span class="number">0.01644249</span>, -<span class="number">0.02377043</span>],</span><br><span class="line">        [ <span class="number">0.18718374</span>,  <span class="number">0.10347525</span>, -<span class="number">0.06668846</span>,  <span class="number">0.25818944</span>,  <span class="number">0.07522523</span>,</span><br><span class="line">          <span class="number">0.07082067</span>,  <span class="number">0.05170904</span>,  <span class="number">0.22902426</span>],</span><br><span class="line">        [-<span class="number">0.01912907</span>, -<span class="number">0.01732869</span>,  <span class="number">0.00391375</span>, -<span class="number">0.02338142</span>,  <span class="number">0.02787969</span>,</span><br><span class="line">         -<span class="number">0.02744135</span>,  <span class="number">0.0074541</span> ,  <span class="number">0.01806928</span>],</span><br><span class="line">        [-<span class="number">0.01993229</span>, -<span class="number">0.04436176</span>,  <span class="number">0.07624088</span>,  <span class="number">0.04268746</span>, -<span class="number">0.00883252</span>,</span><br><span class="line">          <span class="number">0.00789542</span>, -<span class="number">0.03039453</span>,  <span class="number">0.05851226</span>],</span><br><span class="line">        [-<span class="number">0.12873659</span>, -<span class="number">0.00083202</span>, -<span class="number">0.03246918</span>,  <span class="number">0.23910245</span>, -<span class="number">0.24635716</span>,</span><br><span class="line">          <span class="number">0.10966355</span>,  <span class="number">0.02079294</span>, -<span class="number">0.03829115</span>],</span><br><span class="line">        [ <span class="number">0.00225757</span>, -<span class="number">0.12751001</span>, -<span class="number">0.12703758</span>,  <span class="number">0.17167819</span>, -<span class="number">0.03712473</span>,</span><br><span class="line">          <span class="number">0.04252302</span>,  <span class="number">0.04741228</span>, -<span class="number">0.02731293</span>]]], dtype=float32)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œembeddingå±‚å°†(1, 20)çš„ä¸€ä¸ªè¾“å…¥sampleï¼ˆæœ€é•¿ä¸º20ä¸ªå•è¯çš„å¥å­ï¼Œå…¶ä¸­æ¯ä¸ªå•è¯è¡¨ç¤ºä¸ºä¸€ä¸ªintæ•°å­—ï¼‰ï¼ŒåµŒå…¥ä¸ºä¸€ä¸ª(1, 20, 8)çš„å‘é‡ï¼Œå³å°†æ¯ä¸ªå•è¯embedä¸ºä¸€ä¸ª8ç»´çš„å‘é‡ï¼Œè€Œæ•´ä¸ªembeddingå±‚çš„å‚æ•°å°±ç”±ç¥ç»ç½‘ç»œå­¦ä¹ å¾—åˆ°ï¼Œæ•°æ®ç»è¿‡embeddingå±‚ä¹‹åå°±æ–¹ä¾¿åœ°è½¬æ¢ä¸ºäº†å¯ä»¥ç”±CNNæˆ–è€…RNNè¿›ä¸€æ­¥å¤„ç†çš„æ ¼å¼ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://machinelearningmastery.com/use-word-embedding-layers-deep-learning-keras/">How to Use Word Embedding Layers for Deep Learning with Keras - Machine Learning Mastery</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/Keras/">Keras</category>
      
      
      <comments>http://example.com/2017/12/18/How-to-Use-Word-Embedding-Layers-for-Deep-Learning-with-Keras/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç¥ç»ç½‘ç»œæœ¯è¯­å¤§ç™¾ç§‘ï¼šä¼˜åŒ–å‡½æ•°ã€æ¿€æ´»å‡½æ•°ã€æŸå¤±å‡½æ•°ã€æ­£åˆ™æ–¹æ³•çš„ç®€ä»‹</title>
      <link>http://example.com/2017/12/15/Neural-Network-Terms-Introduction-to-Optimization-Functions-Activation-Functions-Loss-Functions-and-Regular-Functions/</link>
      <guid>http://example.com/2017/12/15/Neural-Network-Terms-Introduction-to-Optimization-Functions-Activation-Functions-Loss-Functions-and-Regular-Functions/</guid>
      <pubDate>Fri, 15 Dec 2017 04:45:44 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/neuralnetworks.png&quot; alt=&quot;neuralnetworks&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç®€è¿°å…³äºç¥ç»ç½‘ç»œçš„å„ç§ä¼˜åŒ–å‡½æ•°ï¼ˆSGDï¼ŒAdagradï¼ŒAdadeltaï¼ŒAdamï¼ŒAdamaxï¼ŒNadamï¼‰ã€å„ç§æ¿€æ´»å‡½æ•°ï¼ˆSigmoidï¼ŒTanhã€Hard Sigmoidã€Softplusã€ReLUã€ElUã€PReLUã€RReLUï¼‰ã€å„ç§æŸå¤±å‡½æ•°ä»¥åŠæ­£åˆ™æ–¹æ³•çš„ç®€è¿°ï¼Œå¹¶é™„å¸¦ä»£ç å®ç°ä¾‹å­ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/neuralnetworks.png" alt="neuralnetworks"></p><p>ç®€è¿°å…³äºç¥ç»ç½‘ç»œçš„å„ç§ä¼˜åŒ–å‡½æ•°ï¼ˆSGDï¼ŒAdagradï¼ŒAdadeltaï¼ŒAdamï¼ŒAdamaxï¼ŒNadamï¼‰ã€å„ç§æ¿€æ´»å‡½æ•°ï¼ˆSigmoidï¼ŒTanhã€Hard Sigmoidã€Softplusã€ReLUã€ElUã€PReLUã€RReLUï¼‰ã€å„ç§æŸå¤±å‡½æ•°ä»¥åŠæ­£åˆ™æ–¹æ³•çš„ç®€è¿°ï¼Œå¹¶é™„å¸¦ä»£ç å®ç°ä¾‹å­ã€‚</p><span id="more"></span><h1 id="ä¼˜åŒ–å‡½æ•°"><a href="#ä¼˜åŒ–å‡½æ•°" class="headerlink" title="ä¼˜åŒ–å‡½æ•°"></a>ä¼˜åŒ–å‡½æ•°</h1><p>å…ˆä¸Šä¸¤å¼ å›¾</p><figure class="three">   <img src="/images/2017/05/contours_evaluation_optimizers.gif" title="Logo" width="300" />   <img src="/images/2017/05/saddle_point_evaluation_optimizers.gif" title="Logo" width="300" /></figure><h1 id="æ¿€æ´»å‡½æ•°"><a href="#æ¿€æ´»å‡½æ•°" class="headerlink" title="æ¿€æ´»å‡½æ•°"></a>æ¿€æ´»å‡½æ•°</h1><p>æ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œç¥ç»å…ƒå°±åªæ˜¯ä¸€ä¸ªçº¿æ€§å‡½æ•°ï¼Œé‚£ä¹ˆæ— è®ºå¤šå°‘å±‚çš„ç¥ç»å…ƒå åŠ æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚è€Œä¸»æµæ¿€æ´»å‡½æ•°ä¹Ÿéšç€ç¥ç»ç½‘ç»œã€æ·±åº¦å­¦ä¹ çš„å‘å±•è¿­ä»£è¿›åŒ–äº†è®¸å¤šæ¬¡ä»£ã€‚</p><h2 id="Sigmoid"><a href="#Sigmoid" class="headerlink" title="Sigmoid"></a>Sigmoid</h2><p><img src="/images/15134144452960.jpg"><br>Sigmoidæ˜¯Så½¢çŠ¶çš„æ„æ€ï¼Œåˆå› ä¸ºå®ƒæ˜¯é€»è¾‘å›å½’çš„æ¿€æ´»å‡½æ•°åˆå«logisticå‡½æ•°ï¼Œå‡½æ•°å¼ä¸º$<code>y = 1 / (1 + exp(-x))</code>$æ˜¯å¾ˆæ—©ä»¥å‰æœ€å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œå…¶å®ä¹Ÿæ˜¯æœ‰ä¸€äº›ä¼˜ç‚¹çš„ï¼Œæ¯”å¦‚ï¼Œ</p><ul><li>å€¼åŸŸä½äº0-1ï¼Œé‚£ä¹ˆå¯¹äºé€»è¾‘å›å½’ï¼Œè¿™æ˜¯å¯¹äºäºŒåˆ†ç±»çš„ä¸€ä¸ªå¾ˆè‡ªç„¶çš„è¡¨è¾¾ï¼Œä¹Ÿå°±æ˜¯æ¦‚ç‡</li><li>å¤„å¤„è¿ç»­å¯å¯¼</li></ul><p>ä¸è¿‡å‘¢ï¼Œæˆ‘ä»¬è§‚å¯Ÿå®ƒçš„å½¢çŠ¶ï¼Œå¯ä»¥å¾—å‡ºï¼ŒSigmoidå‡½æ•°åœ¨ä¸¤ç«¯ï¼ˆé è¿‘0å’Œ1çš„éƒ¨åˆ†ï¼‰æ¢¯åº¦å¾ˆå°ï¼Œè¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœç¥ç»å…ƒçš„è¾“å‡ºè½åˆ°äº†è¿™ä¸ªåœ°æ–¹ï¼Œé‚£ä¹ˆå®ƒå‡ ä¹æ²¡ä»€ä¹ˆæ¢¯åº¦å¯ä»¥ä¼ åˆ°åé¢ï¼Œè€Œéšç€ç¥ç»ç½‘ç»œçš„å±‚å±‚å‰Šå¼±ï¼Œåé¢çš„å±‚ï¼ˆé è¿‘è¾“å…¥çš„å±‚ï¼‰æ²¡æœ‰å¤šå°‘æ¢¯åº¦èƒ½ä¼ è¿‡æ¥ï¼Œå‡ ä¹å°±â€œå­¦ä¸åˆ°ä»€ä¹ˆâ€äº†ã€‚è¿™å«åšæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä¸€åº¦æ˜¯é˜»ç¢ç¥ç»ç½‘ç»œå¾€æ›´æ·±çš„å±‚è¿›åŒ–çš„ä¸»è¦å›°éš¾ï¼Œå¯¼è‡´æ·±åº¦å­¦ä¹ ä¸“å®¶ä»¬ç»å°½è„‘æ±æƒ³äº†è®¸å¤šæ–¹æ³•æ¥å¯¹æŠ—è¿™ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚â€œXavier and He Initializationâ€ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æŠŠweightéšæœºåˆå§‹åŒ–ä¸ºå¦‚ä¸‹çš„èŒƒå›´ï¼Œ<br><img src="/images/Screen%20Shot%202017-12-16%20at%2017.03.18.png" alt="Screen Shot 2017-12-16 at 17.03.18"></p><p>sigmoidçš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯å®ƒä¸æ˜¯0å‡å€¼çš„ï¼ŒSigmoidå‡½æ•°çš„è¾“å‡ºå€¼æ’å¤§äº0ï¼Œè¿™ä¼šå¯¼è‡´æ¨¡å‹è®­ç»ƒçš„æ”¶æ•›é€Ÿåº¦å˜æ…¢ã€‚ä¸¾ä¾‹æ¥è®²ï¼Œå¯¹ï¼Œå¦‚æœæ‰€æœ‰å‡ä¸ºæ­£æ•°æˆ–è´Ÿæ•°ï¼Œé‚£ä¹ˆå…¶å¯¹çš„å¯¼æ•°æ€»æ˜¯æ­£æ•°æˆ–è´Ÿæ•°ï¼Œè¿™ä¼šå¯¼è‡´å¦‚ä¸‹å›¾çº¢è‰²ç®­å¤´æ‰€ç¤ºçš„é˜¶æ¢¯å¼æ›´æ–°ï¼Œè¿™æ˜¾ç„¶å¹¶éä¸€ä¸ªå¥½çš„ä¼˜åŒ–è·¯å¾„ã€‚æ·±åº¦å­¦ä¹ å¾€å¾€éœ€è¦å¤§é‡æ—¶é—´æ¥å¤„ç†å¤§é‡æ•°æ®ï¼Œæ¨¡å‹çš„æ”¶æ•›é€Ÿåº¦æ˜¯å°¤ä¸ºé‡è¦çš„ã€‚æ‰€ä»¥ï¼Œæ€»ä½“ä¸Šæ¥è®²ï¼Œè®­ç»ƒæ·±åº¦å­¦ä¹ ç½‘ç»œå°½é‡ä½¿ç”¨zero-centeredæ•°æ® (å¯ä»¥ç»è¿‡æ•°æ®é¢„å¤„ç†å®ç°) å’Œzero-centeredè¾“å‡ºã€‚</p><p><img src="/images/15134157378274.jpg"></p><p>å¦‚ä»Šï¼Œsigmoidå‡½æ•°åº”ç”¨æœ€å¹¿æ³›çš„åœ¨äºå…¶å˜ç§softmaxåœ¨å¤šå…ƒåˆ†ç±»ä¸­ï¼Œæ¯”å¦‚æ‰‹å†™æ•°å­—è¯†åˆ«ï¼Œç»è¿‡å·ç§¯ç¥ç»ç½‘ç»œçš„å¤„ç†ï¼Œæœ€åæˆ‘ä»¬éœ€è¦ç½‘ç»œè¾“å‡ºæ¯ä¸ªé¢„æµ‹çš„æ¦‚ç‡å€¼ï¼Œæœ€åé¢„æµ‹ä¸ºæŸä¸€ä¸ªæ•°å­—ï¼Œè¿™é‡Œå°±éœ€è¦ç”¨åˆ°softmaxï¼Œ<br><img src="/images/15134154076033.jpg"><br>ä»¥ä¸‹æ˜¯softmaxçš„Kerasä»£ç ï¼Œæ³¨æ„å…¶ä¸­ä¸€ä¸ªtrickï¼Œ<code>e = K.exp(x - K.max(x, axis=axis, keepdims=True))</code>è¿™é‡Œæ¯ä¸ªåˆ†é‡å‡å»æœ€å¤§å€¼æ˜¯ä¸ºäº†å‡å°‘è®¡ç®—é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">softmax</span>(<span class="params">x, axis=-<span class="number">1</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Softmax activation function.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # Arguments</span></span><br><span class="line"><span class="string">        x : Tensor.</span></span><br><span class="line"><span class="string">        axis: Integer, axis along which the softmax normalization is applied.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # Returns</span></span><br><span class="line"><span class="string">        Tensor, output of softmax transformation.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # Raises</span></span><br><span class="line"><span class="string">        ValueError: In case `dim(x) == 1`.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    ndim = K.ndim(x)</span><br><span class="line">    <span class="keyword">if</span> ndim == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> K.softmax(x)</span><br><span class="line">    <span class="keyword">elif</span> ndim &gt; <span class="number">2</span>:</span><br><span class="line">        e = K.exp(x - K.<span class="built_in">max</span>(x, axis=axis, keepdims=<span class="literal">True</span>))</span><br><span class="line">        s = K.<span class="built_in">sum</span>(e, axis=axis, keepdims=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> e / s</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&#x27;Cannot apply softmax to a tensor that is 1D&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="tanh"><a href="#tanh" class="headerlink" title="tanh"></a>tanh</h2><p><img src="/images/15134156685588.jpg"></p><p>tanh æ˜¯sigmoidçš„å˜å½¢ï¼š $tanh(x)=2sigmoid(2x)-1$ï¼Œä¸ sigmoid ä¸åŒçš„æ˜¯ï¼Œtanh æ˜¯0å‡å€¼çš„ã€‚å› æ­¤ï¼Œå®é™…åº”ç”¨ä¸­ï¼Œtanh ä¼šæ¯” sigmoid æ›´å¥½ä¸€äº›ï¼Œ</p><p><img src="/images/15134156615077.jpg"></p><h2 id="ReLUå®¶æ—"><a href="#ReLUå®¶æ—" class="headerlink" title="ReLUå®¶æ—"></a>ReLUå®¶æ—</h2><p>ç„¶è€Œæ ‡å‡†ReLUä¸æ˜¯å®Œç¾çš„ï¼Œæ¯”å¦‚å› ä¸ºReLUåœ¨å°äº0çš„åæ ‡æ¢¯åº¦éƒ½æ˜¯0ï¼Œé‚£ä¹ˆä¼šé€ æˆâ€œæ­»äº¡â€çš„ç¥ç»å…ƒçš„é—®é¢˜ï¼šä¸€æ—¦ç¥ç»å…ƒçš„è¾“å…¥ä¸æƒé‡ä¹‹ä¹˜ç§¯æ˜¯è´Ÿçš„ï¼Œé‚£ä¹ˆç»è¿‡ReLUçš„æ¿€æ´»ï¼Œè¾“å‡ºå°±æ˜¯0ï¼Œè€ŒReLUçš„0æ¢¯åº¦è®©â€œæ­»äº¡â€çš„ç¥ç»å…ƒæ— æ³•â€œå¤æ´»â€ï¼šæ²¡åŠæ³•å›åˆ°è¾“å‡ºä¸æ˜¯0çš„çŠ¶æ€ï¼Œè¿™æ ·å°±å‡ºç°äº†è®¸å¤šåœ¨ReLUçš„å˜ç§ï¼Œä¸€èˆ¬éƒ½æ˜¯å¯¹æ ‡å‡†ReLUåæ ‡è½´å·¦è¾¹çš„éƒ¨åˆ†åšæ–‡ç« ï¼Œæ¯”å¦‚<strong>leaky ReLU</strong>ã€‚å…¶å…¬å¼å°±æ˜¯$LeakyReLU_ Î± (z) = max(\alpha z,z)$ã€‚å¦‚å›¾ï¼Œ<br><img src="/images/15134123600394.jpg"></p><p>è¿™ç¯‡æ–‡ç« <a href="https://arxiv.org/pdf/1505.00853.pdf">Empirical Evaluation of Rectified Activations in Convolution Network</a>å¯¹æ¯”äº†å‡ ç§leaky ReLUï¼Œæ¯”å¦‚æŠŠ$\alpha$è®¾ç½®ä¸º0.2æ•ˆæœæ€»æ˜¯å¥½è¿‡0.01ï¼Œå¹¶ä¸”ï¼Œå¯¹äºrandomized leaky ReLU (RReLU)ï¼ˆå…¶ä¸­$\alpha$è®¾ç½®ä¸ºä¸€ä¸ªåœ¨æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°ï¼‰ï¼Œæ•ˆæœä¹Ÿä¸é”™ï¼Œè€Œä¸”è¿˜å…·æœ‰ä¸€å®šçš„æ­£åˆ™ä½œç”¨ã€‚å¦å¤–ï¼Œå¯¹äºparametric leaky ReLU (PReLU)ï¼ˆå…¶ä¸­$\alpha$ä½œä¸ºç½‘ç»œçš„ä¸€ä¸ªå‚æ•°ï¼Œè¢«åå‘ä¼ æ’­å­¦ä¹ å‡ºæ¥ï¼Œä¹‹å‰çš„$\alpha$éƒ½æ˜¯è¶…å‚æ•°ï¼Œä¸èƒ½å­¦åªèƒ½è°ƒèŠ‚ï¼‰ï¼Œè¿™ç§å˜ç§å¯¹äºå¤§æ•°æ®é›†ä¸é”™ï¼Œä½†æ˜¯æ•°æ®é‡è¿‡å°å°±æœ‰è¿‡æ‹Ÿåˆçš„é£é™©ã€‚ä»¥ä¸‹æ˜¯Kerasé‡Œé¢reluçš„ä»£ç ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">relu</span>(<span class="params">x, alpha=<span class="number">0.</span>, max_value=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Rectified linear unit.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    With default values, it returns element-wise `max(x, 0)`.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # Arguments</span></span><br><span class="line"><span class="string">        x: A tensor or variable.</span></span><br><span class="line"><span class="string">        alpha: A scalar, slope of negative section (default=`0.`).</span></span><br><span class="line"><span class="string">        max_value: Saturation threshold.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # Returns</span></span><br><span class="line"><span class="string">        A tensor.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> alpha != <span class="number">0.</span>:</span><br><span class="line">        negative_part = tf.nn.relu(-x)</span><br><span class="line">    x = tf.nn.relu(x)</span><br><span class="line">    <span class="keyword">if</span> max_value <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        max_value = _to_tensor(max_value, x.dtype.base_dtype)</span><br><span class="line">        zero = _to_tensor(<span class="number">0.</span>, x.dtype.base_dtype)</span><br><span class="line">        x = tf.clip_by_value(x, zero, max_value)</span><br><span class="line">    <span class="keyword">if</span> alpha != <span class="number">0.</span>:</span><br><span class="line">        alpha = _to_tensor(alpha, x.dtype.base_dtype)</span><br><span class="line">        x -= alpha * negative_part</span><br><span class="line">    <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œåœ¨è¿™ç¯‡æ–‡ç« é‡Œé¢<a href="https://arxiv.org/pdf/1511.07289v5.pdf">FAST AND ACCURATE DEEP NETWORK LEARNING BY EXPONENTIAL LINEAR UNITS (ELUS)</a>ï¼Œå¼•å…¥äº†ä¸€ç§æ–°çš„ReLUï¼Œexponential linear unit (ELU)ï¼Œå…¬å¼å¦‚ä¸‹ï¼Œ<br>$$<br>ELU_{\alpha}(z) = \alpha (\exp(z)-1) \ if \ z \lt 0 ; \ z \ if \ z \gt 0;<br>$$<br><img src="/images/15134129990682.jpg"></p><p>ä¸æ ‡å‡†ReLUæœ€å¤§çš„åŒºåˆ«åœ¨äºå®ƒå¤„å¤„è¿ç»­å¯å¯¼ï¼Œè¿™ä½¿å¾—æ¢¯åº¦ä¸‹é™å¾—åˆ°åŠ é€Ÿï¼Œæ”¶æ•›å¾—åˆ°äº†åŠ é€Ÿï¼Œè€Œä½¿ç”¨äº†æŒ‡æ•°å‡½æ•°ä½¿å¾—å…¶æµ‹è¯•é˜¶æ®µçš„è®¡ç®—ä»£ä»·æ›´é«˜ã€‚Kerasé‡Œeluçš„å®ç°ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">elu</span>(<span class="params">x, alpha=<span class="number">1.</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Exponential linear unit.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # Arguments</span></span><br><span class="line"><span class="string">        x: A tenor or variable to compute the activation function for.</span></span><br><span class="line"><span class="string">        alpha: A scalar, slope of positive section.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # Returns</span></span><br><span class="line"><span class="string">        A tensor.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    res = tf.nn.elu(x)</span><br><span class="line">    <span class="keyword">if</span> alpha == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> tf.where(x &gt; <span class="number">0</span>, res, alpha * res)</span><br></pre></td></tr></table></figure><h2 id="æ¿€æ´»å‡½æ•°çš„é€‰æ‹©"><a href="#æ¿€æ´»å‡½æ•°çš„é€‰æ‹©" class="headerlink" title="æ¿€æ´»å‡½æ•°çš„é€‰æ‹©"></a>æ¿€æ´»å‡½æ•°çš„é€‰æ‹©</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬çš„é€‰æ‹©é¡ºåºå¯ä»¥ç†è§£ä¸ºï¼š<br>ELU &gt; leaky ReLU (ä»¥åŠå…¶å˜ç§) &gt; ReLU &gt; tanh &gt; logisticã€‚ä½†æ˜¯ï¼Œ</p><ul><li>å¦‚æœæˆ‘ä»¬æ›´é¡¾è™‘æ¨¡å‹è¿è¡Œé€Ÿåº¦ï¼Œé‚£ä¹ˆleaky ReLUå¯èƒ½æ¯”ELUæ›´å¥½ï¼›</li><li>å¦‚æœæˆ‘ä»¬ä¸æƒ³è°ƒèŠ‚è¶…å‚æ•°ï¼Œé‚£ä¹ˆç”¨é»˜è®¤çš„$\alpha$å°±è¡Œï¼ŒReLUå’ŒELUçš„åˆ†åˆ«æ˜¯0.01å’Œ1ï¼› </li><li>å¦‚æœç®—åŠ›è¶³å¤Ÿå¯ä»¥ç”¨æ¥è°ƒå‚ï¼Œé‚£ä¹ˆå¦‚æœç½‘ç»œè¿‡æ‹Ÿåˆæˆ‘ä»¬ä¼šé€‰æ‹©RReLUï¼Œå¦‚æœè®­ç»ƒé›†æ•°æ®è¶³å¤Ÿå¤šï¼Œé‚£å¯ä»¥ç”¨PReLUã€‚</li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      <category domain="http://example.com/tags/Python/">Python</category>
      
      
      <comments>http://example.com/2017/12/15/Neural-Network-Terms-Introduction-to-Optimization-Functions-Activation-Functions-Loss-Functions-and-Regular-Functions/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>å¦‚ä½•ç†è§£Pandas å’Œ Numpyé‡Œçš„axis</title>
      <link>http://example.com/2017/12/12/Understanding-the-axis-parameter-in-Pandas-and-Numpy/</link>
      <guid>http://example.com/2017/12/12/Understanding-the-axis-parameter-in-Pandas-and-Numpy/</guid>
      <pubDate>Tue, 12 Dec 2017 10:36:04 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15130766716183.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç®€è¿°ä¸€ç§å¦‚ä½•ç›´è§‚çš„ç†è§£Pandas å’Œ Numpyé‡Œé¢çš„axiså‚æ•°çš„æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15130766716183.jpg"></p><p>ç®€è¿°ä¸€ç§å¦‚ä½•ç›´è§‚çš„ç†è§£Pandas å’Œ Numpyé‡Œé¢çš„axiså‚æ•°çš„æ–¹æ³•ã€‚</p><span id="more"></span><p>Numpy å’Œ Pandasé‡Œçš„sortã€meanã€dropç­‰æ“ä½œï¼Œä¸æ˜¯åˆ†è¡Œæˆ–è€…åˆ—åˆ†åˆ«ç”¨ä¸€ä¸ªmethodæ¥å®šä¹‰ï¼Œè€Œæ˜¯ä¸€ä¸ªmethodé‡Œé¢ç”¨æˆ·æŒ‡å®šaxisæ¥æ“ä½œçš„ï¼Œä¸¾ä¾‹æ¥è¯´ï¼š</p><p>æˆ‘ä»¬å…ˆåœ¨<a href="https://raw.githubusercontent.com/justmarkham/pandas-videos/master/data/drinks.csv">æ­¤å¤„</a>ä¸‹è½½äº†ä¸€ä»½å„å›½é…’ç±»æ¶ˆè´¹çš„csvæ–‡ä»¶ä¸ºä¾‹ã€‚<br><img src="/images/Screen%20Shot%202017-12-12%20at%2018.46.14.png" alt="Screen Shot 2017-12-12 at 18.46.14"><br>å¦‚ä¸‹æ˜¯pandasé‡ŒæŒ‰axis 0å’Œ1è¿›è¡Œdropçš„æ“ä½œç¤ºä¾‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œaxis 0æ˜¯æŒ‰è¡Œdropï¼Œè€Œaxis 1æ˜¯æŒ‰åˆ—dropï¼š<br><img src="/images/Screen%20Shot%202017-12-12%20at%2018.46.22.png" alt="Screen Shot 2017-12-12 at 18.46.22"></p><p>ä½†æ˜¯ï¼Œmeanæ“ä½œå‘¢ï¼Ÿ<br><img src="/images/Screen%20Shot%202017-12-12%20at%2018.49.18.png" alt="Screen Shot 2017-12-12 at 18.49.18"></p><p>å®¹æ˜“çœ‹å‡ºï¼Œaxis 0å¾—å‡ºäº†æ¯ä¸€åˆ—çš„å‡å€¼ï¼Œè€Œaxis 1å¾—å‡ºäº†åˆ™æ˜¯æ¯ä¸€è¡Œçš„å‡å€¼ã€‚<br>é‚£ä¹ˆï¼Œåœ¨Numpyé‡Œå‘¢ï¼Ÿ</p><p><img src="/images/Screen%20Shot%202017-12-12%20at%2019.06.17.png" alt="Screen Shot 2017-12-12 at 19.06.17"></p><p>å®¹æ˜“çœ‹å‡ºï¼Œaxisä¸º1çš„æ—¶å€™å¾—å‡ºçš„æ˜¯æ¯è¡Œçš„sumï¼Œaxisä¸º0çš„æ—¶å€™å¾—å‡ºäº†æ¯åˆ—çš„sumã€‚</p><p>ç”±ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä¼¼ä¹å¯ä»¥çœ‹å‡ºï¼Œaxisä¸º1ä»£è¡¨æ°´å¹³æ–¹å‘ä¸Šçš„æ“ä½œï¼Œaxisä¸º0ä»£è¡¨å‚ç›´æ–¹å‘ä¸Šçš„æ“ä½œï¼Œæ¯”å¦‚axisä¸º1çš„sumå¾—å‡ºçš„å°±æ˜¯æ¯ä¸€è¡Œçš„å’Œã€‚</p><p><img src="/images/15130760734631.jpg"></p><p>ä½†æ˜¯ï¼Œåœ¨Pandasçš„Dataframeé‡Œé¢ï¼Œä¸ºä»€ä¹ˆaxis=1ä»£è¡¨çš„æ˜¯dropæ•´ä¸ªåˆ—å‘¢ï¼Ÿä»¥ä¸‹è¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥è¯´æ˜ä¸€äº›æƒ…å†µï¼š</p><p><img src="/images/Screen%20Shot%202017-12-12%20at%2018.56.53.png" alt="Screen Shot 2017-12-12 at 18.56.53"></p><p>è”ç³»è¿™ä¸ªè§†é¢‘<a href="https://www.youtube.com/watch?v=PtO3t6ynH-8">How do I use the â€œaxisâ€ parameter in pandas? - YouTube</a>ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å¾—åˆ°ä¸€äº›ç»“è®ºï¼Œä½œè€…è¯´ï¼š</p><blockquote><p>0 is the row axis, and 1 is the column axis. When you drop with axis=1, that means drop a column. When you take the mean with axis=1, that means the operation should â€œmove acrossâ€ the column axis, which produces row means.<br>æŒ‡çš„å°±æ˜¯ä¸€ç§æ›´åŠ å®¹æ˜“ç†è§£çš„æ–¹å¼ï¼Œâ€œ0å°±æ˜¯è¡Œçš„axisï¼Œ1å°±æ˜¯åˆ—çš„axisï¼Œå½“ä»¥axis=1æ¥dropï¼Œé‚£ä¹ˆå°±æ˜¯dropä¸€ä¸ªcolumnï¼Œè€Œaxis=1 æ¥å–meanï¼Œé‚£ä¹ˆå°±æ˜¯è¿™ä¸ªæ“ä½œâ€˜ç©¿è¶Šâ€™äº†åˆ—çš„axisï¼Œäº§ç”Ÿäº†è¡Œä¸Šçš„meanâ€ã€‚</p></blockquote><p>å¦å¤–ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·æ¥æ“ä½œï¼Œ<br><img src="/images/Screen%20Shot%202017-12-12%20at%2019.01.27.png" alt="Screen Shot 2017-12-12 at 19.01.27"><br><img src="/images/Screen%20Shot%202017-12-12%20at%2019.01.45.png" alt="Screen Shot 2017-12-12 at 19.01.45"></p><p>å¯ä»¥çœ‹å‡ºï¼Œaxis=0ä¸axis=â€™rowsâ€™æ˜¯ä¸€æ ·çš„ï¼ˆåœ¨Pandasé‡Œï¼‰ï¼Œæ˜¯ä¸æ˜¯æ›´åŠ å®¹æ˜“ç†è§£äº†ï¼Ÿ</p><p><a href="https://distill.pub/2016/misread-tsne/">How to Use t-SNE Effectively</a>è¿™ä¸ªç½‘ç«™ç»™äº†ä¸€ä¸ªéå¸¸å½¢è±¡çš„t-SNEåœ¨çº¿å®éªŒç¯å¢ƒï¼Œæ¨èå¤§å®¶å»çœ‹ä¸€çœ‹ï¼<br><img src="/images/15205939273866.jpg"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      <category domain="http://example.com/tags/Numpy/">Numpy</category>
      
      <category domain="http://example.com/tags/Pandas/">Pandas</category>
      
      
      <comments>http://example.com/2017/12/12/Understanding-the-axis-parameter-in-Pandas-and-Numpy/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç†è§£triplet loss</title>
      <link>http://example.com/2017/12/01/understanding-triplet-loss-and-example-code/</link>
      <guid>http://example.com/2017/12/01/understanding-triplet-loss-and-example-code/</guid>
      <pubDate>Fri, 01 Dec 2017 09:19:05 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15121200710041.jpg&quot;&gt;&lt;br&gt;ç†è§£triplet lossï¼Œä¸ç»™å‡ºTensorFlowå’Œnumpyä¸¤ç§å½¢å¼çš„example codeã€‚ &lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15121200710041.jpg"><br>ç†è§£triplet lossï¼Œä¸ç»™å‡ºTensorFlowå’Œnumpyä¸¤ç§å½¢å¼çš„example codeã€‚ </p><span id="more"></span><p>Triplet Loss æ˜¯å½“å‰åº”ç”¨çš„å¾ˆå¹¿æ³›çš„ä¸€ç§æŸå¤±å‡½æ•°ï¼Œåœ¨äººè„¸è¯†åˆ«å’Œèšç±»é¢†åŸŸï¼Œè¿™æ˜¯ä¸€ç§å¾ˆè‡ªç„¶çš„æ˜ å°„ä¸è®¡ç®—æŸå¤±çš„æ–¹å¼ï¼Œæ¯”å¦‚<a href="https://arxiv.org/abs/1503.03832">FaceNet</a>é‡Œï¼Œé€šè¿‡æ„å»ºä¸€ç§embedding æ–¹å¼ï¼Œå°†äººè„¸å›¾åƒç›´æ¥æ˜ å°„åˆ°æ¬§å¼ç©ºé—´ï¼Œè€Œä¼˜åŒ–è¿™ç§embeddingçš„æ–¹æ³•å¯ä»¥æ¦‚æ‹¬ä¸ºï¼Œæ„å»ºè®¸å¤šç»„ä¸‰å…ƒç»„ï¼ˆAnchorï¼ŒPositiveï¼ŒNegativeï¼‰ï¼Œå…¶ä¸­Anchorä¸PositiveåŒlabelï¼ŒAnchorä¸Negativeä¸åŒlabelï¼ˆåœ¨äººè„¸è¯†åˆ«é‡Œé¢ï¼Œå°±æ˜¯Anchorä¸Positiveæ˜¯åŒä¸€ä¸ªä¸ªä½“ï¼Œè€Œä¸Negativeæ˜¯ä¸åŒä¸ªä½“ï¼‰ï¼Œé€šè¿‡å­¦ä¹ ä¼˜åŒ–è¿™ä¸ªembeddingï¼Œä½¿å¾—æ¬§å¼ç©ºé—´å†…çš„Anchorä¸Positive çš„è·ç¦»æ¯”ä¸Negativeçš„è·ç¦»è¦è¿‘ã€‚</p><h2 id="å…¬å¼è¡¨ç¤º"><a href="#å…¬å¼è¡¨ç¤º" class="headerlink" title="å…¬å¼è¡¨ç¤º"></a>å…¬å¼è¡¨ç¤º</h2><p>ç”¨å…¬å¼è¡¨ç¤ºå°±æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼š</p><p>$$<br>\left\lVert  f(x^a_i) - f(x^p_i) \right\rVert ^2_2  +<br>\alpha \lt \left\lVert  f(x^a_i) - f(x^n_i) \right\rVert ^2_2 , \<br>\forall (f(x^a_i) , f(x^p_i) , f(x^n_i))  \in \mathscr T<br>$$</p><p>å…¶ä¸­$\alpha$ æ˜¯å¼ºåˆ¶çš„æ­£ä¾‹å’Œè´Ÿä¾‹ä¹‹é—´çš„marginï¼Œ$\mathscr T$æ˜¯å…·æœ‰åŸºæ•°ä¸º$N$çš„è®­ç»ƒé›†ä¸­çš„ä¸‰å…ƒç»„çš„é›†åˆã€‚</p><p>é‚£ä¹ˆï¼ŒæŸå¤±å‡½æ•°å¾ˆè‡ªç„¶çš„å¯ä»¥å†™ä¸ºï¼š</p><p>$$<br>\sum^N_i<br>\Bigl [<br>\left\lVert  f(x^a_i) - f(x^p_i) \right\rVert ^2_2   -<br> \left\lVert  f(x^a_i) - f(x^n_i) \right\rVert ^2_2 + \alpha<br> \Bigr ] _ +<br>$$</p><p>å…¶ä¸­åŠ å·æŒ‡çš„ï¼Œå¦‚æœä¸­æ‹¬å·å†…éƒ¨åˆ†å°äº0ï¼Œåˆ™æ²¡æœ‰æŸå¤±ï¼ˆAnchorä¸Positiveçš„è·ç¦»åŠ ä¸Šmarginå°äºä¸Negativeçš„è·ç¦»ï¼‰ï¼Œå¦åˆ™è®¡ç®—è¿™ä¸ªè·ç¦»ä¸ºæŸå¤±ã€‚</p><h2 id="ä»£ç è¡¨ç¤º"><a href="#ä»£ç è¡¨ç¤º" class="headerlink" title="ä»£ç è¡¨ç¤º"></a>ä»£ç è¡¨ç¤º</h2><p>Numpy å®ç°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">3</span>*<span class="number">12</span></span><br><span class="line">embedding_size = <span class="number">16</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„é€ batch_size * embedding_size ç»´åº¦çš„éšæœºçŸ©é˜µ</span></span><br><span class="line">emb = np.random.uniform(size=[])</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¹embé€¢ä¸‰å–1ã€2ã€3è¡Œåˆ†åˆ«ä¸ºAnchorã€Positiveã€Negative</span></span><br><span class="line"><span class="comment"># è®¡ç®—å…¶2èŒƒæ•°çš„è·ç¦»å³æ¬§æ°è·ç¦»</span></span><br><span class="line">pos_dist_sqr = np.<span class="built_in">sum</span>(np.square(emb[<span class="number">0</span>::<span class="number">3</span>,:]-emb[<span class="number">1</span>::<span class="number">3</span>,:]), axis=<span class="number">1</span>)        </span><br><span class="line">neg_dist_sqr = np.<span class="built_in">sum</span>(np.square(emb[<span class="number">0</span>::<span class="number">3</span>,:]-emb[<span class="number">2</span>::<span class="number">3</span>,:]), axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™é‡Œå°±æ˜¯ç…§æŠ„å…¬å¼äº†ï¼Œæ³¨æ„meanå’Œsumæ˜¯ä¸€æ ·çš„</span></span><br><span class="line">np_triplet_loss = np.mean(np.maximum(<span class="number">0.</span>, pos_dist_sqr-neg_dist_sqr+alpha))</span><br></pre></td></tr></table></figure><p>TensorFlow å®ç°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">3</span>*<span class="number">12</span></span><br><span class="line">embedding_size = <span class="number">16</span></span><br><span class="line">alpha = <span class="number">0.2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">triplet_loss</span>(<span class="params">anchor, positive, negative, alpha</span>):</span>   </span><br><span class="line">    <span class="keyword">with</span> tf.variable_scope(<span class="string">&#x27;triplet_loss&#x27;</span>):</span><br><span class="line">        pos_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, positive)), <span class="number">1</span>)</span><br><span class="line">        neg_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, negative)), <span class="number">1</span>)</span><br><span class="line">        basic_loss = tf.add(tf.subtract(pos_dist, neg_dist), alpha)</span><br><span class="line">        loss = tf.reduce_mean(tf.maximum(basic_loss, <span class="number">0.0</span>), <span class="literal">None</span>)</span><br><span class="line">    <span class="keyword">return</span> loss</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºçŸ©é˜µ</span></span><br><span class="line">embeddings = tf.placeholder(np.float64, shape=(batch_size, embedding_size), name=<span class="string">&#x27;embeddings&#x27;</span>)</span><br><span class="line"><span class="comment"># å…ˆå°†embeddingsçŸ©é˜µç¬¬0ç»´resizeä¸º(?, 3)ç»´ï¼Œç¬¬1ç»´ä¸å˜ï¼Œå˜ä¸ºä¸‰ç»´çŸ©é˜µ(-1, 3, embedding_size)ï¼Œå†åœ¨å…¶ç¬¬äºŒç»´åº¦ä¸º3ä¸Šunstackä¸ºä¸‰ä»½</span></span><br><span class="line">anchor, positive, negative = tf.unstack(tf.reshape(embeddings, shape=(-<span class="number">1</span>, <span class="number">3</span>, embedding_size)), axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œè¿™é‡Œæµ‹è¯•å¯¹æ¯”äº†ä¸¤ç§å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">3</span>*<span class="number">12</span></span><br><span class="line">embedding_size = <span class="number">16</span></span><br><span class="line">alpha = <span class="number">0.2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">triplet_loss</span>(<span class="params">anchor, positive, negative, alpha</span>):</span>   </span><br><span class="line">    <span class="keyword">with</span> tf.variable_scope(<span class="string">&#x27;triplet_loss&#x27;</span>):</span><br><span class="line">        pos_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, positive)), <span class="number">1</span>)</span><br><span class="line">        neg_dist = tf.reduce_sum(tf.square(tf.subtract(anchor, negative)), <span class="number">1</span>)</span><br><span class="line">        basic_loss = tf.add(tf.subtract(pos_dist, neg_dist), alpha)</span><br><span class="line">        loss = tf.reduce_mean(tf.maximum(basic_loss, <span class="number">0.0</span>), <span class="literal">None</span>)</span><br><span class="line">    <span class="keyword">return</span> loss</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Graph().as_default():</span><br><span class="line">    embeddings = tf.placeholder(np.float64, shape=(batch_size, embedding_size), name=<span class="string">&#x27;embeddings&#x27;</span>)</span><br><span class="line">    anchor, positive, negative = tf.unstack(tf.reshape(embeddings, shape=(-<span class="number">1</span>, <span class="number">3</span>, embedding_size)), axis=<span class="number">1</span>)</span><br><span class="line">    triplet_loss = triplet_loss(anchor, positive, negative, alpha)</span><br><span class="line">    </span><br><span class="line">    sess = tf.Session()</span><br><span class="line">    <span class="keyword">with</span> sess.as_default():</span><br><span class="line">        np.random.seed(<span class="number">666</span>)</span><br><span class="line">        emb = np.random.uniform(size=[batch_size, embedding_size])</span><br><span class="line">        tf_triplet_loss = sess.run(triplet_loss, feed_dict=&#123;embeddings:emb&#125;)</span><br><span class="line">        </span><br><span class="line">        pos_dist_sqr = np.<span class="built_in">sum</span>(np.square(emb[<span class="number">0</span>::<span class="number">3</span>,:]-emb[<span class="number">1</span>::<span class="number">3</span>,:]), axis=<span class="number">1</span>)        </span><br><span class="line">        neg_dist_sqr = np.<span class="built_in">sum</span>(np.square(emb[<span class="number">0</span>::<span class="number">3</span>,:]-emb[<span class="number">2</span>::<span class="number">3</span>,:]), axis=<span class="number">1</span>)</span><br><span class="line">        np_triplet_loss = np.mean(np.maximum(<span class="number">0.</span>, pos_dist_sqr-neg_dist_sqr+alpha))</span><br><span class="line">        </span><br><span class="line">        np.testing.assert_almost_equal(tf_triplet_loss, np_triplet_loss, decimal=<span class="number">5</span>, err_msg=<span class="string">&#x27;Triplet loss is incorrect&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      <category domain="http://example.com/tags/TensorFlow/">TensorFlow</category>
      
      
      <comments>http://example.com/2017/12/01/understanding-triplet-loss-and-example-code/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>æ•°æ®çš„æ ‡å‡†åŒ–ä¸å½’ä¸€åŒ–</title>
      <link>http://example.com/2017/11/29/Data-Normalization-and-Standardization/</link>
      <guid>http://example.com/2017/11/29/Data-Normalization-and-Standardization/</guid>
      <pubDate>Wed, 29 Nov 2017 03:53:57 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15119359203487.png&quot;&gt;&lt;br&gt;èŠä¸€èŠNormalization and Standardization&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15119359203487.png"><br>èŠä¸€èŠNormalization and Standardization</p><span id="more"></span><h2 id="ä»€ä¹ˆæ˜¯"><a href="#ä»€ä¹ˆæ˜¯" class="headerlink" title="ä»€ä¹ˆæ˜¯"></a>ä»€ä¹ˆæ˜¯</h2><p>Normalizationå°±æ˜¯å½’ä¸€åŒ–ï¼Œæ˜¯æœ€å°-æœ€å¤§ç¼©æ”¾(min-max scaling)çš„ç‰¹ä¾‹ï¼ŒæŒ‡çš„æ˜¯å°†æ•°æ®ç¼©æ”¾åˆ°æŒ‡å®šrangeï¼Œè¿™ä¸ªrangeé€šå¸¸æ˜¯0<del>1æˆ–è€…-1</del>+1ï¼Œç›´è§‚æ¥è®²å°±æ˜¯ä¸‹å›¾ï¼Œåœ¨æ•°æ®ä¸åŒ…å«ç¦»ç¾¤ç‚¹æ—¶å¾ˆæœ‰ç”¨ï¼Œ<br><img src="/images/Screen%20Shot%202017-11-29%20at%2012.35.41.png" alt="Screen Shot 2017-11-29 at 12.35.41"></p><p>å…¬å¼åˆ™æ˜¯</p><p>$$<br>x^{(i)}<em>{norm} = \frac {x^{(i)} - x</em>{min}} {x_{max} - x_{min}}<br>$$</p><p>è‹¥è¦ç¼©æ”¾è‡³-1~+1ï¼Œåˆ™æ˜¯<br>$$<br>xâ€™ = \frac{x - min}{max - min}<br>$$</p><p>ä»£ç å®ç°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯¼å…¥æ•°æ®é¢„å¤„ç†åº“</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"></span><br><span class="line"><span class="comment">#èŒƒå›´ç¼©æ”¾æ ‡å‡†åŒ–</span></span><br><span class="line">min_max_scaler = preprocessing.MinMaxScaler()</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®­ç»ƒé›†ç¼©æ”¾æ ‡å‡†åŒ–</span></span><br><span class="line">min_max_scaler.fit_transform(X_train)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æµ‹è¯•é›†ç¼©æ”¾æ ‡å‡†åŒ–</span></span><br><span class="line">min_max_scaler.fit_transform(X_test)</span><br></pre></td></tr></table></figure><p>Z-score æ ‡å‡†åŒ–æŒ‡çš„æ˜¯ï¼Œé€šè¿‡ç¼©æ”¾è®©æ•°æ®çš„å‡å€¼ä¸º0ï¼ˆç§»é™¤å‡å€¼ï¼‰ï¼Œæ ‡å‡†å·®ä¸ºå›ºå®šå€¼ï¼ˆæ¯”å¦‚1ï¼‰ã€‚åœ¨è®¸å¤šæ¨¡å‹é‡Œï¼Œå¦‚SVMçš„RBFã€çº¿æ€§æ¨¡å‹çš„ L1 &amp; L2 æ­£åˆ™é¡¹å¯¹äºæ‰€æœ‰çš„featureéƒ½æœ‰è¿™æ ·çš„å‡è®¾ã€‚<br>$$<br>x^{(i)}_{std} = \frac{x^{(i)} - \mu_x}{\sigma_x}<br>$$</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­å±•ç¤ºäº†ä¸¤è€…çš„åŒºåˆ«ï¼š</p><p><img src="/images/Screen%20Shot%202017-11-29%20at%2012.41.13.png" alt="Screen Shot 2017-11-29 at 12.41.13"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯¼å…¥æ•°æ®é¢„å¤„ç†åº“</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">scaler = preprocessing.StandardScaler().fit(X_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®­ç»ƒé›†æ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">scaler.transform(X_train)</span><br></pre></td></tr></table></figure><p>åŒæ—¶å¯¹æµ‹è¯•é›†çš„æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œä»¥ä¿è¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„å˜æ¢æ–¹å¼ç›¸åŒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æµ‹è¯•é›†æ•°æ®æ ‡å‡†åŒ–</span></span><br><span class="line">scaler.transform(X_test)</span><br></pre></td></tr></table></figure><h2 id="å€¼å¾—æ³¨æ„"><a href="#å€¼å¾—æ³¨æ„" class="headerlink" title="å€¼å¾—æ³¨æ„"></a>å€¼å¾—æ³¨æ„</h2><p>ä»æµç¨‹ä¸Šè®²ï¼Œæ ‡å‡†åŒ–å’Œå½’ä¸€åŒ–åº”è¯¥åœ¨è¯»å…¥æ•°æ®ã€å¤„ç†ç¼ºå¤±å€¼ï¼Œåˆ‡åˆ†è®­ç»ƒæµ‹è¯•é›†ä¹‹åï¼Œè€Œä¸”æˆ‘ä»¬è¦åšçš„æ˜¯åœ¨åˆ‡åˆ†ä¹‹åï¼Œåœ¨è®­ç»ƒé›†fitï¼Œå†å»transformæµ‹è¯•é›†ï¼Œè€Œä¸æ˜¯åœ¨æ•´ä¸ªæ•°æ®ä¸Šè½¬æ¢ä»¥åå†åˆ‡åˆ†ï¼Œå› ä¸º<strong>æ— è®ºæ˜¯æ ‡å‡†åŒ–è¿˜æ˜¯å½’ä¸€åŒ–ï¼Œæˆ‘ä»¬è¦ä¹ˆåˆ©ç”¨åˆ°äº†æ•°æ®çš„max minå€¼ï¼Œè¦ä¹ˆåˆ©ç”¨åˆ°äº†æ•°æ®çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼Œè¿™äº›æ•°å€¼åœ¨è®­ç»ƒä¹‹å‰æ˜¯ä¸èƒ½è¢«æµ‹è¯•é›†æ‰€å½±å“çš„ã€‚</strong></p><p>ç±»ä¼¼äºç¼ºå¤±å€¼çš„å¡«å……ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡å€¼å¡«å……ä»¥ä¸‹æ•°æ®ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨å‡å€¼å¡«å……ç¼ºå¤±å€¼</span></span><br><span class="line">imp = Imputer(missing_values=<span class="string">&quot;NaN&quot;</span>, strategy=<span class="string">&#x27;mean&#x27;</span>, axis=<span class="number">0</span>)</span><br><span class="line">imp.fit(X_train)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¡«å……è®­ç»ƒé›†</span></span><br><span class="line">X_train=imp.transform(X_train)</span><br></pre></td></tr></table></figure><p>ä»¥åŒæ ·çš„æ–¹å¼å¡«å……æµ‹è¯•é›†ï¼Œä»¥ä¿è¯æµ‹è¯•é›†å’Œè®­ç»ƒé›†çš„æ•°æ®å¡«å……æ–¹å¼ä¿æŒä¸€è‡´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¡«å……æµ‹è¯•é›†</span></span><br><span class="line">X_test=imp.transform(X_test)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      
      <comments>http://example.com/2017/11/29/Data-Normalization-and-Standardization/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>TensorFlow on a GTX 1080</title>
      <link>http://example.com/2017/11/13/TensorFlow-on-a-GTX-1080/</link>
      <guid>http://example.com/2017/11/13/TensorFlow-on-a-GTX-1080/</guid>
      <pubDate>Mon, 13 Nov 2017 10:23:28 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15105686803158.jpg&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/15105687114770.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Ubuntu 16.03 å®‰è£… CUDAã€NVIDIAé©±åŠ¨ï¼ŒCUDNNåŠGPUç‰ˆTensorFlowã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15105686803158.jpg"><br><img src="/images/15105687114770.jpg"></p><p>Ubuntu 16.03 å®‰è£… CUDAã€NVIDIAé©±åŠ¨ï¼ŒCUDNNåŠGPUç‰ˆTensorFlowã€‚</p><span id="more"></span><p>GPU æ”¯æŒçš„TensorFlowè®©ç®—åŠ›å¤§å¹…æå‡ï¼Œä½†æ˜¯å®‰è£…å¥½ä¸€åˆ‡æ”¯æŒå´ä¸é‚£ä¹ˆå®¹æ˜“ï¼å…¶å®ä¸»è¦æ˜¯ä¸‰ä¸ªä¸œè¥¿ï¼š</p><ol><li>Nvidia é©±åŠ¨ï¼šæ˜¾å¡é©±åŠ¨</li><li>CUDA Toolkit CUDAå·¥å…·ç®±</li><li>CUDNNï¼šCUDA Deep Neural Network library  ç¥ç»ç½‘ç»œåº“å‡½æ•°<h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install \</span><br><span class="line">    freeglut3-dev \</span><br><span class="line">    g++-4.9 \</span><br><span class="line">    gcc-4.9 \</span><br><span class="line">    libglu1-mesa-dev \</span><br><span class="line">    libx11-dev \</span><br><span class="line">    libxi-dev \</span><br><span class="line">    libxmu-dev \</span><br><span class="line">    nvidia-modprobe \</span><br><span class="line">    python-dev \</span><br><span class="line">    python-pip \</span><br><span class="line">    python-virtualenv</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…Nvidiaé©±åŠ¨"><a href="#å®‰è£…Nvidiaé©±åŠ¨" class="headerlink" title="å®‰è£…Nvidiaé©±åŠ¨"></a>å®‰è£…Nvidiaé©±åŠ¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get purge nvidia-* åˆ é™¤nvidia ä¹‹å‰çš„</span><br><span class="line">$ sudo add-apt-repository ppa:graphics-drivers/ppa</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install nvidia-384</span><br></pre></td></tr></table></figure><p>å¯åœ¨<a href="https://launchpad.net/~graphics-drivers/+archive/ubuntu/ppa">Proprietary GPU Drivers : â€œGraphics Driversâ€ team</a>æŸ¥çœ‹å½“å‰ç¨³å®šç‰ˆæœ¬Nvidiaé©±åŠ¨ï¼Œå¦‚ç¬”è€…å½“å‰ï¼ˆ2017-11-13ï¼‰ç‰ˆæœ¬æ˜¯â€˜nvidia-384â€™ã€‚</p><p>æ¥ä¸‹æ¥é‡å¯<code>$ sudo reboot</code>ã€‚<br>é‡å¯åï¼Œæ£€æµ‹Nvidiaé©±åŠ¨å®‰è£…æƒ…å†µï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat /proc/driver/nvidia/version</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NVRM version: NVIDIA UNIX x86_64 Kernel Module  384.98  Thu Oct 26 15:16:01 PDT 2017</span><br><span class="line">GCC version:  gcc version 5.4.0 20160609 (Ubuntu 5.4.0-6ubuntu1~16.04.4)</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºNvidiaâ€™s system management interfaceï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo nvidia-smi</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| NVIDIA-SMI 384.98                 Driver Version: 384.98                    |</span><br><span class="line">|-------------------------------+----------------------+----------------------+</span><br><span class="line">| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |</span><br><span class="line">| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |</span><br><span class="line">|===============================+======================+======================|</span><br><span class="line">|   0  GeForce GTX 1080    Off  | 00000000:01:00.0  On |                  N/A |</span><br><span class="line">|  0%   47C    P8    12W / 215W |   7992MiB /  8112MiB |      2%      Default |</span><br><span class="line">+-------------------------------+----------------------+----------------------+</span><br><span class="line"></span><br><span class="line">+-----------------------------------------------------------------------------+</span><br><span class="line">| Processes:                                                       GPU Memory |</span><br><span class="line">|  GPU       PID   Type   Process name                             Usage      |</span><br><span class="line">|=============================================================================|</span><br><span class="line">|    0       994      G   /usr/lib/xorg/Xorg                           193MiB |</span><br><span class="line">|    0      1889      G   compiz                                       151MiB |</span><br><span class="line">|    0      5068      C   /home/frank/anaconda3/bin/python            7643MiB |</span><br><span class="line">+-----------------------------------------------------------------------------+</span><br></pre></td></tr></table></figure><p>è®¾ç½®GCC 4.9ä¸ºé»˜è®¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 10</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 20</span><br><span class="line"></span><br><span class="line">$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 10</span><br><span class="line">$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 20</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…CUDA"><a href="#å®‰è£…CUDA" class="headerlink" title="å®‰è£…CUDA"></a>å®‰è£…CUDA</h2><p>å½“å‰è™½ç„¶CUDA-9.0å·²ç»å‘å¸ƒï¼Œä½†æ˜¯TensorFlowé»˜è®¤ç¼–è¯‘ç‰ˆæœ¬è¿˜æ˜¯åŸºäºCUDA-8.0çš„ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œ<a href="https://developer.nvidia.com/cuda-80-ga2-download-archive">CUDA Toolkit 8.0 - Feb 2017 | NVIDIA Developer</a>ä¸‹è½½runfile<br><img src="/images/Screen%20Shot%202017-11-13%20at%2018.35.28.png" alt="Screen Shot 2017-11-13 at 18.35.28"></p><p>ä½¿ç”¨å¦‚ä¸‹å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cuda_8.0.61_375.26_linux.run --override</span><br></pre></td></tr></table></figure><p>å®‰è£…æ—¶è®°å¾—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Do you accept the previously <span class="built_in">read</span> EULA? (accept/decline/quit): accept</span><br><span class="line">You are attempting to install on an unsupported configuration. Do you wish to <span class="built_in">continue</span>? ((y)es/(n)o) [ default is no ]: yes</span><br><span class="line">Install NVIDIA Accelerated Graphics Driver <span class="keyword">for</span> Linux-x86_64 352.39? ((y)es/(n)o/(q)uit): no</span><br><span class="line">Install the CUDA 8.0 Toolkit? ((y)es/(n)o/(q)uit): yes</span><br><span class="line">Enter Toolkit Location [ default is /usr/<span class="built_in">local</span>/cuda-8.0 ]:</span><br><span class="line">Do you want to install a symbolic link at /usr/<span class="built_in">local</span>/cuda? ((y)es/(n)o/(q)uit): yes</span><br><span class="line">Install the CUDA 8.0 Samples? ((y)es/(n)o/(q)uit): no</span><br><span class="line">Installing the CUDA Toolkit <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0 ...</span><br><span class="line"></span><br><span class="line">===========</span><br><span class="line">= Summary =8.0</span><br><span class="line">===========</span><br><span class="line"></span><br><span class="line">Driver:   Not Selected</span><br><span class="line">Toolkit:  Installed <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0</span><br><span class="line">Samples:  Not Selected</span><br><span class="line"></span><br><span class="line">Please make sure that</span><br><span class="line"> -   PATH includes /usr/<span class="built_in">local</span>/cuda-8.0/bin</span><br><span class="line"> -   LD_LIBRARY_PATH includes /usr/<span class="built_in">local</span>/cuda-8.0/lib64, or, add /usr/<span class="built_in">local</span>/cuda-8.0/lib64 to /etc/ld.so.conf and run ldconfig as root</span><br><span class="line"></span><br><span class="line">To uninstall the CUDA Toolkit, run the uninstall script <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0/bin</span><br><span class="line">To uninstall the NVIDIA Driver, run nvidia-uninstall</span><br><span class="line"></span><br><span class="line">Please see CUDA_Installation_Guide_Linux.pdf <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0/doc/pdf <span class="keyword">for</span> detailed information on setting up CUDA.</span><br><span class="line"></span><br><span class="line">***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 352.00 is required <span class="keyword">for</span> CUDA 8.0 functionality to work.</span><br><span class="line">To install the driver using this installer, run the following <span class="built_in">command</span>, replacing &lt;CudaInstaller&gt; with the name of this run file:</span><br><span class="line">    sudo &lt;CudaInstaller&gt;.run -silent -driver</span><br><span class="line"></span><br><span class="line">Logfile is /tmp/cuda_install_14557.log</span><br></pre></td></tr></table></figure><p>è®°å¾—ä¸Šé¢è¿™é‡Œä¹Ÿæœ‰ä¸ªè¯¢é—®ä½ æ˜¯å¦å®‰è£…Nvidiaé©±åŠ¨çš„åœ°æ–¹ï¼Œå› ä¸ºæˆ‘ä»¬å‰é¢å·²ç»å®‰è£…äº†æœ€æ–°çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œå½“ç„¶é€‰æ‹©noã€‚</p><p>æ·»åŠ ç¯å¢ƒå˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;export PATH=/usr/local/cuda/bin:$PATH&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH&#x27;</span> &gt;&gt; ~/.bashrc</span><br><span class="line">$ <span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹CUDA compiler</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nvcc -V</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">Copyright (c) 2005-2016 NVIDIA Corporation</span><br><span class="line">Built on Tue_Jan_10_13:22:03_CST_2017</span><br><span class="line">Cuda compilation tools, release 8.0, V8.0.61</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…CUDA-Deep-Neural-Network-library-ï¼šCUDNN"><a href="#å®‰è£…CUDA-Deep-Neural-Network-library-ï¼šCUDNN" class="headerlink" title="å®‰è£…CUDA Deep Neural Network library ï¼šCUDNN"></a>å®‰è£…CUDA Deep Neural Network library ï¼šCUDNN</h2><p>åœ¨æ­¤å¤„ä¸‹è½½<a href="https://developer.nvidia.com/rdp/cudnn-download">cuDNN Download | NVIDIA Developer</a>ï¼Œå¯èƒ½éœ€è¦æˆ‘ä»¬æ³¨å†Œè´¦å·ç™»å½•ã€‚<br>é€‰æ‹©é€‚é…CUDAçš„ç‰ˆæœ¬ï¼Œä»¥åŠcuDNN v7.0 Library for Linuxï¼Œè¿™ä¸ªå°±æ˜¯ä¸ªtargzæ–‡ä»¶ã€‚<br><img src="/images/Screen%20Shot%202017-11-13%20at%2018.42.51.png" alt="Screen Shot 2017-11-13 at 18.42.51"></p><p>æ¥ä¸‹æ¥æ“ä½œå°±æ˜¯æŠŠcudnnçš„å‡ ä¸ªåº“æ”¾åˆ°cudaé‡Œé¢ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ tar xvf cudnn-8.0-linux-x64-v7.tgz</span><br><span class="line">$ sudo cp cuda/include/cudnn.h /usr/<span class="built_in">local</span>/cuda/include/</span><br><span class="line">$ sudo cp cuda/lib64/libcudnn* /usr/<span class="built_in">local</span>/cuda/lib64/</span><br><span class="line">$ sudo chmod a+r /usr/<span class="built_in">local</span>/cuda/lib64/libcudnn*</span><br></pre></td></tr></table></figure><h2 id="TensorFlowå®‰è£…"><a href="#TensorFlowå®‰è£…" class="headerlink" title="TensorFlowå®‰è£…"></a>TensorFlowå®‰è£…</h2><p><code>pip  install --upgrade tfBinaryURL </code>å³å¯ï¼Œè¿™é‡Œçš„<code>tfBinaryURL</code>å¯åœ¨<a href="https://www.tensorflow.org/install/install_linux#the_url_of_the_tensorflow_python_package">Installing TensorFlow on Ubuntu Â |Â  TensorFlow</a>é€‰å–ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œé€‰å–Python3.6çš„GPU Supportï¼š</p><p><img src="/images/Screen%20Shot%202017-11-13%20at%2018.47.45.png" alt="Screen Shot 2017-11-13 at 18.47.45"></p><h2 id="éªŒè¯TensorFlowå®‰è£…"><a href="#éªŒè¯TensorFlowå®‰è£…" class="headerlink" title="éªŒè¯TensorFlowå®‰è£…"></a>éªŒè¯TensorFlowå®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [1]: import tensorflow as tf</span><br><span class="line"></span><br><span class="line">In [2]: sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))</span><br><span class="line">2017-11-13 18:54:59.081831: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA</span><br><span class="line">2017-11-13 18:54:59.186280: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:892] successful NUMA node <span class="built_in">read</span> from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero</span><br><span class="line">2017-11-13 18:54:59.186604: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:</span><br><span class="line">name: GeForce GTX 1080 major: 6 minor: 1 memoryClockRate(GHz): 1.86</span><br><span class="line">pciBusID: 0000:01:00.0</span><br><span class="line">totalMemory: 7.92GiB freeMemory: 7.46GiB</span><br><span class="line">2017-11-13 18:54:59.186617: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -&gt; (device: 0, name: GeForce GTX 1080, pci bus id: 0000:01:00.0, compute capability: 6.1)</span><br><span class="line">Device mapping:</span><br><span class="line">/job:localhost/replica:0/task:0/device:GPU:0 -&gt; device: 0, name: GeForce GTX 1080, pci bus id: 0000:01:00.0, compute capability: 6.1</span><br><span class="line">2017-11-13 18:54:59.216573: I tensorflow/core/common_runtime/direct_session.cc:299] Device mapping:</span><br><span class="line">/job:localhost/replica:0/task:0/device:GPU:0 -&gt; device: 0, name: GeForce GTX 1080, pci bus id: 0000:01:00.0, compute capability: 6.1</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šï¼Œæ‰“å°å‡ºè¿™äº›ä¿¡æ¯å°±è¯æ˜å®‰è£…æˆåŠŸå•¦ï¼</p><h2 id="CUDA-ToolKit-8-0-å‡çº§åˆ°9-0æŒ‡å—"><a href="#CUDA-ToolKit-8-0-å‡çº§åˆ°9-0æŒ‡å—" class="headerlink" title="CUDA ToolKit 8.0 å‡çº§åˆ°9.0æŒ‡å—"></a>CUDA ToolKit 8.0 å‡çº§åˆ°9.0æŒ‡å—</h2><p>ä¸»è¦å°±æ˜¯éœ€è¦ä¸‹è½½CUDA ToolKit 9.0 çš„å®‰è£…åŒ…ï¼Œå’Œ8.0ä¸€æ ·å®‰è£…ï¼Œæ³¨æ„ä¸‹é¢çš„å››æ­¥éª¤æˆ‘ä»¬åªéœ€è¦ç¬¬äºŒæ­¥ï¼ˆToolKitï¼‰å’Œç¬¬å››æ­¥ï¼ˆåˆ›å»ºè½¯é“¾æ¥ï¼ŒåŸæœ‰çš„æ˜¯æŒ‡å‘8.0çš„ï¼‰</p><p><img src="/images/15210144246547.jpg"></p><p>å› ä¸ºCUDNNè¢«æ”¾åœ¨CUDA ToolKit 8.0å†…ï¼Œæ‰€æœ‰è¿™é‡Œæˆ‘ä»¬éœ€è¦é‡æ–°ä¸‹è½½CUDNNå¹¶è§£å‹åˆ°CUDA ToolKit 9.0æ–‡ä»¶å¤¹å†…ï¼Œ</p><p>å†åœ¨<a href="https://www.tensorflow.org/install/install_linux#InstallingAnaconda">Installing TensorFlow on Ubuntu Â |Â  TensorFlow</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install --ignore-installed --upgrade \</span><br><span class="line">&lt;url&gt;</span><br></pre></td></tr></table></figure><p><code>url</code>é€‰å–å¦‚ä¸‹çš„ä½ éœ€è¦çš„pythonç‰ˆæœ¬çš„GPUç½‘å€å³å¯ã€‚<br><img src="/images/15210146789201.jpg"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      <category domain="http://example.com/tags/TensorFlow/">TensorFlow</category>
      
      
      <comments>http://example.com/2017/11/13/TensorFlow-on-a-GTX-1080/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>frpçš„å†…ç½‘ç©¿é€åŠå¤–ç½‘è®¿é—®å†…ç½‘jupyter-notebookçš„å®ç°</title>
      <link>http://example.com/2017/11/12/ftp-using/</link>
      <guid>http://example.com/2017/11/12/ftp-using/</guid>
      <pubDate>Sat, 11 Nov 2017 18:20:38 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15104246654723.png&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15104246654723.png"></p><span id="more"></span><p><a href="https://github.com/fatedier/frp">fatedier/frp: A fast reverse proxy to help you expose a local server behind a NAT or firewall to the internet.</a>æ˜¯ä¸€ä¸ªå¯ç”¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ tcp, udp, http, https åè®®ï¼Œ è¿™é‡Œæˆ‘ä»¬ç”¨å®ƒæ¥æ­å»ºå¤–ç½‘è®¿é—®å†…ç½‘jupyter-notebookçš„æœåŠ¡ã€‚<br>æˆ‘ä»¬åŸºäºUbuntu16.04 é€‰ç”¨amd64ç‰ˆæœ¬ï¼Œ<br><img src="/images/Screen%20Shot%202017-11-12%20at%2002.25.46.png" alt="Screen Shot 2017-11-12 at 02.25.46"></p><h3 id="serverè®¾ç½®"><a href="#serverè®¾ç½®" class="headerlink" title="serverè®¾ç½®"></a>serverè®¾ç½®</h3><p>serverå°±æ˜¯ä½ æ‹¥æœ‰å¤–ç½‘IPçš„æœåŠ¡å™¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port = 7000</span><br><span class="line">vhost_http_port = 8888</span><br></pre></td></tr></table></figure><p>ç”¨<code>./frps -c ./frps.ini</code>å¯åŠ¨ï¼Œæ³¨æ„æœåŠ¡ç«¯éœ€è¦å…ˆå¯åŠ¨ã€‚</p><h3 id="clientè®¾ç½®"><a href="#clientè®¾ç½®" class="headerlink" title="clientè®¾ç½®"></a>clientè®¾ç½®</h3><p>clientå°±æ˜¯æ²¡æœ‰å¤–ç½‘IPï¼Œä½†æ˜¯ä½ æƒ³åœ¨å¤–ç½‘è®¿é—®çš„æœºå™¨ï¼Œ</p><p>XXXXXXXXXå°±æ˜¯ä¸Šé¢çš„serverçš„å¤–ç½‘IPã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">server_addr = XXXXXXXXX</span><br><span class="line">server_port = 7000</span><br><span class="line"></span><br><span class="line">[web]</span><br><span class="line"><span class="built_in">type</span> = http</span><br><span class="line">local_port = 8888</span><br><span class="line">custom_domains = XXXXXXXXX</span><br></pre></td></tr></table></figure><p>ä»¥<code>./frpc -c ./frpc.ini</code>å¯åŠ¨ã€‚</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>æ¥ä¸‹æ¥ï¼Œåœ¨clientç«¯ï¼Œåœ¨8888æ®µç«¯å£å¯åŠ¨jupyter-notebookå³å¯åœ¨XXXXXXXXX:8888è®¿é—®å†…ç½‘æœºå™¨ä¸Šçš„Notebookäº†ã€‚</p><p><img src="/images/Screen%20Shot%202017-11-12%20at%2002.37.55.png" alt="Screen Shot 2017-11-12 at 02.37.55"></p><p>å¦å¤–ï¼Œç”±äºjupyter-notebookè‡ªå¸¦ç»ˆç«¯ï¼Œè¿™ä¹Ÿä¸€ä¸¾ä¸¤å¾—ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå†…ç½‘ç©¿é€sshçš„æ–¹æ¡ˆã€‚<br>å½“ç„¶ï¼Œå¿…é¡»ä½¿ç”¨ä¸€äº›è¿ç»´å·¥å…·æ¥ä¿è¯æœåŠ¡çš„ç¨³å®šæ€§ï¼Œå¦‚supervisorï¼Œå¯å‚è€ƒ<a href="http://frankchen.xyz/2017/07/06/Use-supervisor-support-Python3-program/">ä½¿ç”¨supervisoræ”¯æŒPython3ç¨‹åº | ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶</a>ã€‚<br><img src="/images/Screen%20Shot%202017-11-12%20at%2002.39.36.png" alt="Screen Shot 2017-11-12 at 02.39.36"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/11/12/ftp-using/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Pycharm Pro</title>
      <link>http://example.com/2017/11/08/pycharm-pro/</link>
      <guid>http://example.com/2017/11/08/pycharm-pro/</guid>
      <pubDate>Wed, 08 Nov 2017 10:44:13 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15101362178541.jpg&quot;&gt;&lt;br&gt;Pycharmï¼Œåªä¸ºæé«˜pythonå¼€å‘è€…çš„ç”Ÿäº§åŠ›ï¼&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15101362178541.jpg"><br>Pycharmï¼Œåªä¸ºæé«˜pythonå¼€å‘è€…çš„ç”Ÿäº§åŠ›ï¼</p><span id="more"></span><h2 id="ç‰ˆæœ¬ç®¡ç†"><a href="#ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="ç‰ˆæœ¬ç®¡ç†"></a>ç‰ˆæœ¬ç®¡ç†</h2><p><img src="/images/Screen%20Shot%202017-11-08%20at%2018.17.59.png" alt="Screen Shot 2017-11-08 at 18.17.59"><br>ç‰ˆæœ¬ç®¡ç†ï¼Œä¸»è¦æ˜¯ä¾é è¿™ä¸¤ä¸ªæŒ‰é’®ï¼Œå·¦è¾¹æ˜¯pullï¼Œå³è¾¹æ˜¯commitã€‚ä¸€èˆ¬æˆ‘ä»¬å¼€å‘ï¼Œæ‰“å¼€é¡¹ç›®ï¼Œå…ˆpullä¸‹ä»£ç ä»“åº“çš„å˜æ›´ï¼Œå¼€å§‹å¼€å‘ï¼Œç„¶åcommitï¼Œå†pullï¼Œåˆå¹¶å†²çªï¼Œå†pushã€‚<br><img src="/images/Screen%20Shot%202017-11-08%20at%2018.21.55.png" alt="Screen Shot 2017-11-08 at 18.21.55"><br>pycharméå¸¸äººæ€§åŒ–åœ°ä¸ºæˆ‘ä»¬æ ‡å‡ºäº†ï¼Œé»‘è‰²åˆ™æ˜¯æ²¡æœ‰å˜æ›´ï¼Œè“è‰²æ˜¯æœ‰å˜æ›´ï¼Œç»¿è‰²æ˜¯æ–°addçš„æ–‡ä»¶ã€‚<br><img src="/images/Screen%20Shot%202017-11-08%20at%2018.23.21.png" alt="Screen Shot 2017-11-08 at 18.23.21"><br>commitæ—¶ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°çœ‹å‡ºå˜æ›´å¯¹æ¯”ï¼Œå¯¹äºéœ€è¦å›æ»šçš„é›¶æ—¶æ“ä½œæ–‡ä»¶å¯ä»¥ç”¨ç´«è‰²çš„revertæŒ‰é’®å›é€€å˜æ›´ï¼Œæ€»ä¹‹å¡«å†™commit messageä¹‹åå°±å¯ä»¥commitäº†ã€‚<br>ç„¶åï¼Œä¸ºé˜²æ­¢åœ¨æ­¤æœŸé—´ï¼Œä»£ç ä»“åº“åˆæœ‰äººpushäº†æ–°å˜æ›´ï¼Œåœ¨pushä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡pullï¼Œå¦‚æœæ²¡æœ‰å˜æ›´ï¼Œpushå³å¯ã€‚<br><img src="/images/Screen%20Shot%202017-11-08%20at%2018.26.24.png" alt="Screen Shot 2017-11-08 at 18.26.24"><br>å¦‚æœæœ‰å†²çªå‘¢ï¼Œpycharmæœ‰éå¸¸humançš„è§£å†³å†²çªç•Œé¢ï¼Œ<br><img src="/images/15101368989889.jpg"><br>æ€»ä¹‹ï¼Œé€‰æ‹©ä¿®æ”¹çš„ã€ä¸¢å¼ƒçš„ã€ä¿ç•™çš„ï¼Œå°±å¯ä»¥pushäº†ï¼Œå½“ç„¶ï¼Œè¿™æ¬¡pushä¼šæœ‰ä¸¤æ¡messageï¼Œç¬¬äºŒæ¡æ˜¯è§£å†³å†²çªçš„ã€‚</p><h2 id="è¿œç¨‹è°ƒè¯•"><a href="#è¿œç¨‹è°ƒè¯•" class="headerlink" title="è¿œç¨‹è°ƒè¯•"></a>è¿œç¨‹è°ƒè¯•</h2><p>åˆ©ç”¨pycharmæˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡å™¨ç›´æ¥runã€debugï¼Œéå¸¸çš„ä¾¿æ·ã€‚<br>é¦–å…ˆè¦è®¾ç½®deploymentï¼Œ<br><img src="/images/Screen%20Shot%202017-11-08%20at%2018.31.20.png" alt="Screen Shot 2017-11-08 at 18.31.20"><br>é€‰æ‹©SFTPï¼Œä¹Ÿå°±æ˜¯sshï¼Œè¿™é‡Œç”¨å¯†ç æˆ–è€…ç§é’¥éƒ½æ˜¯okçš„ã€‚è®¾ç½®å¥½æ˜ å°„ç›®å½•ï¼Œ<br><img src="/images/Screen%20Shot%202017-11-08%20at%2018.31.56.png" alt="Screen Shot 2017-11-08 at 18.31.56"><br>æ¥ä¸‹æ¥æ·»åŠ è¿œç¨‹è§£é‡Šå™¨ï¼Œ<br><img src="/images/Screen%20Shot%202017-11-08%20at%2018.33.05.png" alt="Screen Shot 2017-11-08 at 18.33.05"><br>ï¼Œå¹¶å‹¾é€‰auto uploadï¼Œ<br><img src="/images/Screen%20Shot%202017-11-08%20at%2018.33.46.png" alt="Screen Shot 2017-11-08 at 18.33.46"><br>é‚£ä¹ˆï¼Œæ¯æ¬¡æœ¬åœ°çš„æ›´æ”¹éƒ½ä¼šåŒæ­¥åˆ°æœåŠ¡å™¨ï¼Œç›´æ¥runæˆ–è€…debugéƒ½æ˜¯è·å–æœåŠ¡å™¨çš„ç»“æœï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="DEBUG"><a href="#DEBUG" class="headerlink" title="DEBUG"></a>DEBUG</h2><p>DEBUGå¯è°“æ˜¯å¼€å‘ä¸­æœ€æœ€é‡è¦çš„æŠ€èƒ½äº†ï¼Œä¹Ÿè®¸æˆ‘ä»¬åœ¨åˆçº§çš„å¼€å‘çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥ä¾é å„ç§printå˜é‡æ¥æŸ¥çœ‹ï¼Œé‚£ä¹ˆå·¥ç¨‹ä¸€æ—¦å˜å¤æ‚ï¼Œdebugå°±å¿…ä¸å¯å°‘äº†ï¼Œï¼›ä¸¾ä¸ªæ —å­ï¼Œæˆ‘ä»¬ç”¨TensorFlowå†™æ·±åº¦å­¦ä¹ å·¥ç¨‹çš„æ—¶å€™ï¼Œå¦‚æœå‡ºç°çŸ©é˜µç»´åº¦ä¸åŒ¹é…çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™ç”¨debugå»è§‚å¯Ÿå„ä¸ªç»´åº¦å°±ç›¸å½“é«˜æ•ˆäº†ã€‚<br>ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œæˆ‘ä»¬åšdebugï¼Œå½“ç„¶å…ˆè¦åœ¨æˆ‘ä»¬å¸Œæœ›è§‚å¯Ÿçš„ä»£ç å¤„æ‰“æ–­ç‚¹ï¼ˆBreak Pointï¼‰ï¼Œå°±æ˜¯å·¦è¾¹çš„çº¢è‰²å°ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ–­ç‚¹debugåœä¸‹æ¥çš„åœ°æ–¹ã€‚æ¥ä¸‹æ¥å°±æ˜¯debugæŒ‰é’®äº†ï¼Œä¹Ÿå°±æ˜¯çº¢æ¡†å†…çš„è¿™äº›ç®­å¤´ï¼Œä¾æ¬¡æ˜¯</p><ul><li>Step Over ç›´æ¥ä»å½“å‰æ–­ç‚¹æ­¥è¿›åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°ä¸­é—´çš„ä»»ä½•è°ƒç”¨ï¼Œç›´æ¥è·³è¿‡</li><li>Step Intoï¼Œä»å½“å‰æ–­ç‚¹ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨éƒ½è¿›å…¥ï¼Œå¦‚æœè°ƒç”¨æ¯”è¾ƒå¤šï¼Œå¯èƒ½å¾ˆç¹å› ä¸ºä¼šä¸€æ­¥æ­¥æ·±å…¥</li><li>Step Into Mycodeï¼Œç®€å•æ˜äº†ï¼Œä¸€è¡Œä¸€è¡Œçš„æ­¥è¿›ï¼Œä¸è·³è½¬åˆ°è°ƒç”¨</li><li>Force Step Intoï¼Œå¼ºåˆ¶æ­¥è¿›è¿›å…¥</li><li>Step Out è·³å‡ºå½“å‰è°ƒç”¨ï¼Œå’ŒStep Intoç»“åˆï¼Œä¸€ä¸ªè¿›å…¥ã€ä¸€ä¸ªè·³å‡º</li><li>Run to Cursor ä¸éœ€æ‰“æ–­ç‚¹ï¼Œç›´æ¥æ­¥è¿›åˆ°å…‰æ ‡æ‰€åœ¨å¤„ï¼Œè¿™ä¸ªä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€æŠŠå…‰æ ‡æ”¾åœ¨æŸå¤„ç‚¹å‡»å³å¯<br><img src="/images/Screen%20Shot%202017-11-09%20at%2015.49.12.png" alt="Screen Shot 2017-11-09 at 15.49.12"><br>æ­¤å¤„ç±»ä¼¼å †æ ˆï¼Œåé¢è°ƒç”¨çš„è¿›ç¨‹åœ¨ä¸Šé¢ã€‚<br><img src="/images/Screen%20Shot%202017-11-09%20at%2016.19.42.png" alt="Screen Shot 2017-11-09 at 16.19.42"><br>å½“ç„¶ï¼Œæœ€ä¸»è¦çš„ï¼Œä¸Šé¢è¿™äº›æ­¥éª¤æŒ‰é’®çš„æœ€ç»ˆç›®çš„å°±æ˜¯è§‚å¯ŸVariableçš„å˜åŒ–ï¼Œé€šè¿‡æ­¥è¿›è§‚å¯Ÿå„ä¸ªå˜é‡çš„ä¿¡æ¯ï¼Œä»¥æ‰¾å‡ºbugç­‰ç­‰ã€‚<br><img src="/images/Screen%20Shot%202017-11-09%20at%2016.21.15.png" alt="Screen Shot 2017-11-09 at 16.21.15"></li></ul><h2 id="Python-Console"><a href="#Python-Console" class="headerlink" title="Python Console"></a>Python Console</h2><p>ç›¸æ¯”iPythonä¸Notebookï¼ŒPycharmè‡ªå¸¦çš„Python Consoleæœ‰å…¶ç‹¬åˆ°çš„ä¼˜åŠ¿ï¼Œæ¯”å¦‚Special Variablesä¸Code History ï¼Œå¦‚å›¾ï¼Œåˆ†åˆ«ç”¨ä¸€ä¸ªä¸¤ä¸ªä¸‰ä¸ªä¸‹åˆ’çº¿ä»£è¡¨ä¸Šä¸€æ¬¡ä¸Šä¸¤æ¬¡ä¸Šä¸‰æ¬¡çš„å˜é‡ï¼Œåœ¨è¿™é‡Œå¯ä»¥ç›´æ¥åƒdebugä¸€æ ·æŸ¥çœ‹å„ä¸ªå˜é‡çš„å€¼ï¼›Code Historyåˆ™æ˜¯ä½¿ç”¨æˆ·æ–¹ä¾¿åœ°ä½¿ç”¨ä¹‹å‰çš„ä»£ç ã€‚<br><img src="/images/Screen%20Shot%202017-11-09%20at%2015.23.52.png" alt="Screen Shot 2017-11-09 at 15.23.52"></p><h2 id="run-file-in-console"><a href="#run-file-in-console" class="headerlink" title="run file in console"></a>run file in console</h2><p><img src="/images/15240386105863.jpg"></p><p>å³é”®çš„run file in consoleéå¸¸æœ‰ç”¨ï¼Œä¹‹åæˆ‘ä»¬å¯ä»¥åœ¨å˜é‡ä¸­ç›´æ¥è§‚å¯Ÿï¼Œç”šè‡³åœ¨å·¦ä¾§ç›´æ¥è°ƒç”¨è®¡ç®—ã€‚</p><p><img src="/images/15240387558710.jpg"></p><h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><h3 id="è°ƒæ•´ä»£ç è¡Œæ¬¡åº"><a href="#è°ƒæ•´ä»£ç è¡Œæ¬¡åº" class="headerlink" title="è°ƒæ•´ä»£ç è¡Œæ¬¡åº"></a>è°ƒæ•´ä»£ç è¡Œæ¬¡åº</h3><p>Command + Shift + â¬†ï¸/â¬‡ï¸<br>æœ‰æ—¶æˆ‘ä»¬éœ€è¦è°ƒæ•´ä¸¤è¡Œä»£ç çš„ä¸Šä¸‹æ¬¡åºï¼Œé‚£ä¹ˆç”¨å‰ªåˆ‡ã€ç²˜è´´çš„æ–¹æ³•ä¸å¦‚è¿™ä¸ªæ–¹æ³•ç®€æ´è‡ªç„¶ã€‚</p><h3 id="æŸ¥çœ‹æºç åŠè·³è½¬"><a href="#æŸ¥çœ‹æºç åŠè·³è½¬" class="headerlink" title="æŸ¥çœ‹æºç åŠè·³è½¬"></a>æŸ¥çœ‹æºç åŠè·³è½¬</h3><p>æ‘ä½Commandé”®å»ç‚¹å‡»å³å¯è·³è½¬åˆ°æºç å¤„ï¼Œè€ŒæŸ¥çœ‹æºç æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡Command + [/]æ¥æ–¹ä¾¿çš„å‰è¿›æˆ–åé€€ã€‚</p><h3 id="æ‰¹é‡å±•å¼€æ”¶ç¼©ä»£ç "><a href="#æ‰¹é‡å±•å¼€æ”¶ç¼©ä»£ç " class="headerlink" title="æ‰¹é‡å±•å¼€æ”¶ç¼©ä»£ç "></a>æ‰¹é‡å±•å¼€æ”¶ç¼©ä»£ç </h3><p>Command + Shift +/-</p><p>å½“é¡¹ç›®å†™åˆ°ä¸€å®šè§„æ¨¡çš„æ—¶å€™ï¼Œéš¾å…æ–¹æ³•/å‡½æ•°ä¼šå¾ˆå¤šï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤æ¥æ”¶ç¼©ä»£ç ï¼Œè¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ã€‚</p><h3 id="å¿«é€Ÿæ’å…¥å¸¸ç”¨ä»£ç "><a href="#å¿«é€Ÿæ’å…¥å¸¸ç”¨ä»£ç " class="headerlink" title="å¿«é€Ÿæ’å…¥å¸¸ç”¨ä»£ç "></a>å¿«é€Ÿæ’å…¥å¸¸ç”¨ä»£ç </h3><p>Command + J æ˜¯å¼¹å‡ºæ’å…¥å¸¸ç”¨ä»£ç å—çš„å¿«æ·é”®ï¼Œæ¯”å¦‚Dict/List/Set çš„comprehensionéƒ½æœ‰ï¼Œä¹‹å‰æˆ‘åªä¼šâ€˜mainâ€™ç„¶åè·³å‡º<code>if __name__ == &#39;__main__&#39;:</code>ğŸ˜œ</p><p><img src="/images/2017/06/05.png"></p><h3 id="ä¸€é”®-PEP8"><a href="#ä¸€é”®-PEP8" class="headerlink" title="ä¸€é”® PEP8"></a>ä¸€é”® PEP8</h3><p>å…¶å®åœ¨äº†è§£è¿™ä¸ªtipsä¹‹å‰æˆ‘éƒ½æ˜¯ç‚¹å‡»å‡½æ•°åï¼Œç­‰å¾…ä¸€ä¸ªé»„è‰²çš„å°ç¯æ³¡å†å»ç‚¹å‡»ç¯æ³¡ã€‚ã€‚ã€‚å…¶å®åªéœ€è¦<code>Command+Option+L</code>å³å¯ï¼</p><h3 id="cheat-sheet"><a href="#cheat-sheet" class="headerlink" title="cheat sheet"></a>cheat sheet</h3><p>é¡ºä¾¿æ›´æ–°ä¸¤å¼ cheat sheet</p><p><img src="/images/2017/06/06.png"><br><img src="/images/2017/06/07.png"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Pycharm/">Pycharm</category>
      
      
      <comments>http://example.com/2017/11/08/pycharm-pro/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Go è¯­è¨€æ“ä½œä¸æ‰«æ Hbase å®ä¾‹</title>
      <link>http://example.com/2017/11/08/go-hbase/</link>
      <guid>http://example.com/2017/11/08/go-hbase/</guid>
      <pubDate>Wed, 08 Nov 2017 03:10:21 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15101107329028.jpg&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/15101107462857.jpg&quot;&gt;&lt;br&gt;è®°å½•çº¯goè¯­è¨€çš„gohbaseå®¢æˆ·ç«¯çš„æ‰«ææ“ä½œã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15101107329028.jpg"><br><img src="/images/15101107462857.jpg"><br>è®°å½•çº¯goè¯­è¨€çš„gohbaseå®¢æˆ·ç«¯çš„æ‰«ææ“ä½œã€‚</p><span id="more"></span><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;github.com/tsuna/gohbase&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/tsuna/gohbase/hrpc&quot;</span></span><br><span class="line"><span class="string">&quot;context&quot;</span></span><br><span class="line"><span class="string">&quot;io&quot;</span></span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;github.com/tsuna/gohbase/filter&quot;</span></span><br><span class="line"><span class="string">&quot;strconv&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> table = <span class="string">&quot;user&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">beforeMiniTimeStamps</span><span class="params">(beforeMini <span class="keyword">int</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"><span class="comment">//å½“å‰æ—¶åˆ»æŸåˆ†é’Ÿä¹‹å‰çš„æ—¶é—´æˆ³</span></span><br><span class="line"><span class="keyword">return</span> strconv.Itoa(<span class="keyword">int</span>(time.Now().Add(- time.Duration(beforeMini) * time.Minute).UnixNano() / <span class="number">1000000</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fetch</span><span class="params">()</span> []*<span class="title">hrpc</span>.<span class="title">Result</span></span> &#123;</span><br><span class="line">client := gohbase.NewClient(<span class="string">&quot;hmaster.shise.com,rm.shise.com,nn.shise.com&quot;</span>)</span><br><span class="line"><span class="comment">//client := gohbase.NewClient(&quot;wwj.shise.com,czn.shise.com,czn.shise.com&quot;)</span></span><br><span class="line"><span class="comment">// åˆ—æ—</span></span><br><span class="line">family := hrpc.Families(<span class="keyword">map</span>[<span class="keyword">string</span>][]<span class="keyword">string</span>&#123;<span class="string">&quot;c&quot;</span>: <span class="literal">nil</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€hbase filteræ—¶é—´é—´éš”</span></span><br><span class="line"><span class="comment">//timeRange := hrpc.TimeRange(time.Now().Add(- time.Duration(minute)*time.Minute), time.Now())</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸåˆ—valueçš„filter</span></span><br><span class="line">notRecommendFilter := filter.NewSingleColumnValueFilter([]<span class="keyword">byte</span>(<span class="string">&quot;c&quot;</span>),</span><br><span class="line">[]<span class="keyword">byte</span>(<span class="string">&quot;notRecommend&quot;</span>),</span><br><span class="line">filter.NotEqual,</span><br><span class="line">filter.NewBinaryComparator(filter.NewByteArrayComparable([]<span class="keyword">byte</span>(<span class="string">&quot;true&quot;</span>))),</span><br><span class="line"><span class="literal">true</span>,</span><br><span class="line"><span class="literal">true</span>)</span><br><span class="line">violationFilter := filter.NewSingleColumnValueFilter([]<span class="keyword">byte</span>(<span class="string">&quot;c&quot;</span>),</span><br><span class="line">[]<span class="keyword">byte</span>(<span class="string">&quot;violation&quot;</span>),</span><br><span class="line">filter.NotEqual,</span><br><span class="line">filter.NewBinaryComparator(filter.NewByteArrayComparable([]<span class="keyword">byte</span>(<span class="string">&quot;true&quot;</span>))),</span><br><span class="line"><span class="literal">true</span>,</span><br><span class="line"><span class="literal">true</span>)</span><br><span class="line"><span class="comment">//filteræŸåˆ—valueçš„æ—¶é—´æˆ³</span></span><br><span class="line">timeStartFilter := filter.NewSingleColumnValueFilter([]<span class="keyword">byte</span>(<span class="string">&quot;c&quot;</span>),</span><br><span class="line">[]<span class="keyword">byte</span>(<span class="string">&quot;createDate&quot;</span>),</span><br><span class="line">filter.Greater,</span><br><span class="line">filter.NewBinaryComparator(filter.NewByteArrayComparable([]<span class="keyword">byte</span>(beforeMiniTimeStamps(<span class="number">4</span>*<span class="number">60</span>)))),</span><br><span class="line"><span class="literal">true</span>,</span><br><span class="line"><span class="literal">true</span>)</span><br><span class="line">timeEndFilter := filter.NewSingleColumnValueFilter([]<span class="keyword">byte</span>(<span class="string">&quot;c&quot;</span>),</span><br><span class="line">[]<span class="keyword">byte</span>(<span class="string">&quot;createDate&quot;</span>),</span><br><span class="line">filter.Less,</span><br><span class="line">filter.NewBinaryComparator(filter.NewByteArrayComparable([]<span class="keyword">byte</span>(beforeMiniTimeStamps(<span class="number">2</span>*<span class="number">60</span>)))),</span><br><span class="line"><span class="literal">true</span>,</span><br><span class="line"><span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//filter åˆ—è¡¨</span></span><br><span class="line">filters := filter.NewList(filter.MustPassAll, notRecommendFilter, violationFilter, timeStartFilter, timeEndFilter)</span><br><span class="line"><span class="comment">//åˆ›å»ºscanå¯¹è±¡</span></span><br><span class="line">scan, _ := hrpc.NewScanStr(context.Background(), table, family, hrpc.Filters(filters))</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rsp []*hrpc.Result</span><br><span class="line">scanner := client.Scan(scan)</span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">res, err := scanner.Next()</span><br><span class="line"><span class="keyword">if</span> err == io.EOF &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="built_in">print</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> hasHeadImage(res) &#123;</span><br><span class="line">rsp = <span class="built_in">append</span>(rsp, res)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> rsp</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasHeadImage</span><span class="params">(res *hrpc.Result)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">rsp := fetch()</span><br><span class="line"><span class="keyword">for</span> _, item := <span class="keyword">range</span> rsp &#123;</span><br><span class="line">fmt.Println(*item)</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="built_in">len</span>(rsp))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Go/">Go</category>
      
      <category domain="http://example.com/tags/Hbase/">Hbase</category>
      
      
      <comments>http://example.com/2017/11/08/go-hbase/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Ubuntu16.04 å®‰è£…IKEV2 VPN å¹¶åœ¨Macä¸Šä½¿ç”¨ä»¥è§£å†³Google Drive åŒæ­¥é—®é¢˜</title>
      <link>http://example.com/2017/11/01/Google-Drive-Sync/</link>
      <guid>http://example.com/2017/11/01/Google-Drive-Sync/</guid>
      <pubDate>Wed, 01 Nov 2017 01:56:43 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15095018008987.jpg&quot;&gt;&lt;br&gt;&lt;img src=&quot;/images/15095018930547.jpg&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15095018008987.jpg"><br><img src="/images/15095018930547.jpg"></p><span id="more"></span><p>Google Driveæ— æ³•è¯†åˆ«shadowsocksæ‰€ç”¨çš„socks5ä»£ç†ï¼Œæ•…è¿™è¾¹æœ‰éœ€æ±‚åœ¨VPSä¸Šéƒ¨ç½²httpä»£ç†çš„VPNã€‚</p><h2 id="æœåŠ¡ç«¯å®‰è£…è¯´æ˜"><a href="#æœåŠ¡ç«¯å®‰è£…è¯´æ˜" class="headerlink" title="æœåŠ¡ç«¯å®‰è£…è¯´æ˜"></a>æœåŠ¡ç«¯å®‰è£…è¯´æ˜</h2><ul><li>ä¸‹è½½è„šæœ¬:   <code>wget --no-check-certificate https://raw.githubusercontent.com/quericy/one-key-ikev2-vpn/master/one-key-ikev2.sh</code></li><li>è¿è¡Œè„šæœ¬ï¼š  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x one-key-ikev2.sh</span><br><span class="line">bash one-key-ikev2.sh</span><br></pre></td></tr></table></figure></li><li>ç­‰å¾…è‡ªåŠ¨é…ç½®éƒ¨åˆ†å†…å®¹åï¼Œé€‰æ‹©vpsç±»å‹ï¼ˆOpenVZè¿˜æ˜¯Xenã€KVMï¼‰ï¼Œé€‰é”™å°†æ— æ³•æˆåŠŸè¿æ¥ï¼Œè¯·åŠ¡å¿…æ ¸å®æœåŠ¡å™¨çš„ç±»å‹ã€‚è¾“å…¥æœåŠ¡å™¨ipæˆ–è€…ç»‘å®šçš„åŸŸå(è¿æ¥vpnæ—¶æœåŠ¡å™¨åœ°å€å°†éœ€è¦ä¸æ­¤ä¿æŒä¸€è‡´,å¦‚æœæ˜¯å¯¼å…¥æ³›åŸŸåè¯ä¹¦è¿™é‡Œéœ€è¦å†™*.åŸŸåçš„å½¢å¼),è¿™é‡Œæ¨èç›´æ¥è¾“å…¥åŸŸåã€‚</li><li>é€‰æ‹©ä½¿ç”¨ä½¿ç”¨è¯ä¹¦é¢å‘æœºæ„ç­¾å‘çš„SSLè¯ä¹¦è¿˜æ˜¯ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©è‡ªç­¾åå³é€‰æ‹©noï¼šâ€˜â€™<ul><li>å¦‚æœé€‰æ‹©no,ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼ˆå®¢æˆ·ç«¯å¦‚æœä½¿ç”¨IkeV2æ–¹å¼è¿æ¥ï¼Œå°†éœ€è¦å¯¼å…¥ç”Ÿæˆçš„è¯ä¹¦å¹¶ä¿¡ä»»ï¼‰åˆ™éœ€è¦å¡«å†™è¯ä¹¦çš„ç›¸å…³ä¿¡æ¯(C,O,CN)ï¼Œä¸ºç©ºå°†ä½¿ç”¨é»˜è®¤å€¼(default value)ï¼Œç¡®è®¤æ— è¯¯åæŒ‰ä»»æ„é”®ç»§ç»­,åç»­å®‰è£…è¿‡ç¨‹ä¸­ä¼šå‡ºç°è¾“å…¥ä¸¤æ¬¡pkcs12è¯ä¹¦çš„å¯†ç çš„æç¤º(å¯ä»¥è®¾ç½®ä¸ºç©º)    </li></ul></li><li>æ¥ä¸‹æ¥ä¸€ç›´ç©ºæ ¼å³å¯ã€‚</li><li>çœ‹åˆ°install Completeå­—æ ·å³è¡¨ç¤ºå®‰è£…å®Œæˆã€‚é»˜è®¤ç”¨æˆ·åå¯†ç å°†ä»¥é»„å­—æ˜¾ç¤ºï¼Œå¯æ ¹æ®æç¤ºè‡ªè¡Œä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ç”¨æˆ·åå¯†ç ,å¤šç”¨æˆ·åˆ™åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‰æ ¼å¼ä¸€è¡Œä¸€ä¸ª(å¤šç”¨æˆ·æ—¶ç”¨æˆ·åä¸èƒ½ä½¿ç”¨%any),ä¿å­˜å¹¶é‡å¯æœåŠ¡ç”Ÿæ•ˆã€‚</li><li>å°†æç¤ºä¿¡æ¯ä¸­çš„è¯ä¹¦æ–‡ä»¶ca.cert.pemæ‹·è´åˆ°å®¢æˆ·ç«¯ï¼Œä¿®æ”¹åç¼€åä¸º.ceråå¯¼å…¥ã€‚iosè®¾å¤‡ä½¿ç”¨Ikev1æ— éœ€å¯¼å…¥è¯ä¹¦ï¼Œè€Œæ˜¯éœ€è¦åœ¨è¿æ¥æ—¶è¾“å…¥å…±äº«å¯†é’¥ï¼Œå…±äº«å¯†é’¥å³æ˜¯æç¤ºä¿¡æ¯ä¸­çš„é»„å­—PSK.<ul><li>  <img src="/images/15095022245212.jpg"><h2 id="å®¢æˆ·ç«¯é…ç½®è¯´æ˜"><a href="#å®¢æˆ·ç«¯é…ç½®è¯´æ˜" class="headerlink" title="å®¢æˆ·ç«¯é…ç½®è¯´æ˜"></a>å®¢æˆ·ç«¯é…ç½®è¯´æ˜</h2></li></ul></li><li>iOS/OSX/Windows7+/WindowsPhone8.1+/Linux å‡å¯ä½¿ç”¨IkeV2,è®¤è¯æ–¹å¼ä¸ºç”¨æˆ·å+å¯†ç ã€‚ä½¿ç”¨SSLè¯ä¹¦åˆ™æ— éœ€å¯¼å…¥è¯ä¹¦ï¼›ä½¿ç”¨è‡ªç­¾åè¯ä¹¦åˆ™éœ€è¦å…ˆå¯¼å…¥è¯ä¹¦æ‰èƒ½è¿æ¥,å¯å°†ca.cert.pemæ›´æ”¹åç¼€åä½œä¸ºé‚®ä»¶é™„ä»¶å‘é€ç»™å®¢æˆ·ç«¯,æ‰‹æœºç«¯ä¹Ÿå¯é€šè¿‡æµè§ˆå™¨å¯¼å…¥,å…¶ä¸­:<ul><li>iOS/OSX çš„è¿œç¨‹IDå’ŒæœåŠ¡å™¨åœ°å€ä¿æŒä¸€è‡´,ç”¨æˆ·é‰´å®šé€‰æ‹©â€ç”¨æˆ·åâ€.å¦‚æœé€šè¿‡æµè§ˆå™¨å¯¼å…¥,å°†è¯ä¹¦æ”¾åœ¨å¯è®¿é—®çš„è¿œç¨‹å¤–é“¾ä¸Š,å¹¶åœ¨ç³»ç»Ÿæµè§ˆå™¨(Safari)ä¸­è®¿é—®å¤–é“¾åœ°å€;</li></ul></li><li>æ³¨æ„OSXå¯¼å…¥åéœ€è¦åœ¨é’¥åŒ™ä¸²å†…è®¾ç½®ä¿¡ä»»ï¼Œå¦‚ï¼š<ul><li><img src="/images/15095023464796.png"></li></ul></li><li>è®¾ç½®è¿æ¥æˆåŠŸåGoogle Driveå°±ä¼šè¿æ¥æˆåŠŸå¼€å§‹åŒæ­¥<br>ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜<ul><li><img src="/images/Screen%20Shot%202017-11-01%20at%2010.13.03.png" alt="Screen Shot 2017-11-01 at 10.13.03"></li></ul></li></ul><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="https://quericy.me/blog/699/">CentOS/Ubuntuä¸€é”®å®‰è£…IPSEC/IKEV2 VPNæœåŠ¡å™¨ | Quericy Eden*</a></li><li><a href="https://github.com/quericy/one-key-ikev2-vpn/issues/58">å®‰è£…å®Œæˆåï¼Œmacä¸èƒ½è¿æ¥ Â· Issue #58 Â· quericy/one-key-ikev2-vpn</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/VPN/">VPN</category>
      
      
      <comments>http://example.com/2017/11/01/Google-Drive-Sync/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Install Opencv3.2 on Ununtu 16.04</title>
      <link>http://example.com/2017/10/25/Install-Opencv3-2-on-Ununtu-16-04/</link>
      <guid>http://example.com/2017/10/25/Install-Opencv3-2-on-Ununtu-16-04/</guid>
      <pubDate>Wed, 25 Oct 2017 04:34:28 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15101928106001.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;Opencv3.2 åœ¨ Ununtu 16.04 ä¸Šçš„ç¼–è¯‘å®‰è£…&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15101928106001.jpg"></p><p>Opencv3.2 åœ¨ Ununtu 16.04 ä¸Šçš„ç¼–è¯‘å®‰è£…</p><span id="more"></span><p>å‚è€ƒè‡ª<a href="http://blog.topspeedsnail.com/archives/4755">Ubuntu 16.04ç¼–è¯‘å®‰è£…OpenCVï¼ˆPythonï¼‰ â€“ WTF Daily Blog</a>ï¼Œä¸è¿‡è¿™ä½åšä¸»è£…çš„æ˜¯3.1ç‰ˆæœ¬ï¼Œè€Œä¸”æœ‰äº›é—®é¢˜ã€‚</p><h2 id="å®‰è£…OpenCVä¾èµ–"><a href="#å®‰è£…OpenCVä¾èµ–" class="headerlink" title="å®‰è£…OpenCVä¾èµ–"></a>å®‰è£…OpenCVä¾èµ–</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br><span class="line">sudo apt-get install build-essential cmake pkg-config</span><br><span class="line"> sudo apt-get install libjpeg8-dev libtiff5-dev libjasper-dev libpng12-dev</span><br><span class="line"> sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev</span><br><span class="line"> sudo apt-get install libxvidcore-dev libx264-dev</span><br><span class="line">sudo apt-get install libgtk-3-dev</span><br><span class="line">sudo apt-get install libatlas-base-dev gfortran</span><br><span class="line">sudo apt-get install python2.7-dev python3.5-dev</span><br></pre></td></tr></table></figure><h2 id="ä¸‹è½½OpenCVæºç "><a href="#ä¸‹è½½OpenCVæºç " class="headerlink" title="ä¸‹è½½OpenCVæºç "></a>ä¸‹è½½OpenCVæºç </h2><p>è¿™é‡Œä¸‹è½½ 3.2.0</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~</span><br><span class="line">$ wget -O opencv.zip https://github.com/Itseez/opencv/archive/3.2.0.zip</span><br><span class="line">$ unzip opencv.zip</span><br></pre></td></tr></table></figure><p>ä¸‹è½½å’ŒOpenCVç‰ˆæœ¬å¯¹åº”çš„opencv_contribï¼ˆä¸€äº›æ‰©å±•åŠŸèƒ½å’Œnon-freeä»£ç ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wget -O opencv_contrib.zip https://github.com/Itseez/opencv_contrib/archive/3.2.0.zip</span><br><span class="line">$ unzip opencv_contrib.zip</span><br></pre></td></tr></table></figure><h2 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/opencv-3.2.0/</span><br><span class="line">$ mkdir build</span><br><span class="line">$ <span class="built_in">cd</span> build</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cmake -D CMAKE_BUILD_TYPE=RELEASE \</span><br><span class="line">Â Â Â Â -D CMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span> \</span><br><span class="line">Â Â Â Â -D INSTALL_PYTHON_EXAMPLES=ON \</span><br><span class="line">Â Â Â Â -D INSTALL_C_EXAMPLES=OFF \</span><br><span class="line">Â Â Â Â -D OPENCV_EXTRA_MODULES_PATH=/root/Downloads/opencv_contrib-3.2.0/modules  -D PYTHON_EXECUTABLE=/root/miniconda3/bin/python  .. </span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>OPENCV_EXTRA_MODULES_PATH</code>æ˜¯opencv_contribçš„è§£å‹åçš„åœ°å€ï¼Œ<code>PYTHON_EXECUTABLE</code>æ˜¯# ä½ çš„python è§£é‡Šå™¨åœ°å€ å¯ç”¨<code>witch python</code> æŸ¥çœ‹ã€‚<br>è‹¥å‡ºç°ï¼Œéœ€è¦ä¸‹è½½<code>ippicv_linux_20151201.tgz</code>çš„é•¿æ—¶é—´ç­‰å¾…ï¼Œå¯åœ¨æ­¤<a href="https://github.com/opencv/opencv_3rdparty/tree/ippicv/master_20151201/ippicv">opencv_3rdparty/ippicv at ippicv/master_20151201 Â· opencv/opencv_3rdparty</a>æ‰‹åŠ¨ä¸‹è½½å¯¹åº”æ–‡ä»¶ï¼Œå¹¶æ”¾åœ¨å¯¹åº”ä½ç½®å¦‚Put the ippicv_linuxâ€¦tgz under<br>&lt;â€¦&gt;/opencv-3.2.0/3rdparty/ippicv/downloads/linux-808b791a6eac9ed78d32a7666804320e/ï¼Œ å‚è€ƒè‡ª<a href="https://github.com/opencv/opencv/issues/5973">incorrect hash in cmake ippicv when installing Â· Issue #5973 Â· opencv/opencv</a>ã€‚</p><p>ç¼–è¯‘ï¼š</p><p><code>$ make</code></p><p>å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo make install</span><br><span class="line">$ sudo ldconfig</span><br></pre></td></tr></table></figure><p>å†<code>pip install opencv</code>å³å¯ğŸ˜</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/10/25/Install-Opencv3-2-on-Ununtu-16-04/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>git notes in action | ç”Ÿäº§ç¯å¢ƒå„åœºæ™¯ä¸‹gitå¸¸ç”¨å‘½ä»¤</title>
      <link>http://example.com/2017/10/21/git-notes-in-action/</link>
      <guid>http://example.com/2017/10/21/git-notes-in-action/</guid>
      <pubDate>Sat, 21 Oct 2017 06:03:47 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15085663573989.jpg&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15085663573989.jpg"></p><span id="more"></span><ol><li>æ›´æ”¹è¿œç¨‹é“¾æ¥ <a href="https://help.github.com/articles/changing-a-remote-s-url/">Changing a remoteâ€™s URL - User Documentation</a></li><li> redo addå•æ–‡ä»¶æ“ä½œ <a href="http://data.agaric.com/undo-git-add-remove-files-staged-git-commit">Undo a git add - remove files staged for a git commit | Open Data</a> </li><li>ç§»é™¤æ‰€æœ‰å·²ç»addçš„æ–‡ä»¶ï¼Œåœºæ™¯ä¾‹å¦‚ä½ åˆšåˆšaddäº†allï¼Œæ‰å‘ç°æœ‰è®¸å¤šæ˜¯å¯ä»¥ignoreçš„ï¼Œé‚£ä¹ˆå°±è¿è¡Œ<code>git rm --cached -r .</code>ç§»é™¤ä¹Ÿå°±æ˜¯æ’¤å›åˆšåˆšaddçš„æ‰€æœ‰æ–‡ä»¶ï¼Œå†å»ç®¡ç†ignoreï¼Œå†addå°±å¥½äº†ã€‚</li><li>revertå½“å‰æ–‡ä»¶å˜æ›´ï¼Œåœºæ™¯ä¾‹å¦‚æ¯”å¦‚ä½ ä¸Šä¼ æœ¬åœ°çš„ä¸€ä¸ªconfigä¸ŠæœåŠ¡å™¨è°ƒè¯•ï¼Œè°ƒè¯•ç»“æŸï¼Œéœ€è¦å°†è¿™ä¸ªæ–‡ä»¶å›æ»šå˜æ›´ï¼Œé‚£ä¹ˆ<code>git checkout -- &lt;file-you-want-revert&gt;</code>å³å¯ã€‚</li></ol>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/git/">git</category>
      
      
      <comments>http://example.com/2017/10/21/git-notes-in-action/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>æœåŠ¡å™¨è´Ÿè½½GUI ç¥å™¨sargraph çš„å®‰è£…</title>
      <link>http://example.com/2017/10/11/sargraph-install/</link>
      <guid>http://example.com/2017/10/11/sargraph-install/</guid>
      <pubDate>Wed, 11 Oct 2017 03:40:21 GMT</pubDate>
      
      <description>&lt;p&gt;é€šè¿‡Linux çš„&lt;code&gt;sar&lt;/code&gt;å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“çŸ¥é“æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œé‚£ä¹ˆå¦‚ä½•é€šè¿‡ç½‘é¡µç­‰æ›´å¥½åœ°å¯è§†åŒ–å‘¢ï¼Ÿæœ¬æ–‡ä»‹ç»å®ç°æ­¤åŠŸèƒ½çš„ç¥å™¨&lt;a href=&quot;http://www.sargraph.com/sargraph/chart.php?id=dbserv&quot;&gt;SARGRAPH-Graphical front-end for sar&lt;/a&gt;çš„ä½¿ç”¨åŠå®‰è£…ã€‚&lt;/p&gt;
&lt;h2 id=&quot;sarçš„é…ç½®&quot;&gt;&lt;a href=&quot;#sarçš„é…ç½®&quot; class=&quot;headerlink&quot; title=&quot;sarçš„é…ç½®&quot;&gt;&lt;/a&gt;sarçš„é…ç½®&lt;/h2&gt;&lt;p&gt;é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°&lt;br&gt;&lt;a href=&quot;http://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/sar.html&quot;&gt;sar æ‰¾å‡ºç³»ç»Ÿç“¶é¢ˆçš„åˆ©å™¨ â€” Linux Tools Quick Tutorial&lt;/a&gt;&lt;br&gt;å®‰è£…sar&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æœ‰çš„linuxç³»ç»Ÿä¸‹ï¼Œé»˜è®¤å¯èƒ½æ²¡æœ‰å®‰è£…è¿™ä¸ªåŒ…ï¼Œä½¿ç”¨apt-get install sysstat æ¥å®‰è£…ï¼›&lt;/li&gt;
&lt;li&gt;å®‰è£…å®Œæ¯•ï¼Œå°†æ€§èƒ½æ”¶é›†å·¥å…·çš„å¼€å…³æ‰“å¼€ï¼š vi /etc/default/sysstat&lt;/li&gt;
&lt;li&gt;è®¾ç½® ENABLED=â€trueâ€&lt;/li&gt;
&lt;li&gt;å¯åŠ¨è¿™ä¸ªå·¥å…·æ¥æ”¶é›†ç³»ç»Ÿæ€§èƒ½æ•°æ®ï¼š /etc/init.d/sysstat start&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>é€šè¿‡Linux çš„<code>sar</code>å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“çŸ¥é“æœåŠ¡å™¨çš„è´Ÿè½½ï¼Œé‚£ä¹ˆå¦‚ä½•é€šè¿‡ç½‘é¡µç­‰æ›´å¥½åœ°å¯è§†åŒ–å‘¢ï¼Ÿæœ¬æ–‡ä»‹ç»å®ç°æ­¤åŠŸèƒ½çš„ç¥å™¨<a href="http://www.sargraph.com/sargraph/chart.php?id=dbserv">SARGRAPH-Graphical front-end for sar</a>çš„ä½¿ç”¨åŠå®‰è£…ã€‚</p><h2 id="sarçš„é…ç½®"><a href="#sarçš„é…ç½®" class="headerlink" title="sarçš„é…ç½®"></a>sarçš„é…ç½®</h2><p>é€šè¿‡è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<br><a href="http://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/sar.html">sar æ‰¾å‡ºç³»ç»Ÿç“¶é¢ˆçš„åˆ©å™¨ â€” Linux Tools Quick Tutorial</a><br>å®‰è£…sar</p><blockquote><ol><li>æœ‰çš„linuxç³»ç»Ÿä¸‹ï¼Œé»˜è®¤å¯èƒ½æ²¡æœ‰å®‰è£…è¿™ä¸ªåŒ…ï¼Œä½¿ç”¨apt-get install sysstat æ¥å®‰è£…ï¼›</li><li>å®‰è£…å®Œæ¯•ï¼Œå°†æ€§èƒ½æ”¶é›†å·¥å…·çš„å¼€å…³æ‰“å¼€ï¼š vi /etc/default/sysstat</li><li>è®¾ç½® ENABLED=â€trueâ€</li><li>å¯åŠ¨è¿™ä¸ªå·¥å…·æ¥æ”¶é›†ç³»ç»Ÿæ€§èƒ½æ•°æ®ï¼š /etc/init.d/sysstat start</li></ol></blockquote><span id="more"></span><p>å¯ä½¿ç”¨å‘½ä»¤<code>vi /etc/cron.d/sysstat</code>è°ƒæ•´æŠ¥å‘Šé¢‘ç‡ï¼Œä¾‹å¦‚ä¸‹é¢å°±å°†é»˜è®¤çš„ååˆ†é’Ÿä¿®æ”¹ä¸ºéš”ä¸¤åˆ†é’ŸæŠ¥å‘Šä¸€æ¬¡ã€‚<br><img src="/images/Screen%20Shot%202017-10-12%20at%2017.23.55.png" alt="Screen Shot 2017-10-12 at 17.23.55"></p><h2 id="sargraph-çš„å®‰è£…"><a href="#sargraph-çš„å®‰è£…" class="headerlink" title="sargraph çš„å®‰è£…"></a>sargraph çš„å®‰è£…</h2><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><p>æ ¹æ®<a href="http://sargraph.com/index.php?option=com_content&view=article&id=48&Itemid=13">Documentation</a>ï¼Œ<br><img src="/images/Screen%20Shot%202017-10-11%20at%2011.52.07-1.png" alt="Screen Shot 2017-10-11 at 11.52.07"></p><ul><li>å®‰è£…php</li></ul><p><code>sudo apt-get install php libapache2-mod-php</code></p><ul><li> å®‰è£…apache2 </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install apache2</span><br></pre></td></tr></table></figure><h2 id="é…ç½®apache2"><a href="#é…ç½®apache2" class="headerlink" title="é…ç½®apache2"></a>é…ç½®apache2</h2><p><code>systemctl status apache2</code>æŸ¥çœ‹apache2çš„æƒ…å†µï¼Œè‹¥å‘ç°å…¶ä¸æ˜¯activeï¼Œå¯èƒ½æ˜¯ç”±äºä¸nginxç›‘å¬é»˜è®¤ç«¯å£å†²çªï¼Œé‚£ä¹ˆéœ€è¦åœ¨<code>vim /etc/apache2/ports.conf</code>ï¼ŒæŠŠ80ä¿®æ”¹ä¸º81å³å¯ã€‚<br><img src="/images/Screen%20Shot%202017-10-11%20at%2011.57.39.png" alt="Screen Shot 2017-10-11 at 11.57.39"><br>å†â€˜service apache2 restartâ€™ï¼ŒæŸ¥çœ‹<code>systemctl status apache2</code>ä¸ºactiveå³æˆåŠŸï¼Œ</p><p><img src="/images/Screen%20Shot%202017-10-11%20at%2011.55.59.png" alt="Screen Shot 2017-10-11 at 11.55.59"></p><h2 id="sargraphå®‰è£…åŠé…ç½®"><a href="#sargraphå®‰è£…åŠé…ç½®" class="headerlink" title="sargraphå®‰è£…åŠé…ç½®"></a>sargraphå®‰è£…åŠé…ç½®</h2><p>å‚è€ƒ<a href="http://www.sargraph.com/index.php?option=com_content&view=article&id=47&Itemid=14">Download Sargraph</a>å®‰è£…å³å¯ï¼Œ</p><blockquote><p>Download sargraph_version3.tgz to /tmp. Unzip and untar it. And run the INSTALLER</p></blockquote><blockquote><p>tar xzf sargraph_version3.tgz</p></blockquote><blockquote><p>cd sargraph_version3</p></blockquote><blockquote><p> ./INSTALLER</p></blockquote><p>æ³¨æ„éœ€è¦ä¿®æ”¹å…¶configï¼Œ<code>vim /etc/sargraph.conf</code>ï¼Œ</p><p><img src="/images/Screen%20Shot%202017-10-11%20at%2012.00.55.png" alt="Screen Shot 2017-10-11 at 12.00.55"></p><p>æ³¨æ„æ˜¯SARUSERä¿®æ”¹ä¸ºéœ€è¦ç›‘å¬çš„æœåŠ¡å™¨çš„ç”¨æˆ·åï¼ŒKEYä¿®æ”¹ä¸ºsargraphæœåŠ¡å™¨å½“å‰ç”¨æˆ·å…¬é’¥æ–‡ä»¶å³å¯ã€‚</p><h3 id="æ·»åŠ server"><a href="#æ·»åŠ server" class="headerlink" title="æ·»åŠ server"></a>æ·»åŠ server</h3><p>ä½¿ç”¨<code>/var/www/html/sargraph/scripts/addserver datalab</code>æ·»åŠ serverï¼Œæ¯”å¦‚ä¹‹å‰æˆ‘ä»¬æŠŠconfigé‡Œuseræ”¹ä¸ºrootï¼Œé‚£ä¹ˆè¿™é‡Œæˆ‘ä»¬æ·»åŠ çš„serverå°±æ˜¯<code>root@datalab</code>ï¼Œå†å¯ç”¨<code>/var/www/html/sargraph/scripts</code>é‡Œçš„è„šæœ¬æ·»åŠ åˆ é™¤ç”¨æˆ·ä¿®æ”¹å¯†ç ç­‰ç­‰ã€‚</p><p>æœ€ååœ¨å¦‚<a href="http://datalab:81/sargraph/">Sargraph Login</a>è®¿é—®å³å¯ï¼Œè´Ÿè½½ç­‰ä¿¡æ¯å¯è§†åŒ–å‡ºç°ï¼<img src="/images/Screen%20Shot%202017-10-11%20at%2012.05.12.png" alt="Screen Shot 2017-10-11 at 12.05.12"></p><p>ğŸ˜</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/10/11/sargraph-install/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>é¿å… spark æäº¤ ä¸Šä¼ è‡ªå¸¦ jaråŒ…è§£å†³åŠæ³•</title>
      <link>http://example.com/2017/09/01/spark-submit-avoid-upload-jars/</link>
      <guid>http://example.com/2017/09/01/spark-submit-avoid-upload-jars/</guid>
      <pubDate>Fri, 01 Sep 2017 08:15:04 GMT</pubDate>
      
        
        
      <description>&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">17/09/01 15:38:59 INFO yarn.Client: Uploading resource file:/usr/<span class="built_in">local</span>/spark-2.1.1-bin-without-hadoop/spark-46d1bd70-b346-4027-bce4-9540f4b6035a/__spark_libs__4051900056689219834.zip -&gt; hdfs://wwj.shise.com:9000/user/hadoop/.sparkStaging/application_1504148698505_0021/__spark_libs__4051900056689219834.zip</span><br><span class="line">17/09/01 15:41:45 INFO yarn.Client: Uploading resource file:/Users/frank/IdeaProjects/simpleApp/target/scala-2.11/simpleApp-assembly-1.0.jar -&gt; hdfs://wwj.shise.com:9000/user/hadoop/.sparkStaging/application_1504148698505_0021/simpleApp-assembly-1.0.jar</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šä¼ èŠ±è´¹çº¦3åˆ†é’Ÿï¼Œè¿™æ®µæ—¶é—´æ˜¯ä¸ºäº†å°†$SPARK_HOME/jarä¸‹çš„æ‰€æœ‰jaråŒ…ä¸Šä¼ åˆ°yarnï¼Œå®é™…ä¸Šå¯ä»¥å®Œå…¨é¿å…ã€‚<br><img src="/images/Screen%20Shot%202017-09-01%20at%2016.16.35.png" alt="Screen Shot 2017-09-01 at 16.16.35"></p><p>å®é™…ä¸Šè¿™éƒ¨åˆ†æ–‡ä»¶å®Œå…¨å¯ä»¥å°±æ”¾åœ¨hdfsä¸Šï¼Œ<br><img src="/images/Screen%20Shot%202017-09-01%20at%2016.21.32.png" alt="Screen Shot 2017-09-01 at 16.21.32"></p><p>å…ˆå°†è¿™éƒ¨åˆ†jaråŒ…å¤åˆ¶åˆ°hdfsï¼š<br>hadoop fs -mkdir /tmp/spark/lib_jars/<br>hadoop fs -put  $SPARK_HOME/jars/* /tmp/spark/lib_jars/</p><p>è®¾ç½®<code>vim $SPARK_HOME/conf/spark-defaults.conf</code>ï¼š<br>æ·»åŠ è¿™è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark.yarn.jars                  /tmp/spark/lib_jars/* <span class="comment">##è¿™é‡Œç”¨hdfsç›¸å¯¹è·¯å¾„å³å¯</span></span><br></pre></td></tr></table></figure><p>å†submitä¸ä¼šå‡ºç°å°†jaræ–‡ä»¶æ‰“åŒ…æˆzipæ–‡ä»¶ä¸Šä¼ çš„ä¿¡æ¯äº†ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/spark/">spark</category>
      
      
      <comments>http://example.com/2017/09/01/spark-submit-avoid-upload-jars/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>hbase rest ç»‘å®šåˆ°å†…ç½‘localhost</title>
      <link>http://example.com/2017/08/29/hbase-rest-bindAddress-to-localhost/</link>
      <guid>http://example.com/2017/08/29/hbase-rest-bindAddress-to-localhost/</guid>
      <pubDate>Tue, 29 Aug 2017 08:34:08 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;é€šè¿‡å¼€å¯Hbase çš„REST æœåŠ¡æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»¥APIçš„å½¢å¼è®¿é—®Hbaseï¼Œ&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/spa</description>
        
      
      
      
      <content:encoded><![CDATA[<p>é€šè¿‡å¼€å¯Hbase çš„REST æœåŠ¡æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä»¥APIçš„å½¢å¼è®¿é—®Hbaseï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Foreground</span></span><br><span class="line">$ bin/hbase rest start -p &lt;port&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Background, logging to a file in $HBASE_LOGS_DIR</span></span><br><span class="line">$ bin/hbase-daemon.sh start rest -p &lt;port&gt;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å…¶é»˜è®¤æ˜¯ç»‘å®š<code>0.0.0.0</code>åœ°å€çš„ï¼Œä¹Ÿå°±æ˜¯å¯¹å¤–ç½‘å¼€æ”¾ï¼Œè€Œé€šè¿‡REST æœåŠ¡åˆ«æœ‰ç”¨å¿ƒçš„äººæ˜¯å¯ä»¥åˆ è¡¨çš„ã€‚ã€‚ã€‚å¦‚ä½•åªå¯¹å†…ç½‘å¼€æ”¾å‘¢ï¼Ÿ</p><p>æŸ¥äº†æ— æ•°ä¸­è‹±æ–‡ç½‘é¡µä¸å¾—ï¼Œæœ€åå†³å®šï¼šçœ‹æºç ï¼æœ€ååœ¨è¿™é‡Œå‘ç°å¦‚ä¸‹ç‰‡æ®µï¼Œ<a href="https://github.com/apache/hbase/blob/master/hbase-rest/src/main/java/org/apache/hadoop/hbase/rest/RESTServer.java">hbase/RESTServer.java at master Â· apache/hbase</a><br><img src="/images/Screen%20Shot%202017-08-29%20at%2016.30.16.png" alt="Screen Shot 2017-08-29 at 16.30.16"><br>é‚£ä¹ˆè§£å†³æ–¹æ³•å°±æ˜¾è€Œæ˜“è§äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sudo vim /usr/local/hbase/conf/hbase-site.xml</span></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">         &lt;name&gt;hbase.rest.host&lt;/name&gt;</span><br><span class="line">         &lt;value&gt;127.0.0.1&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Hbase/">Hbase</category>
      
      
      <comments>http://example.com/2017/08/29/hbase-rest-bindAddress-to-localhost/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>scala-notes</title>
      <link>http://example.com/2017/08/22/scala-note/</link>
      <guid>http://example.com/2017/08/22/scala-note/</guid>
      <pubDate>Tue, 22 Aug 2017 03:06:48 GMT</pubDate>
      
        
        
      <description>&lt;h2 id=&quot;call-by-name-ä¸-call-by-valueçš„åŒºåˆ«&quot;&gt;&lt;a href=&quot;#call-by-name-ä¸-call-by-valueçš„åŒºåˆ«&quot; class=&quot;headerlink&quot; title=&quot;call by name ä¸ call by valueçš„åŒº</description>
        
      
      
      
      <content:encoded><![CDATA[<h2 id="call-by-name-ä¸-call-by-valueçš„åŒºåˆ«"><a href="#call-by-name-ä¸-call-by-valueçš„åŒºåˆ«" class="headerlink" title="call by name ä¸ call by valueçš„åŒºåˆ«"></a>call by name ä¸ call by valueçš„åŒºåˆ«</h2><p>ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯è°ƒç”¨ä¹‹å‰éœ€ä¸éœ€è¦evaluationï¼Œå‰è€…ä¸éœ€è¦ï¼Œåè€…éœ€è¦ã€‚ä¾‹å¦‚ä¸€ä¸ªå‡½æ•°$f(x, y) = x$ï¼Œæˆ‘ä»¬åˆ†åˆ«è°ƒç”¨$f(1+1, 2 )$ï¼Œcall by name ç›´æ¥å¼•ç”¨1+1ï¼Œå†è®¡ç®—å‡ºä¸º2ï¼Œè€Œ call by valueæ˜¯å…ˆç®—å‡ºå‡½æ•°å‚æ•°çš„å€¼ï¼Œå†å»è°ƒç”¨$f(2, 2 )$ï¼Œscalaé»˜è®¤æ˜¯call by valueï¼Œä½†æ˜¯å¯ä»¥åœ¨éœ€è¦call by name çš„å‚æ•°åŠ ç®­å¤´å¦‚<code>=&gt;</code>ã€‚</p><p>scalaé‡Œé¢å®šä¹‰å˜é‡<code>def</code>å’Œ<code>val</code>çš„åŒºåˆ«å³åœ¨æ­¤ï¼Œå‰è€…æ˜¯call by nameï¼Œä¾‹å¦‚æˆ‘ä»¬åˆ†åˆ«å®šä¹‰ä¸¤ä¸ªå‡½æ•°ï¼š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loop</span></span>: <span class="type">Boolean</span> = loop</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">x</span> </span>= loop</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> y = loop</span><br></pre></td></tr></table></figure><p>å‡½æ•°xå¯ä»¥è¢«æˆåŠŸå®šä¹‰ï¼Œè€Œåè€…ä¸è¡Œï¼Œå› ä¸ºåœ¨call by name çš„å‚æ•°evaluationçš„æ—¶å€™å°±è¿›å…¥æ­»å¾ªç¯äº†ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/scala/">scala</category>
      
      
      <comments>http://example.com/2017/08/22/scala-note/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>è¯¦è§£Coursera å¥–å­¦é‡‘ç”³è¯·æ­¥éª¤</title>
      <link>http://example.com/2017/08/21/coursera-scholarship/</link>
      <guid>http://example.com/2017/08/21/coursera-scholarship/</guid>
      <pubDate>Mon, 21 Aug 2017 04:06:29 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/15046037829976.jpg&quot;&gt;&lt;br&gt;æœ€æ–°Coursera å¥–å­¦é‡‘ç”³è¯·æ­¥éª¤ï¼æˆåŠŸç‡100%ğŸ†&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/15046037829976.jpg"><br>æœ€æ–°Coursera å¥–å­¦é‡‘ç”³è¯·æ­¥éª¤ï¼æˆåŠŸç‡100%ğŸ†</p><span id="more"></span><p>ä»¥è¿™é—¨<a href="https://www.coursera.org/learn/progfun1">Scala å‡½æ•°å¼ç¨‹åºè®¾è®¡åŸç† | Coursera</a>ä¸ºä¾‹ï¼š</p><p><img src="/images/Screen%20Shot%202017-08-21%20at%2012.09.20.png" alt="Screen Shot 2017-08-21 at 12.09.20"><br><img src="/images/Screen%20Shot%202017-08-21%20at%2012.16.21.png" alt="Screen Shot 2017-08-21 at 12.16.21"><br><img src="/images/Screen%20Shot%202017-08-21%20at%2012.17.47.png" alt="Screen Shot 2017-08-21 at 12.17.47"><br>ä»¥ä¸‹é—®é¢˜å¿…é¡»å¡«å†™è‹±æ–‡ï¼Œå¿…é¡»å¤§äºç­‰äº150å­—ï¼Œä»æˆ‘çš„ç”³è¯·è®°å½•æ¥çœ‹ï¼ŒåŸºæœ¬ä¸ä¼šå®¡æ ¸ä½ ç©¶ç«Ÿå¡«å†™äº†ä»€ä¹ˆï¼Œè¿™åªæ˜¯ä¸ºå…è´¹ç”¨æˆ·è®¾ç½®ä¸€ä¸ªé—¨æ§›ï¼Œå¸å¼•ä½ æ°ªé‡‘ğŸ˜‚ğŸ˜<br><img src="/images/Screen%20Shot%202017-08-21%20at%2012.19.16.png" alt="Screen Shot 2017-08-21 at 12.19.16"><br><img src="/images/Screen%20Shot%202017-08-21%20at%2012.19.26.png" alt="Screen Shot 2017-08-21 at 12.19.26"><br><img src="/images/Screen%20Shot%202017-08-21%20at%2012.19.30.png" alt="Screen Shot 2017-08-21 at 12.19.30"></p><p>ä¹‹å‰æ˜¯ç«‹å³å¯ä»¥è·å¾—è¯ä¹¦ï¼Œç°åœ¨éœ€è¦ç­‰å¾…åäº”å¤©å³å¯ã€‚<br><img src="/images/Screen%20Shot%202017-08-21%20at%2012.20.21.png" alt="Screen Shot 2017-08-21 at 12.20.21"></p><p>å…³äºä¸Šé¢çš„ä¸‰ä¸ªé—®é¢˜å›å¤æä¾›ä¸€æ¨¡æ¿ï¼š</p><blockquote><p>I am a graduate student in mainland China, was born in a peasant family, the family has four people, my father, my mother, my brother and I, we four and grandparents living in the same home. Mom and Dad did not work, can only rely on two acres of the family to be barely subsistence income is very meager, good for my brother and I can learn, the family live frugally money supply year my brother and I go to school Reading used. The family also owe a lot of money, so my brother and I grew to know two people not to spend money.</p></blockquote><blockquote><p>Dad, Mom no cultural knowledge, they know the importance of knowledge, so small they are strict requirements of our brothers and both learn to be good in the future to test a good university, find a good job, do not like them, did not work in the countryside. We two brothers are also very competitive, it has been among the best in school, in our view, only with honors in order to make my parents happy, to return to their pains. Monthly income of around one hundred US dollars to pay tuition for this course certificate will be spent half of my cost of living, it will bring a lot of economic pressure to my normal life, and this course is the first door I finished on the site class, have a special meaning for me, I wanted to get this certificate course, this will inspire my passion for learning and motivation.</p></blockquote><blockquote></blockquote><blockquote><p>1, many people have recommended this course for the learning experience to enhance learning method above, I think learning is a lifelong, this course I will gain the knowledge of my lifetime. All the copyright.</p></blockquote><blockquote><p>This door exercise logic and thinking about Coursera course is one of the most popular courses, course descriptions and practical reasoning methods and common logical fallacies, teach you how to properly reasoning, learning a few simple but critical general rules apply to all topics, while avoiding prone to problems when reasoning. 2, almost all individuals can enhance the quality of life of the curriculum to enhance areas of interest I have, I will continue to follow up. 3. Harvest course certificate for me is a recognition of my pay, my motivation for future learning enhance the effect is self-evident, thank you!</p></blockquote><blockquote></blockquote><blockquote><p>1, I guarantee independence to complete a full course, to ensure that all academic tasks independently myself by myself.</p></blockquote><blockquote><p>2, actively participate in discussions and course work, upload your own achievement, strive to contribute their efforts for curriculum community.</p></blockquote><blockquote><p>3, actively publicize the site to friends and relatives, for future expansion of community development programs and make a contribution.</p></blockquote><blockquote><p>4, to participate in and complete the course more sites to learn more new knowledge.</p></blockquote>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Coursera/">Coursera</category>
      
      
      <comments>http://example.com/2017/08/21/coursera-scholarship/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>server certificate verification failed solution</title>
      <link>http://example.com/2017/08/15/server-certificate-verification-failed-solution/</link>
      <guid>http://example.com/2017/08/15/server-certificate-verification-failed-solution/</guid>
      <pubDate>Tue, 15 Aug 2017 10:23:03 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none çš„æ­£ç¡®è§£å†³æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å‡ºç°æ­¤é”™è¯¯æ—¶ï¼Œé—®é¢˜å‡ºåœ¨è¯ä¹¦çš„ç¼ºå¤±ï¼Œä¸å¯ç”¨å¦‚&lt;co</description>
        
      
      
      
      <content:encoded><![CDATA[<p>server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none çš„æ­£ç¡®è§£å†³æ–¹æ³•ã€‚</p><p>å‡ºç°æ­¤é”™è¯¯æ—¶ï¼Œé—®é¢˜å‡ºåœ¨è¯ä¹¦çš„ç¼ºå¤±ï¼Œä¸å¯ç”¨å¦‚<code>export GIT_SSL_NO_VERIFY=1</code>æ–¹æ³•å»è§£é™¤å®‰å…¨é™åˆ¶ï¼Œæ­£ç¡®æ–¹æ³•æ˜¯ä¸‹è½½è¯ä¹¦ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hostname=XXX</span><br><span class="line">port=443</span><br><span class="line">trust_cert_file_location=`curl-config --ca`</span><br><span class="line">sudo bash -c <span class="string">&quot;echo -n | openssl s_client -showcerts -connect <span class="variable">$hostname</span>:<span class="variable">$port</span> 2&gt;/dev/null  | sed -ne &#x27;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#x27; &gt;&gt; <span class="variable">$trust_cert_file_location</span>&quot;</span></span><br></pre></td></tr></table></figure><p>è‹¥ä¸èµ·ä½œç”¨ï¼Œå¯ç”¨IPä»£æ›¿çœŸå®hostnameã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/08/15/server-certificate-verification-failed-solution/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>nginx åå‘ä»£ç† REST API</title>
      <link>http://example.com/2017/08/04/nginx-reverse-proxy-for-rest-API/</link>
      <guid>http://example.com/2017/08/04/nginx-reverse-proxy-for-rest-API/</guid>
      <pubDate>Fri, 04 Aug 2017 08:31:16 GMT</pubDate>
      
      <description>&lt;p&gt;åˆ©ç”¨nginx ä¸ºREST APIæä¾›è´Ÿè½½å‡è¡¡ã€‚åˆ©ç”¨nginxçš„è´Ÿè½½å‡è¡¡å¯ä»¥æå¤§æå‡APIæœåŠ¡çš„ç¨³å®šæ€§ï¼Œæœ¬æ–‡ç®€è¿°æ­¤è¿‡ç¨‹é…ç½®æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>åˆ©ç”¨nginx ä¸ºREST APIæä¾›è´Ÿè½½å‡è¡¡ã€‚åˆ©ç”¨nginxçš„è´Ÿè½½å‡è¡¡å¯ä»¥æå¤§æå‡APIæœåŠ¡çš„ç¨³å®šæ€§ï¼Œæœ¬æ–‡ç®€è¿°æ­¤è¿‡ç¨‹é…ç½®æ–¹æ³•ã€‚</p><span id="more"></span><p><code>sudo apt install nginx</code>å®‰è£…nginxï¼Œæ¥ä¸‹æ¥æ‰¾å‡ºnginxé…ç½®åœ°å€ï¼Œä½¿ç”¨ä»£ç <code>nginx -V </code>å¯æ‰“å°å‡ºä¸€ç³»åˆ—é…ç½®ä¿¡æ¯ï¼Œä¸åŒå¹³å°å’Œå‘è¡Œç‰ˆå¯èƒ½ä¸åŒï¼Œæˆ‘è¿™è¾¹æ˜¯<code>--prefix=/usr/share/nginx</code>ï¼Œå³ä¸ºnginxæ ¹ç›®å½•ï¼Œ<code>--conf-path=/etc/nginx/nginx.conf</code>å³ä¸ºé…ç½®ç›®å½•ã€‚</p><p><code>vim /etc/nginx/nginx.conf</code><br>æ³¨æ„å…¶ä¸­çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">61         include /etc/nginx/conf.d/*.conf;</span><br><span class="line">62         include /etc/nginx/sites-enabled/*;</span><br></pre></td></tr></table></figure><p>åœ¨<code>/etc/nginx/conf.d/</code>æ–°å»º<code>service.conf</code>ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">upstream tornadoes &#123;</span><br><span class="line">    server 127.0.0.1:6001;</span><br><span class="line">    server 127.0.0.1:6002;</span><br><span class="line">    server 127.0.0.1:6003;</span><br><span class="line">    server 127.0.0.1:6004;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">listen 5000;</span><br><span class="line">    ## Individual nginx logs</span><br><span class="line">    access_log  /var/log/nginx/web_proxy_access.log;</span><br><span class="line">    error_log   /var/log/nginx/web_proxy_error.log;</span><br><span class="line">    location / &#123;</span><br><span class="line">proxy_pass http://tornadoes; ## å’Œupstream åç§°ç»„å¯¹åº”å³å¯</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å°†æœ¬åœ°çš„5000ç«¯å£è´Ÿè½½å‡è¡¡åˆ°å››ä¸ªREST TornadoæœåŠ¡ä¸Šã€‚<br><code>service nginx restart</code>å³å¯ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/%E8%BF%90%E7%BB%B4/">è¿ç»´</category>
      
      <category domain="http://example.com/tags/nginx/">nginx</category>
      
      
      <comments>http://example.com/2017/08/04/nginx-reverse-proxy-for-rest-API/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Personal Tips on Mac &amp; Linux &amp; Iphone</title>
      <link>http://example.com/2017/07/18/All_kinds_of_TIPS/</link>
      <guid>http://example.com/2017/07/18/All_kinds_of_TIPS/</guid>
      <pubDate>Tue, 18 Jul 2017 02:43:17 GMT</pubDate>
      
      <description>&lt;p&gt;éšæ‰‹è®°å½•è‡ªå·±åœ¨ç”¨Macå¼€å‘ä¸Šéšæ—¶å‘ç°çš„å„ç§Tipsã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>éšæ‰‹è®°å½•è‡ªå·±åœ¨ç”¨Macå¼€å‘ä¸Šéšæ—¶å‘ç°çš„å„ç§Tipsã€‚</p><span id="more"></span><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="åˆ«ç”¨Bashå•¦ç”¨zshï¼ğŸˆ²"><a href="#åˆ«ç”¨Bashå•¦ç”¨zshï¼ğŸˆ²" class="headerlink" title="åˆ«ç”¨Bashå•¦ç”¨zshï¼ğŸˆ²"></a>åˆ«ç”¨Bashå•¦ç”¨zshï¼ğŸˆ²</h3><p>zshçš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½å„ç§ç¥å¥‡ï¼Œå¯ä»¥è¡¥é½è·¯å¾„ï¼Œè¡¥é½å‘½ä»¤ï¼Œè¡¥é½å‚æ•°ç­‰ï¼Œå†ä¹Ÿä¸ç”¨<a href="https://zh.wikipedia.org/zh/RTFM">RTFM</a>äº†ã€‚æŒ‰ä¸‹è¿æŒ‰Tapè¿˜æœ‰äºŒçº§èœå•ã€‚<br><img src="/images/Screen%20Shot%202017-07-19%20at%2023.44.06.png" alt="Screen Shot 2017-07-19 at 23.44.06"><br><img src="/images/Screen%20Shot%202017-07-19%20at%2023.42.56.png" alt="Screen Shot 2017-07-19 at 23.42.56"></p><p>killå‘½ä»¤ä¸éœ€<code>ps aux | grep xxx</code>ï¼Œåªéœ€<code>kill xxx</code>ç„¶åtapå³å¯ï¼Œå¦‚ï¼Œè¿™é‡Œæˆ‘éœ€è¦kill jupyter notebookåªéœ€è¦<code>kill python</code>å†tapï¼Œéå¸¸æ–¹ä¾¿ã€‚</p><p><img src="/images/Screen%20Shot%202017-07-19%20at%2023.47.58.png" alt="Screen Shot 2017-07-19 at 23.47.58"></p><p>è·³è½¬æ—¶ï¼Œåªéœ€<code>..</code>å³å¯ä¸éœ€<code>cd</code>ï¼Œè€Œ<code>...</code>ç­‰äº<code>../../</code>ã€‚</p><p>è¾“å…¥dï¼Œå°†åˆ—å‡ºå½“å‰ session è®¿é—®è¿‡çš„æ‰€æœ‰ç›®å½•ï¼Œå†æŒ‰æç¤ºçš„æ•°å­—å³å¯è¿›å…¥ç›¸åº”ç›®å½•ã€‚</p><p><img src="/images/Screen%20Shot%202017-07-19%20at%2023.52.08.png" alt="Screen Shot 2017-07-19 at 23.52.08"></p><p>æŸ¥æ‰¾ï¼šzsh çš„å†å²è®°å½•è·¨ sessionï¼Œå¯ä»¥å…±äº«ã€‚å†å²è®°å½•æ”¯æŒå—é™æŸ¥æ‰¾ã€‚æ¯”å¦‚ï¼Œè¾“å…¥gitï¼Œå†æŒ‰å‘ä¸Šç®­å¤´ï¼Œä¼šæœç´¢ç”¨è¿‡çš„æ‰€æœ‰ git å‘½ä»¤ã€‚æ­é…<a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a>æ›´ä½³å“¦ğŸ˜</p><h2 id="å·¥å…·ç¯‡"><a href="#å·¥å…·ç¯‡" class="headerlink" title="å·¥å…·ç¯‡"></a>å·¥å…·ç¯‡</h2><h3 id="MWeb-ç›®å‰ä½“éªŒæœ€å¥½çš„markdownç¼–è¾‘å™¨"><a href="#MWeb-ç›®å‰ä½“éªŒæœ€å¥½çš„markdownç¼–è¾‘å™¨" class="headerlink" title="MWeb ç›®å‰ä½“éªŒæœ€å¥½çš„markdownç¼–è¾‘å™¨"></a>MWeb ç›®å‰ä½“éªŒæœ€å¥½çš„markdownç¼–è¾‘å™¨</h3><p><a href="http://zh.mweb.im/">MWeb - ä¸“ä¸šçš„Markdownå†™ä½œã€è®°ç¬”è®°ã€é™æ€åšå®¢ç”Ÿæˆè½¯ä»¶ - MWeb</a>ï¼Œå„ç§markdownç¼–è¾‘å™¨éƒ½ç”¨è¿‡ï¼Œä»€ä¹ˆMouã€Macdownç­‰ç­‰ï¼Œéƒ½æ˜¯è¿œä¸å¦‚è¿™ä¸ªMWebçš„ã€‚ä¸ªäººæœ€å–œæ¬¢å›¾ç‰‡æ‹–å…¥åŠŸèƒ½ï¼Œåœ¨æ­¤å¤„è®¾ç½®å¥½å<br><img src="/images/Screen%20Shot%202017-07-19%20at%2023.58.33.png" alt="Screen Shot 2017-07-19 at 23.58.33"></p><p>ä¹‹é—´æ‹–å…¥å›¾ç‰‡ï¼Œå³å¯è‡ªåŠ¨å†™å…¥è·¯å¾„å¹¶å®æ—¶é¢„è§ˆï¼ˆæˆ‘ç”¨çš„hexoæ­çš„åšå®¢ï¼‰ğŸ˜˜<strong>æ€æ‰‹çº§åŠŸèƒ½ï¼Œæ•ˆç‡ç¥å™¨ï¼</strong>ï¼Œé™¤æ­¤ä¹‹å¤–å…¶ä»–çš„åŠŸèƒ½ä¹Ÿæ˜¯å„ç§æ–¹ä¾¿ï¼Œè¿™åªéœ€è¦ï¿¥98ï¼Œè¿˜åœ¨ç­‰ä»€ä¹ˆï¼Œèµ¶å¿«è¡ŒåŠ¨å§ï¼<br><img src="/images/Screen%20Shot%202017-07-20%20at%2000.00.06.png" alt="Screen Shot 2017-07-20 at 00.00.06"></p><h3 id="Transserra"><a href="#Transserra" class="headerlink" title="Transserra"></a>Transserra</h3><p>iOS Appï¼Œå¯ä»¥ç¦»çº¿ä¸‹è½½Courseraè¯¾ç¨‹ï¼Œæ€æ‰‹åŠŸèƒ½ï¼š<strong>ç¿»è¯‘å­—å¹•ï¼ï¼ï¼</strong>ï¼Œçœ‹å…¬å¼€è¯¾å®åœ¨æ˜¯å¤ªæ–¹ä¾¿å•¦ï¼ä¸è¿‡éœ€è¦æ³¨æ„ï¼Œä¸è¦åœ¨è¿˜æœ‰ä¸‹è½½ä»»åŠ¡çš„æ—¶å€™å¼€å¯cellularï¼ˆèœ‚çªç½‘ç»œï¼‰ä¸‹ä½¿ç”¨ï¼Œæœ¬äººå°±æ˜¯è¿™æ ·åœ¨æœˆåˆè¢«çƒ§å®Œäº†æ•´ä¸ªæœˆçš„æµé‡ï¼ï¼ï¼ğŸ‘»ï¼Œ ç¿»è¯‘åŠŸèƒ½éœ€è¦ä»˜è´¹ï¼Œä¸è¿‡ä¸è´µã€‚<br><img src="/images/IMG_1750.png" alt="IMG_1750"></p><h3 id="Iterm2"><a href="#Iterm2" class="headerlink" title="Iterm2"></a>Iterm2</h3><p><a href="https://www.iterm2.com/">iTerm2 - macOS Terminal Replacement</a>æ˜¯ä¸€æ¬¾Macä¸Šä½“éªŒæä½³çš„ç»ˆç«¯è½¯ä»¶ï¼Œæ‹¥æœ‰è®¸å¤šå‡ºè‰²ç‰¹æ€§ï¼Œå¦‚æ‹–åŠ¨å­—ç¬¦ä¸²ã€å¤šTapå¹¿æ’­è¾“å…¥ç­‰ç­‰<img src="/images/Screen%20Shot%202017-08-10%20at%2012.49.06.png" alt="Screen Shot 2017-08-10 at 12.49.06"><br>æŒ‰ä½âŒ˜é”®:</p><ul><li>å¯ä»¥æ‹–æ‹½é€‰ä¸­çš„å­—ç¬¦ä¸²ï¼›</li><li>ç‚¹å‡» urlï¼šè°ƒç”¨é»˜è®¤æµè§ˆå™¨è®¿é—®è¯¥ç½‘å€ï¼›</li><li>ç‚¹å‡»æ–‡ä»¶ï¼šè°ƒç”¨é»˜è®¤ç¨‹åºæ‰“å¼€æ–‡ä»¶ï¼›</li><li>å¦‚æœæ–‡ä»¶åæ˜¯filename:42ï¼Œä¸”é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨æ˜¯ Macvimã€Textmateæˆ–BBEditï¼Œå°†ä¼šç›´æ¥æ‰“å¼€åˆ°è¿™ä¸€è¡Œï¼›</li><li>ç‚¹å‡»æ–‡ä»¶å¤¹ï¼šåœ¨ finder ä¸­æ‰“å¼€è¯¥æ–‡ä»¶å¤¹ï¼›</li><li>åŒæ—¶æŒ‰ä½optioné”®ï¼Œå¯ä»¥ä»¥çŸ©å½¢é€‰ä¸­ï¼Œç±»ä¼¼äºvimä¸­çš„ctrl væ“ä½œã€‚</li></ul><p>å¸¸ç”¨å¿«æ·é”®</p><ul><li>åˆ‡æ¢ tabï¼šâŒ˜+â†, âŒ˜+â†’, âŒ˜+{, âŒ˜+}ã€‚âŒ˜+æ•°å­—ç›´æ¥å®šä½åˆ°è¯¥ tabï¼›</li><li>æ–°å»º tabï¼šâŒ˜+tï¼›</li><li>é¡ºåºåˆ‡æ¢ paneï¼šâŒ˜+[, âŒ˜+]ï¼›</li><li>æŒ‰æ–¹å‘åˆ‡æ¢ paneï¼šâŒ˜+Option+æ–¹å‘é”®ï¼›</li><li>åˆ‡åˆ†å±å¹•ï¼šâŒ˜+d æ°´å¹³åˆ‡åˆ†ï¼ŒâŒ˜+Shift+d å‚ç›´åˆ‡åˆ†ï¼›</li><li>æ™ºèƒ½æŸ¥æ‰¾ï¼Œæ”¯æŒæ­£åˆ™æŸ¥æ‰¾ï¼šâŒ˜+fã€‚</li></ul><p>iTerm2 å¯ä»¥è‡ªåŠ¨è¡¥é½å‘½ä»¤ï¼Œè¾“å…¥è‹¥å¹²å­—ç¬¦ï¼ŒæŒ‰âŒ˜+;å¼¹å‡ºè‡ªåŠ¨è¡¥é½çª—å£ï¼Œåˆ—å‡ºæ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤ã€‚iTerm2 ä¹Ÿå¯ä»¥ä½¿ç”¨å†å²è®°å½•ï¼ŒæŒ‰âŒ˜+Shift+hå¼¹å‡ºå†å²ç²˜è´´è®°å½•çª—å£ï¼Œ<br><img src="/images/Screen%20Shot%202017-08-21%20at%2011.29.29.png" alt="Screen Shot 2017-08-21 at 11.29.29"></p><p>âŒ˜+Shift+;å¼¹å‡ºå†å²å‘½ä»¤è®°å½•çª—å£ã€‚âŒ˜+Option+eå…¨å±å±•ç¤ºæ‰€æœ‰çš„ tabï¼Œå¯ä»¥æœç´¢ã€‚<br>ä¸€ä¸ªæ ‡ç­¾é¡µä¸­å¼€çš„çª—å£å¤ªå¤šï¼Œæœ‰æ—¶å€™ä¼šæ‰¾ä¸åˆ°å½“å‰çš„é¼ æ ‡ï¼ŒâŒ˜+/æ‰¾åˆ°å®ƒã€‚</p><p><a href="http://iterm2colorschemes.com/">è¿™é‡Œ</a>æ”¶é›†äº†å¤§é‡ iTerm2 çš„ä¸»é¢˜ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ã€‚æˆ‘ç”¨çš„æ˜¯Zenburnã€‚åœ¨å…¶ github repo é‡Œä¸‹è½½å¯¹åº”çš„xxx.itermcolorsæ–‡ä»¶ï¼ŒåŒå‡»å®‰è£…ä½¿ç”¨ã€‚<br><img src="/images/15023408306576.jpg"></p><p>æ›´æ–°ï¼š</p><ul><li>å–æ¶ˆé¼ æ ‡æ»šè½®æµè§ˆå†å²è®°å½•çš„è®¾ç½®ï¼š<a href="https://gxnotes.com/article/48116.html">å¦‚ä½•å…³é—­iTerm2ä¸­çš„â€œscrolling the historyâ€ - å…±äº«ç¬”è®°</a></li></ul><h3 id="Mosh"><a href="#Mosh" class="headerlink" title="Mosh"></a>Mosh</h3><p> æ›¿ä»£SSHçš„<a href="https://mosh.org/">Mosh: the mobile shell</a>ï¼Œæå¤§é™ä½sshå»¶è¿Ÿï¼Œå¹¶ä¸”æŒç»­æ—¶é—´æä½³ã€‚<br> <img src="/images/15023407365562.jpg"></p><h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><h3 id="è¡¨æƒ…ç¬¦å·"><a href="#è¡¨æƒ…ç¬¦å·" class="headerlink" title="è¡¨æƒ…ç¬¦å·"></a>è¡¨æƒ…ç¬¦å·</h3><p>æŒ‰ Control-Command-ç©ºæ ¼é”®ã€‚æ­¤æ—¶ä¼šæ˜¾ç¤ºâ€œå­—ç¬¦æ˜¾ç¤ºç¨‹åºâ€å¼¹å‡ºçª—å£ï¼š<br><img src="/images/15004806123652.jpg"></p><h3 id="Linux-ç»ˆç«¯å¿«é€Ÿæ¸…è¡Œ"><a href="#Linux-ç»ˆç«¯å¿«é€Ÿæ¸…è¡Œ" class="headerlink" title="Linux ç»ˆç«¯å¿«é€Ÿæ¸…è¡Œ"></a>Linux ç»ˆç«¯å¿«é€Ÿæ¸…è¡Œ</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬åœ¨ç»ˆç«¯é‡Œæ‰“å‡ºäº†ä¸€ä¸ªå¾ˆé•¿å¾ˆé•¿çš„å‘½ä»¤ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æ¸…ç©ºé‡æ–°è¾“å…¥ï¼Œæœ‰ä¸ªå¿«æ·é”®å°±æ˜¯ctr+pï¼Œå³å¯å¿«é€Ÿæ¸…é™¤å½“å‰è¾“å…¥ã€‚</p><h3 id="Linux-åˆ‡åˆ°ä¸Šä¸€ä¸ªç›®å½•"><a href="#Linux-åˆ‡åˆ°ä¸Šä¸€ä¸ªç›®å½•" class="headerlink" title="Linux åˆ‡åˆ°ä¸Šä¸€ä¸ªç›®å½•"></a>Linux åˆ‡åˆ°ä¸Šä¸€ä¸ªç›®å½•</h3><p><code>cd -</code>å³å¯ï¼š<br><img src="/images/Screen%20Shot%202017-07-21%20at%2011.24.53.png" alt="Screen Shot 2017-07-21 at 11.24.53"></p><h3 id="æˆªå›¾"><a href="#æˆªå›¾" class="headerlink" title="æˆªå›¾"></a>æˆªå›¾</h3><ul><li>Command(âŒ˜)-Shift-3 å¯¹æ•´ä¸ªå±å¹•æ‹æ‘„å±å¹•å¿«ç…§</li><li>Command(âŒ˜)-Shift-4 å¯¹å±å¹•çš„æŸä¸ªéƒ¨åˆ†æ‹æ‘„å±å¹•å¿«ç…§ï¼Œå¯ä»¥é€‰æ‹©æˆªå›¾åŒºåŸŸ</li><li>Command(âŒ˜)-Shift-4-ç©ºæ ¼é”® å¯¹æŸä¸ªçª—å£æ‹æ‘„å±å¹•å¿«ç…§</li><li>Command(âŒ˜)-Ctrl-Shift-4 å¯¹é€‰å®šåŒºåŸŸè¿›è¡Œæˆªå±ï¼Œå±å¹•æˆªå›¾ï¼Œæ–‡ä»¶ä¿å­˜åœ¨å‰ªè´´æ¿</li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Mac/">Mac</category>
      
      
      <comments>http://example.com/2017/07/18/All_kinds_of_TIPS/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Hive install on Ubuntuï¼Œå¹¶ä»¥Mysqlä½œä¸ºMetastore</title>
      <link>http://example.com/2017/07/07/Hive-install-on-Ubuntu/</link>
      <guid>http://example.com/2017/07/07/Hive-install-on-Ubuntu/</guid>
      <pubDate>Fri, 07 Jul 2017 02:43:17 GMT</pubDate>
      
      <description>&lt;p&gt;å®‰è£…é…ç½®Hiveè™½ç„¶æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç½‘ä¸Šçš„èµ„æ–™å„ç§å‘ï¼Œæ€»ç»“ä¸‹æ¥å†™ä¸‹æœ¬æ–‡ä½œä¸ºæˆåŠŸåçš„è®°å½•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>å®‰è£…é…ç½®Hiveè™½ç„¶æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ç½‘ä¸Šçš„èµ„æ–™å„ç§å‘ï¼Œæ€»ç»“ä¸‹æ¥å†™ä¸‹æœ¬æ–‡ä½œä¸ºæˆåŠŸåçš„è®°å½•ã€‚</p><span id="more"></span><h2 id="ä¸‹è½½ä¸æ”¾ç½®"><a href="#ä¸‹è½½ä¸æ”¾ç½®" class="headerlink" title="ä¸‹è½½ä¸æ”¾ç½®"></a>ä¸‹è½½ä¸æ”¾ç½®</h2><h3 id="Hive"><a href="#Hive" class="headerlink" title="Hive"></a>Hive</h3><p><a href="http://www.apache.org/dyn/closer.cgi/hive/">Hiveä¸‹è½½åœ°å€</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo tar xzvf apache-hive-2.1.1-bin.tar.gz -C /usr/<span class="built_in">local</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /usr/<span class="built_in">local</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo mv apache-hive-2.1.1-bin/ hive</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo chown hadoop@hadoop -R hive</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> </span></span><br></pre></td></tr></table></figure><h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><p><code>$ sudo apt-get install mysql-server</code></p><h3 id="mysql-Javaè¿æ¥"><a href="#mysql-Javaè¿æ¥" class="headerlink" title="mysql Javaè¿æ¥"></a>mysql Javaè¿æ¥</h3><p><code>$ sudo apt-get install libmysql-java</code><br>å¹¶åˆ›å»ºè½¯è¿æ¥<br><code>$ ln -s /usr/share/java/mysql-connector-java.jar $HIVE_HOME/lib/mysql-connector-java.jar</code></p><h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><p>åœ¨<code>~/.profile</code>é‡Œæ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HIVE_HOME=/usr/local/hive</span><br><span class="line">export PATH=$PATH:$HIVE_HOME/bin</span><br></pre></td></tr></table></figure><p>å¹¶<code>source ~/.profile</code></p><h2 id="å»ºè¡¨ä¸è¿æ¥"><a href="#å»ºè¡¨ä¸è¿æ¥" class="headerlink" title="å»ºè¡¨ä¸è¿æ¥"></a>å»ºè¡¨ä¸è¿æ¥</h2><h3 id="åˆå§‹è¡¨æ ¼"><a href="#åˆå§‹è¡¨æ ¼" class="headerlink" title="åˆå§‹è¡¨æ ¼"></a>åˆå§‹è¡¨æ ¼</h3><p>åœ¨mysqlé‡Œåˆ›å»ºæ•°æ®åº“ï¼Œæ ¼å¼åŒ<code>hive-schema-2.1.0.mysql.sql</code> ï¼Œè¿™é‡Œä¾æ®ä½ çš„ç‰ˆæœ¬å·æ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mysql <span class="operator">-</span>u root <span class="operator">-</span>p</span><br><span class="line">Enter password:</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> DATABASE metastore;</span><br><span class="line">mysql<span class="operator">&gt;</span> USE metastore;</span><br><span class="line">mysql<span class="operator">&gt;</span> SOURCE <span class="operator">/</span>usr<span class="operator">/</span><span class="keyword">local</span><span class="operator">/</span>hive<span class="operator">/</span>scripts<span class="operator">/</span>metastore<span class="operator">/</span>upgrade<span class="operator">/</span>mysql<span class="operator">/</span>hive<span class="operator">-</span>schema<span class="number">-2.1</span><span class="number">.0</span>.mysql.sql;;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºç”¨æˆ·å¹¶ç»™äºˆæƒé™"><a href="#åˆ›å»ºç”¨æˆ·å¹¶ç»™äºˆæƒé™" class="headerlink" title="åˆ›å»ºç”¨æˆ·å¹¶ç»™äºˆæƒé™"></a>åˆ›å»ºç”¨æˆ·å¹¶ç»™äºˆæƒé™</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;hiveuser&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;hivepassword&#x27;</span>; </span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">GRANT</span> <span class="keyword">all</span> <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;hiveuser&#x27;</span><span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;hivepassword&#x27;</span>;</span><br><span class="line">mysql<span class="operator">&gt;</span>  flush privileges;</span><br></pre></td></tr></table></figure><h3 id="hive-site-xml"><a href="#hive-site-xml" class="headerlink" title="hive-site.xml"></a>hive-site.xml</h3><p>åœ¨<code>$HIVE_HOME/conf</code>æ–‡ä»¶å¤¹åˆ›å»º<code>hive-site.xml</code>æ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">description</span>&gt;</span>metadata is stored in a MySQL server<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">description</span>&gt;</span>MySQL JDBC driver class<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>hiveuser<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">description</span>&gt;</span>user name for connecting to mysql server<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">value</span>&gt;</span>hivepassword<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">description</span>&gt;</span>password for connecting to mysql server<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="OKï¼Œå¯åŠ¨Hive-Shellè¯•è¯•çœ‹å§"><a href="#OKï¼Œå¯åŠ¨Hive-Shellè¯•è¯•çœ‹å§" class="headerlink" title="OKï¼Œå¯åŠ¨Hive Shellè¯•è¯•çœ‹å§"></a>OKï¼Œå¯åŠ¨Hive Shellè¯•è¯•çœ‹å§</h3><p>æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨hive shellé‡Œå»ºè¡¨<br><code>hive&gt; create table saurzcode(id int, name string);</code></p><p>å†åœ¨mysqlé‡ŒæŸ¥çœ‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>u root <span class="operator">-</span>p</span><br><span class="line">Enter password:                                                             </span><br><span class="line">mysql<span class="operator">&gt;</span> use metastore;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">show</span> tables ;</span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> TBLS;</span><br></pre></td></tr></table></figure><p>è‹¥å¯ä»¥çœ‹è§ä¸Šé¢åœ¨hiveé‡Œå»ºçš„è¡¨<code>saurzcode</code>ï¼Œæ­å–œä½ å¤§åŠŸå‘Šæˆï¼ğŸ˜†ğŸ˜ğŸ¤ </p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      <category domain="http://example.com/tags/Hive/">Hive</category>
      
      <category domain="http://example.com/tags/Hadoop/">Hadoop</category>
      
      
      <comments>http://example.com/2017/07/07/Hive-install-on-Ubuntu/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ssh å»ºç«‹æœ¬åœ°localhostä¸è¿œç¨‹æœåŠ¡å™¨localhostçš„è¿æ¥</title>
      <link>http://example.com/2017/07/06/ssh-web-tunnel/</link>
      <guid>http://example.com/2017/07/06/ssh-web-tunnel/</guid>
      <pubDate>Thu, 06 Jul 2017 06:23:29 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;è¿œç¨‹è¿æ¥æœåŠ¡å™¨å¼€å‘æ—¶ï¼Œç»å¸¸éœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨çš„localhostçš„webç•Œé¢æŸ¥çœ‹ï¼Œå¦‚æ·±åº¦å­¦ä¹ æœåŠ¡å™¨çš„jupyter notebookã€æœåŠ¡å™¨ä¸Šçš„hadoopçš„hdfså’Œyarnä»¥åŠsparkçš„webç•Œé¢ï¼Œè¿˜æœ‰Supervisorç­‰ç­‰ï¼Œå¾ˆå¤šæ—¶å€™æœåŠ¡å™¨éƒ½æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œå¾ˆå¤šæ—¶å€™ç”¨æœ</description>
        
      
      
      
      <content:encoded><![CDATA[<p>è¿œç¨‹è¿æ¥æœåŠ¡å™¨å¼€å‘æ—¶ï¼Œç»å¸¸éœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨çš„localhostçš„webç•Œé¢æŸ¥çœ‹ï¼Œå¦‚æ·±åº¦å­¦ä¹ æœåŠ¡å™¨çš„jupyter notebookã€æœåŠ¡å™¨ä¸Šçš„hadoopçš„hdfså’Œyarnä»¥åŠsparkçš„webç•Œé¢ï¼Œè¿˜æœ‰Supervisorç­‰ç­‰ï¼Œå¾ˆå¤šæ—¶å€™æœåŠ¡å™¨éƒ½æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œå¾ˆå¤šæ—¶å€™ç”¨æœåŠ¡å™¨IPåœ¨æœ¬åœ°æŸ¥çœ‹åˆå› ä¸ºé˜²ç«å¢™çš„åŸå› è¢«é˜»æŒ¡ï¼Œé‚£ä¹ˆè¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆç®€å•çš„æ–¹æ³•å³å¯è¾¾åˆ°ç›®çš„ï¼šå³<strong>ä»æœ¬åœ°å»ºç«‹ä¸€ä¸ªsshé€šé“</strong>ï¼Œå¦‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh username@address_of_remote -L 127.0.0.1:1234:127.0.0.1:8888</span><br></pre></td></tr></table></figure><p>å³å¯åœ¨æœ¬åœ°çš„1234ç«¯å£è®¿é—®è¿œç¨‹æœåŠ¡å™¨çš„<code>127.0.0.1:8888</code>åœ°å€äº†ï¼</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/07/06/ssh-web-tunnel/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ä½¿ç”¨supervisoræ”¯æŒPython3ç¨‹åº</title>
      <link>http://example.com/2017/07/06/Use-supervisor-support-Python3-program/</link>
      <guid>http://example.com/2017/07/06/Use-supervisor-support-Python3-program/</guid>
      <pubDate>Thu, 06 Jul 2017 03:23:07 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;a href=&quot;http://supervisord.org/index.html&quot;&gt;Supervisor&lt;/a&gt;æ˜¯python2å†™å°±çš„ä¸€æ¬¾å¼ºå¤§çš„è¿ç»´å·¥å…·ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œ&lt;br&gt;ç›®å‰Supervisorè¿˜ä¸æ”¯æŒpython3ï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ©ç”¨Supervisorç›‘æ§python3ç¨‹åºå‘¢ï¼Ÿæœ¬æ–‡ä¸»è¦è®²è¿°Supervisoråœ¨&lt;br&gt;Ubuntuä¸‹çš„å®‰è£…éƒ¨ç½²ä»¥åŠä¸Šè¿°é—®é¢˜çš„è§£å†³ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><a href="http://supervisord.org/index.html">Supervisor</a>æ˜¯python2å†™å°±çš„ä¸€æ¬¾å¼ºå¤§çš„è¿ç»´å·¥å…·ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œ<br>ç›®å‰Supervisorè¿˜ä¸æ”¯æŒpython3ï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ©ç”¨Supervisorç›‘æ§python3ç¨‹åºå‘¢ï¼Ÿæœ¬æ–‡ä¸»è¦è®²è¿°Supervisoråœ¨<br>Ubuntuä¸‹çš„å®‰è£…éƒ¨ç½²ä»¥åŠä¸Šè¿°é—®é¢˜çš„è§£å†³ã€‚</p><span id="more"></span><h2 id="å®‰è£…åŠè®¾ç½®"><a href="#å®‰è£…åŠè®¾ç½®" class="headerlink" title="å®‰è£…åŠè®¾ç½®"></a>å®‰è£…åŠè®¾ç½®</h2><p>å¯é€šè¿‡pipå®‰è£…ï¼Œå¦‚æœä½ å·²ç»æ˜¯python3çš„pipï¼Œä¼šå®‰è£…å¤±è´¥ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨<code>sudo apt-get install supervisor</code>æ¥å®‰è£…ï¼Œé»˜è®¤ç”±Ubuntuè‡ªå¸¦çš„<code> /usr/bin/python2.7</code>é©±åŠ¨ã€‚</p><p>è¿è¡Œ<code>echo_supervisord_conf  &gt; /etc/supervisor/supervisord.conf</code>æ¥äº§ç”Ÿè®¾ç½®ï¼Œæœªé¿å…äº§ç”Ÿérootç”¨æˆ·çš„æƒé™é”™è¯¯ï¼Œå°†<code>/etc/supervisor/supervisord.conf</code>å†…<code>[unix_http_server]</code>è¿™é¡¹æ”¹ä¸ºï¼ˆ<code>;</code>å³æ˜¯æ³¨é‡Šï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[unix_http_server]</span><br><span class="line">file=/tmp/supervisor.sock   ; (the path to the socket file)</span><br><span class="line">chmod=0766                 ; socket file mode (default 0700)</span><br><span class="line">;chown=nobody:nogroup       ; socket file uid:gid owner</span><br><span class="line">;username=user              ; (default is no username (open server))</span><br><span class="line">;password=123               ; (default is no password (open server))</span><br></pre></td></tr></table></figure><p>å†å°†æœ«å°¾çš„<code>[include]</code>éƒ¨åˆ†æ”¹ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[include]</span><br><span class="line">files = /etc/supervisor/*.conf</span><br><span class="line">files = /etc/supervisor/conf.d/*.conf</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ–¹ä¾¿ä¸ºæ¯ä¸ªappå•ç‹¬è®¾ç½®confæ–‡ä»¶è€Œä¸å¿…å…¨éƒ¨å†™åœ¨å…¨å±€è®¾ç½®é‡Œé¢ã€‚<br> <a href="https://stackoverflow.com/questions/18859063/supervisor-socket-error-issue">åœ¨å¯åŠ¨<code>supervisorctl</code>é¡»å…ˆå¯åŠ¨<code>supervisord</code></a>ï¼Œå¦åˆ™ä¼šå‡ºç°<code>error: &lt;class &#39;socket.error&#39;&gt;, [Errno 99] Cannot assign requested address: file: /usr/lib/python2.7/socket.py line: 575</code>é”™è¯¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo supervisord -c /etc/supervisor/supervisord.conf</span><br><span class="line">sudo supervisorctl -c /etc/supervisor/supervisord.conf</span><br></pre></td></tr></table></figure><p>åœ¨<code>/etc/supervisor/conf.d/</code>é‡Œæ–°å»º<code>app.conf</code>æ–‡ä»¶ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[program:app]</span><br><span class="line">directory = ~/su/ ; ç¨‹åºçš„å¯åŠ¨ç›®å½•</span><br><span class="line"><span class="built_in">command</span> = /home/hadoop/anaconda3/bin/python /home/hadoop/su/app.py  ; å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡ºä¸æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„ï¼Œæ³¨æ„è¿™é‡Œhomeä¸å¯ç”¨~ä»£æ›¿</span><br><span class="line">autostart = <span class="literal">true</span>     ; åœ¨ supervisord å¯åŠ¨çš„æ—¶å€™ä¹Ÿè‡ªåŠ¨å¯åŠ¨</span><br><span class="line">startsecs = 5        ; å¯åŠ¨ 5 ç§’åæ²¡æœ‰å¼‚å¸¸é€€å‡ºï¼Œå°±å½“ä½œå·²ç»æ­£å¸¸å¯åŠ¨äº†</span><br><span class="line">autorestart = <span class="literal">true</span>   ; ç¨‹åºå¼‚å¸¸é€€å‡ºåè‡ªåŠ¨é‡å¯</span><br><span class="line">startretries = 3     ; å¯åŠ¨å¤±è´¥è‡ªåŠ¨é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤æ˜¯ 3</span><br><span class="line">user = hadoop          ; ç”¨å“ªä¸ªç”¨æˆ·å¯åŠ¨</span><br><span class="line">redirect_stderr = <span class="literal">true</span>  ; æŠŠ stderr é‡å®šå‘åˆ° stdoutï¼Œé»˜è®¤ <span class="literal">false</span></span><br><span class="line">stdout_logfile_maxbytes = 20MB  ; stdout æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ 50MB</span><br><span class="line">stdout_logfile_backups = 20     ; stdout æ—¥å¿—æ–‡ä»¶å¤‡ä»½æ•°</span><br><span class="line">; stdout æ—¥å¿—æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„å½“æŒ‡å®šç›®å½•ä¸å­˜åœ¨æ—¶æ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨åˆ›å»ºç›®å½•ï¼ˆsupervisord ä¼šè‡ªåŠ¨åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼‰</span><br><span class="line">stdout_logfile = /tmp/app.log</span><br></pre></td></tr></table></figure><p>å†ä»‹ç»ä¸¤ä¸ªæœ‰ç”¨çš„é…ç½®é¡¹<code>stopasgroup</code>å’Œ<code>killasgroup</code>ï¼Œå¦‚æœæˆ‘ä»¬ç”¨Flaskç­‰RestæœåŠ¡ï¼Œé€šå¸¸å…¶ä¼šå¼€å¯å‡ ä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆå¦‚æœ<code>stopasgroup</code>ä¸å¯ç”¨çš„è¯ï¼Œsupervisoræ— æ³•é‡å¯æ­¤æœåŠ¡ï¼ˆå…³é—­ä¸»è¿›ç¨‹æ—¶å…¶å­è¿›ç¨‹æ²¡æœ‰å…³é—­ï¼Œå†å¼€å¯ä¸»è¿›ç¨‹æ—¶ä¼šæç¤ºç«¯å£è¢«å ç”¨ç­‰é”™è¯¯ä¿¡æ¯ï¼‰ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">; é»˜è®¤ä¸º falseï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œå½“è¿›ç¨‹æ”¶åˆ° stop ä¿¡å·æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯¥ä¿¡å·å‘ç»™è¯¥è¿›ç¨‹çš„å­è¿›ç¨‹ã€‚å¦‚æœè¿™ä¸ªé…ç½®é¡¹ä¸º trueï¼Œé‚£ä¹ˆä¹Ÿéšå« killasgroup ä¸º trueã€‚ä¾‹å¦‚åœ¨ Debug æ¨¡å¼ä½¿ç”¨ Flask æ—¶ï¼ŒFlask ä¸ä¼šå°†æ¥æ”¶åˆ°çš„ stop ä¿¡å·ä¹Ÿä¼ é€’ç»™å®ƒçš„å­è¿›ç¨‹ï¼Œå› æ­¤å°±éœ€è¦è®¾ç½®è¿™ä¸ªé…ç½®é¡¹ã€‚</span><br><span class="line">stopasgroup=false             ; send stop signal to the UNIX process </span><br><span class="line">; é»˜è®¤ä¸º falseï¼Œå¦‚æœè®¾ç½®ä¸º trueï¼Œå½“è¿›ç¨‹æ”¶åˆ° kill ä¿¡å·æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯¥ä¿¡å·å‘ç»™è¯¥è¿›ç¨‹çš„å­è¿›ç¨‹ã€‚å¦‚æœè¿™ä¸ªç¨‹åºä½¿ç”¨äº† python çš„ multiprocessing æ—¶ï¼Œå°±èƒ½è‡ªåŠ¨åœæ­¢å®ƒçš„å­çº¿ç¨‹ã€‚</span><br><span class="line">killasgroup=false             ; SIGKILL the UNIX process group (def false)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶supervisoræ˜¯python2å†™çš„ï¼Œä½†åªè¦æˆ‘ä»¬æŒ‡å®šè¿è¡Œçš„python3è§£é‡Šå™¨å»è¿è¡Œç¨‹åºå°±è¡Œäº†ã€‚</p><p>è¿è¡Œ<code>supervisorctl</code>ï¼Œå³å¯åœ¨shellé‡Œé¢æ–¹ä¾¿çš„æ“ä½œï¼Œå¦‚<code>start app</code>ã€<code>restart app</code>ç­‰ã€‚</p><p>è‹¥éœ€è¦webç•Œé¢ï¼Œå¯åœ¨<code>/etc/supervisor/supervisord.conf</code>å†…ä¿®æ”¹ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[inet_http_server]         ; inet (TCP) server disabled by default</span><br><span class="line">port=127.0.0.1:9001        ; (ip_address:port specifier, *:port <span class="keyword">for</span> all iface, è‹¥çš„å½¢å¼*:portåˆ™å¼€æ”¾å¤–ç½‘è®¿é—® )</span><br><span class="line">;username=user              ; (default is no username (open server))</span><br><span class="line">;password=123               ; (default is no password (open server))</span><br></pre></td></tr></table></figure><p>é‡å¯<code>supervisorctl</code>åå³å¯åœ¨<code>127.0.0.1:9001</code>è§åˆ°webç•Œé¢ï¼Œ</p><p>![](/images/2017/07/Screenshot from 2017-07-06 11-49-21.png)</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>å¦‚æœä¿®æ”¹äº† /etc/supervisord.conf ,éœ€è¦æ‰§è¡Œ supervisorctl reload æ¥é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚ã€‚ã€‚</li><li>å¾ˆå¤šæ—¶å€™ç”¨supervisorç®¡ç†åå°è¿›ç¨‹å®¹æ˜“å¤±è´¥ï¼Œå¦‚<code>hbase/bin/hbase-daemon.sh start thrift</code>ï¼Œè¿™æ—¶å€™å¯ä»¥æ”¹ç”¨å‰å°è¿›ç¨‹å¦‚<code>/usr/local/hbase/bin/hbase thrift start</code>ã€‚</li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/%E8%BF%90%E7%BB%B4/">è¿ç»´</category>
      
      
      <comments>http://example.com/2017/07/06/Use-supervisor-support-Python3-program/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Ubuntu16.04 å›ºå®šIPä¸è®¾ç½®DNS</title>
      <link>http://example.com/2017/06/20/Ubuntu-16-04-static-IP/</link>
      <guid>http://example.com/2017/06/20/Ubuntu-16-04-static-IP/</guid>
      <pubDate>Tue, 20 Jun 2017 07:13:31 GMT</pubDate>
      
      <description>&lt;p&gt;è®¾ç½®Hadoopé›†ç¾¤çš„ç¬¬ä¸€æ­¥å¾ˆå¯èƒ½å°±æ˜¯è®¾ç½®å›ºå®šIPäºDNSï¼Œè€Œç½‘ä¸Šè¿™ä¸€åšæ³•ç”±äºUbuntuç‰ˆæœ¬åŠæ¡Œé¢ç‰ˆæœåŠ¡å™¨ç‰ˆçš„ä¸åŒå¯¼è‡´æ®‹å·®ä¸é½ï¼Œæœ¬æ–‡è®°å½•ä¸€ä¸‹Ubuntu16.04åœ¨éå›¾å½¢ç•Œé¢å›ºå®šIPä¸è®¾ç½®DNSçš„è¿‡ç¨‹ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>è®¾ç½®Hadoopé›†ç¾¤çš„ç¬¬ä¸€æ­¥å¾ˆå¯èƒ½å°±æ˜¯è®¾ç½®å›ºå®šIPäºDNSï¼Œè€Œç½‘ä¸Šè¿™ä¸€åšæ³•ç”±äºUbuntuç‰ˆæœ¬åŠæ¡Œé¢ç‰ˆæœåŠ¡å™¨ç‰ˆçš„ä¸åŒå¯¼è‡´æ®‹å·®ä¸é½ï¼Œæœ¬æ–‡è®°å½•ä¸€ä¸‹Ubuntu16.04åœ¨éå›¾å½¢ç•Œé¢å›ºå®šIPä¸è®¾ç½®DNSçš„è¿‡ç¨‹ã€‚</p><span id="more"></span><h2 id="Ubuntu16-04-å›ºå®šIP"><a href="#Ubuntu16-04-å›ºå®šIP" class="headerlink" title="Ubuntu16.04 å›ºå®šIP"></a>Ubuntu16.04 å›ºå®šIP</h2><h3 id="Step-Oneã€Ubuntu-serverä¸éœ€ï¼Œè·³è¿‡å³å¯ã€‘"><a href="#Step-Oneã€Ubuntu-serverä¸éœ€ï¼Œè·³è¿‡å³å¯ã€‘" class="headerlink" title="Step-Oneã€Ubuntu-serverä¸éœ€ï¼Œè·³è¿‡å³å¯ã€‘"></a>Step-Oneã€Ubuntu-serverä¸éœ€ï¼Œè·³è¿‡å³å¯ã€‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/NetworkManager/NetworkManager.conf</span><br><span class="line"><span class="comment"># å°†`managed=false`ä¿®æ”¹æˆ`managed=true`</span></span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure><h3 id="Step-Two"><a href="#Step-Two" class="headerlink" title="Step-Two"></a>Step-Two</h3><p>å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹é…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo vim /etc/network/interfaces</span><br></pre></td></tr></table></figure><p>æ”¹ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># interfaces(5) file used by ifup(8) and ifdown(8)</span></span><br><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br><span class="line"></span><br><span class="line">auto enp0s31f6</span><br><span class="line">iface enp0s31f6 inet static</span><br><span class="line">address 192.168.1.109</span><br><span class="line">netmask 255.255.255.0</span><br><span class="line"><span class="comment">#network 192.168.1.0</span></span><br><span class="line"><span class="comment">#broadcast 192.168.1.255</span></span><br><span class="line">gateway 192.168.1.254</span><br></pre></td></tr></table></figure><p>å…¶ä¸­â€˜enp0s31f6â€™å°±æ˜¯<code>ifconfig</code>ä¸­ä»¥å¤ªç½‘åç§°ã€‚</p><p>é™„Linuxä¸‹æŸ¥çœ‹ç½‘å…³gatewayæ–¹æ³•ï¼š</p><ol><li>route -n</li><li>ip route show</li><li>traceroute <a href="http://www.baidu.com/">www.baidu.com</a> -s 100 ã€ç¬¬ä¸€è¡Œå°±æ˜¯è‡ªå·±çš„ç½‘å…³ã€‘</li><li>netstat -r</li><li>more /etc/network/interfaces ã€Debian/Ubuntu Linuxã€‘</li><li>more /etc/sysconfig/network-scripts/ifcfg-eth0 ã€Red Hat Linuxã€‘</li></ol><p>å¦‚ä¸æ¸…æ¥šç½‘å…³å’Œå­ç½‘æ©ç ç­‰å‚æ•°ï¼Œå¯åœ¨Ubuntuè®¾ç½®é‡Œå°†networké‡Œçš„ipv4å…ˆè®¾ç½®ä¸ºDHCPï¼ˆè‡ªåŠ¨è·å–ç½‘ç»œï¼‰ï¼Œå†åˆ©ç”¨<code>ifconfig</code>å’Œä¸Šè¿°æ–¹æ³•æŸ¥çœ‹å‚æ•°åæ›´æ”¹å›ºå®šå‚æ•°ã€‚</p><h3 id="Step-Three"><a href="#Step-Three" class="headerlink" title="Step-Three"></a>Step-Three</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡å¯networkingæœåŠ¡</span></span><br><span class="line">sudo systemctl restart networking.service</span><br></pre></td></tr></table></figure><h2 id="Ubuntu16-04-è®¾ç½®DNS"><a href="#Ubuntu16-04-è®¾ç½®DNS" class="headerlink" title="Ubuntu16.04 è®¾ç½®DNS"></a>Ubuntu16.04 è®¾ç½®DNS</h2><p>ä½†æ˜¯å›ºå®šIPä½¿å¾—ç”µè„‘å¾ˆå¯èƒ½æ— æ³•ä¸Šç½‘ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨è®¾ç½®DNSã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤æ–‡ä»¶ä¸å­˜åœ¨</span></span><br><span class="line">sudo vim /etc/resolvconf/resolv.conf.d/base</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä¸‹é¢å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">meserver 8.8.8.8</span><br><span class="line">nameserver 8.8.4.4</span><br><span class="line"></span><br><span class="line">nameserver 192.168.1.254</span><br><span class="line">nameserver 114.114.114.114</span><br></pre></td></tr></table></figure><p>å…¶ä¸­114.114.114.114æ˜¯å›½å†…ç§»åŠ¨ã€ç”µä¿¡å’Œè”é€šé€šç”¨çš„DNSï¼Œ8.8.8.8å’Œ8.8.4.4æ˜¯GOOGLEå…¬å¸æä¾›çš„DNSï¼Œ192.168.1.254æ˜¯ç½‘å…³åœ°å€ã€‚</p><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="http://www.jianshu.com/p/ea4bca38e5d7">ubuntu16.04å›ºå®šIPä¸è®¾ç½®DNS - ç®€ä¹¦</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/06/20/Ubuntu-16-04-static-IP/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Learning Something from Fluent Python</title>
      <link>http://example.com/2017/06/18/Learning-Something-from-Fluent-Python/</link>
      <guid>http://example.com/2017/06/18/Learning-Something-from-Fluent-Python/</guid>
      <pubDate>Sun, 18 Jun 2017 11:42:32 GMT</pubDate>
      
      <description>&lt;p&gt;â€œFluent Pythonâ€ çœŸæ˜¯ä¸€æœ¬ä¸å¯å¤šå¾—çš„è¿›é˜¶Pythonç¥ä¹¦ï¼è¯»æ—¶æ„Ÿè§‰å°±åƒä¸€ä¸ªè€å¸æœºè®²ä»–çš„ç»å†ï¼Œè€Œä½ æƒ…ä¸è‡ªç¦çš„å–Šâ€œ666~â€ã€‚æœ¬æ–‡è®°å½•ä¸€äº›ä»ä¹¦é‡Œçœ‹åˆ°çš„ç²¾å½©ç‰‡æ®µä¸å¿ƒå¾—ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>â€œFluent Pythonâ€ çœŸæ˜¯ä¸€æœ¬ä¸å¯å¤šå¾—çš„è¿›é˜¶Pythonç¥ä¹¦ï¼è¯»æ—¶æ„Ÿè§‰å°±åƒä¸€ä¸ªè€å¸æœºè®²ä»–çš„ç»å†ï¼Œè€Œä½ æƒ…ä¸è‡ªç¦çš„å–Šâ€œ666~â€ã€‚æœ¬æ–‡è®°å½•ä¸€äº›ä»ä¹¦é‡Œçœ‹åˆ°çš„ç²¾å½©ç‰‡æ®µä¸å¿ƒå¾—ã€‚</p><span id="more"></span><h2 id="singledispatchè£…é¥°å™¨"><a href="#singledispatchè£…é¥°å™¨" class="headerlink" title="singledispatchè£…é¥°å™¨"></a>singledispatchè£…é¥°å™¨</h2><p>functools.singledispatch è£…é¥°å™¨æ˜¯åœ¨Python 3.4ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œç±»ä¼¼java çš„æ–¹æ³•é‡è½½ï¼Œå¯ä»¥è®©ä½ æ–¹ä¾¿çš„ä¸ºä¸åŒçš„ç±»å‹å‚æ•°è°ƒç”¨ä¸åŒå‡½æ•°ã€‚ä¹¦ä¸­ä¸¾çš„ä¸€ä¸ªåœºæ™¯æ˜¯æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºä¸åŒçš„å‚æ•°ç”Ÿæˆä¸åŒæ ¼å¼çš„HTML tagï¼Œé‚£ä¹ˆå¦‚æœç”¨ä¸€ä¸ªå‡½æ•°æ¥è¡¨è¾¾è¿™ä¸ªé€»è¾‘ï¼Œå¯èƒ½éœ€è¦éå¸¸å¤šçš„if-elseé€»è¾‘çš„è·³è½¬ï¼Œè¿™ä¸ä»…å¾ˆç¹æ‚ï¼Œè€Œä¸”ä¸åˆ©äºåæœŸçš„ç»´æŠ¤ä¸è¿­ä»£ï¼Œé‚£ä¹ˆsingledispatch è£…é¥°å™¨å°±å¯ä»¥è®©ä½ ä»è¿™ä¸ªå±€é¢é‡Œè§£æ”¾å‡ºæ¥ï¼Œå¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf8 -*-</span></span><br><span class="line"><span class="comment"># Created by frank at 18/06/2017</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> singledispatch</span><br><span class="line"></span><br><span class="line"><span class="meta">@singledispatch</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myprint</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@myprint.register(<span class="params"><span class="built_in">str</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_</span>(<span class="params">text</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;FUCKING STRING! &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(text))</span><br><span class="line"></span><br><span class="line"><span class="meta">@myprint.register(<span class="params"><span class="built_in">int</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;FUCKING INT! &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(n))</span><br><span class="line"></span><br><span class="line"><span class="meta">@myprint.register(<span class="params"><span class="built_in">float</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;FUCKING FLOAT! &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(f))</span><br><span class="line"></span><br><span class="line"><span class="meta">@myprint.register(<span class="params"><span class="built_in">tuple</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_</span>(<span class="params">seq</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;FUCKING TUPLE!&quot;</span> + <span class="built_in">str</span>([item <span class="keyword">for</span> item <span class="keyword">in</span> seq]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    myprint(<span class="number">1</span>)</span><br><span class="line">    myprint(<span class="number">0.5</span>)</span><br><span class="line">    myprint(<span class="string">&#x27;frank&#x27;</span>)</span><br><span class="line">    myprint((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FUCK INT! 1</span><br><span class="line">FUCK FLOAT! 0.5</span><br><span class="line">FUCK STRING! frank</span><br><span class="line">FUCK tuple![1, 2, 3]</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„ç®€å•çš„ä¾‹å­ä¸­ï¼Œsingledispatchè£…é¥°å™¨ä¸ºmyprintå‡½æ•°çš„ä¸åŒå‚æ•°é€‰æ‹©äº†ä¸åŒçš„è°ƒç”¨ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2017/06/18/Learning-Something-from-Fluent-Python/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>programmer humor week 4</title>
      <link>http://example.com/2017/06/18/programmer-humor-week-4/</link>
      <guid>http://example.com/2017/06/18/programmer-humor-week-4/</guid>
      <pubDate>Sun, 18 Jun 2017 11:28:36 GMT</pubDate>
      
      <description>&lt;p&gt;programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ</p><span id="more"></span><h3 id="Passwords"><a href="#Passwords" class="headerlink" title="Passwords"></a>Passwords</h3><p><img src="/images/2017/06/00.png"></p><h3 id="Haters-will-say-he-she-doesnâ€™t-even-code"><a href="#Haters-will-say-he-she-doesnâ€™t-even-code" class="headerlink" title="Haters will say he/she doesnâ€™t even code"></a>Haters will say he/she doesnâ€™t even code</h3><p><img src="/images/2017/06/01.jpg"></p><h3 id="Just-a-bit"><a href="#Just-a-bit" class="headerlink" title="Just a bit."></a>Just a bit.</h3><p><img src="/images/2017/06/02.jpg"></p><h3 id="Happy-Birthday-Linux"><a href="#Happy-Birthday-Linux" class="headerlink" title="Happy Birthday Linux!"></a>Happy Birthday Linux!</h3><p><img src="/images/2017/06/03.jpg"></p><h3 id="How-to-get-tomorrowâ€™s-date"><a href="#How-to-get-tomorrowâ€™s-date" class="headerlink" title="How to get tomorrowâ€™s date"></a>How to get tomorrowâ€™s date</h3><p><img src="/images/2017/06/04.png"></p><h2 id="å¼•ç”¨è‡ª"><a href="#å¼•ç”¨è‡ª" class="headerlink" title="å¼•ç”¨è‡ª"></a>å¼•ç”¨è‡ª</h2><p><a href="https://www.reddit.com/r/ProgrammerHumor/">Programmer Humor</a></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Funny/">Funny</category>
      
      
      <comments>http://example.com/2017/06/18/programmer-humor-week-4/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Python PATHæ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Ÿä»â€œimport pysparkâ€æŠ¥é”™è¯´èµ·</title>
      <link>http://example.com/2017/06/15/About-Python-PATH/</link>
      <guid>http://example.com/2017/06/15/About-Python-PATH/</guid>
      <pubDate>Wed, 14 Jun 2017 18:57:57 GMT</pubDate>
      
      <description>&lt;p&gt;ä¸ºä½•import pysparkæŠ¥é”™ï¼Ÿè®©æˆ‘ä»¬ä»æ‹ä¸€æ‹Pythonçš„ç¯å¢ƒå˜é‡PATHå¼€å§‹ï¼&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ä¸ºä½•import pysparkæŠ¥é”™ï¼Ÿè®©æˆ‘ä»¬ä»æ‹ä¸€æ‹Pythonçš„ç¯å¢ƒå˜é‡PATHå¼€å§‹ï¼</p><span id="more"></span><p>Sparkè£…å¥½åç›´æ¥åœ¨ä»£ç å¼€å¤´<code>import pyspark</code>ä¸å‡ºæ„å¤–æ˜¯è¦æŠ¥é”™çš„ï¼Œæ²¡æœ‰è¿™ä¸ªæ¨¡å—ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œåªæ˜¯pythonæ‰¾ä¸åˆ°è¿™ä¸ªåœ°å€è€Œå·²ï¼Œæœ‰å¾ˆquick and dirtyçš„è§£å†³æ–¹æ³•ï¼Œå°±æ˜¯åˆ©ç”¨åŒ…<code>findspark</code>ï¼Œåªè¦åœ¨å¼€å¤´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> findspark</span><br><span class="line">findspark.init()</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å³å¯é¡ºåˆ©<code>import pyspark</code>ï¼Œä¸è¿‡è¿™ä¸ªåœ¨â€œimportå…¶ä»–ä¾èµ–ä¹‹å‰å…ˆè¿è¡Œå‡½æ•°â€å®åœ¨æ˜¯æœ‰ç¢è§‚èµæ€§ã€‚ã€‚ã€‚ä»€ä¹ˆæ˜¯â€œä¼˜é›…çš„è§£å†³æ–¹æ³•â€å‘¢ï¼Ÿåˆ«æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹<code>import findspark</code>åšäº†ä»€ä¹ˆå§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ensure SPARK_HOME is defined</span></span><br><span class="line">os.environ[<span class="string">&#x27;SPARK_HOME&#x27;</span>] = spark_home</span><br><span class="line"></span><br><span class="line"><span class="comment"># ensure PYSPARK_PYTHON is defined</span></span><br><span class="line">os.environ[<span class="string">&#x27;PYSPARK_PYTHON&#x27;</span>] = python_path</span><br><span class="line"></span><br><span class="line"><span class="comment"># add pyspark to sys.path</span></span><br><span class="line">spark_python = os.path.join(spark_home, <span class="string">&#x27;python&#x27;</span>)</span><br><span class="line">py4j = glob(os.path.join(spark_python, <span class="string">&#x27;lib&#x27;</span>, <span class="string">&#x27;py4j-*.zip&#x27;</span>))[<span class="number">0</span>]</span><br><span class="line">sys.path[:<span class="number">0</span>] = [spark_python, py4j]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> edit_rc:</span><br><span class="line">    change_rc(spark_home, spark_python, py4j) </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> edit_profile:</span><br><span class="line">    edit_ipython_profile(spark_home, spark_python, py4j)</span><br></pre></td></tr></table></figure><p>debugä¸€ä¸‹ï¼ŒåŸæ¥init()çš„ä½œç”¨å³æ˜¯å°†å¦‚â€™/usr/local/spark/pythonâ€™å’Œâ€™/usr/local/spark/python/lib/py4j-0.9-src.zipâ€™å†™å…¥ sys.pathå†…ï¼Œå…¶ä¸­å¯é€‰æ˜¯å¦å†™å…¥â€™~/.bashrcâ€™æˆ–è€…IPython profileé‡Œã€‚å†é€šè¿‡æŸ¥é˜…ä¸€äº›èµ„æ–™ï¼Œæˆ‘ä»¬å¼€å§‹éªŒè¯æƒ³æ³•ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨æ¡Œé¢å»ºç«‹â€™fuck.pyâ€™æ–‡ä»¶ï¼š</p><p><code>echo &quot;print(&#39;FUCK&#39;)&quot; &gt; fuck.py</code><br>é‚£ä¹ˆï¼Œåªè¦æˆ‘ä»¬import fuck æˆåŠŸå³æ‰“å°æ­¤æ–‡å­—ï¼Œæˆ‘ä»¬åœ¨Desktopä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">frank@mac:Desktop$ python -c <span class="string">&quot;import fuck&quot;</span></span><br><span class="line">FUCK</span><br><span class="line">frank@mac:Desktop$ python -c <span class="string">&quot;import sys; print(sys.path)&quot;</span></span><br><span class="line">[<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;/Users/frank/Desktop&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python36.zip&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/lib-dynload&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages/Sphinx-1.5.1-py3.6.egg&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages/aeosa&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages/setuptools-27.2.0-py3.6.egg&#x27;</span>]</span><br></pre></td></tr></table></figure><p>æ²¡é—®é¢˜ï¼Œå› ä¸º<code>sys.path</code>è™½ä¸åŒ…æ‹¬å½“å‰ç›®å½•ï¼Œä½†æ˜¯buildinå‡½æ•°importé»˜è®¤å¯»æ‰¾å½“å‰ç›®å½•ã€‚</p><p>é‚£æˆ‘ä»¬åˆ‡åˆ°å…¶ä»–æ–‡ä»¶å¤¹ï¼Ÿ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">frank@mac:tmp$ python</span><br><span class="line"></span><br><span class="line">frank@mac:tmp$ python -c <span class="string">&quot;import fuck&quot;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;string&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ModuleNotFoundError: No module named <span class="string">&#x27;fuck&#x27;</span></span><br><span class="line">frank@mac:tmp$ python -c <span class="string">&quot;import sys; print(sys.path)&quot;</span></span><br><span class="line">[<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python36.zip&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/lib-dynload&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages/Sphinx-1.5.1-py3.6.egg&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages/aeosa&#x27;</span>, <span class="string">&#x27;/Users/frank/anaconda/lib/python3.6/site-packages/setuptools-27.2.0-py3.6.egg&#x27;</span>]</span><br></pre></td></tr></table></figure><p><code>fuck.py</code>æ—¢ä¸åœ¨å½“å‰ç›®å½•ä¹Ÿä¸åœ¨<code>sys.path</code>ï¼Œé‚£ä¹ˆå¦‚ä½•æ·»åŠ å‘¢ï¼Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸€æ˜¯æ·»åŠ è¿›<code>sys.path</code>é‡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; sys.path.append(<span class="string">&#x27;/Users/frank/Desktop&#x27;</span>)</span><br><span class="line">&gt;&gt;&gt; import fuck</span><br><span class="line">FUCK</span><br></pre></td></tr></table></figure><p>ä¸è¿‡è¿™ä¸ªåªå¯¹å½“å‰ç¨‹åºèµ·ä½œç”¨ï¼Œæƒ³è¦æŒä¹…æ•ˆæœçš„è¯ï¼Œé€šè¿‡æŸ¥é˜…<a href="https://docs.python.org/3/library/sys.html#sys.path">29.1. sys â€” System-specific parameters and functions â€” Python 3.6.1 documentation</a>å¯å¾—ï¼Œ<code>sys.path</code>æ˜¯é€šè¿‡PYTHONPATHç¯å¢ƒå˜é‡èµ·ä½œç”¨çš„ï¼Œé‚£ä¹ˆæŠŠéœ€è¦çš„ç›®å½•æ·»åŠ åˆ°PYTHONPATHå³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frank@mac:~$ <span class="built_in">echo</span> <span class="string">&quot;export PYTHONPATH=/Users/frank/Desktop:<span class="variable">$PYTHONPATH</span>&quot;</span> &gt;&gt; ~/.profile &amp;&amp; <span class="built_in">source</span>  ~/.profile</span><br></pre></td></tr></table></figure><p>å†importå³å¯æˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frank@mac:tmp$ python -c <span class="string">&quot;import fuck&quot;</span></span><br><span class="line">FUCK</span><br></pre></td></tr></table></figure><p>ç»¼ä¸Šï¼Œéœ€è¦ä¸€åŠ³æ°¸é€¸è§£å†³<code>import pyspark</code>å¤±è´¥çš„é—®é¢˜ï¼Œé‚£ä¹ˆåœ¨`~/.profileâ€™å†…æ·»åŠ å¦‚ä¸‹å³å¯ï¼ˆpy4j-0.10.4-éƒ¨åˆ†ç‰ˆæœ¬å·å¯èƒ½ä¸åŒï¼‰ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> SPARK_HOME=/usr/<span class="built_in">local</span>/spark</span><br><span class="line"><span class="built_in">export</span> PYTHONPATH=<span class="variable">$SPARK_HOME</span>/python:<span class="variable">$SPARK_HOME</span>/python/lib/py4j-0.10.4-src.zip:<span class="variable">$PYTHONPATH</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>source  ~/.profile</code>å³å¯ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2017/06/15/About-Python-PATH/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>programmer humor week 3</title>
      <link>http://example.com/2017/05/27/programmer-humor-week-3/</link>
      <guid>http://example.com/2017/05/27/programmer-humor-week-3/</guid>
      <pubDate>Sat, 27 May 2017 09:58:39 GMT</pubDate>
      
      <description>&lt;p&gt;programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ</p><span id="more"></span><h3 id="â€œwhat-sales-doesâ€"><a href="#â€œwhat-sales-doesâ€" class="headerlink" title="â€œwhat sales doesâ€"></a>â€œwhat sales doesâ€</h3><p><img src="/images/2017/05/00.png"></p><h3 id="Harry-Potter-can-code-Python"><a href="#Harry-Potter-can-code-Python" class="headerlink" title="Harry Potter can code Python"></a>Harry Potter can code Python</h3><p><img src="/images/2017/05/01.jpg"></p><h3 id="The-neverending-story"><a href="#The-neverending-story" class="headerlink" title="The neverending story."></a>The neverending story.</h3><p><img src="/images/2017/05/02.png"></p><h3 id="relationship"><a href="#relationship" class="headerlink" title="relationship"></a>relationship</h3><p><img src="/images/2017/05/03.jpg"></p><h3 id="Functional-Programming-For-Beginners"><a href="#Functional-Programming-For-Beginners" class="headerlink" title="Functional Programming For Beginners"></a>Functional Programming For Beginners</h3><p><img src="/images/2017/05/04.png"></p><h2 id="å¼•ç”¨è‡ª"><a href="#å¼•ç”¨è‡ª" class="headerlink" title="å¼•ç”¨è‡ª"></a>å¼•ç”¨è‡ª</h2><p><a href="https://www.reddit.com/r/ProgrammerHumor/">Programmer Humor</a></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Funny/">Funny</category>
      
      
      <comments>http://example.com/2017/05/27/programmer-humor-week-3/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Ubuntu 16.04 æ­å»º Spark &amp; Hadoopé›†ç¾¤çš„è¯¦ç»†æ­¥éª¤åŠæŠ¥é”™å¡«å‘</title>
      <link>http://example.com/2017/05/27/Ubuntu-16-04-install-Spark-Hadoop/</link>
      <guid>http://example.com/2017/05/27/Ubuntu-16-04-install-Spark-Hadoop/</guid>
      <pubDate>Sat, 27 May 2017 08:13:04 GMT</pubDate>
      
      <description>&lt;p&gt;åœ¨Ubuntu 16.04 å®‰è£… Spark &amp;amp; Hadoopåˆ†å¸ƒå¼é›†ç¾¤çš„è®°å½•&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>åœ¨Ubuntu 16.04 å®‰è£… Spark &amp; Hadoopåˆ†å¸ƒå¼é›†ç¾¤çš„è®°å½•</p><span id="more"></span><h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><p>å¦‚ä¸‹è®¾ç½®é»˜è®¤éƒ½åœ¨æ¯ä¸€å°æœºå™¨ä¸Šéƒ½è¦è¿›è¡Œã€‚</p><h3 id="é…ç½®hadoopç”¨æˆ·"><a href="#é…ç½®hadoopç”¨æˆ·" class="headerlink" title="é…ç½®hadoopç”¨æˆ·"></a>é…ç½®hadoopç”¨æˆ·</h3><p>é¦–å…ˆæ˜¯åœ¨æ¯ä¸ªæœºå™¨ä¸Šåˆ›å»ºhadoopç”¨æˆ·ï¼Œè®¾ç½®å¯†ç ï¼ˆæ–¹ä¾¿èµ·è§å»ºè®®éƒ½è®¾ç½®ä¸€æ ·çš„ï¼‰ï¼Œå¹¶èµ‹äºˆå…¶rootæƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -m hadoop -s /bin/bash</span><br><span class="line">sudo passwd hadoop</span><br><span class="line">sudo adduser hadoop sudo</span><br></pre></td></tr></table></figure><h3 id="å›ºå®šIP"><a href="#å›ºå®šIP" class="headerlink" title="å›ºå®šIP"></a>å›ºå®šIP</h3><p>ä¸ºé˜²æ­¢é‡å¯å¯¼è‡´IPå˜åŒ–ï¼Œéœ€è¦å›ºå®šIpæ–¹æ³•å‚è€ƒ<a href="http://frankchen.xyz/2017/06/20/Ubuntu-16-04-static-IP/">Ubuntu16.04 å›ºå®šIPä¸è®¾ç½®DNS | ä¸æ­£ç»æ•°æ®ç§‘å­¦å®¶</a></p><h3 id="é…ç½®hosts"><a href="#é…ç½®hosts" class="headerlink" title="é…ç½®hosts"></a>é…ç½®hosts</h3><p>ä¸ºæ–¹ä¾¿éƒ¨ç½²ï¼Œå¯é…ç½®hostsåï¼Œæ–¹ä¾¿è¾“å…¥åœ°å€ï¼Œå¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br><span class="line">192.168.1.113      czn.shise.com</span><br><span class="line">192.168.1.102      czm.shise.com</span><br><span class="line">192.168.1.120      wwj.shise.com</span><br><span class="line">192.168.1.123      bas.shise.com</span><br></pre></td></tr></table></figure><p>æµ‹è¯•èƒ½å¦pingé€š<br><code>ping czn.shise.com -c 3</code></p><h3 id="é…ç½®-ssh-æ— å¯†ç è®¿é—®é›†ç¾¤æœºå™¨"><a href="#é…ç½®-ssh-æ— å¯†ç è®¿é—®é›†ç¾¤æœºå™¨" class="headerlink" title="é…ç½® ssh æ— å¯†ç è®¿é—®é›†ç¾¤æœºå™¨"></a>é…ç½® ssh æ— å¯†ç è®¿é—®é›†ç¾¤æœºå™¨</h3><p>æ¯å°æœºå™¨ä¹‹é—´ä»¥åŠæ¯å°æœºå™¨ä¸è‡ªå·±çš„localhostéƒ½éœ€é…ç½®sshå…å¯†ç ç™»å½•ã€‚<br>å¦‚æœªå®‰è£…sshéœ€ <code>sudo apt install openssh-server</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br><span class="line"><span class="built_in">exit</span>                           <span class="comment"># é€€å‡ºåˆšæ‰çš„ ssh localhost</span></span><br><span class="line"><span class="built_in">cd</span> ~/.ssh/                     <span class="comment"># è‹¥æ²¡æœ‰è¯¥ç›®å½•ï¼Œè¯·å…ˆæ‰§è¡Œä¸€æ¬¡ssh localhost</span></span><br><span class="line">ssh-keygen -t rsa              <span class="comment"># ä¼šæœ‰æç¤ºï¼Œéƒ½æŒ‰å›è½¦å°±å¯ä»¥</span></span><br></pre></td></tr></table></figure><p>å†ç”¨<code>ssh-copy-id</code>æ¥è®¾ç½®å…å¯†ç ç™»å½•ï¼Œå¦‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id localhost</span><br><span class="line">ssh-copy-id czn.shise.com</span><br><span class="line">ssh-copy-id czm.shise.com</span><br><span class="line">ssh-copy-id bas.shise.com</span><br></pre></td></tr></table></figure><p>åœ¨æ¯ä¸ªæœºå™¨ä¸Šéƒ½å¦‚æ­¤è®¾ç½®ä¸å…¶å®ƒæœºå™¨çš„å…å¯†ç ç™»å½•ã€‚<br>è¿™é‡Œé»˜è®¤éƒ½æ˜¯<code>hadoop</code>ç”¨æˆ·ï¼Œæ‰€ä»¥ä¸éœ€å¸¦ç”¨æˆ·åï¼Œå¦‚æœä¸æ˜¯åˆ™éœ€è¦å¸¦ç”¨æˆ·åå¦‚<br><code>ssh-copy-id hadoop@czn.shise.com</code></p><h3 id="Javaç¯å¢ƒ"><a href="#Javaç¯å¢ƒ" class="headerlink" title="Javaç¯å¢ƒ"></a>Javaç¯å¢ƒ</h3><p>ç»Ÿä¸€ä½¿ç”¨openjdk-8ï¼Œ<code>sudo apt-get install openjdk-8-jre openjdk-8-jdk</code><br>ä¼šé»˜è®¤å®‰è£…åœ¨<code>/usr/lib/jvm/java-8-openjdk-amd64</code></p><h2 id="Hadoopé›†ç¾¤é…ç½®"><a href="#Hadoopé›†ç¾¤é…ç½®" class="headerlink" title="Hadoopé›†ç¾¤é…ç½®"></a>Hadoopé›†ç¾¤é…ç½®</h2><p>æˆ‘ä»¬å…ˆç™»å½•è‡³ä½œä¸ºmasterçš„æœºå™¨ï¼Œé…ç½®å¥½ä¹‹åå†å°†hadoopç¯å¢ƒå¤åˆ¶è‡³å„slaveå³å¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚<br>é¦–å…ˆæ˜¯Hadoopé›†ç¾¤çš„é…ç½®ï¼Œä¸‹è½½<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/">Index of /apache/hadoop/common</a>ï¼Œæˆ‘ä»¬é€‰æ‹©2.7.3ç‰ˆæœ¬ã€‚<br>æ”¾ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxf ~/Downloads/hadoop-2.7.3.tar.gz -C /usr/<span class="built_in">local</span>    <span class="comment"># è§£å‹åˆ°/usr/localä¸­</span></span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/</span><br><span class="line">sudo mv ./hadoop-2.7.3/ ./hadoop            <span class="comment"># å°†æ–‡ä»¶å¤¹åæ”¹ä¸ºhadoop</span></span><br><span class="line">sudo chown -R hadoop:hadoop ./hadoop       <span class="comment"># ä¿®æ”¹æ–‡ä»¶æƒé™</span></span><br></pre></td></tr></table></figure><h3 id="å„æ–‡ä»¶é…ç½®"><a href="#å„æ–‡ä»¶é…ç½®" class="headerlink" title="å„æ–‡ä»¶é…ç½®"></a>å„æ–‡ä»¶é…ç½®</h3><p>é…ç½®<code>hadoop/etc/hadoop</code>æ–‡ä»¶å¤¹ä¸‹çš„å„æ–‡ä»¶ï¼Œ</p><p>åœ¨<code>hadoop-env.sh</code>é‡Œæ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span><br><span class="line"><span class="built_in">export</span> HADOOP_PREFIX=/usr/<span class="built_in">local</span>/hadoop</span><br></pre></td></tr></table></figure><p>åœ¨<code>core-site.xml</code>é‡Œæ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://wwj.shise.com:9000&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:/usr/local/hadoop/tmp&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p>åœ¨<code>yarn-site.xml</code>é‡Œæ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;wwj.shise.com&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p>æ”¹å†™<code>slaves</code>ä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">czn.shise.com</span><br><span class="line">czm.shise.com</span><br><span class="line">wwj.shise.com</span><br><span class="line">bas.shise.com</span><br></pre></td></tr></table></figure><p>æ”¹å†™<code>mapred-site.xml</code>æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;wwj.shise.com:10020&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;wwj.shise.com:19888&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><p><code>hdfs-site.xml</code>æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;wwj.shise.com:50090&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;3&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/name&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;file:/usr/local/hadoop/tmp/dfs/data&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><h3 id="å¤åˆ¶é…ç½®å¥½çš„hadoopè‡³å„æœºå™¨"><a href="#å¤åˆ¶é…ç½®å¥½çš„hadoopè‡³å„æœºå™¨" class="headerlink" title="å¤åˆ¶é…ç½®å¥½çš„hadoopè‡³å„æœºå™¨"></a>å¤åˆ¶é…ç½®å¥½çš„hadoopè‡³å„æœºå™¨</h3><p>åœ¨masterä¸Šå‹ç¼©æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line">sudo rm -r ./hadoop/tmp     <span class="comment"># åˆ é™¤ Hadoop ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line">sudo rm -r ./hadoop/logs/*   <span class="comment"># åˆ é™¤æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">tar -zcf ~/hadoop.master.tar.gz ./hadoop   <span class="comment"># å…ˆå‹ç¼©å†å¤åˆ¶</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">scp ./hadoop.master.tar.gz czn.shise.com:/home/hadoop <span class="comment"># å¤åˆ¶è‡³å„æœºå™¨</span></span><br><span class="line">scp ./hadoop.master.tar.gz czm.shise.com:/home/hadoop</span><br><span class="line">scp ./hadoop.master.tar.gz bas.shise.com:/home/hadoop</span><br></pre></td></tr></table></figure><p>å†ç™»å½•è‡³å¤åˆ¶è¿‡å»çš„æ¯ä¸ªslave</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -r /usr/<span class="built_in">local</span>/hadoop    <span class="comment"># åˆ æ‰æ—§çš„ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</span></span><br><span class="line">sudo tar -zxf ~/hadoop.master.tar.gz -C /usr/<span class="built_in">local</span></span><br><span class="line">sudo chown -R hadoop /usr/<span class="built_in">local</span>/hadoop</span><br></pre></td></tr></table></figure><h3 id="å„æœºå™¨ç¯å¢ƒå˜é‡"><a href="#å„æœºå™¨ç¯å¢ƒå˜é‡" class="headerlink" title="å„æœºå™¨ç¯å¢ƒå˜é‡"></a>å„æœºå™¨ç¯å¢ƒå˜é‡</h3><p><code>sudo vim ~/.profile</code><br>æˆ‘çš„ç¯å¢ƒå˜é‡è®¾ç½®å¦‚ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Java Env</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$JAVA_HOME</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/tools.jar:<span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JRE_HOME</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$JRE_HOME</span>/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># Hadoop Env</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/usr/<span class="built_in">local</span>/hadoop</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HADOOP_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/sbin</span><br></pre></td></tr></table></figure><p><code>source ~/.profile</code></p><h3 id="å¯åŠ¨æ£€æŸ¥"><a href="#å¯åŠ¨æ£€æŸ¥" class="headerlink" title="å¯åŠ¨æ£€æŸ¥"></a>å¯åŠ¨æ£€æŸ¥</h3><p>ç™»å½•masteræœºå™¨ï¼Œæ‰§è¡Œ NameNode çš„æ ¼å¼åŒ–ï¼š<code>hdfs namenode -format </code><br>å…ˆdfsã€å†yarn</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br><span class="line">start-yarn.sh</span><br><span class="line">mr-jobhistory-daemon.sh start historyserver</span><br></pre></td></tr></table></figure><h3 id="éªŒè¯hadoopå®‰è£…"><a href="#éªŒè¯hadoopå®‰è£…" class="headerlink" title="éªŒè¯hadoopå®‰è£…"></a>éªŒè¯hadoopå®‰è£…</h3><p>å¯ä»¥é€šè¿‡jpså‘½ä»¤æŸ¥çœ‹å„ä¸ªèŠ‚ç‚¹å¯åŠ¨çš„è¿›ç¨‹æ˜¯å¦æ­£å¸¸ã€‚åœ¨ master ä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ jps  <span class="comment">#run on master</span></span><br><span class="line">3407 SecondaryNameNode</span><br><span class="line">3218 NameNode</span><br><span class="line">3552 ResourceManager</span><br><span class="line">3910 Jps</span><br></pre></td></tr></table></figure><p>åœ¨æ¯ä¸ªslaveä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ jps   <span class="comment">#run on slaves</span></span><br><span class="line">2072 NodeManager</span><br><span class="line">2213 Jps</span><br><span class="line">1962 DataNode</span><br></pre></td></tr></table></figure><h2 id="Sparkåˆ†å¸ƒå¼é…ç½®"><a href="#Sparkåˆ†å¸ƒå¼é…ç½®" class="headerlink" title="Sparkåˆ†å¸ƒå¼é…ç½®"></a>Sparkåˆ†å¸ƒå¼é…ç½®</h2><h3 id="ä¸‹è½½åŠå®‰ç½®"><a href="#ä¸‹è½½åŠå®‰ç½®" class="headerlink" title="ä¸‹è½½åŠå®‰ç½®"></a>ä¸‹è½½åŠå®‰ç½®</h3><p>å®˜ç½‘ä¸‹è½½ï¼Œ<a href="http://spark.apache.org/downloads.html">Downloads | Apache Spark</a> ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©2.2.1ç‰ˆæœ¬ï¼Œ åŠPre-build with user-provided Apache Hadoopï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxf ~/Downloads/spark-2.1.1-bin-without-hadoop.tgz -C /usr/<span class="built_in">local</span>/</span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br><span class="line">sudo mv ./spark-2.1.1-bin-without-hadoop/ ./spark</span><br><span class="line">sudo chown -R hadoop:hadoop ./spark          <span class="comment"># æ­¤å¤„çš„ hadoop ä¸ºä½ çš„ç”¨æˆ·å</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®Spark"><a href="#é…ç½®Spark" class="headerlink" title="é…ç½®Spark"></a>é…ç½®Spark</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/spark/conf    <span class="comment">#è¿›å…¥sparké…ç½®ç›®å½•</span></span><br><span class="line">cp spark-env.sh.template spark-env.sh   <span class="comment">#ä»é…ç½®æ¨¡æ¿å¤åˆ¶</span></span><br><span class="line">vim spark-env.sh     <span class="comment">#æ·»åŠ é…ç½®å†…å®¹</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>spark-env.sh</code>æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆè¿™æ˜¯æˆ‘çš„é…ç½®ï¼Œä½ å¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#export SCALA_HOME=/home/spark/workspace/scala-2.10.4</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/usr/<span class="built_in">local</span>/hadoop</span><br><span class="line"><span class="built_in">export</span> HADOOP_CONF_DIR=<span class="variable">$HADOOP_HOME</span>/etc/hadoop</span><br><span class="line">SPARK_MASTER_IP=wwj.shise.com</span><br><span class="line">SPARK_LOCAL_DIRS=/usr/<span class="built_in">local</span>/spark</span><br><span class="line">SPARK_DRIVER_MEMORY=1G</span><br></pre></td></tr></table></figure><p>å‚è€ƒ<a href="https://spark.apache.org/docs/latest/hadoop-provided.html">Using Sparkâ€™s â€œHadoop Freeâ€ Build - Spark 2.2.0 Documentation</a>ï¼Œ<code>spark-env.sh</code>è¿˜éœ€åŠ ä¸Š<br><code>export SPARK_DIST_CLASSPATH=$(/usr/local/hadoop/bin/hadoop classpath)</code>ã€‚</p><p><code>vim slaves</code>åœ¨slavesæ–‡ä»¶ä¸‹å¡«ä¸Šslaveä¸»æœºåï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">czn.shise.com</span><br><span class="line">czm.shise.com</span><br><span class="line">wwj.shise.com</span><br><span class="line">bas.shise.com</span><br></pre></td></tr></table></figure><h3 id="å¤åˆ¶é…ç½®å¥½çš„Sparkè‡³å„æœºå™¨"><a href="#å¤åˆ¶é…ç½®å¥½çš„Sparkè‡³å„æœºå™¨" class="headerlink" title="å¤åˆ¶é…ç½®å¥½çš„Sparkè‡³å„æœºå™¨"></a>å¤åˆ¶é…ç½®å¥½çš„Sparkè‡³å„æœºå™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zcf ~/spark.master.tar.gz ./spark   <span class="comment"># å…ˆå‹ç¼©å†å¤åˆ¶</span></span><br><span class="line"><span class="built_in">cd</span> ~/</span><br><span class="line">scp ./spark.master.tar.gz czn.shise.com:/home/hadoop  <span class="comment">#ä¼ è¾“æ•°æ®</span></span><br><span class="line">scp ./spark.master.tar.gz czm.shise.com:/home/hadoop  <span class="comment">#ä¼ è¾“æ•°æ®</span></span><br><span class="line">scp ./spark.master.tar.gz bas.shise.com:/home/hadoop  <span class="comment">#ä¼ è¾“æ•°æ®</span></span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨Spark"><a href="#å¯åŠ¨Spark" class="headerlink" title="å¯åŠ¨Spark"></a>å¯åŠ¨Spark</h3><p><code>sbin/start-all.sh</code><br>ç”¨jpsæ£€æŸ¥ï¼Œåœ¨ master ä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ jps</span><br><span class="line">7949 Jps</span><br><span class="line">7328 SecondaryNameNode</span><br><span class="line">7805 Master</span><br><span class="line">7137 NameNode</span><br><span class="line">7475 ResourceManager</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ slave ä¸Šåº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè¿›ç¨‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$jps</span></span><br><span class="line">3132 DataNode</span><br><span class="line">3759 Worker</span><br><span class="line">3858 Jps</span><br><span class="line">3231 NodeManager</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æŠ¥é”™åŠè§£å†³"><a href="#æŠ¥é”™åŠè§£å†³" class="headerlink" title="æŠ¥é”™åŠè§£å†³"></a>æŠ¥é”™åŠè§£å†³</h2><blockquote><p>Python in worker has different version 2.7 than that in driver 3.6, PySpark cannot run with different minor versions.Please check environment variables PYSPARK_PYTHON and PYSPARK_DRIVER_PYTHON are correctly set.<br>å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯ä¸ºworkerä¸driverè®¾ç½®äº†ä¸åŒçš„Pythonç‰ˆæœ¬ï¼Œè§£å†³æ–¹æ³•æ˜¯ï¼ˆä»¥anaconda3.6ä¸ºä¾‹ï¼‰ï¼š</p></blockquote><p><code>vim /usr/local/spark/conf/spark-env.sh</code>ï¼Œ<br>æ·»åŠ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> ANACONDA_ROOT=/home/hadoop/anaconda3</span><br><span class="line"><span class="built_in">export</span> PYSPARK_DRIVER_PYTHON=<span class="variable">$ANACONDA_ROOT</span>/bin/python</span><br><span class="line"><span class="built_in">export</span> PYSPARK_PYTHON=<span class="variable">$ANACONDA_ROOT</span>/bin/pythonexport PYSPARK_PYTHON=<span class="variable">$ANACONDA_ROOT</span>/bin/python</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¾ˆå¤šæ•™ç¨‹ä¼šè®©ä½ åœ¨<code>.bashrc</code>é‡Œè®¾ç½®ï¼Œè¿™ä¸æ˜¯æ¨èçš„æ–¹æ³•ã€‚å‚è€ƒè‡ª<a href="https://stackoverflow.com/questions/30518362/how-do-i-set-the-drivers-python-version-in-spark">pyspark - How do I set the driverâ€™s python version in spark? - Stack Overflow</a>ã€‚</p><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="http://wuchong.me/blog/2015/04/04/spark-on-yarn-cluster-deploy/">Spark On YARN é›†ç¾¤å®‰è£…éƒ¨ç½² | Jarkâ€™s Blog</a></li><li><a href="http://dblab.xmu.edu.cn/blog/install-hadoop-cluster/">Hadoopé›†ç¾¤å®‰è£…é…ç½®æ•™ç¨‹_Hadoop2.6.0_Ubuntu/CentOS_å¦å¤§æ•°æ®åº“å®éªŒå®¤åšå®¢</a></li><li><a href="http://blog.csdn.net/zhshulin/article/details/50413240">Hadoopé›†ç¾¤å®Œå…¨åˆ†å¸ƒå¼æ­å»ºæ•™ç¨‹-CentOS - åœ¨è·¯ä¸Š - åšå®¢é¢‘é“ - CSDN.NET</a></li><li><a href="https://my.oschina.net/jackieyeah/blog/657750">Hadoop 2.6.4åˆ†å¸ƒå¼é›†ç¾¤ç¯å¢ƒæ­å»º - JackieYeahçš„ä¸ªäººç©ºé—´</a></li><li><a href="http://www.jianshu.com/p/2f6a85fe7b92">Spark On YARN é›†ç¾¤å®‰è£…éƒ¨ç½² - ç®€ä¹¦</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Hadoop/">Hadoop</category>
      
      <category domain="http://example.com/tags/Spark/">Spark</category>
      
      
      <comments>http://example.com/2017/05/27/Ubuntu-16-04-install-Spark-Hadoop/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>è§£å†³Excelé•¿æ•°å­—è¢«è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„é—®é¢˜</title>
      <link>http://example.com/2017/05/12/examples-for-processing-excel-and-time-series/</link>
      <guid>http://example.com/2017/05/12/examples-for-processing-excel-and-time-series/</guid>
      <pubDate>Fri, 12 May 2017 03:43:34 GMT</pubDate>
      
      <description>&lt;p&gt;è®°å½•ä¸€äº›åˆ©ç”¨Pandaså¤„ç†Excelå’Œæ—¶é—´æˆ³çš„ä¾‹å­ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>è®°å½•ä¸€äº›åˆ©ç”¨Pandaså¤„ç†Excelå’Œæ—¶é—´æˆ³çš„ä¾‹å­ã€‚</p><span id="more"></span><h3 id="è¯»å–å’Œä¿å­˜Excel"><a href="#è¯»å–å’Œä¿å­˜Excel" class="headerlink" title="è¯»å–å’Œä¿å­˜Excel"></a>è¯»å–å’Œä¿å­˜Excel</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sheetnameæŒ‡å®šè¯»å–å­è¡¨</span></span><br><span class="line">dfs = pd.read_excel(<span class="string">&#x27;/Users/frank/Desktop/hebing.xlsx&#x27;</span>, sheetname=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">c.to_excel(<span class="string">&#x27;/Users/frank/Desktop/result.xlsx&#x27;</span>,index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h3 id="DataFrameåˆå¹¶åŠæ’åº"><a href="#DataFrameåˆå¹¶åŠæ’åº" class="headerlink" title="DataFrameåˆå¹¶åŠæ’åº"></a>DataFrameåˆå¹¶åŠæ’åº</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dfs_group = dfs.groupby(by=<span class="string">&#x27;è®¢å•å·&#x27;</span>).<span class="built_in">sum</span>()</span><br><span class="line">dfs_group.sort_values(ascending=<span class="literal">False</span>, by=<span class="string">&#x27;å­è®¢å•é‡‘é¢&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="æ—¶é—´æ®µåˆ‡ç‰‡"><a href="#æ—¶é—´æ®µåˆ‡ç‰‡" class="headerlink" title="æ—¶é—´æ®µåˆ‡ç‰‡"></a>æ—¶é—´æ®µåˆ‡ç‰‡</h3><p>è¿™ä¸ªæˆ‘æš‚æ—¶æ²¡å‘ç°å¦‚ä½•ç”¨ä¸€è¡Œè¡¨è¾¾å¼å®Œæˆï¼Œæš‚æ—¶ç”¨çš„è¿™ç§lowæ–¹å¼ğŸ¤£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = dfs.loc[dfs[<span class="string">&quot;ä»˜æ¬¾æ—¶é—´&quot;</span>] &lt; <span class="string">&#x27;2017-05-10 09:00:00&#x27;</span>]</span><br><span class="line">b = a.loc[a[<span class="string">&quot;ä»˜æ¬¾æ—¶é—´&quot;</span>] &gt; <span class="string">&#x27;2017-05-08 10:00:00&#x27;</span>]</span><br></pre></td></tr></table></figure><h3 id="è§£å†³é•¿æ•°å­—è¢«è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„é—®é¢˜"><a href="#è§£å†³é•¿æ•°å­—è¢«è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„é—®é¢˜" class="headerlink" title="è§£å†³é•¿æ•°å­—è¢«è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„é—®é¢˜"></a>è§£å†³é•¿æ•°å­—è¢«è½¬ä¸ºç§‘å­¦è®¡æ•°æ³•çš„é—®é¢˜</h3><p>æ¯”å¦‚å¥½å¥½çš„è®¢å•å·ï¼Œ</p><img src="/images/2017/05/Screen Shot 2017-05-12 at 11.50.35.png" width="200" />ä¿å­˜ä¸ºxlsxæˆ–è€…csvå°±å˜æˆäº†è¿™æ ·ï¼Œè¿™æ˜¯ä»€ä¹ˆç©æ„å„¿ï¼Œå®Œå…¨ä¸èƒ½å¿å•Šï¼ğŸ¤¡ğŸ¤“ğŸ¤‘<img src="/images/2017/05/Screen Shot 2017-05-12 at 11.51.26.png" width="100" />å¦‚ä½•è§£å†³å‘¢ï¼Ÿå¦‚ä¸‹<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c[<span class="string">&#x27;è®¢å•å·&#x27;</span>] = c[<span class="string">&#x27;è®¢å•å·&#x27;</span>].apply(<span class="keyword">lambda</span> x: <span class="string">&#x27;&#123;:.0f&#125;&#x27;</span>.<span class="built_in">format</span>(x))</span><br></pre></td></tr></table></figure><p>å³å°†å…¶é•¿æ•°å­—è½¬ä¸ºä¸å¸¦å°æ•°ç‚¹çš„æµ®ç‚¹æ•°å½¢å¼å³å¯ğŸ˜</p><img src="/images/2017/05/Screen Shot 2017-05-12 at 12.02.33.png" width="200" />]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      <category domain="http://example.com/tags/Pandas/">Pandas</category>
      
      
      <comments>http://example.com/2017/05/12/examples-for-processing-excel-and-time-series/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>é¢è¯•å¸¸è§åŸºç¡€ç®—æ³•:æ’åº/æŸ¥æ‰¾/æ ‘çš„éå†ç­‰ï¼ˆpythonç‰ˆï¼‰</title>
      <link>http://example.com/2017/05/04/Basic-Algorithms-in-Python/</link>
      <guid>http://example.com/2017/05/04/Basic-Algorithms-in-Python/</guid>
      <pubDate>Thu, 04 May 2017 06:08:10 GMT</pubDate>
      
      <description>&lt;p&gt;æ€»ç»“ä¸€ä¸‹åŸºæœ¬ç®—æ³•ï¼Œä»¥å¤‡å¿˜ï¼Œä»¥å¤ä¹ ã€‚&lt;br&gt;å½“ç„¶ï¼Œä½ åˆ«æŒ‡æœ›è€ƒå®˜ä¼šç›´æ¥è€ƒä½ è¿™äº›ï¼Œå¤ªåŸºç¡€ï¼Œä½†æ˜¯ï¼Œå½“ä»–çŸ¥é“ä½ è¿™äº›éƒ½å†™ä¸å‡ºæ¥çš„æ—¶å€™ï¼Œä½ é¢è¯•ç»å¯¹æ²¡å¸Œæœ›äº†ã€‚&lt;/p&gt;
&lt;p&gt;PS: çœŸçš„æœ‰é¢è¯•å®˜ä¼šè€ƒå•Šï¼Œè‡³å°‘Baiduä¼šè€ƒâ€¦â€¦â€¦â€¦&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æ€»ç»“ä¸€ä¸‹åŸºæœ¬ç®—æ³•ï¼Œä»¥å¤‡å¿˜ï¼Œä»¥å¤ä¹ ã€‚<br>å½“ç„¶ï¼Œä½ åˆ«æŒ‡æœ›è€ƒå®˜ä¼šç›´æ¥è€ƒä½ è¿™äº›ï¼Œå¤ªåŸºç¡€ï¼Œä½†æ˜¯ï¼Œå½“ä»–çŸ¥é“ä½ è¿™äº›éƒ½å†™ä¸å‡ºæ¥çš„æ—¶å€™ï¼Œä½ é¢è¯•ç»å¯¹æ²¡å¸Œæœ›äº†ã€‚</p><p>PS: çœŸçš„æœ‰é¢è¯•å®˜ä¼šè€ƒå•Šï¼Œè‡³å°‘Baiduä¼šè€ƒâ€¦â€¦â€¦â€¦</p><span id="more"></span><h2 id="8å¤§æ’åº"><a href="#8å¤§æ’åº" class="headerlink" title="8å¤§æ’åº"></a>8å¤§æ’åº</h2><h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><p> ç¨³å®šæ’åºï¼Œç®€å•æ˜“äºå®ç°ï¼Œå¤æ‚åº¦$ÎŸ(n ^2)$ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubble_sort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    length = <span class="built_in">len</span>(arr)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, length):</span><br><span class="line">            <span class="keyword">if</span> arr[i] &gt; arr[j]:</span><br><span class="line">                arr[i], arr[j] = arr[j], arr[i]</span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure><h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><p> ä¸ç¨³å®šæ’åºï¼Œå¤æ‚åº¦$ÎŸ(n ^2)$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_sort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    length = <span class="built_in">len</span>(arr)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        _<span class="built_in">min</span> = i</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>, length):</span><br><span class="line">            <span class="keyword">if</span> arr[_<span class="built_in">min</span>] &gt; arr[j]:</span><br><span class="line">                _<span class="built_in">min</span> = j</span><br><span class="line">        arr[i], arr[_<span class="built_in">min</span>] = arr[_<span class="built_in">min</span>], arr[i]</span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort</span>(<span class="params">alist</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ’å…¥æ’åº&quot;&quot;&quot;</span></span><br><span class="line">    n = <span class="built_in">len</span>(alist)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">        <span class="comment"># æ§åˆ¶å°†æ‹¿åˆ°çš„å…ƒç´ æ”¾åˆ°å‰é¢æœ‰åºåºåˆ—ä¸­æ­£ç¡®ä½ç½®çš„è¿‡ç¨‹</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(j, <span class="number">0</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="comment"># å¦‚æœæ¯”å‰é¢çš„å…ƒç´ å°ï¼Œåˆ™å¾€å‰ç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">if</span> alist[i] &lt; alist[i - <span class="number">1</span>]:</span><br><span class="line">                alist[i], alist[i - <span class="number">1</span>] = alist[i - <span class="number">1</span>], alist[i]</span><br><span class="line">            <span class="comment"># å¦åˆ™ä»£è¡¨æ¯”å‰é¢çš„æ‰€æœ‰å…ƒç´ éƒ½å°ï¼Œä¸éœ€è¦å†ç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br></pre></td></tr></table></figure><h3 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shell_sort</span>(<span class="params">alist</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;å¸Œå°”æ’åº&quot;&quot;&quot;</span></span><br><span class="line">    n = <span class="built_in">len</span>(alist)</span><br><span class="line">    gap = n // <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> gap &gt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(gap, n):</span><br><span class="line">            i = j</span><br><span class="line">            <span class="keyword">while</span> (i - gap) &gt;= <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> alist[i] &lt; alist[i - gap]:</span><br><span class="line">                    alist[i], alist[i - gap] = alist[i - gap], alist[i]</span><br><span class="line">                    i -= gap</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        gap //= <span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><p>ç¨³å®šæ’åºï¼Œå¤æ‚åº¦ $ÎŸ(n log n)$ ï¼Œè¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸ºäºŒè·¯å½’å¹¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">msort2</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(x) &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    result = []          </span><br><span class="line">    mid = <span class="built_in">int</span>(<span class="built_in">len</span>(x) / <span class="number">2</span>)</span><br><span class="line">    y = msort2(x[:mid])</span><br><span class="line">    z = msort2(x[mid:])</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">len</span>(y) &gt; <span class="number">0</span>) <span class="keyword">and</span> (<span class="built_in">len</span>(z) &gt; <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">if</span> y[<span class="number">0</span>] &gt; z[<span class="number">0</span>]:</span><br><span class="line">            result.append(z[<span class="number">0</span>])</span><br><span class="line">            z.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.append(y[<span class="number">0</span>])</span><br><span class="line">            y.pop(<span class="number">0</span>)</span><br><span class="line">    result += y</span><br><span class="line">    result += z</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure><h3 id="å¿«é€Ÿæ’åº-QuickSort"><a href="#å¿«é€Ÿæ’åº-QuickSort" class="headerlink" title="å¿«é€Ÿæ’åº QuickSort"></a>å¿«é€Ÿæ’åº QuickSort</h3><p>ä¸ºä¸ç¨³å®šæ’åºï¼Œå¿«é€Ÿæ’åºé€šå¸¸æ˜æ˜¾æ¯”åŒä¸º $ÎŸ(n log n)$ çš„å…¶ä»–ç®—æ³•æ›´å¿«ï¼Œå› æ­¤å¸¸è¢«é‡‡ç”¨ï¼Œè€Œä¸”å¿«æ’é‡‡ç”¨äº†åˆ†æ²»æ³•çš„æ€æƒ³ï¼Œæ‰€ä»¥åœ¨å¾ˆå¤šç¬”è¯•é¢è¯•ä¸­èƒ½ç»å¸¸çœ‹åˆ°å¿«æ’çš„å½±å­ã€‚å¯è§æŒæ¡å¿«æ’çš„é‡è¦æ€§.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quicksort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(arr) &lt;= <span class="number">1</span>: <span class="keyword">return</span> arr</span><br><span class="line">    </span><br><span class="line">    pivot = arr[<span class="built_in">len</span>(arr) // <span class="number">2</span>]</span><br><span class="line">    left = [i <span class="keyword">for</span> i <span class="keyword">in</span> arr <span class="keyword">if</span> i&lt;pivot]    </span><br><span class="line">    middle = [i <span class="keyword">for</span> i <span class="keyword">in</span> arr <span class="keyword">if</span> i==pivot]</span><br><span class="line">    right = [i <span class="keyword">for</span> i <span class="keyword">in</span> arr <span class="keyword">if</span> i&gt;pivot]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> quicksort(left) + middle + quicksort(right)</span><br></pre></td></tr></table></figure><h3 id="å †æ’åº-HeapSort"><a href="#å †æ’åº-HeapSort" class="headerlink" title="å †æ’åº HeapSort"></a>å †æ’åº HeapSort</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MAX_Heapify</span>(<span class="params">heap,HeapSize,root</span>):</span><span class="comment">#åœ¨å †ä¸­åšç»“æ„è°ƒæ•´ä½¿å¾—çˆ¶èŠ‚ç‚¹çš„å€¼å¤§äºå­èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    left = <span class="number">2</span>*root + <span class="number">1</span></span><br><span class="line">    right = left + <span class="number">1</span></span><br><span class="line">    larger = root</span><br><span class="line">    <span class="keyword">if</span> left &lt; HeapSize <span class="keyword">and</span> heap[larger] &lt; heap[left]:</span><br><span class="line">        larger = left</span><br><span class="line">    <span class="keyword">if</span> right &lt; HeapSize <span class="keyword">and</span> heap[larger] &lt; heap[right]:</span><br><span class="line">        larger = right</span><br><span class="line">    <span class="keyword">if</span> larger != root:<span class="comment">#å¦‚æœåšäº†å †è°ƒæ•´åˆ™largerçš„å€¼ç­‰äºå·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹çš„ï¼Œè¿™ä¸ªæ—¶å€™åšå¯¹è°ƒå€¼æ“ä½œ</span></span><br><span class="line">        heap[larger],heap[root] = heap[root],heap[larger]</span><br><span class="line">        MAX_Heapify(heap, HeapSize, larger)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Build_MAX_Heap</span>(<span class="params">heap</span>):</span><span class="comment">#æ„é€ ä¸€ä¸ªå †ï¼Œå°†å †ä¸­æ‰€æœ‰æ•°æ®é‡æ–°æ’åº</span></span><br><span class="line">    HeapSize = <span class="built_in">len</span>(heap)<span class="comment">#å°†å †çš„é•¿åº¦å½“ç‹¬æ‹¿å‡ºæ¥æ–¹ä¾¿</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> xrange((HeapSize -<span class="number">2</span>)//<span class="number">2</span>,-<span class="number">1</span>,-<span class="number">1</span>):<span class="comment">#ä»åå¾€å‰å‡ºæ•°</span></span><br><span class="line">        MAX_Heapify(heap,HeapSize,i)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">HeapSort</span>(<span class="params">heap</span>):</span><span class="comment">#å°†æ ¹èŠ‚ç‚¹å–å‡ºä¸æœ€åä¸€ä½åšå¯¹è°ƒï¼Œå¯¹å‰é¢len-1ä¸ªèŠ‚ç‚¹ç»§ç»­è¿›è¡Œå¯¹è°ƒæ•´è¿‡ç¨‹ã€‚</span></span><br><span class="line">    Build_MAX_Heap(heap)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(heap)-<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">        heap[<span class="number">0</span>],heap[i] = heap[i],heap[<span class="number">0</span>]</span><br><span class="line">        MAX_Heapify(heap, i, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> heap</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">radixSort</span>():</span></span><br><span class="line">    A=[random.randint(<span class="number">1</span>,<span class="number">9999</span>) <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">10000</span>)]   </span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> xrange(<span class="number">4</span>):  <span class="comment">#4è½®æ’åº       </span></span><br><span class="line">        s=[[] <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">10</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> A:</span><br><span class="line">            s[i/(<span class="number">10</span>**k)%<span class="number">10</span>].append(i)</span><br><span class="line">        A=[a <span class="keyword">for</span> b <span class="keyword">in</span> s <span class="keyword">for</span> a <span class="keyword">in</span> b]</span><br><span class="line">    <span class="keyword">return</span> A</span><br></pre></td></tr></table></figure><h2 id="æŸ¥æ‰¾ï¼š"><a href="#æŸ¥æ‰¾ï¼š" class="headerlink" title="æŸ¥æ‰¾ï¼š"></a>æŸ¥æ‰¾ï¼š</h2><h3 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h3><p>åªé€‚ç”¨äºæœ‰åºæ•°ç»„ï¼Œå¤æ‚åº¦$ÎŸ(log n)$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span>(<span class="params">arr, key</span>):</span></span><br><span class="line">    low = <span class="number">0</span></span><br><span class="line">    high = <span class="built_in">len</span>(arr) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> low &lt;= high:</span><br><span class="line">        mid = (low + high) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> arr[mid] == key: <span class="keyword">return</span> mid</span><br><span class="line">        <span class="keyword">elif</span> arr[mid] &lt; key: </span><br><span class="line">            low = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> arr[mid] &gt; key:</span><br><span class="line">            high = mid - <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="æ ‘çš„éå†"><a href="#æ ‘çš„éå†" class="headerlink" title="æ ‘çš„éå†"></a>æ ‘çš„éå†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;èŠ‚ç‚¹ç±»&quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, elem=-<span class="number">1</span>, lchild=<span class="literal">None</span>, rchild=<span class="literal">None</span></span>):</span></span><br><span class="line">        self.elem = elem</span><br><span class="line">        self.lchild = lchild</span><br><span class="line">        self.rchild = rchild</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tree</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ ‘ç±»&quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.root = Node()</span><br><span class="line">        self.myQueue = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, elem</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;ä¸ºæ ‘æ·»åŠ èŠ‚ç‚¹&quot;&quot;&quot;</span></span><br><span class="line">        node = Node(elem)</span><br><span class="line">        <span class="keyword">if</span> self.root.elem == -<span class="number">1</span>:  <span class="comment"># å¦‚æœæ ‘æ˜¯ç©ºçš„ï¼Œåˆ™å¯¹æ ¹èŠ‚ç‚¹èµ‹å€¼</span></span><br><span class="line">            self.root = node</span><br><span class="line">            self.myQueue.append(self.root)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            treeNode = self.myQueue[<span class="number">0</span>]  <span class="comment"># æ­¤ç»“ç‚¹çš„å­æ ‘è¿˜æ²¡æœ‰é½ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> treeNode.lchild == <span class="literal">None</span>:</span><br><span class="line">                treeNode.lchild = node</span><br><span class="line">                self.myQueue.append(treeNode.lchild)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                treeNode.rchild = node</span><br><span class="line">                self.myQueue.append(treeNode.rchild)</span><br><span class="line">                self.myQueue.pop(<span class="number">0</span>)  <span class="comment"># å¦‚æœè¯¥ç»“ç‚¹å­˜åœ¨å³å­æ ‘ï¼Œå°†æ­¤ç»“ç‚¹ä¸¢å¼ƒã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">front_digui</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ©ç”¨é€’å½’å®ç°æ ‘çš„å…ˆåºéå†&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="built_in">print</span> root.elem,</span><br><span class="line">        self.front_digui(root.lchild)</span><br><span class="line">        self.front_digui(root.rchild)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">middle_digui</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ©ç”¨é€’å½’å®ç°æ ‘çš„ä¸­åºéå†&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.middle_digui(root.lchild)</span><br><span class="line">        <span class="built_in">print</span> root.elem,</span><br><span class="line">        self.middle_digui(root.rchild)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">later_digui</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ©ç”¨é€’å½’å®ç°æ ‘çš„ååºéå†&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.later_digui(root.lchild)</span><br><span class="line">        self.later_digui(root.rchild)</span><br><span class="line">        <span class="built_in">print</span> root.elem,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">front_stack</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ©ç”¨å †æ ˆå®ç°æ ‘çš„å…ˆåºéå†&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        myStack = []</span><br><span class="line">        node = root</span><br><span class="line">        <span class="keyword">while</span> node <span class="keyword">or</span> myStack:</span><br><span class="line">            <span class="keyword">while</span> node:                     <span class="comment">#ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘</span></span><br><span class="line">                <span class="built_in">print</span> node.elem,</span><br><span class="line">                myStack.append(node)</span><br><span class="line">                node = node.lchild</span><br><span class="line">            node = myStack.pop()            <span class="comment">#whileç»“æŸè¡¨ç¤ºå½“å‰èŠ‚ç‚¹nodeä¸ºç©ºï¼Œå³å‰ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘äº†</span></span><br><span class="line">            node = node.rchild                  <span class="comment">#å¼€å§‹æŸ¥çœ‹å®ƒçš„å³å­æ ‘</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">middle_stack</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ©ç”¨å †æ ˆå®ç°æ ‘çš„ä¸­åºéå†&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        myStack = []</span><br><span class="line">        node = root</span><br><span class="line">        <span class="keyword">while</span> node <span class="keyword">or</span> myStack:</span><br><span class="line">            <span class="keyword">while</span> node:                     <span class="comment">#ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´æ‰¾å®ƒçš„å·¦å­æ ‘</span></span><br><span class="line">                myStack.append(node)</span><br><span class="line">                node = node.lchild</span><br><span class="line">            node = myStack.pop()            <span class="comment">#whileç»“æŸè¡¨ç¤ºå½“å‰èŠ‚ç‚¹nodeä¸ºç©ºï¼Œå³å‰ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘äº†</span></span><br><span class="line">            <span class="built_in">print</span> node.elem,</span><br><span class="line">            node = node.rchild                  <span class="comment">#å¼€å§‹æŸ¥çœ‹å®ƒçš„å³å­æ ‘</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">later_stack</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ©ç”¨å †æ ˆå®ç°æ ‘çš„ååºéå†&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        myStack1 = []</span><br><span class="line">        myStack2 = []</span><br><span class="line">        node = root</span><br><span class="line">        myStack1.append(node)</span><br><span class="line">        <span class="keyword">while</span> myStack1:                   <span class="comment">#è¿™ä¸ªwhileå¾ªç¯çš„åŠŸèƒ½æ˜¯æ‰¾å‡ºååºéå†çš„é€†åºï¼Œå­˜åœ¨myStack2é‡Œé¢</span></span><br><span class="line">            node = myStack1.pop()</span><br><span class="line">            <span class="keyword">if</span> node.lchild:</span><br><span class="line">                myStack1.append(node.lchild)</span><br><span class="line">            <span class="keyword">if</span> node.rchild:</span><br><span class="line">                myStack1.append(node.rchild)</span><br><span class="line">            myStack2.append(node)</span><br><span class="line">        <span class="keyword">while</span> myStack2:                         <span class="comment">#å°†myStack2ä¸­çš„å…ƒç´ å‡ºæ ˆï¼Œå³ä¸ºååºéå†æ¬¡åº</span></span><br><span class="line">            <span class="built_in">print</span> myStack2.pop().elem,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">level_queue</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;åˆ©ç”¨é˜Ÿåˆ—å®ç°æ ‘çš„å±‚æ¬¡éå†&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        myQueue = []</span><br><span class="line">        node = root</span><br><span class="line">        myQueue.append(node)</span><br><span class="line">        <span class="keyword">while</span> myQueue:</span><br><span class="line">            node = myQueue.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="built_in">print</span> node.elem,</span><br><span class="line">            <span class="keyword">if</span> node.lchild != <span class="literal">None</span>:</span><br><span class="line">                myQueue.append(node.lchild)</span><br><span class="line">            <span class="keyword">if</span> node.rchild != <span class="literal">None</span>:</span><br><span class="line">                myQueue.append(node.rchild)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä¸»å‡½æ•°&quot;&quot;&quot;</span></span><br><span class="line">    elems = <span class="built_in">range</span>(<span class="number">10</span>)           <span class="comment">#ç”Ÿæˆåä¸ªæ•°æ®ä½œä¸ºæ ‘èŠ‚ç‚¹</span></span><br><span class="line">    tree = Tree()          <span class="comment">#æ–°å»ºä¸€ä¸ªæ ‘å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">for</span> elem <span class="keyword">in</span> elems:                  </span><br><span class="line">        tree.add(elem)           <span class="comment">#é€ä¸ªæ·»åŠ æ ‘çš„èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;é˜Ÿåˆ—å®ç°å±‚æ¬¡éå†:&#x27;</span></span><br><span class="line">    tree.level_queue(tree.root)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;\n\né€’å½’å®ç°å…ˆåºéå†:&#x27;</span></span><br><span class="line">    tree.front_digui(tree.root)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;\né€’å½’å®ç°ä¸­åºéå†:&#x27;</span> </span><br><span class="line">    tree.middle_digui(tree.root)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;\né€’å½’å®ç°ååºéå†:&#x27;</span></span><br><span class="line">    tree.later_digui(tree.root)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;\n\nå †æ ˆå®ç°å…ˆåºéå†:&#x27;</span></span><br><span class="line">    tree.front_stack(tree.root)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;\nå †æ ˆå®ç°ä¸­åºéå†:&#x27;</span></span><br><span class="line">    tree.middle_stack(tree.root)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&#x27;\nå †æ ˆå®ç°ååºéå†:&#x27;</span></span><br><span class="line">    tree.later_stack(tree.root)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      
      <comments>http://example.com/2017/05/04/Basic-Algorithms-in-Python/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ä¸ªäººé¢ç»ï¼ˆç™¾åº¦ã€è…¾è®¯ã€é¹å…ƒæ•°æ®ã€è¡Œäº‘æ™ºèƒ½æ•°æ®å²—ï¼‰</title>
      <link>http://example.com/2017/04/22/%E4%B8%AA%E4%BA%BA%E9%9D%A2%E7%BB%8F/</link>
      <guid>http://example.com/2017/04/22/%E4%B8%AA%E4%BA%BA%E9%9D%A2%E7%BB%8F/</guid>
      <pubDate>Sat, 22 Apr 2017 06:51:17 GMT</pubDate>
      
      <description>&lt;p&gt;è®°å½•è‡ªæ‰¾å·¥ä½œä»¥æ¥ä¸ªäººçš„é¢è¯•ç»å†ä¸ä¸€äº›æ€è€ƒã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>è®°å½•è‡ªæ‰¾å·¥ä½œä»¥æ¥ä¸ªäººçš„é¢è¯•ç»å†ä¸ä¸€äº›æ€è€ƒã€‚</p><span id="more"></span><h2 id="ç™¾åº¦æ•°æ®æŒ–æ˜ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰"><a href="#ç™¾åº¦æ•°æ®æŒ–æ˜ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰" class="headerlink" title="ç™¾åº¦æ•°æ®æŒ–æ˜ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰"></a>ç™¾åº¦æ•°æ®æŒ–æ˜ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰</h2><ol><li>ä»‹ç»é¡¹ç›®</li><li>é—®é¢˜</li><li>åŸºç¡€çŸ¥è¯†ï¼šjavaçš„å¤šæ€ã€mapå’Œåƒåœ¾å›æ”¶</li><li>å¦‚ä½•ç”¨ç½‘ç»œçŸ¥è¯†è®©æŠ¢ç«è½¦ç¥¨æ›´å¿«</li><li>å¿«æ’çš„æ€æƒ³ã€æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€å¦‚æœæ˜¯æ•´æ•°æ’åºæœ‰æ²¡æœ‰O(n)çš„è§£æ³•</li><li>é€»è¾‘å›å½’çº¿æ€§å›å½’åŒºåˆ«</li><li>linuxæ€ä¹ˆæŸ¥çœ‹æŸæ–‡ä»¶å½“å‰è¢«å“ªäº›è¿›ç¨‹è®¿é—®</li><li>vimå¦‚ä½•æŸ¥æ‰¾æ›¿æ¢</li></ol><h2 id="ç™¾åº¦è¿ç»´ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰"><a href="#ç™¾åº¦è¿ç»´ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰" class="headerlink" title="ç™¾åº¦è¿ç»´ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰"></a>ç™¾åº¦è¿ç»´ä¸€é¢ï¼ˆç”µè¯é¢ï¼‰</h2><ol><li>èŠé¡¹ç›®</li><li>pythonå­—ç¬¦ä¸²çš„æ›¿æ¢</li><li>SQLçš„ä¼˜åŒ–</li><li>LInux å¦‚ä½•æ‰¾è¿›ç¨‹æ€è¿›ç¨‹</li></ol><h2 id="ç™¾åº¦è¿ç»´äºŒé¢ï¼ˆç°åœºé¢ï¼‰"><a href="#ç™¾åº¦è¿ç»´äºŒé¢ï¼ˆç°åœºé¢ï¼‰" class="headerlink" title="ç™¾åº¦è¿ç»´äºŒé¢ï¼ˆç°åœºé¢ï¼‰"></a>ç™¾åº¦è¿ç»´äºŒé¢ï¼ˆç°åœºé¢ï¼‰</h2><ol><li>èŠé¡¹ç›®</li><li>æ‰‹å†™å†’æ³¡</li></ol><h2 id="è¡Œäº‘æ™ºèƒ½ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"><a href="#è¡Œäº‘æ™ºèƒ½ä¸€é¢ï¼ˆç°åœºé¢ï¼‰" class="headerlink" title="è¡Œäº‘æ™ºèƒ½ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"></a>è¡Œäº‘æ™ºèƒ½ä¸€é¢ï¼ˆç°åœºé¢ï¼‰</h2><p>é‡åˆ°é¢è¯•å®˜æ˜¯è¥¿ç”µæ ¡å‹</p><ol><li>èŠé¡¹ç›®</li><li>CNNçš„æ€æƒ³ï¼špoolingçš„æ–¹å¼ã€å·ç§¯çš„æ€æƒ³</li><li>è®¾è®¡æ¨¡å¼æœ‰ä»€ä¹ˆäº†è§£</li><li>å¤šçº¿ç¨‹å¤šè¿›ç¨‹çš„äº†è§£</li><li>å¿«æ’çš„æ€æƒ³</li><li>æ‰‹å†™ä»£ç äºŒå‰æ ‘åˆ é™¤</li></ol><h2 id="ä¸­ç§‘ä¹åˆ›ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"><a href="#ä¸­ç§‘ä¹åˆ›ä¸€é¢ï¼ˆç°åœºé¢ï¼‰" class="headerlink" title="ä¸­ç§‘ä¹åˆ›ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"></a>ä¸­ç§‘ä¹åˆ›ä¸€é¢ï¼ˆç°åœºé¢ï¼‰</h2><p>æœ€å°´å°¬çš„ä¸€æ¬¡ï¼Œé¢è¯•å®˜æ˜¯å—æ´‹ç†å·¥çš„ï¼ŒèŠäº†èŠæˆ‘çš„é¡¹ç›®å°±ä¼¼ä¹å¯¹æˆ‘ä¸æ„Ÿå…´è¶£ï¼Œå°±å¼€å§‹å’Œæˆ‘èŠå®¶å¸¸ã€‚ã€‚ã€‚</p><h2 id="é¹å…ƒæ•°æ®ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"><a href="#é¹å…ƒæ•°æ®ä¸€é¢ï¼ˆç°åœºé¢ï¼‰" class="headerlink" title="é¹å…ƒæ•°æ®ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"></a>é¹å…ƒæ•°æ®ä¸€é¢ï¼ˆç°åœºé¢ï¼‰</h2><ol><li>èŠé¡¹ç›®</li><li>åšäº†å¼ è¯•å·å¦‚ </li></ol><ul><li>æ¨å¯¼æå¤§ä¼¼ç„¶ä¼°è®¡</li><li>èšç±»ä¸åˆ†ç±»åŒºåˆ«ï¼Œåˆ—ä¸¾å¸¸ç”¨èšç±»ç®—æ³•åŠç¨‹åºåŒ…</li><li>ä¸€äº›ç®€å•çš„SQLå‘½ä»¤</li><li>ç¼–ç¨‹é¢˜ï¼šåˆ—ä¸¾ä¸€ä¸²æ•°å­—å†…å¥‡å¶æ•°å‡ºç°æ¬¡æ•°åŠå¼•ç”³å‡ºçš„ç»“åˆä»–ä»¬ä¸šåŠ¡çš„è¯„çº§è½¬æ¢çŸ©é˜µçš„æ‰“å°</li></ul><h2 id="è…¾è®¯åŸºç¡€ç ”ç©¶ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"><a href="#è…¾è®¯åŸºç¡€ç ”ç©¶ä¸€é¢ï¼ˆç°åœºé¢ï¼‰" class="headerlink" title="è…¾è®¯åŸºç¡€ç ”ç©¶ä¸€é¢ï¼ˆç°åœºé¢ï¼‰"></a>è…¾è®¯åŸºç¡€ç ”ç©¶ä¸€é¢ï¼ˆç°åœºé¢ï¼‰</h2><ol><li>èŠé¡¹ç›®</li><li>èšç±»ä¸åˆ†ç±»åŒºåˆ«ï¼Œå¸¸ç”¨èšç±»ç®—æ³•<br>æ€è€ƒï¼šè¯¸å¦‚æ­¤ç±»åˆ—ä¸¾ç®—æ³•çš„é—®é¢˜ï¼Œæœ€å¥½æ˜¯è¿…é€Ÿæµåˆ©çš„åˆ—ä¸¾å‡ºå¤šä¸ªï¼Œä¸è¦æœ‰è¿Ÿç–‘ï¼Œä¸è¿‡å¯¹äºå…¶åŸºæœ¬å«ä¹‰è¦æœ‰äº†è§£ã€‚</li><li>åœºæ™¯é¢˜ï¼Œä¸¤ä¸ªå«æœ‰æ•°å­—çš„æ–‡ä»¶ï¼Œæ‰¾å‡ºåŒæ—¶å‡ºç°åœ¨ä¸¤ä¸ªæ–‡ä»¶å†…çš„æ•°å­—ï¼›è‹¥æ–‡ä»¶å¤ªå¤§æ”¾ä¸è¿›å†…å­˜è¯¥æ€ä¹ˆåŠï¼Ÿ<br>æ€è€ƒï¼šè¿™ç§é—®é¢˜å¯å°å¯å¤§ï¼Œå¯éš¾å¯æ˜“ã€‚å› ä¸ºå“ªæ€•å†å°çš„é—®é¢˜åœ¨è§„æ¨¡å˜å¤§ä¹Ÿå°±æ˜¯æ¶‰åŠåˆ°å¤§æ•°æ®éƒ½æ˜¯ä¸ç®€å•çš„ï¼Œè¿™ä¸ªé—®é¢˜ï¼Œå¯¹äºå°æ–‡ä»¶ï¼Œä¸¤ä¸‰è¡Œä»£ç å³å¯æå®šï¼Œé‚£ä¹ˆä½ å†™å‡ºæ¥ä¹‹åï¼Œé¢è¯•å®˜åŸºæœ¬ä¸Šå°±ä¼šè¿›ä¸€æ­¥é—®ä½ ï¼šå¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œæ— æ³•åŒæ—¶æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶è£…è¿›å†…å­˜ï¼Œæ€ä¹ˆåŠï¼Ÿæˆ‘å½“æ—¶å›ç­”çš„æ˜¯ç”¨Pandasçš„read_csvåˆ†å—è¯»å–ï¼Œè¿™æ˜¯ä¸ªå¾ˆä¸å¥½çš„å›ç­”ï¼Œå› ä¸ºæ‰åŒ…ä¸æ˜¯åŸºæœ¬åŠŸã€‚æˆ‘å›å¤´æƒ³äº†æƒ³ï¼Œä¹Ÿè®¸è¿™ä¸ªç­”æ¡ˆæ˜¯ç”¨generatoræ¯”è¾ƒå¥½ã€‚</li></ol>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Interview/">Interview</category>
      
      
      <comments>http://example.com/2017/04/22/%E4%B8%AA%E4%BA%BA%E9%9D%A2%E7%BB%8F/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Ubuntu 16.04ä¸‹ä¸ºTITAN 1080 æ˜¾å¡å®‰è£…é©±åŠ¨(Cuda&amp;CudNN)åŠGpuç‰ˆTensorFlow</title>
      <link>http://example.com/2017/04/20/Ubuntu-16-04%E4%B8%8B%E4%B8%BATITAN-1080-%E6%98%BE%E5%8D%A1%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8-Cuda-CudNN-%E5%8F%8AGpu%E7%89%88TensorFlow/</link>
      <guid>http://example.com/2017/04/20/Ubuntu-16-04%E4%B8%8B%E4%B8%BATITAN-1080-%E6%98%BE%E5%8D%A1%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8-Cuda-CudNN-%E5%8F%8AGpu%E7%89%88TensorFlow/</guid>
      <pubDate>Thu, 20 Apr 2017 01:29:22 GMT</pubDate>
      
      <description>&lt;p&gt;è¿‘æ¥å…¥å‘äº†TITAN 1080æ˜¾å¡ï¼Œåœ¨Ubuntu 16.04ä¸‹ä¸ºè£…å¥½é©±åŠ¨ä»¥ä½¿ç”¨Gpuç‰ˆTensorFlowå¯ä¸ç®€å•ï¼Œè¸©äº†è®¸å¤šå‘ä¹‹åå†™ä¸‹æ­¤ç¯‡ä¸ºè®°å½•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>è¿‘æ¥å…¥å‘äº†TITAN 1080æ˜¾å¡ï¼Œåœ¨Ubuntu 16.04ä¸‹ä¸ºè£…å¥½é©±åŠ¨ä»¥ä½¿ç”¨Gpuç‰ˆTensorFlowå¯ä¸ç®€å•ï¼Œè¸©äº†è®¸å¤šå‘ä¹‹åå†™ä¸‹æ­¤ç¯‡ä¸ºè®°å½•ã€‚</p><span id="more"></span><h1 id="ä¸‹è½½Cuda"><a href="#ä¸‹è½½Cuda" class="headerlink" title="ä¸‹è½½Cuda"></a>ä¸‹è½½Cuda</h1><p>æŒ‰è£…å®˜æ–¹æ•™ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åº”è¯¥å®‰è£…Cuda8.0å’ŒCudnn V5.1ï¼Œåœ¨æ­¤ä¸‹è½½<a href="https://developer.nvidia.com/cuda-downloads">CUDA 8.0 Downloads | NVIDIA Developer</a></p><p><img src="/images/2017/04/3864914136-589146eda380f_articlex.png"></p><p>åœ¨è¿™é‡Œæœ€å¥½é€‰runfile localï¼Œå› ä¸ºé€‰debçš„è¯ä¼šé‡åˆ°apt getçš„æºæŸåé—®é¢˜ã€‚</p><h1 id="é™çº§gccå’Œg"><a href="#é™çº§gccå’Œg" class="headerlink" title="é™çº§gccå’Œg++"></a>é™çº§gccå’Œg++</h1><p>ç”±äºCudaä¸æ”¯æŒæ–°ç‰ˆæœ¬çš„gccå’Œg++ï¼Œæ‰€ä»¥å¦‚æœå»ºè®®å…ˆé™çº§åˆ°4ç‰ˆæœ¬ï¼Œæ–¹æ³•è§<a href="http://m.blog.csdn.net/article/details?id=48135125">ubuntu ä¸­ gcc/g++ç‰ˆæœ¬é™çº§</a></p><h1 id="å®‰è£…æ˜¾å¡é©±åŠ¨"><a href="#å®‰è£…æ˜¾å¡é©±åŠ¨" class="headerlink" title="å®‰è£…æ˜¾å¡é©±åŠ¨"></a>å®‰è£…æ˜¾å¡é©±åŠ¨</h1><p><code>sudo apt-get install nvidia-367</code></p><h1 id="å®‰è£…Cuda"><a href="#å®‰è£…Cuda" class="headerlink" title="å®‰è£…Cuda"></a>å®‰è£…Cuda</h1><h2 id="å…³é—­ä½ çš„å›¾å½¢ç•Œé¢"><a href="#å…³é—­ä½ çš„å›¾å½¢ç•Œé¢" class="headerlink" title="å…³é—­ä½ çš„å›¾å½¢ç•Œé¢"></a>å…³é—­ä½ çš„å›¾å½¢ç•Œé¢</h2><p><code>sudo service lightdm stop</code></p><p>æ­¤æ—¶ç”µè„‘åº”è¯¥ä¼šé»‘å±ï¼Œ</p><p><code>CTRL + ALT + F1</code>è¿›å…¥å‘½ä»¤è¡Œï¼Œç™»å½•ï¼Œcd åˆ°ä½ å­˜æ”¾ä¸‹è½½çš„ç›®å½•ï¼Œæ‰§è¡Œ</p><p><code>sudo bash cuda_8.0.44_linux.run</code></p><p>ç„¶åä½ ä¼šçœ‹åˆ°å¦‚<br><code>Do you accept the previously read EULA?accept/decline/quit: </code> è¾“å…¥<code>accept</code></p><p><code>Install NVIDIA Accelerated Graphics Driver for Linux-x86_64 3xx.xx?</code> è¾“å…¥ <code>no</code></p><p>ä¹‹åè¿˜ä¼šé—®ä½ æ˜¯å¦å®‰è£…<code>X configuration</code> è¾“å…¥<code>no</code></p><p>å®‰è£…å¥½äº†ä¹‹åï¼Œå†ç”¨å‘½ä»¤<code>sudo bash cuda_8.0.44_linux.run -slient -driver</code> æ¥å®‰è£…é©±åŠ¨ã€‚</p><p>æœ€å<code>sudo service lightdm start</code>æˆ–è€…é‡å¯ã€‚</p><h2 id="è®¾ç½®Cudaç¯å¢ƒå˜é‡"><a href="#è®¾ç½®Cudaç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®Cudaç¯å¢ƒå˜é‡"></a>è®¾ç½®Cudaç¯å¢ƒå˜é‡</h2><p><code>sudo vi ~/.bashrc</code></p><p>æ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=&quot;$LD_LIBRARY_PATH:/usr/local/cuda-8.0/lib64:/usr/local/cuda-8.0/extras/CUPTI/lib64&quot;</span><br><span class="line">export CUDA_HOME=/usr/local/cuda-8.0</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡º</p><p>å†<code>source  .bashrc</code></p><h1 id="Cudnn-å®‰è£…"><a href="#Cudnn-å®‰è£…" class="headerlink" title="Cudnn å®‰è£…"></a>Cudnn å®‰è£…</h1><h2 id="ä¸‹è½½Cudnn"><a href="#ä¸‹è½½Cudnn" class="headerlink" title="ä¸‹è½½Cudnn"></a>ä¸‹è½½Cudnn</h2><p>åœ¨æ­¤å¤„ä¸‹è½½ï¼š<a href="https://developer.nvidia.com/rdp/cudnn-download">Membership Required | NVIDIA Developer</a>ï¼Œè¿™é‡Œä½ å…ˆå¾—æ³¨å†Œä¸€ä¸ªNVIDAè´¦å·ï¼Œå¡«å†™ä¸€å †é—®å·ã€‚<br>æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯debå®‰è£…åŒ…ï¼ŒäºŒæ˜¯ä¸‹è½½tar</p><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p>é€‰æ‹© Download cuDNN v5.1 (Jan 20, 2017), for CUDA 8.0ä¸‹è½½<br>cuDNN v5.1 Runtime Library for Ubuntu16.04 Power8 (Deb)å®‰è£…</p><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p>äºŒæ˜¯ä¸‹è½½tarï¼Œè§£å‹åä¼šå¾—åˆ°ä¸€ä¸ªCudaæ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åˆ°Cuda-8.0æ–‡ä»¶å¤¹ä¸­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo cp cuda/include/cudnn.h /usr/local/cuda-8.0/include</span><br><span class="line">sudo cp cuda/lib64/libcudnn* /usr/local/cuda-8.0/lib64</span><br><span class="line">sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda-8.0/lib64/libcudnn*</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…TensorFlow"><a href="#å®‰è£…TensorFlow" class="headerlink" title="å®‰è£…TensorFlow"></a>å®‰è£…TensorFlow</h1><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Anacondaè£…Python3ï¼Œ</p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>ä¸‹è½½å¥½å®‰è£…è„šæœ¬ä¹‹åï¼Œ<br><code>bash ~/Downloads/Anaconda3-4.3.0-Linux-x86_64.sh</code>å®‰è£…ï¼Œè®°å¾—åœ¨è¯¢é—®æ˜¯å¦æ·»åŠ PATHæ—¶é€‰æ‹©<code>yes</code></p><p><code>pip install tensorflow-gpu</code></p><h2 id="å»ºç«‹è™šæ‹Ÿç¯å¢ƒ"><a href="#å»ºç«‹è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="å»ºç«‹è™šæ‹Ÿç¯å¢ƒ"></a>å»ºç«‹è™šæ‹Ÿç¯å¢ƒ</h2><p>æ–°å»ºç¯å¢ƒ<code>conda create -n tensorflow</code><br>æ¿€æ´»ç¯å¢ƒ<code>source activate tensorflow</code><br>æ­¤æ—¶å·²å¤„äºæ­¤ç¯å¢ƒä¸‹</p><h2 id="å®‰è£…TensorFlow-1"><a href="#å®‰è£…TensorFlow-1" class="headerlink" title="å®‰è£…TensorFlow"></a>å®‰è£…TensorFlow</h2><p><code>conda install tensorflow-gpu</code><br>è¿™é‡ŒAnacondaä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œç›´åˆ°å…¨éƒ¨å®Œæˆ</p><h1 id="æµ‹è¯•TF"><a href="#æµ‹è¯•TF" class="headerlink" title="æµ‹è¯•TF"></a>æµ‹è¯•TF</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ python</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello = tf.constant(<span class="string">&#x27;Hello, TensorFlow!&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sess = tf.Session()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(sess.run(hello))</span><br><span class="line">Hello, TensorFlow!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = tf.constant(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = tf.constant(<span class="number">32</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(sess.run(a + b))</span><br><span class="line"><span class="number">42</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure><p>è‹¥æ‰“å°ä¸€ç³»åˆ—åŒ…å«Gpuä¿¡æ¯çš„è¯´æ˜ï¼Œæ­å–œä½ ï¼Œå®‰è£…æˆåŠŸï¼ï¼ï¼</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      <category domain="http://example.com/tags/TensorFlow/">TensorFlow</category>
      
      
      <comments>http://example.com/2017/04/20/Ubuntu-16-04%E4%B8%8B%E4%B8%BATITAN-1080-%E6%98%BE%E5%8D%A1%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8-Cuda-CudNN-%E5%8F%8AGpu%E7%89%88TensorFlow/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬</title>
      <link>http://example.com/2017/04/19/%E5%88%9B%E5%BB%BA%E5%8F%8C%E5%87%BB%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%9A%84sh%E8%84%9A%E6%9C%AC/</link>
      <guid>http://example.com/2017/04/19/%E5%88%9B%E5%BB%BA%E5%8F%8C%E5%87%BB%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%9A%84sh%E8%84%9A%E6%9C%AC/</guid>
      <pubDate>Wed, 19 Apr 2017 01:36:49 GMT</pubDate>
      
      <description>&lt;p&gt;åœ¨Mac&amp;amp;Linuxä¸Šåˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬çš„æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>åœ¨Mac&amp;Linuxä¸Šåˆ›å»ºåŒå‡»å¯æ‰§è¡Œçš„shè„šæœ¬çš„æ–¹æ³•ã€‚</p><span id="more"></span><h2 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h2><p>é¦–å…ˆåˆ›å»ºæµ‹è¯•è„šæœ¬<br><code>touch clickexe.sh</code><br><code>open -e clickexe.sh</code><br>åœ¨è„šæœ¬ä¸­è¾“å…¥å†…å®¹<br><code>echo &quot;hello world&quot;</code></p><p>å†æ‰§è¡Œå‘½ä»¤<br><code>chmod +x clickexe.sh</code></p><p>ç„¶ååœ¨å–æ™¯å™¨å³é”®å•å‡»æ–‡ä»¶ï¼Œå¹¶é€‰æ‹©â€œget<br> infoâ€ï¼Œç„¶åé€‰æ‹©â€œOpen withâ€ </p><p>è¿™é‡Œä½ å¯ä»¥é€‰æ‹©ä½ æƒ³è¦çš„æ–‡ä»¶æ‰§è¡Œåˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œä¸ºäº†èƒ½å¤Ÿé€‰æ‹©ä½ éœ€è¦ä»â€œæ¨èåº”ç”¨â€åˆ°â€œæ‰€æœ‰åº”ç”¨ç¨‹åºâ€é€‰ä¸­â€œTerminalâ€å³å¯ã€‚</p><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p>åœ¨Ubuntuä¸­ï¼Œè‡ªä»13.04ä»¥åï¼ŒåŒå‡»shè„šæœ¬æ–‡ä»¶å°±å·²ç»é»˜è®¤æ˜¯geidtæ‰“å¼€äº†ï¼Œè¦æƒ³è¿è¡Œï¼Œä»æ–‡ä»¶ç®¡ç†å™¨â€“&gt;æ–‡ä»¶â€“&gt;é¦–é€‰é¡¹â€“&gt;è¡Œä¸ºâ€“&gt;å¯æ‰§è¡Œæ–‡ä»¶</p><p>æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼Œé»˜è®¤æ˜¯ç¬¬äºŒä¸ªï¼Œå¦‚æœæƒ³è¦ç›´æ¥è¿è¡Œï¼Œé€‰ç¬¬ä¸€ä¸ªï¼Œè€Œæ¯æ¬¡è¯¢é—®å°±æ˜¯å¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œé—®ä½ æ˜¯è¿è¡Œï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œè¿˜æ˜¯ç”¨geditæŸ¥çœ‹ã€‚</p><p>è®°å¾—åœ¨è„šæœ¬æ–‡ä»¶å³é”®â€“&gt;å±æ€§â€“&gt;æƒé™ï¼šå…è®¸ä»¥ç¨‹åºæ‰§è¡Œæ–‡ä»¶</p><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="http://www.cnblogs.com/Findxiaoxun/p/3558994.html">ubuntu shè„šæœ¬åŒå‡»è¿è¡Œ - Findxiaoxun - åšå®¢å›­</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      <category domain="http://example.com/tags/Mac/">Mac</category>
      
      <category domain="http://example.com/tags/bash/">bash</category>
      
      
      <comments>http://example.com/2017/04/19/%E5%88%9B%E5%BB%BA%E5%8F%8C%E5%87%BB%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%9A%84sh%E8%84%9A%E6%9C%AC/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Python2 Python3çš„å„ç§å†²çªåŠè§£å†³æ–¹æ³•</title>
      <link>http://example.com/2017/04/18/Python3-%E5%AE%89%E8%A3%85opencv%E7%9A%84%E7%AE%80%E6%98%93%E6%96%B9%E6%B3%95/</link>
      <guid>http://example.com/2017/04/18/Python3-%E5%AE%89%E8%A3%85opencv%E7%9A%84%E7%AE%80%E6%98%93%E6%96%B9%E6%B3%95/</guid>
      <pubDate>Tue, 18 Apr 2017 09:52:06 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦è®°å½•Python2 Python3çš„å„ç§å†²çªåŠè§£å†³æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦è®°å½•Python2 Python3çš„å„ç§å†²çªåŠè§£å†³æ–¹æ³•ã€‚</p><span id="more"></span><h2 id="Opencvåœ¨Python3ä¸‹çš„å®‰è£…"><a href="#Opencvåœ¨Python3ä¸‹çš„å®‰è£…" class="headerlink" title="Opencvåœ¨Python3ä¸‹çš„å®‰è£…"></a>Opencvåœ¨Python3ä¸‹çš„å®‰è£…</h2><p>ç›®å‰opencvå¯¹äºPython2.7æ”¯æŒä¸é”™ï¼Œæˆ‘æŠ˜è…¾äº†è®¸ä¹…æ‰å¼„å¥½Python3ä¸‹çš„å®‰è£…æ–¹æ³•ï¼Œæœ€ç®€å•çš„æ—¢æ˜¯åˆ©ç”¨Anaconda<br>æ¥å®‰è£…ï¼Œæ­¥éª¤å¦‚</p><ol><li>å®‰è£…Anacondaä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…<a href="https://www.continuum.io/downloads">Download Anaconda Now! | Continuum</a></li><li>ä¸‹è½½å®Œæ¯•ï¼Œç”¨ç»ˆç«¯å‘½ä»¤å®‰è£…åˆšä¸‹çš„åŒ…<code>bash Anaconda3-4.3.0-MacOSX-x86_64.sh</code></li><li>å‘½ä»¤è¡Œä¼šè¯¢é—®æ˜¯å¦éœ€è¦æ·»åŠ PATHå¦‚<code>.bash_profile &gt;&gt; </code>å¡«<code> yes</code></li><li>åˆ·æ–° <code>cd &amp;&amp; source .bash_profile</code></li><li>æ£€æµ‹å®‰è£…ä½ç½®<code>check python</code>ï¼Œç»“æœè‹¥æ˜¯<code>$ which python $ /.../anaconda/bin/python</code>åˆ™OK</li><li>æœ€åç”¨è¿™æ¡å‘½ä»¤å®‰è£…<code>pip install opencv-pyhton</code>ï¼ˆä¸éœ€è¦pip3ï¼‰</li></ol><h2 id="urlparse"><a href="#urlparse" class="headerlink" title="urlparse"></a>urlparse</h2><p><code>import urlparse</code> éœ€è¦å˜ä¸º <code>import urllib.parse as urlparse</code></p><h2 id="æ•´æ•°ç›¸é™¤"><a href="#æ•´æ•°ç›¸é™¤" class="headerlink" title="æ•´æ•°ç›¸é™¤"></a>æ•´æ•°ç›¸é™¤</h2><p>python2çš„ <code>/</code> ç­‰ä»·äº3é‡Œçš„ <code>//</code></p><h2 id="map-ä¸-zip"><a href="#map-ä¸-zip" class="headerlink" title="map ä¸ zip"></a>map ä¸ zip</h2><p>Python3é‡Œçš„mapä¸zipè¿”å›ç”Ÿæˆå™¨ï¼Œæ‰€ä»¥éœ€è¦å°†list(map(func, b))ï¼Œ list(zip(a,b))ä¹‹åæ‰å¯ä»¥æŒ‰ä¸‹æ ‡è®¿é—®ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2017/04/18/Python3-%E5%AE%89%E8%A3%85opencv%E7%9A%84%E7%AE%80%E6%98%93%E6%96%B9%E6%B3%95/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>programmer humor week 2</title>
      <link>http://example.com/2017/04/17/programmer-humor-week-2/</link>
      <guid>http://example.com/2017/04/17/programmer-humor-week-2/</guid>
      <pubDate>Mon, 17 Apr 2017 09:58:39 GMT</pubDate>
      
      <description>&lt;p&gt;programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ</p><span id="more"></span><h3 id="â€œHey-you-know-Binary-Search-Trees-â€-â€œSay-no-more-â€"><a href="#â€œHey-you-know-Binary-Search-Trees-â€-â€œSay-no-more-â€" class="headerlink" title="â€œHey, you know Binary Search Trees?â€ â€œSay no more.â€"></a>â€œHey, you know Binary Search Trees?â€ â€œSay no more.â€</h3><p><img src="/images/2017/04/05.jpg"></p><h3 id="After-setting-up-a-new-floor-on-campusâ€¦"><a href="#After-setting-up-a-new-floor-on-campusâ€¦" class="headerlink" title="After setting up a new floor on campusâ€¦"></a>After setting up a new floor on campusâ€¦</h3><p><img src="/images/2017/04/06.jpg"></p><h3 id="Logins-should-be-unique"><a href="#Logins-should-be-unique" class="headerlink" title="Logins should be unique"></a>Logins should be unique</h3><p><img src="/images/2017/04/07.png"></p><h3 id="Cringe-How-to-do-coding"><a href="#Cringe-How-to-do-coding" class="headerlink" title="[Cringe] How to do coding"></a>[Cringe] How to do coding</h3><p><img src="/images/2017/04/08.jpg"></p><h3 id="How-to-learn-coding-in-a-single-night"><a href="#How-to-learn-coding-in-a-single-night" class="headerlink" title="How to learn coding in a single night."></a>How to learn coding in a single night.</h3><p><img src="/images/2017/04/09.jpg"></p><h2 id="å¼•ç”¨è‡ª"><a href="#å¼•ç”¨è‡ª" class="headerlink" title="å¼•ç”¨è‡ª"></a>å¼•ç”¨è‡ª</h2><p><a href="https://www.reddit.com/r/ProgrammerHumor/">Programmer Humor</a></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Funny/">Funny</category>
      
      
      <comments>http://example.com/2017/04/17/programmer-humor-week-2/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åˆ©ç”¨git åŒæ­¥æœ¬åœ°ä¸æœåŠ¡å™¨ä»£ç </title>
      <link>http://example.com/2017/04/13/%E5%88%A9%E7%94%A8git-%E5%90%8C%E6%AD%A5%E6%9C%AC%E5%9C%B0%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81/</link>
      <guid>http://example.com/2017/04/13/%E5%88%A9%E7%94%A8git-%E5%90%8C%E6%AD%A5%E6%9C%AC%E5%9C%B0%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81/</guid>
      <pubDate>Wed, 12 Apr 2017 16:53:49 GMT</pubDate>
      
      <description>&lt;p&gt;åœ¨æœåŠ¡å™¨ç«¯ç›´æ¥ç”¨vimå†™ä»£ç å›ºç„¶ä¸æ˜¯ä¸ªå¥½ä½“éªŒï¼Œæœ¬æ–‡ä»‹ç»ç”¨gitåœ¨ä¸¤è€…ä¹‹é—´åŒæ­¥çš„æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>åœ¨æœåŠ¡å™¨ç«¯ç›´æ¥ç”¨vimå†™ä»£ç å›ºç„¶ä¸æ˜¯ä¸ªå¥½ä½“éªŒï¼Œæœ¬æ–‡ä»‹ç»ç”¨gitåœ¨ä¸¤è€…ä¹‹é—´åŒæ­¥çš„æ–¹æ³•ã€‚</p><span id="more"></span><h2 id="å…è®¤è¯ç™»å½•"><a href="#å…è®¤è¯ç™»å½•" class="headerlink" title="å…è®¤è¯ç™»å½•"></a>å…è®¤è¯ç™»å½•</h2><p>å…ˆè®¾ç½®sshå…¬é’¥ç§é’¥æ¥å…å¯†ç ç™»å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.ssh</span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;mail@domain.com&quot;</span></span><br></pre></td></tr></table></figure><p>å¤åˆ¶è¿‡å»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp ~/.ssh/id_rsa.pub user@vps:./</span><br><span class="line">ssh user@vps</span><br><span class="line">cat id_rsa.pub &gt;&gt; /home/user/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><p>æ³¨æ„cat åæ˜¯&gt;&gt; ä¸æ˜¯&gt;ï¼Œå‰è€…æ˜¯è¿½åŠ ï¼Œåè€…æ˜¯è¦†ç›–ã€‚<br>è‹¥22ç«¯å£ä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡<code>-P port_number</code>æŒ‡å®šä½¿ç”¨çš„ç«¯å£å·</p><h2 id="è¿›å…¥æœåŠ¡å™¨é¡¹ç›®"><a href="#è¿›å…¥æœåŠ¡å™¨é¡¹ç›®" class="headerlink" title="è¿›å…¥æœåŠ¡å™¨é¡¹ç›®"></a>è¿›å…¥æœåŠ¡å™¨é¡¹ç›®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ssh user@vps  </span><br><span class="line">cd /home/project</span><br><span class="line">git init</span><br><span class="line">echo &quot;hello&quot; &gt;&gt; README</span><br><span class="line">git add README</span><br><span class="line">git commit -m &quot;add README&quot;</span><br><span class="line">exit</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨æœ¬æœºä¸ŠæŠŠé¡¹ç›® Clone ä¸‹æ¥ï¼š</p><p>git clone user@vps:/home/project</p><p>è‹¥22ç«¯å£ä¸èƒ½ä½¿ç”¨ï¼Œå¯ä»¥æ‰§è¡Œï¼š</p><p>git clone ssh://user@vps:1280/home/project</p><h2 id="ä¿®æ”¹é’©å­ä½¿å…¶æ¥å—push"><a href="#ä¿®æ”¹é’©å­ä½¿å…¶æ¥å—push" class="headerlink" title="ä¿®æ”¹é’©å­ä½¿å…¶æ¥å—push"></a>ä¿®æ”¹é’©å­ä½¿å…¶æ¥å—push</h2><p>åœ¨æœåŠ¡å™¨ç«¯<br><code>git config receive.denyCurrentBranch ignore</code></p><p>ç¼–è¾‘ VPS ç«¯ Git é’©å­.git/hooks/post-receive æ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">cd ..</span><br><span class="line">env -i git reset --hard</span><br></pre></td></tr></table></figure><p>æœ€åå°†æ–‡ä»¶è®¾ç½®ä¸ºå¯æ‰§è¡Œï¼š<br><code>chmod a+x .git/hooks/post-receive</code></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/04/13/%E5%88%A9%E7%94%A8git-%E5%90%8C%E6%AD%A5%E6%9C%AC%E5%9C%B0%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%A3%E7%A0%81/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åˆ©ç”¨Pandasè¯»å–è¿œç¨‹mysqlæ•°æ®åº“</title>
      <link>http://example.com/2017/04/11/%E5%88%A9%E7%94%A8Pandas%E8%AF%BB%E5%8F%96%E8%BF%9C%E7%A8%8Bmysql%E6%95%B0%E6%8D%AE%E5%BA%93/</link>
      <guid>http://example.com/2017/04/11/%E5%88%A9%E7%94%A8Pandas%E8%AF%BB%E5%8F%96%E8%BF%9C%E7%A8%8Bmysql%E6%95%B0%E6%8D%AE%E5%BA%93/</guid>
      <pubDate>Tue, 11 Apr 2017 09:31:49 GMT</pubDate>
      
      <description>&lt;p&gt;åˆ©ç”¨pymysqlä¸Pandasè¯»å–è¿œç¨‹æ•°æ®åº“ä¸Šçš„è¡¨æ ¼ï¼Œå¹¶å­˜å‚¨ä¸ºæœ¬åœ°csvæ–‡ä»¶ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>åˆ©ç”¨pymysqlä¸Pandasè¯»å–è¿œç¨‹æ•°æ®åº“ä¸Šçš„è¡¨æ ¼ï¼Œå¹¶å­˜å‚¨ä¸ºæœ¬åœ°csvæ–‡ä»¶ã€‚</p><span id="more"></span><p>å› ä¸ºä¸šåŠ¡éœ€è¦è¯»å–æœåŠ¡å™¨ä¸Šçš„æ•°æ®è¿›è¡Œåˆ†æï¼Œèƒ½è¿æ¥åˆ°sqlæœåŠ¡å™¨ï¼Œä½†æ˜¯å½“æˆ‘ä¼å›¾ç”¨mysqldumpå¤‡ä»½ï¼ˆå¤åˆ¶ï¼‰databaseåˆ°æœ¬åœ°å´ç»å¸¸å‡ºç°<code>mysqldump: Error 2013: Lost connection to MySQL server during query when dumping table</code>é”™è¯¯ï¼Œè¿™ä¸ªéœ€è¦æ”¹<code>net_write_timeout</code>æ¥å¢åŠ ç­‰å¾…æ—¶é•¿æ¥è§£å†³ï¼Œè‹¦äºæˆ‘çš„è´¦å·å¹¶æ²¡æœ‰æƒé™ï¼Œéš¾ä¸æˆåªå¥½ä¹‹é—´ä¸Šsqlç”¨odbså¤§æ³•ç›´æ¥åšæ•°æ®åˆ†æï¼Ÿæˆ‘çš„å¤©ï¼Œé‚£å¾—å¤šéº»çƒ¦ï¼Œç»è¿‡å‡ ç•ªæ€è€ƒï¼Œæˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šç”¨sqlçš„pythonæ¥å£åŒ…pymysqlè¿›è¡Œsqlç™»å½•ä»¥åŠæ“ä½œï¼Œå†ç”¨Pandasä»¥DataFrameæ ¼å¼æ¥å—tableæ•°æ®ï¼Œæœ€åå­˜ä¸ºcsvæ–‡ä»¶ã€‚</p><h2 id="ç™»å½•æ¨¡å—"><a href="#ç™»å½•æ¨¡å—" class="headerlink" title="ç™»å½•æ¨¡å—"></a>ç™»å½•æ¨¡å—</h2><p>æ³¨æ„ï¼Œè‹¥æ•°æ®åº“å«æœ‰ä¸­æ–‡ï¼Œéœ€è¦<code>use_unicode=True</code>é¿å…ä¹±ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*_coding:utf8-*-</span></span><br><span class="line"><span class="comment"># Created by frank at 07/04/2017</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line">host = <span class="string">&#x27;#########&#x27;</span></span><br><span class="line">port = <span class="comment">####</span></span><br><span class="line">user = <span class="string">&#x27;########&#x27;</span></span><br><span class="line">password = <span class="string">&#x27;#######&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_database</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :return: return the pre-connect database</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    connection = pymysql.connect(host=host,</span><br><span class="line">                         user=user,</span><br><span class="line">                         password=password,</span><br><span class="line">                         port=port,</span><br><span class="line">                         charset=<span class="string">&#x27;utf8mb4&#x27;</span>,</span><br><span class="line">                         use_unicode=<span class="literal">True</span>,)</span><br><span class="line">    <span class="keyword">return</span> connection</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¤„ç†æ¨¡å—"><a href="#å¤„ç†æ¨¡å—" class="headerlink" title="å¤„ç†æ¨¡å—"></a>å¤„ç†æ¨¡å—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*_coding:utf8-*-</span></span><br><span class="line"><span class="comment"># Created by frank at 07/04/2017</span></span><br><span class="line"><span class="comment"># è¿æ¥æ•°æ®åº“</span></span><br><span class="line"><span class="keyword">from</span> connection <span class="keyword">import</span> get_database</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰§è¡Œsqlå‘½ä»¤ï¼Œæ‰“å°è¿”å›ç»“æœ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">execute</span>(<span class="params">sql_command</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> connection.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">            cursor.execute(sql_command)</span><br><span class="line">            result = cursor.fetchall()</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;COMMAND: &quot;</span>, sql_command)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;RESULT: &quot;</span>, result)         </span><br><span class="line">            <span class="built_in">print</span>()</span><br><span class="line">            dic[sql_command] = result</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Command %s failed!&quot;</span> % sql_command)</span><br><span class="line">        <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»ºç«‹è¿æ¥</span></span><br><span class="line">connection = get_database()</span><br><span class="line">connection.commit()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­˜æ”¾å‘½ä»¤ä¸å¯¹åº”ç»“æœï¼Œä¾¿äºä¹‹åè°ƒè¯•</span></span><br><span class="line">dic = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># SQL æŸ¥è¯¢è¯­å¥</span></span><br><span class="line">sql_commands = [</span><br><span class="line"><span class="comment"># &quot;SHOW DATABASES;&quot;,</span></span><br><span class="line"><span class="string">&quot;use wind_data;&quot;</span>,</span><br><span class="line"><span class="comment"># &quot;show tables;&quot;,</span></span><br><span class="line"><span class="comment"># &quot;SHOW COLUMNS FROM absdescription;&quot;,</span></span><br><span class="line"><span class="comment"># &quot;SHOW COLUMNS FROM absdescription2;&quot;,</span></span><br><span class="line"><span class="comment"># &quot;SHOW COLUMNS FROM ashareagency;&quot;</span></span><br><span class="line"><span class="comment"># &quot;select * from absdescription;&quot;,</span></span><br><span class="line"><span class="comment">#     &quot;select count(*) from absdescription;&quot;</span></span><br><span class="line"><span class="comment">#     &quot;SHOW COLUMNS FROM xcashflow;&quot;,</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> sql_command <span class="keyword">in</span> sql_commands:</span><br><span class="line">    execute(sql_command)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ‰€æœ‰tableåå­—å­˜äºlist</span></span><br><span class="line">tables = []</span><br><span class="line">l = <span class="built_in">list</span>(dic[<span class="string">&quot;show tables;&quot;</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> l:</span><br><span class="line">    tables.append(i[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># å–å¾—æ‰€æœ‰tableï¼Œåˆ†åˆ«å­˜æ”¾äºcsvæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">for</span> table <span class="keyword">in</span> tables:</span><br><span class="line"><span class="comment">#     table = &#x27;absdescription&#x27;</span></span><br><span class="line">    sql_cmd = <span class="string">&quot;select * from %s&quot;</span> % table</span><br><span class="line"></span><br><span class="line">    df = pd.read_sql(sql=sql_cmd, con=connection)</span><br><span class="line"></span><br><span class="line">    df.to_csv(<span class="string">&quot;data/%s.csv&quot;</span> % table)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–­å¼€è¿æ¥</span></span><br><span class="line">connection.close()       </span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒè‡ª"><a href="#å‚è€ƒè‡ª" class="headerlink" title="å‚è€ƒè‡ª"></a>å‚è€ƒè‡ª</h2><ul><li><a href="http://www.jianshu.com/p/2dbf454a386e">mysqldump é”™è¯¯2013 Lost connection - ç®€ä¹¦</a></li><li><a href="http://www.ttlsa.com/mysql/mysql-common-error-analysis-and-solution-methods/">MySQLå¸¸è§é”™è¯¯åˆ†æä¸è§£å†³æ–¹æ³•æ€»ç»“ - è¿ç»´ç”Ÿå­˜æ—¶é—´</a></li><li><a href="http://www.cnblogs.com/arkenstone/p/6271923.html">Pythonä¸­ä»SQLå‹æ•°æ®åº“è¯»å†™dataframeå‹æ•°æ® - Arkenstone - åšå®¢å›­</a></li><li><a href="http://jingyan.baidu.com/article/eae0782785a4c21fec548525.html">pandasæ•™ç¨‹ï¼š[19]è¯»å†™sqlæ•°æ®åº“_ç™¾åº¦ç»éªŒ</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/SQL/">SQL</category>
      
      <category domain="http://example.com/tags/Pandas/">Pandas</category>
      
      
      <comments>http://example.com/2017/04/11/%E5%88%A9%E7%94%A8Pandas%E8%AF%BB%E5%8F%96%E8%BF%9C%E7%A8%8Bmysql%E6%95%B0%E6%8D%AE%E5%BA%93/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Data Science cheatsheet</title>
      <link>http://example.com/2017/04/05/machine-learning-cheat-sheet/</link>
      <guid>http://example.com/2017/04/05/machine-learning-cheat-sheet/</guid>
      <pubDate>Wed, 05 Apr 2017 08:45:56 GMT</pubDate>
      
      <description>&lt;p&gt;è®°å½•è‹¥å¹²å…³äºæ•°æ®ç§‘å­¦çš„cheatsheet&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>è®°å½•è‹¥å¹²å…³äºæ•°æ®ç§‘å­¦çš„cheatsheet</p><span id="more"></span><h2 id="Pandas"><a href="#Pandas" class="headerlink" title="Pandas"></a>Pandas</h2><p><img src="/images/2017/04/Pandas_Cheat_Sheet/Slide1.bmp"><br><img src="/images/2017/04/Pandas_Cheat_Sheet/Slide2.bmp"></p><h2 id="Sklearn"><a href="#Sklearn" class="headerlink" title="Sklearn"></a>Sklearn</h2><p><img src="/images/2017/04/drop_shadows_background.png"></p><h2 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h2><p><img src="/images/2017/04/conda-cheatsheet-1/conda-cheatsheet-1.jpg"><br><img src="/images/2017/04/conda-cheatsheet-1/conda-cheatsheet-2.jpg"></p><h2 id="å¼•ç”¨è‡ª"><a href="#å¼•ç”¨è‡ª" class="headerlink" title="å¼•ç”¨è‡ª"></a>å¼•ç”¨è‡ª</h2><ul><li><p><a href="https://github.com/scikit-learn/scikit-learn/blob/4d9a12d175a38f2bcb720389ad2213f71a3d7697/doc/themes/scikit-learn/static/ML_MAPS_README.rst">scikit-learn/ML_MAPS_README.rst at 4d9a12d175a38f2bcb720389ad2213f71a3d7697 Â· scikit-learn/scikit-learn</a></p></li><li><p><a href="https://github.com/pandas-dev/pandas/tree/master/doc/cheatsheet">pandas/doc/cheatsheet at master Â· pandas-dev/pandas</a></p></li><li><p><a href="https://conda.io/docs/using/cheatsheet.html">Conda cheat sheet â€” Conda documentation</a></p></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      <category domain="http://example.com/tags/Machine-Learning/">Machine Learning</category>
      
      
      <comments>http://example.com/2017/04/05/machine-learning-cheat-sheet/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>programmer humor week 1</title>
      <link>http://example.com/2017/04/01/programmer-humor-week-1/</link>
      <guid>http://example.com/2017/04/01/programmer-humor-week-1/</guid>
      <pubDate>Sat, 01 Apr 2017 09:58:39 GMT</pubDate>
      
      <description>&lt;p&gt;programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ</p><span id="more"></span><h3 id="How-OS-fanboys-and-girls-meet"><a href="#How-OS-fanboys-and-girls-meet" class="headerlink" title="How OS fanboys (and girls) meet"></a>How OS fanboys (and girls) meet</h3><p><img src="/images/2017/04/00.jpg"></p><h3 id="The-doors-at-work-are-version-controlled"><a href="#The-doors-at-work-are-version-controlled" class="headerlink" title="The doors at work are version-controlled."></a>The doors at work are version-controlled.</h3><p><img src="/images/2017/04/01.jpg"></p><h3 id="5-word-horror-story"><a href="#5-word-horror-story" class="headerlink" title="5 word horror story"></a>5 word horror story</h3><p><img src="/images/2017/04/02.png"></p><h3 id="Windows-has-a-built-in-java-code-optimizer-with-a-simple-drag-and-drop-interface"><a href="#Windows-has-a-built-in-java-code-optimizer-with-a-simple-drag-and-drop-interface" class="headerlink" title="Windows has a built-in java code optimizer with a simple drag-and-drop interface"></a>Windows has a built-in java code optimizer with a simple drag-and-drop interface</h3><p><img src="/images/2017/04/03.png"></p><h3 id="GitHub-The-place-where-I-fork"><a href="#GitHub-The-place-where-I-fork" class="headerlink" title="GitHub. The place where I fork."></a>GitHub. The place where I fork.</h3><p><img src="/images/2017/04/04.png"></p><h2 id="å¼•ç”¨è‡ª"><a href="#å¼•ç”¨è‡ª" class="headerlink" title="å¼•ç”¨è‡ª"></a>å¼•ç”¨è‡ª</h2><p><a href="https://www.reddit.com/r/ProgrammerHumor/">Programmer Humor</a></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Funny/">Funny</category>
      
      
      <comments>http://example.com/2017/04/01/programmer-humor-week-1/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Learn More,Study Less</title>
      <link>http://example.com/2017/03/26/learn%20more%20study%20less/</link>
      <guid>http://example.com/2017/03/26/learn%20more%20study%20less/</guid>
      <pubDate>Sun, 26 Mar 2017 07:11:56 GMT</pubDate>
      
      <description>&lt;p&gt;å…³äºlearn more study less çš„æ€ç»´å¯¼å›¾  &lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>å…³äºlearn more study less çš„æ€ç»´å¯¼å›¾  </p><span id="more"></span><p>![](/images/2017/03/learn more study less 15.45.08.png)</p><h2 id="holistic-learning-çš„æµç¨‹"><a href="#holistic-learning-çš„æµç¨‹" class="headerlink" title="holistic learning çš„æµç¨‹"></a>holistic learning çš„æµç¨‹</h2><h3 id="Acquire-è·å–"><a href="#Acquire-è·å–" class="headerlink" title="Acquire è·å–"></a>Acquire è·å–</h3><ul><li>å‡†ç¡®ã€ç²¾ç‚¼åœ°å¾—åˆ°ä¿¡æ¯  </li><li>ç®€åŒ–  <ul><li>æå–ç²¾åã€ç•¥å»æ— ç”¨ä¿¡æ¯  </li></ul></li><li>å®¹é‡  <ul><li>çŸ¥é“çš„ä¿¡æ¯è¶Šå¤šè¶Šå¥½  </li></ul></li><li>é€Ÿåº¦  <ul><li>å°½å¿«å®Œæˆè·å–é˜¶æ®µ  </li></ul></li></ul><h3 id="Understand-ç†è§£"><a href="#Understand-ç†è§£" class="headerlink" title="Understand ç†è§£"></a>Understand ç†è§£</h3><ul><li>äº†è§£ä¿¡æ¯çš„åŸºæœ¬æ„æ€ï¼Œå¹¶è”ç³»ä¸Šä¸‹æ–‡æ¥ç†è§£  </li><li>ç†è§£ä¿¡æ¯çš„ç¬¬ä¸€é˜¶æ®µï¼šç†è§£ä¿¡æ¯çš„è¡¨å±‚å«ä¹‰  <ul><li>å½“é‡åˆ°ä¸æ˜ç™½ä¹‹å¤„ï¼Œåº”è¯¥åˆ†è§£é—®é¢˜ï¼Œæ‰¾åˆ°çœŸæ­£ä¸æ˜ç™½ä¹‹å¤„  </li></ul></li></ul><h3 id="Explore-æ‰©å±•"><a href="#Explore-æ‰©å±•" class="headerlink" title="Explore æ‰©å±•"></a>Explore æ‰©å±•</h3><ul><li>å½¢æˆé«˜é€Ÿå…¬è·¯ã€æ¨¡å‹åŠå†…éƒ¨è”ç³»è‰¯å¥½çš„ç»“æ„  </li><li>æ·±åº¦æ‰©å±•  <ul><li>çŸ¥è¯†çš„ç”±æ¥ã€èƒŒæ™¯çš„æ¢ç©¶  </li></ul></li><li>æ¨ªå‘æ‰©å±•  <ul><li>æ„é€ æ¨¡å‹ï¼šå¯»æ‰¾ç±»ä¼¼çš„çŸ¥è¯†çš„è”ç³»  </li></ul></li><li>çºµå‘æ‰©å±•  <ul><li>åˆ›å»ºé«˜é€Ÿå…¬è·¯ï¼šè·¨å­¦ç§‘ã€è·¨é¢†åŸŸçš„çŸ¥è¯†è”ç³»  <ul><li>æœ€é‡è¦ã€æœ€æœ‰æŒ‘æˆ˜æ€§çš„æ‰©å±•æ–¹æ³•ï¼Œæœ‰ç›Šäºåˆ›é€ æ€§æ€è€ƒ  </li><li>æ¯”å–»metaphor  </li><li>å†…åœ¨æ³•visceralization  <ul><li><a href="https://www.scotthyoung.com/learnonsteroids/grab/Visceralization-GettingStarted.pdf"> Getting Started with Visceralization </a>  </li></ul></li></ul></li></ul></li></ul><h3 id="Test-æµ‹è¯•"><a href="#Test-æµ‹è¯•" class="headerlink" title="Test æµ‹è¯•"></a>Test æµ‹è¯•</h3><h3 id="Debugçº é”™"><a href="#Debugçº é”™" class="headerlink" title="Debugçº é”™"></a>Debugçº é”™</h3><ul><li>åœ¨æ¨¡å‹å’Œé«˜é€Ÿå…¬è·¯ä¸­å¯»æ‰¾æ”¹æ­£é”™è¯¯  </li><li>çŸ¥è¯†ç½‘ç»œçš„ä¿®å‰ªï¼Œæ·»åŠ ç‰¹æ®Šä¾‹å­ï¼Œåˆ å‡é”™è¯¯çš„è”ç³»ç­‰  <ul><li>é˜…è¯»ä¸ä½ è§‚ç‚¹ç›¸åçš„ä¹¦ç±  </li><li>å°†ä½ çš„çŸ¥è¯†æ”¾å…¥ç°å®ä¸–ç•Œæ¥è§‚å¯Ÿç­‰  </li></ul></li></ul><h3 id="Apply-åº”ç”¨"><a href="#Apply-åº”ç”¨" class="headerlink" title="Apply åº”ç”¨"></a>Apply åº”ç”¨</h3><ul><li>åˆ›é€ æ–°é€”å¾„ï¼Œå°†æ‰€å­¦çŸ¥è¯†çŸ¥è¯†åº”ç”¨èµ·æ¥ï¼Œè¿™æ˜¯å­¦ä¹ çš„æœ€ç»ˆç›®çš„  </li><li>é€šè¿‡æ¯”è¾ƒçŸ¥è¯†å¦‚ä½•åœ¨ç°å®ä¸­åº”ç”¨æ¥è°ƒæ•´ï¼Œé˜²æ­¢æˆä¸ºâ€œä¹¦å‘†å­â€  </li></ul><h2 id="æ‰¾å‡ºè‡ªå·±çš„è–„å¼±ç¯èŠ‚"><a href="#æ‰¾å‡ºè‡ªå·±çš„è–„å¼±ç¯èŠ‚" class="headerlink" title="æ‰¾å‡ºè‡ªå·±çš„è–„å¼±ç¯èŠ‚"></a>æ‰¾å‡ºè‡ªå·±çš„è–„å¼±ç¯èŠ‚</h2><h3 id="è·å–"><a href="#è·å–" class="headerlink" title="è·å–"></a>è·å–</h3><ul><li>ç—‡çŠ¶  <ul><li>é˜…è¯»å’Œå¬è®²é€Ÿåº¦æ…¢  </li><li>éœ€è¦åå¤é˜…è¯»  </li></ul></li><li>åŸå›   <ul><li>é˜…è¯»/å­¦ä¹ ä¹ æƒ¯ä¸å¥½  </li><li>è®°ç¬”è®°ä¹ æƒ¯ä¸å¥½  </li><li>ä¸ç†è§£åŸºæœ¬æ¦‚å¿µã€æœ¯è¯­  </li></ul></li><li>è§£å†³  <ul><li>å…»æˆè‰¯å¥½çš„å­¦ä¹ ã€é˜…è¯»å’Œè®°ç¬”è®°çš„ä¹ æƒ¯  </li></ul></li></ul><h3 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h3><ul><li>è¡¨ç°  <ul><li>é˜…è¯»æ—¶ä¸æ˜ç™½ä½œè€…æ„æ€  </li><li>ç¬”è®°å¾ˆå®Œå–„ï¼Œå´ä¸æ˜ç™½å…¶å«ä¹‰  </li></ul></li><li>è§£å†³  <ul><li>æ”¾æ…¢é˜…è¯»é€Ÿåº¦ï¼Œå¯»æ‰¾å…¶ä»–èµ„æ–™ï¼Œä»¥æ±‚å¾—æ›´åŠ è¯¦ç»†ï¼Œå¦ä¸€è§’åº¦çš„é˜è¿°  <ul><li>åŸºæœ¬çš„ç†è§£æ˜¯åç»­é«˜çº§æŠ€å·§çš„åŸºçŸ³  </li></ul></li></ul></li></ul><h3 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h3><ul><li>è¡¨ç°  <ul><li>ç¼ºå°‘çµæ´»æ€§  <ul><li>å·²ç»æŒæ¡äº†ä¸€ä¸ªæ–°ä¸œè¥¿ï¼Œä½†æ˜¯æ²¡æœ‰æˆ–ä¸ä¼šå°† å®ƒä¸å…¶ä»–å­¦è¿‡çš„çŸ¥è¯†è”ç³»èµ·æ¥ï¼Œå‡å¦‚è®©ä½ ç”¨è¿™ä¸ªæ–°çš„çŸ¥è¯†å»è§£å†³ä¸€ä¸ªéå¸¸è§„é—®é¢˜ï¼Œå°±å¸¸å¸¸æŸæ‰‹æ— ç­–ã€‚  </li></ul></li></ul></li></ul><h3 id="çº é”™"><a href="#çº é”™" class="headerlink" title="çº é”™"></a>çº é”™</h3><ul><li>è¡¨ç°  <ul><li>é”™è¯¯è”ç³»å¤ªå¤š  </li><li>åœ¨è¯¾å ‚ä¸Šå¾ˆå°‘å‡ºç°ï¼Œè€Œåœ¨å®é™…ä¸–ç•Œä¸­å´å¾ˆæ™®é  <ul><li>è¯¾å ‚ä¸Šäººä»¬å¾ˆå°‘å»æ‰©å±•ï¼šå‘ç”Ÿé”™è¯¯æœºä¼šå°‘  </li><li>å®é™…ä¸­äººä»¬ç»å¸¸æƒ³å‡ºå„ç§è”ç³»ï¼Œå´ä¸éªŒè¯è¿™äº›è”ç³»æ˜¯å¦æ­£ç¡®ï¼šå„ç§è¿·ä¿¡çš„äº§ç”Ÿ  </li></ul></li></ul></li></ul><h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><ul><li>è¡¨ç°  <ul><li>ä¸èƒ½åœ¨çœŸå®ä¸–ç•Œä¸­å¾ˆå¥½åœ°è¿ç”¨çŸ¥è¯†  </li></ul></li><li>è§£å†³  <ul><li>æ›´å¤šçš„å®è·µï¼ŒæŠ›å¼€ä¹¦æœ¬ï¼Œèµ°å‡ºå»ï¼Œå»åšå®éªŒï¼Œå»æ¥è§¦ç”Ÿæ´»ï¼Œå»èå…¥ç¤¾ä¼š  </li></ul></li></ul><h2 id="holistic-learning-techniques"><a href="#holistic-learning-techniques" class="headerlink" title="holistic  learning techniques"></a>holistic  learning techniques</h2><h3 id="è·å–çŸ¥è¯†"><a href="#è·å–çŸ¥è¯†" class="headerlink" title="è·å–çŸ¥è¯†"></a>è·å–çŸ¥è¯†</h3><ul><li>å¿«é€Ÿé˜…è¯»æ³•  <ul><li>æŒ‡è¯»æ³•  <ul><li>ç”¨é£ŸæŒ‡æ”¾åœ¨ä½ è¦è¯»çš„é‚£ä¸€è¡Œä¸‹é¢ï¼Œä¸æ–­ç§»åŠ¨é£ŸæŒ‡  </li></ul></li><li>ç»ƒä¹ é˜…è¯»  <ul><li>å¯¹æ¯”æŒ‡è¯»æ³•ä¸å¸¸è§„è¯»æ³•ï¼Œæµ‹è¯•é˜…è¯»é€Ÿåº¦æé«˜æ½œåŠ›  </li><li>å¯¹æ¯”å…ˆè¯»åè®°ä¸è¾¹è¯»è¾¹è®°æ¥æµ‹è¯•ç†è§£èƒ½åŠ›  </li></ul></li><li>ç§¯æé˜…è¯»  <ul><li>è¾¹è¯»è¾¹è®°ç¬”è®°  <ul><li>è¿™ä¸€èŠ‚ä¸­ä¸»è¦ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ  <ul><li>æ˜¯å¦å®Œæ•´åœ°è·å–ä¿¡æ¯  </li></ul></li><li>æˆ‘æ€æ ·æ‰èƒ½è®°ä½ä¸»è¦ç‚¹ï¼Ÿ  <ul><li>è”ç³»ä¿¡æ¯ï¼Œè§†è§‰åŒ–å’Œæ¯”å–»æ³•  </li></ul></li><li>æˆ‘è¦æ€æ ·å°†ä¸»è¦ç‚¹æ‹“å±•å¼€ä»¥åŠåº”ç”¨å®ƒ  <ul><li>å°†ä¿¡æ¯åº”ç”¨åœ¨ä¸åŒçš„æƒ…å¢ƒä¸­  </li></ul></li></ul></li></ul></li></ul></li><li>æµç¬”è®°æ³•  <ul><li>é‡ç‚¹åœ¨äºæå–ä¸»è¦ä¿¡æ¯ï¼Œåˆ å‡æ¬¡è¦ä¿¡æ¯ï¼Œé‡ç‚¹è®°å½•è”ç³»å’ŒæŒ‰ç…§ä½ ç†è§£çš„æ–¹å¼ç»™ä¿¡æ¯åˆ†ç±»  </li><li>ç”¨å¾ˆçŸ­çš„å•è¯æ¥è®°ä¸‹æœ€ä¸»è¦çš„è§‚ç‚¹  </li><li>åœ¨ç›¸è”ç³»çš„è§‚ç‚¹ä¹‹é—´åˆ’ä¸Šä¸€äº›ç®­å¤´  </li></ul></li></ul><h3 id="ç†è§£ä¸æ‰©å±•"><a href="#ç†è§£ä¸æ‰©å±•" class="headerlink" title="ç†è§£ä¸æ‰©å±•"></a>ç†è§£ä¸æ‰©å±•</h3><ul><li><p>å…³é”®ä¿¡æ¯  </p><ul><li><p>å­¦ä¹ å…¶ä»–çŸ¥è¯†çš„åŸºç¡€ï¼Œä¸ä¹‹åçš„ä¿¡æ¯å…³ç³»æå¼ºï¼Œå¯¹äºä¹‹åçš„ç†è§£è‡³å…³é‡è¦  </p></li><li><p>æ¯”å–»  </p><ul><li>è¦ç‚¹ï¼šä¸ç†Ÿæ‚‰çš„çŸ¥è¯†å’Œç†Ÿæ‚‰çš„çŸ¥è¯†è”ç³»èµ·æ¥  <ul><li>ç¡®å®šä½ è¦æ·±å…¥ç†è§£å’Œè®°å¿†ä¿¡æ¯  </li><li>åœ¨ä½ çš„ä¸ªäººç»éªŒä¸­å¯»æ‰¾ä¸ä¿¡æ¯éƒ¨åˆ†ç›¸ä¼¼çš„ä¸œè¥¿ï¼Œä¸æ±‚è¾¾åˆ°å®Œå…¨ç¬¦åˆï¼Œå¯æ‰¾åˆ°å¤šä¸ªéƒ¨åˆ†ç¬¦åˆçš„â€œä¸å®Œç¾æ¯”å–»â€ã€‚  </li><li>é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œæ£€æŸ¥æ¯”å–»ä¸æ°å½“çš„åœ°æ–¹  </li></ul></li><li>è¿ç”¨æŠ€å·§ï¼šè¦æœ‰å¯»æ‰¾æ¯”å–»çš„æ¬²æœ›  <ul><li>é‡åˆ°æœ‰ç†è§£å›°éš¾çš„çŸ¥è¯†ï¼Œé¦–å…ˆåº”æƒ³åˆ°æ¯”å–»  </li><li>æ³¨æ„ç¬¬ä¸€ä¸ªå‡ºç°åœ¨è„‘æµ·ä¸­çš„å¿µå¤´  </li><li>ä¼˜åŒ–å’Œæµ‹è¯•ä½ çš„æ¯”å–»  <ul><li>å¤šæ‰¾å‡ ä¸ªä¸åŒè§’åº¦çš„æ¯”å–»  </li></ul></li></ul></li><li>æŠ½è±¡ä¿¡æ¯è¾ƒé€‚åˆæ¯”å–»  </li></ul></li><li><p>å†…åœ¨åŒ–  </p><ul><li>è°ƒåŠ¨æ›´å¤šçš„æ„ŸçŸ¥ã€æƒ…æ„Ÿä¸çŸ¥è¯†è”ç³»åœ¨ä¸€èµ·ï¼Œå½¢æˆå¼ºè”ç³»  <ul><li>è§†è§‰  </li><li>å¬è§‰  </li><li>è¿åŠ¨  </li><li>æƒ…æ„Ÿ  </li></ul></li><li>æ­¥éª¤  <ul><li>æ˜ç¡®è¦å†…åœ¨åŒ–æ¦‚å¿µ  </li><li>ä»å»ºç«‹è„‘æµ·ä¸­çš„é™æ€å›¾åƒå¼€å§‹  </li><li>å°†è„‘æµ·ä¸­çš„é™æ€å›¾åƒè½¬æ¢ä¸ºæ ©æ ©å¦‚ç”Ÿçš„åŠ¨æ€åœºæ™¯  </li><li>åŠ ä¸Šå…¶ä»–æ„Ÿå®˜ï¼Œè¯•ç€ç”¨æ‰‹å»æ‹¿ï¼Œå»æ‘¸ï¼Œå»æ‰“å®ƒï¼Œå»å—…å®ƒçš„å‘³é“ï¼Œå»å¬å®ƒçš„å£°éŸ³ï¼ŒåŠ¨ç”¨ä½ èº«ä½“çš„æ‰€æœ‰æ„Ÿå®˜ï¼Œå°†æ‰€æœ‰çš„æ„Ÿè§‰ä¸è¿åŠ¨çš„å›¾åƒç›¸è”ç³»ã€‚  </li><li>åŠ å…¥æ›´å¤šçš„æ„Ÿè§‰æˆ–æƒ…æ„Ÿ  </li><li>ä¸æ–­é‡å¤å’Œä¼˜åŒ–å›¾åƒ  </li></ul></li><li>å…·ä½“ä¿¡æ¯è¾ƒé€‚åˆå†…åœ¨åŒ–  </li></ul></li><li><p>ç®€å›¾æ³•  </p><ul><li><p>ç®€å›¾ä¸æ¯”å–»å’Œå†…åœ¨åŒ–ç»“åˆåœ¨ä¸€èµ·  </p><p>  ç®€å›¾å¯ä»¥å’Œæ¯”å–»åŠå†…åœ¨åŒ–æ··åˆåœ¨ä¸€èµ·ï¼Œä»¥åŠ æ·±å¯¹çŸ¥è¯†çš„ç†è§£  </p></li><li><p>æµç®€å›¾  </p><ul><li>ä»ä¸€ä¸ªç®€å•çš„å…ƒç´ å¼€å§‹ï¼Œç„¶ååœ¨è¿™ä¸ªæˆåˆ†åŠä¸ä¹‹ç›¸è”ç³»çš„ä¸åŒçŸ¥è¯†ä¹‹é—´ ç”»å‡ºè”ç³»ç®­å¤´  </li></ul></li><li><p>æ¦‚å¿µå›¾  </p><ul><li>å°†è§‚ç‚¹è”ç³»åœ¨ä¸€èµ·ï¼Œä¸æµç¬”è®°å¯†åˆ‡ç›¸å…³ã€‚æ¦‚å¿µå›¾é‡Œçš„å…³ç³»è§‚ç‚¹ä¹‹é—´çš„å†…åœ¨å…³ç³»ï¼Œåœ¨ä¸åŒè§‚ç‚¹ä¹‹é—´ç”»ä¸Šç®­å¤´ï¼Œ ç®­å¤´ä¸Šè¿˜éœ€è¦åŠ ä¸Šä¸€äº›ç®€å•çš„è¯è¯­  </li></ul></li><li><p>å›¾åƒç®€å›¾  </p><ul><li>ç²—ç³™ç®€å•çš„æ¶‚é¸¦æ¥ä»£æ›¿æ–‡å­—  </li></ul></li></ul></li></ul></li><li><p>å›°éš¾ä¿¡æ¯  </p><ul><li>è”æƒ³æ³•  <ul><li>å°†ä¸€ç³»åˆ—è§‚ç‚¹ä¸²åœ¨ä¸€èµ·ï¼Œå°±åƒé“¾æ¡  </li><li>æ­¥éª¤  <ul><li>åˆ›é€ é¡ºåº  <ul><li>å…ˆåœ¨çº¸ä¸Šå†™ä¸‹ä½ æ‰“ç®—è®°ä½çš„å¾ˆå¤šä¿¡æ¯ï¼Œåœ¨ä½ èƒ½ç†è§£çš„å‰æä¸‹ï¼Œè¿…é€Ÿåœ°å°†ä¿¡æ¯åˆ†æˆå‡ ä¸ªç±» åˆ«  </li></ul></li><li>è®¾è®¡ç¬¦å·  <ul><li>è¦èƒ½è¿…é€Ÿè®©ä½ è”æƒ³åˆ°åŸå§‹çš„çŸ¥è¯†  </li></ul></li><li>åˆ›å»ºå±äºè‡ªå·±çš„è”æƒ³  <ul><li>å‘æŒ¥æƒ³è±¡åŠ›ï¼ŒæŠŠç¬¦å·ä¹‹é—´è¿æ¥èµ·æ¥  </li></ul></li></ul></li><li>éš¾ç‚¹  <ul><li>ç¬¦å·é‡å¤  <ul><li>å¯ä»¥å°è¯•ä¸åŒé¢œè‰²æ¥åŒºåˆ†  </li></ul></li><li>æ–­è£‚çš„è”ç³»  <ul><li>ç¬¦å·ä¸²ä¸å®œå¤ªé•¿  </li></ul></li><li>éš¾ä»¥è¾¨è®¤çš„ç¬¦å·  <ul><li>ç”¨åªæœ‰è‡ªå·±èƒ½æ‡‚çš„å¾ˆå¥½ï¼Œä½†æ˜¯ä¸€å®šä¸èƒ½è®©è‡ªå·±è¿·æƒ‘  </li></ul></li><li>è§¦å‘ç‰©ä¸¢å¤±  <ul><li>é˜²æ­¢è®°ä¸èµ·ç¬¬ä¸€ä¸ªï¼šå¢åŠ ä¸­ç¬¬ä¸€é¡¹å’Œè§¦å‘ç‰©ä¹‹é—´çš„è”æƒ³  </li></ul></li></ul></li></ul></li><li>æŠ½è±¡ä¿¡æ¯ã€éšæ„ä¿¡æ¯ï¼Œå…³è”ç¨‹åº¦ä¸å¼º  </li></ul></li></ul><h2 id="ä¿¡æ¯çš„ç»“æ„"><a href="#ä¿¡æ¯çš„ç»“æ„" class="headerlink" title="ä¿¡æ¯çš„ç»“æ„"></a>ä¿¡æ¯çš„ç»“æ„</h2><h3 id="éšæ„ä¿¡æ¯"><a href="#éšæ„ä¿¡æ¯" class="headerlink" title="éšæ„ä¿¡æ¯"></a>éšæ„ä¿¡æ¯</h3><ul><li>ç‰¹ç‚¹  <ul><li>ç¼ºå°‘å†…åœ¨é€»è¾‘è”ç³»ï¼Œéœ€è¦æ­»è®°ç¡¬èƒŒçš„çŸ¥è¯†  </li></ul></li><li>æ–¹æ³•  <ul><li>ç€åŠ›å»å¯»æ‰¾çŸ¥è¯†ç‚¹ä¹‹é—´çš„è”ç³»  </li></ul></li></ul><h3 id="è§‚ç‚¹ä¿¡æ¯"><a href="#è§‚ç‚¹ä¿¡æ¯" class="headerlink" title="è§‚ç‚¹ä¿¡æ¯"></a>è§‚ç‚¹ä¿¡æ¯</h3><ul><li>ç‰¹ç‚¹  <ul><li>å­˜åœ¨äº‰è®®çš„ä¿¡æ¯  </li></ul></li><li>æ–¹æ³•  <ul><li>åœ¨è·å–é˜¶æ®µï¼Œå¿«é€Ÿæ£€ç´¢å¤§é‡ä¿¡æ¯ï¼šæ‰¾å¯»å…¶ä¸­çš„æ¨¡å¼ï¼ˆä¸è®°å¿†å…·ä½“ç»†èŠ‚ï¼‰  <ul><li>é€Ÿè¯»  </li><li>å›¾ç¤ºï¼šä»¥åŠ å¼ºå¯¹æ¯”ä»¥æå–æ¨¡å¼ï¼Œå¢è¿›ç†è§£  </li></ul></li></ul></li></ul><h3 id="å¤§å¤šæ•°å­¦ç§‘éƒ½æ˜¯è¿™å‡ ç§ä¿¡æ¯ä¸åŒæ¯”ä¾‹çš„ç»„åˆ"><a href="#å¤§å¤šæ•°å­¦ç§‘éƒ½æ˜¯è¿™å‡ ç§ä¿¡æ¯ä¸åŒæ¯”ä¾‹çš„ç»„åˆ" class="headerlink" title="å¤§å¤šæ•°å­¦ç§‘éƒ½æ˜¯è¿™å‡ ç§ä¿¡æ¯ä¸åŒæ¯”ä¾‹çš„ç»„åˆ"></a>å¤§å¤šæ•°å­¦ç§‘éƒ½æ˜¯è¿™å‡ ç§ä¿¡æ¯ä¸åŒæ¯”ä¾‹çš„ç»„åˆ</h3><h3 id="è¿‡ç¨‹ä¿¡æ¯"><a href="#è¿‡ç¨‹ä¿¡æ¯" class="headerlink" title="è¿‡ç¨‹ä¿¡æ¯"></a>è¿‡ç¨‹ä¿¡æ¯</h3><ul><li>ç‰¹ç‚¹  <ul><li>æ•™å¯¼å¦‚ä½•è¡ŒåŠ¨ï¼Œä¸€ç³»åˆ—æ“ä½œçš„é›†åˆ  </li></ul></li><li>æ–¹æ³•  <ul><li>æ‰“é€ è‰¯å¥½çš„ç»“æ„ä¸æ¨¡å‹ï¼šåŠ é€Ÿè¿‡ç¨‹ä¿¡æ¯çš„å­¦ä¹   <ul><li>éœ€è¦å¤§é‡æ—¶é—´æŠ•å…¥ç»ƒä¹   </li></ul></li></ul></li></ul><h3 id="å…·ä½“ä¿¡æ¯"><a href="#å…·ä½“ä¿¡æ¯" class="headerlink" title="å…·ä½“ä¿¡æ¯"></a>å…·ä½“ä¿¡æ¯</h3><ul><li>ç‰¹ç‚¹  <ul><li>èƒ½ä¸æ„Ÿå®˜ã€å®é™…ç›¸è”ç³»çš„ä¿¡æ¯  </li></ul></li><li>æ–¹æ³•  <ul><li>å†…åœ¨åŒ–ï¼šæœ‰åŠ©äºä½ å°†ä¿¡æ¯ä¸å¤šä¸ªæ„Ÿ å®˜ç›¸è”ç³»  </li></ul></li></ul><h3 id="è¿ç”¨å„ç§æ–¹æ³•æ‰¾å¯»ä¿¡æ¯ä¹‹é—´çš„è”ç³»ï¼šä»¥æŠŠå¼±ç»“æ„çš„ä¿¡æ¯è½¬åŒ–ä¸ºå¼ºç»“æ„çš„ä¿¡æ¯"><a href="#è¿ç”¨å„ç§æ–¹æ³•æ‰¾å¯»ä¿¡æ¯ä¹‹é—´çš„è”ç³»ï¼šä»¥æŠŠå¼±ç»“æ„çš„ä¿¡æ¯è½¬åŒ–ä¸ºå¼ºç»“æ„çš„ä¿¡æ¯" class="headerlink" title="è¿ç”¨å„ç§æ–¹æ³•æ‰¾å¯»ä¿¡æ¯ä¹‹é—´çš„è”ç³»ï¼šä»¥æŠŠå¼±ç»“æ„çš„ä¿¡æ¯è½¬åŒ–ä¸ºå¼ºç»“æ„çš„ä¿¡æ¯"></a>è¿ç”¨å„ç§æ–¹æ³•æ‰¾å¯»ä¿¡æ¯ä¹‹é—´çš„è”ç³»ï¼šä»¥æŠŠå¼±ç»“æ„çš„ä¿¡æ¯è½¬åŒ–ä¸ºå¼ºç»“æ„çš„ä¿¡æ¯</h3><h3 id="æŠ½è±¡ä¿¡æ¯"><a href="#æŠ½è±¡ä¿¡æ¯" class="headerlink" title="æŠ½è±¡ä¿¡æ¯"></a>æŠ½è±¡ä¿¡æ¯</h3><ul><li>ç‰¹ç‚¹  <ul><li>ç¼ºå°‘ä¸æ„Ÿå®˜çš„ç›´æ¥è”ç³»  </li></ul></li><li>æ–¹æ³•  <ul><li>è¿ç”¨æ–¹æ³•å°†æŠ½è±¡ä¿¡æ¯é™ä½åˆ°ä¸€ä¸ªåŸºæœ¬çš„çº§åˆ«  <ul><li>å†…åœ¨æ³•  </li><li>æ¯”å–»  </li></ul></li></ul></li></ul><h2 id="ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ"><a href="#ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ"></a>ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ</h2><h3 id="Constructs"><a href="#Constructs" class="headerlink" title="Constructs"></a>Constructs</h3><ul><li>Familiar Constructs  <ul><li>æ„Ÿå®˜ç»“æ„  <ul><li>æ¥è‡ªäººç±»çš„æ„Ÿå®˜çŸ¥è§‰ï¼Œæ˜¯æœ€ç†Ÿæ‚‰ã€æœ€ç”ŸåŠ¨çš„ç»“æ„  </li></ul></li><li>å…³ç³»ç»“æ„  <ul><li>æ¥è‡ªäººç±»ç”Ÿæ´»ç»éªŒä¸­äººä¸äº‹åŠ¡ã€äº‹ç‰©ä¹‹é—´çš„è”ç³»  </li></ul></li><li>åŸºæœ¬æ•°å­¦ç»“æ„  <ul><li>æ¥è‡ªæˆ‘ä»¬ä»¥æŒæ¡çš„ç®€å•çš„åŸºæœ¬æ•°å­¦æ¦‚å¿µ  </li></ul></li></ul></li><li>ç»“æ„ï¼šå°±æ˜¯ä¸€ç³»åˆ—è”ç³»ç´§å¯†çš„çŸ¥è¯†ï¼Œä¸€ä¸ªçŸ¥è¯†ç‚¹ä¸è¶Šå¤šçš„å…¶å®ƒçš„çŸ¥è¯†ç‚¹ç›¸è”ç³»ï¼Œåˆ™ä½ å¯¹äºè¿™ä¸ªçŸ¥è¯†ç‚¹çš„æŒæ¡å°±è¶Šç‰¢å›ºï¼Œåº”ç”¨èµ·æ¥ä¹Ÿå°±è¶Šç®€å•æ˜äº†ã€‚  </li></ul><h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><ul><li>æ¨¡å‹æ˜¯å¯¹ç»“æ„çš„ç´¢å¼•ï¼Œæ˜¯å¯¹äºç»“æ„çš„å½¢è±¡åŒ–çš„æŠ½è±¡ï¼Œå®ƒå°†å…³é”®çš„ç»“æ„å‹ç¼©å’Œæ¦‚æ‹¬ï¼Œ  </li></ul><h3 id="Highway"><a href="#Highway" class="headerlink" title="Highway"></a>Highway</h3><ul><li>é«˜é€Ÿå…¬è·¯æ˜¯ä¸åŒç»“æ„ä¹‹é—´çš„è”ç³»ï¼Œè¿™ç§è”ç³»æ˜¯è·¨å­¦ç§‘çš„ï¼Œä¹Ÿå³æ˜¯æˆ‘ä»¬å¯ä»¥æŠŠAé¢†åŸŸçš„çŸ¥è¯†è¿ç§»åˆ°Bé¢†åŸŸã€‚  </li></ul><h1 id="å°†æ¯ä¸ª-çŸ¥è¯†ç‚¹éƒ½è¦ç»è¿‡æ•´ä½“æ€§å­¦ä¹ é‡Œçš„æ˜ç™½ã€æ‹“å±•å’Œåº”ç”¨ä¸‰ä¸ªé˜¶æ®µ"><a href="#å°†æ¯ä¸ª-çŸ¥è¯†ç‚¹éƒ½è¦ç»è¿‡æ•´ä½“æ€§å­¦ä¹ é‡Œçš„æ˜ç™½ã€æ‹“å±•å’Œåº”ç”¨ä¸‰ä¸ªé˜¶æ®µ" class="headerlink" title="å°†æ¯ä¸ª çŸ¥è¯†ç‚¹éƒ½è¦ç»è¿‡æ•´ä½“æ€§å­¦ä¹ é‡Œçš„æ˜ç™½ã€æ‹“å±•å’Œåº”ç”¨ä¸‰ä¸ªé˜¶æ®µ"></a>å°†æ¯ä¸ª çŸ¥è¯†ç‚¹éƒ½è¦ç»è¿‡æ•´ä½“æ€§å­¦ä¹ é‡Œçš„æ˜ç™½ã€æ‹“å±•å’Œåº”ç”¨ä¸‰ä¸ªé˜¶æ®µ</h1><h1 id="æ¯”å–»æ³•ã€å›¾è¡¨æ³•ä»¥åŠä¿¡æ¯å‹-ç¼©æŠ€æœ¯"><a href="#æ¯”å–»æ³•ã€å›¾è¡¨æ³•ä»¥åŠä¿¡æ¯å‹-ç¼©æŠ€æœ¯" class="headerlink" title="æ¯”å–»æ³•ã€å›¾è¡¨æ³•ä»¥åŠä¿¡æ¯å‹ ç¼©æŠ€æœ¯"></a>æ¯”å–»æ³•ã€å›¾è¡¨æ³•ä»¥åŠä¿¡æ¯å‹ ç¼©æŠ€æœ¯</h1>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Time-Management/">Time Management</category>
      
      <category domain="http://example.com/tags/Life/">Life</category>
      
      
      <comments>http://example.com/2017/03/26/learn%20more%20study%20less/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Basic Linux/Unix command Interview Questions</title>
      <link>http://example.com/2017/03/19/Basic-Linux-Unix-command-Interview-Questions/</link>
      <guid>http://example.com/2017/03/19/Basic-Linux-Unix-command-Interview-Questions/</guid>
      <pubDate>Sat, 18 Mar 2017 16:53:08 GMT</pubDate>
      
      <description>&lt;p&gt;Overview of Basic Linux/Unix command Interview Questions: å¸¸è§Linuxå‘½ä»¤çš„æ¦‚è¿°è®°å½•&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>Overview of Basic Linux/Unix command Interview Questions: å¸¸è§Linuxå‘½ä»¤çš„æ¦‚è¿°è®°å½•</p><span id="more"></span><h2 id="åˆçº§é—®é¢˜"><a href="#åˆçº§é—®é¢˜" class="headerlink" title="åˆçº§é—®é¢˜"></a>åˆçº§é—®é¢˜</h2><ul><li>åˆ—å‡ºç›®å½•å†…æ‰€æœ‰çš„è½¯é“¾æ¥æ–‡ä»¶</li></ul><p><code>ls -la | grep &quot;^l&quot;</code></p><p><code>ls -la</code>ä¼šä»¥ASCIIåˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼Œè€Œè½¯é“¾æ¥æ–‡ä»¶éƒ½æ˜¯ä»¥<code>l</code>å¼€å¤´çš„ï¼Œ<code>grep &quot;^l&quot;</code>ä¼šæ‰¾å‡ºå®ƒä»¬ã€‚å…³äºgrepçš„æ­£åˆ™patternå¯ä»¥è§æ­¤ï¼š<a href="https://www.digitalocean.com/community/tutorials/using-grep-regular-expressions-to-search-for-text-patterns-in-linux#regular-expressions">Using Grep &amp; Regular Expressions to Search for Text Patterns in Linux | DigitalOcean</a></p><ul><li>åˆ›å»ºä¸€ä¸ªåªè¯»çš„æ–‡ä»¶ï¼Ÿ</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch file</span><br><span class="line">chmod 400 file</span><br></pre></td></tr></table></figure><p>æ›´å¤šå¯è§ï¼š<a href="http://javarevisited.blogspot.com/2011/11/file-permissions-in-unix-linux-example.html">File permissions in UNIX Linux with Example &gt;&gt; Unix Tutorial</a></p><ul><li>å¦‚ä½•å°†ä¸€ä¸ªè¿›ç¨‹åœ¨åç«¯è¿è¡Œï¼Ÿå¦‚ä½•å°†å…¶è¿”å›å‰ç«¯ï¼Ÿå¦‚ä½•æ€æ­»è¿›ç¨‹ï¼Ÿ</li></ul><p>åˆ†åˆ«æ˜¯åœ¨å‘½ä»¤ååŠ ä¸Š<code>&amp;</code>ï¼›<code>fg jobid</code>(ç”¨<code>jobs</code>æ¥çœ‹jobid)ï¼›<code>kill -KILL PID</code> å¯è§<a href="https://kb.iu.edu/d/afnz">How do I run a Unix process in the background?</a></p><ul><li>æµ‹è¯•è¿œç¨‹é“¾æ¥ï¼Ÿ</li></ul><p>ç”¨<code>ping</code>æˆ–<code>telnet</code>å³å¯</p><ul><li>æ‰¾å¯»å†å²å‘½ä»¤ï¼Ÿ</li></ul><p><code>history | grep &quot;Pattern&quot;</code></p><ul><li>è¿œç¨‹å¤åˆ¶æ–‡ä»¶ï¼Ÿ</li></ul><p><code>scp</code>ï¼Œæˆ–è€…<code>rsync</code>ï¼Œ<code>sftp</code></p><ul><li>è¿›ç¨‹çš„CPUå ç”¨ï¼Ÿ</li></ul><p><code>top</code></p><ul><li>å½“å‰ç£ç›˜ç”¨é‡ï¼Ÿ</li></ul><p><code>df -h</code></p><ul><li>Swappingäº¤æ¢å’ŒPagingåˆ†é¡µçš„åŒºåˆ«ï¼Ÿ</li></ul><p>pagingæŒ‡çš„æ˜¯ä»¥é¡µä¸ºå•ä½çš„äº¤æ¢ï¼Œ<br>swappingæŒ‡çš„æ˜¯ä»¥æ•´ä¸ªè¿›ç¨‹ä¸ºå•ä½çš„äº¤æ¢ã€‚</p><p>pagingæœºåˆ¶æ˜¯è¿›ç¨‹å†…å¤–äº¤æ¢çš„ä¸»æµï¼ŒæŸäº›æƒ…å†µä¸‹ä»ç„¶ä¼šä½¿ç”¨swappingæœºåˆ¶ï¼Œæ¯”å¦‚ï¼š<br>1ã€ç³»ç»Ÿå†…å­˜ä¸¥é‡çŸ­ç¼ºï¼Œpagingæœºåˆ¶çš„é€Ÿåº¦å·²ç»ä¸è¶³ä»¥æ»¡è¶³éœ€è¦ã€‚<br>2ã€è¿›ç¨‹å¤„äºå®Œå…¨éæ¿€æ´»çŠ¶æ€è¶…è¿‡10ç§’é’Ÿã€‚<br>swappingä¼šæŠŠæ•´ä¸ªè¿›ç¨‹ç§»å‡ºä¸»å­˜ï¼Œè€Œä¸åƒpagingé‚£æ ·åªå¼„ç‚¹é¡µé¢å‡ºå»ã€‚</p><p>swappingå’Œpagingéƒ½æ˜¯å†…å­˜ä¸ç£ç›˜(è™šæ‹Ÿå†…å­˜)ä¹‹é—´çš„äº¤äº’æ–¹å¼å½“å†…å­˜ä¸å¤Ÿç”¨æ—¶ï¼Œä¸ºäº†åŠ è½½æ€¥éœ€çš„ç¨‹åºè¿›å†…å­˜ï¼Œéœ€è¦å°†ä¸€éƒ¨åˆ†æš‚æ—¶ä¸ç”¨çš„å†…å­˜å­˜åˆ°ç£ç›˜ä¸Šï¼Œä¸¤è€…å¯¹æ¯”swappingæ›´å¿«æ›´ç²—æš´ï¼Œpagingæ›´æ…¢æ›´flexiblyï¼Œ<br>æ›´å¤šå¯è§æ­¤<a href="http://blog.sina.com.cn/s/blog_5b68591b0102v1q7.html">[è½¬è½½]å†…å­˜çš„åˆ†é¡µä¸äº¤æ¢_æµè‹_æ–°æµªåšå®¢</a></p><h2 id="ä¸­çº§é—®é¢˜"><a href="#ä¸­çº§é—®é¢˜" class="headerlink" title="ä¸­çº§é—®é¢˜"></a>ä¸­çº§é—®é¢˜</h2><ul><li><code>ps -ef</code> å’Œ <code>ps -auxwww</code>æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li></ul><p><code>ps -auxwww</code>å¯ä»¥æ‰“å°æ­»è¿›ç¨‹ï¼Ÿï¼Ÿ</p><ul><li>cpuä¿¡æ¯ï¼Ÿ</li></ul><p><code>cat /proc/cpuinfo</code></p><ul><li>è½¯é“¾æ¥ä¸ç¡¬é“¾æ¥åŒºåˆ«</li></ul><p><a href="http://javarevisited.blogspot.com/2011/04/symbolic-link-or-symlink-in-unix-linux.html">How to Create, Update and Remove Soft link in UNIX</a></p><ul><li>ä»€ä¹ˆæ˜¯åƒµå°¸è¿›ç¨‹ï¼Ÿå¦‚ä½•æ‰¾åˆ°åƒµå°¸è¿›ç¨‹ï¼Ÿ</li></ul><p>When a program forks and the child finishes before the parent, the kernel still keeps some of its information about the child in case the parent might need it - for example, the parent may need to check the childâ€™s exit status. To be able to get this information, the parent calls â€˜wait()â€™; In the interval between the child terminating and the parent calling â€˜wait()â€™, the child is said to be a â€˜zombieâ€™</p><p><code>ps</code>ä¸­ï¼Œåƒµå°¸è¿›ç¨‹çš„çŠ¶æ€å°†å¸¦æœ‰â€™Zâ€™</p><ul><li>å¦‚ä½•ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶å†…å­—ç¬¦â€Unixâ€å‡ºç°æ¬¡æ•°ï¼Ÿ</li></ul><p><code>grep -c &quot;Unix&quot; filename</code></p><ul><li>chmodæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<code>r-- -w- --x</code>ä»£è¡¨ç€ä»€ä¹ˆï¼Ÿ</li></ul><p><code>chmod</code>ç”¨äºæ”¹å˜ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•åœ¨Linuxé‡Œçš„æƒé™ï¼Œrwxåˆ†åˆ«ä»£è¡¨è¯»å†™æ‰§è¡Œï¼Œè€Œå­—ç¬¦é¡ºåºä»£è¡¨ç€ç”¨æˆ· ç»„ ä»¥åŠ å…¶ä»–ï¼Œ é‚£ä¹ˆè¿™é‡Œçš„æ„æ€å°±æ˜¯è¿™ä¸ªæ–‡ä»¶ç”¨æˆ·å¯è¯»ï¼Œç»„å†…ç”¨æˆ·å¯å†™ï¼Œå…¶ä»–åªèƒ½æ‰§è¡Œã€‚</p><ul><li>ç³»ç»Ÿå†…æœ‰ä¸ªæ–‡ä»¶åŒ…å«å­—ç¬¦â€UnixCommandInterviewQuestionsâ€ï¼Œå¦‚ä½•æ‰¾åˆ°ï¼Ÿ</li></ul><p>è§æ­¤<a href="http://javarevisited.blogspot.com/2011/03/10-find-command-in-unix-examples-basic.html">10 Example of find command in Unix and Linux</a></p><ul><li>å¦‚ä½•æ£€æŸ¥æ˜¯å¦æŸè¿›ç¨‹åœ¨ç›‘å¬æŸç«¯å£ï¼Ÿ</li></ul><p><code>telnet hostname port</code> <a href="http://javarevisited.blogspot.com/2010/10/basic-networking-commands-in-linuxunix.html">Top 10 basic networking commands in linux/unix</a></p><h3 id="é«˜çº§é—®é¢˜"><a href="#é«˜çº§é—®é¢˜" class="headerlink" title="é«˜çº§é—®é¢˜"></a>é«˜çº§é—®é¢˜</h3><ul><li>æ€ä¹ˆçŸ¥é“æŸä¸ªæ–‡ä»¶è¢«å“ªäº›è¿›ç¨‹ä½¿ç”¨ï¼Ÿ</li></ul><p><code>lsof</code>ï¼Œå°¼ç›å‘€ï¼Œè¿™å°±æ˜¯æˆ‘baiduç”µè¯é¢è¯•æ—¶ç¢°åˆ°çš„é—®é¢˜ã€‚ã€‚</p><ul><li>æŸ¥çœ‹ä½ çš„æŸä¸ªç«¯å£è¢«ä»€ä¹ˆè¿œç¨‹æœåŠ¡å™¨è¿æ¥ï¼Ÿ</li></ul><p><code>netstat -a | grep &quot;port&quot;</code></p><ul><li>nohupæ˜¯ä»€ä¹ˆï¼Ÿ</li></ul><p>ç”¨äºåœ¨åç«¯è¿è¡Œç¨‹åºï¼Œä½†æ˜¯å’Œ<code>&amp;</code>ä¸åŒï¼Œ<code>nohup</code>åœ¨ç”¨æˆ·log off æ—¶ä¸ä¼šåœæ­¢è¿è¡Œï¼Œè€Œ<code>&amp;</code>ä¼šç»ˆæ­¢ã€‚</p><ul><li>ephemeral portï¼Ÿ</li></ul><p>ä¸´æ—¶ç«¯å£ä¹Ÿå«åšæš‚æ—¶ç«¯å£ã€‚é€šå¸¸å­˜åœ¨äºå®¢æˆ·æœºä¸­ã€‚å®ƒåœ¨å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºéœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨æ—¶å»ºç«‹è€Œåœ¨å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºç»ˆæ­¢æ—¶å–æ¶ˆã€‚å®ƒçš„ç«¯å£å·æ˜¯éšæœºé€‰å–çš„ï¼Œæ•°å€¼å¤§äº1023ã€‚</p><ul><li>å¦‚æœä¸€ä¸ªè¿›ç¨‹æ­£åœ¨å¾€MYSQLé‡Œå†™æ•°æ®ï¼Œå¦‚ä½•ç®¡æŸ¥å®ƒå†™å…¥çš„é€Ÿåº¦ï¼Ÿ</li></ul><p><code>watch</code></p><ul><li>æ›¿æ¢æŸæ–‡ä»¶å†…æ‰€æœ‰æŸå­—ç¬¦ï¼Ÿ</li></ul><p><code>sed s/Unix/UNIX/g fileName</code></p><ul><li>æŸæ–‡ä»¶åŒ…å«ä»¥tabåˆ†éš”çš„Name, Address and Phone Numberï¼Œå¦‚ä½•æå–æ‰€æœ‰çš„Phone Numberï¼Ÿ</li></ul><p><code>cut -f3 filename</code></p><ul><li>æœåŠ¡å™¨è¿è¡Œæ—¶é—´ï¼Ÿ</li></ul><p><code>uptime</code></p><ul><li>IP ä¸ hostnameäº’è½¬ï¼Ÿ</li></ul><p><code>nslookup</code></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2017/03/19/Basic-Linux-Unix-command-Interview-Questions/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>pythonæºç è§£æ0ï¼šè¶£äº‹</title>
      <link>http://example.com/2017/03/18/python-source-code-reading-0/</link>
      <guid>http://example.com/2017/03/18/python-source-code-reading-0/</guid>
      <pubDate>Fri, 17 Mar 2017 19:56:23 GMT</pubDate>
      
      <description>&lt;p&gt;About ä¸¤å¤„pythonæºç çš„è¶£å‘³è§£è¯»ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>About ä¸¤å¤„pythonæºç çš„è¶£å‘³è§£è¯»ã€‚</p><span id="more"></span><h3 id="The-Zen-of-Python"><a href="#The-Zen-of-Python" class="headerlink" title="The Zen of Python"></a>The Zen of Python</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œ<code>import this</code>ä¼šæ‰“å°å¦‚ä¸‹â€œèŸ’è›‡ä¹‹ç¦…â€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">The Zen of Python, by Tim Peters</span><br><span class="line"></span><br><span class="line">Beautiful <span class="keyword">is</span> better than ugly.</span><br><span class="line">Explicit <span class="keyword">is</span> better than implicit.</span><br><span class="line">Simple <span class="keyword">is</span> better than <span class="built_in">complex</span>.</span><br><span class="line">Complex <span class="keyword">is</span> better than complicated.</span><br><span class="line">Flat <span class="keyword">is</span> better than nested.</span><br><span class="line">Sparse <span class="keyword">is</span> better than dense.</span><br><span class="line">Readability counts.</span><br><span class="line">Special cases aren<span class="string">&#x27;t special enough to break the rules.</span></span><br><span class="line"><span class="string">Although practicality beats purity.</span></span><br><span class="line"><span class="string">Errors should never pass silently.</span></span><br><span class="line"><span class="string">Unless explicitly silenced.</span></span><br><span class="line"><span class="string">In the face of ambiguity, refuse the temptation to guess.</span></span><br><span class="line"><span class="string">There should be one-- and preferably only one --obvious way to do it.</span></span><br><span class="line"><span class="string">Although that way may not be obvious at first unless you&#x27;</span>re Dutch.</span><br><span class="line">Now <span class="keyword">is</span> better than never.</span><br><span class="line">Although never <span class="keyword">is</span> often better than *right* now.</span><br><span class="line">If the implementation <span class="keyword">is</span> hard to explain, it<span class="string">&#x27;s a bad idea.</span></span><br><span class="line"><span class="string">If the implementation is easy to explain, it may be a good idea.</span></span><br><span class="line"><span class="string">Namespaces are one honking great idea -- let&#x27;</span>s do more of those!</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨sourceé‡Œé¢ä¹Ÿå°±æ˜¯<code>2.7/Lib/this.py</code>é‡Œï¼Œæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;&quot;&quot;Gur Mra bs Clguba, ol Gvz Crgref</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Ornhgvshy vf orggre guna htyl.</span></span><br><span class="line"><span class="string">Rkcyvpvg vf orggre guna vzcyvpvg.</span></span><br><span class="line"><span class="string">Fvzcyr vf orggre guna pbzcyrk.</span></span><br><span class="line"><span class="string">Pbzcyrk vf orggre guna pbzcyvpngrq.</span></span><br><span class="line"><span class="string">Syng vf orggre guna arfgrq.</span></span><br><span class="line"><span class="string">Fcnefr vf orggre guna qrafr.</span></span><br><span class="line"><span class="string">Ernqnovyvgl pbhagf.</span></span><br><span class="line"><span class="string">Fcrpvny pnfrf nera&#x27;g fcrpvny rabhtu gb oernx gur ehyrf.</span></span><br><span class="line"><span class="string">Nygubhtu cenpgvpnyvgl orngf chevgl.</span></span><br><span class="line"><span class="string">Reebef fubhyq arire cnff fvyragyl.</span></span><br><span class="line"><span class="string">Hayrff rkcyvpvgyl fvyraprq.</span></span><br><span class="line"><span class="string">Va gur snpr bs nzovthvgl, ershfr gur grzcgngvba gb thrff.</span></span><br><span class="line"><span class="string">Gurer fubhyq or bar-- naq cersrenoyl bayl bar --boivbhf jnl gb qb vg.</span></span><br><span class="line"><span class="string">Nygubhtu gung jnl znl abg or boivbhf ng svefg hayrff lbh&#x27;er Qhgpu.</span></span><br><span class="line"><span class="string">Abj vf orggre guna arire.</span></span><br><span class="line"><span class="string">Nygubhtu arire vf bsgra orggre guna *evtug* abj.</span></span><br><span class="line"><span class="string">Vs gur vzcyrzragngvba vf uneq gb rkcynva, vg&#x27;f n onq vqrn.</span></span><br><span class="line"><span class="string">Vs gur vzcyrzragngvba vf rnfl gb rkcynva, vg znl or n tbbq vqrn.</span></span><br><span class="line"><span class="string">Anzrfcnprf ner bar ubaxvat terng vqrn -- yrg&#x27;f qb zber bs gubfr!&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">d = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> (<span class="number">65</span>, <span class="number">97</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">26</span>):</span><br><span class="line">        d[<span class="built_in">chr</span>(i+c)] = <span class="built_in">chr</span>((i+<span class="number">13</span>) % <span class="number">26</span> + c)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;&quot;</span>.join([d.get(c, c) <span class="keyword">for</span> c <span class="keyword">in</span> s])</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å“ˆå“ˆï¼Œè¿™ä¸å°±æ˜¯<a href="https://zh.wikipedia.org/wiki/%E5%87%B1%E6%92%92%E5%AF%86%E7%A2%BC">å‡¯æ’’å¯†ç </a>ä¹ˆã€‚ã€‚ã€‚æ¯ä¸ªå­—æ¯åˆ†å¤§å°å†™(65:A, 97:a)éƒ½è¢«å¯¹åº”åˆ°ASCII è¡¨å13ä¸ªä½ç½®ï¼Œäºæ˜¯å°±æœ‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;A&#x27;</span>: <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;B&#x27;</span>: <span class="string">&#x27;O&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;C&#x27;</span>: <span class="string">&#x27;P&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;D&#x27;</span>: <span class="string">&#x27;Q&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;E&#x27;</span>: <span class="string">&#x27;R&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;F&#x27;</span>: <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">....</span><br><span class="line"><span class="string">&#x27;s&#x27;</span>: <span class="string">&#x27;f&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;t&#x27;</span>: <span class="string">&#x27;g&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;u&#x27;</span>: <span class="string">&#x27;h&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;v&#x27;</span>: <span class="string">&#x27;i&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;w&#x27;</span>: <span class="string">&#x27;j&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;x&#x27;</span>: <span class="string">&#x27;k&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;y&#x27;</span>: <span class="string">&#x27;l&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;z&#x27;</span>: <span class="string">&#x27;m&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><p> æ‰€ä»¥ï¼ŒåŸä½œè€…åº”è¯¥æ˜¯è¿™æ ·å†™å‡ºæ¥çš„å¯†ç çš„</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;&quot;&quot;The Zen of Python, by Tim Peters</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Beautiful is better than ugly.</span></span><br><span class="line"><span class="string">Explicit is better than implicit.</span></span><br><span class="line"><span class="string">Simple is better than complex.</span></span><br><span class="line"><span class="string">Complex is better than complicated.</span></span><br><span class="line"><span class="string">Flat is better than nested.</span></span><br><span class="line"><span class="string">Sparse is better than dense.</span></span><br><span class="line"><span class="string">Readability counts.</span></span><br><span class="line"><span class="string">Special cases aren&#x27;t special enough to break the rules.</span></span><br><span class="line"><span class="string">Although practicality beats purity.</span></span><br><span class="line"><span class="string">Errors should never pass silently.</span></span><br><span class="line"><span class="string">Unless explicitly silenced.</span></span><br><span class="line"><span class="string">In the face of ambiguity, refuse the temptation to guess.</span></span><br><span class="line"><span class="string">There should be one-- and preferably only one --obvious way to do it.</span></span><br><span class="line"><span class="string">Although that way may not be obvious at first unless you&#x27;re Dutch.</span></span><br><span class="line"><span class="string">Now is better than never.</span></span><br><span class="line"><span class="string">Although never is often better than *right* now.</span></span><br><span class="line"><span class="string">If the implementation is hard to explain, it&#x27;s a bad idea.</span></span><br><span class="line"><span class="string">If the implementation is easy to explain, it may be a good idea.</span></span><br><span class="line"><span class="string">Namespaces are one honking great idea -- let&#x27;s do more of those!&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">d = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> (<span class="number">65</span>, <span class="number">97</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">26</span>):</span><br><span class="line">        d[<span class="built_in">chr</span>(i+c)] = <span class="built_in">chr</span>((i-<span class="number">13</span>) % <span class="number">26</span> + c)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.join([d.get(c, c) <span class="keyword">for</span> c <span class="keyword">in</span> s]))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> å¾ˆç¥å¥‡å§ï¼Ÿå“ˆå“ˆï¼Œå…¶å®å°±æ˜¯é€†å‘ä¸€ä¸‹å°±okğŸ˜</p><h3 id="antigravity"><a href="#antigravity" class="headerlink" title="antigravity"></a>antigravity</h3><p> æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨pythoné‡Œï¼Œ<code>import antigravity</code>ä¼šè®©æˆ‘ä»¬å¼¹åˆ°ä¸€ä¸ª<a href="https://xkcd.com/353/">ç½‘ç«™</a>ï¼Œé‡Œé¢æœ‰è¿™å¹…è‘—åçš„å›¾ç”»</p><p> <img src="/images/2017/03/python.png"></p><p> pythonå¸¦æˆ‘ä»¬é£ï¼é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ</p><p> çœ‹çœ‹æºç ï¼Œ</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"></span><br><span class="line">webbrowser.<span class="built_in">open</span>(<span class="string">&quot;http://xkcd.com/353/&quot;</span>)</span><br></pre></td></tr></table></figure><p> å“ˆå“ˆï¼ŒåŸæ¥å°±è¿™ä¸¤è¡Œï¼ŒAre you kidding me?</p><p> å…³äºè¿™ä¸ªçš„æ¥é¾™å»è„‰ï¼Œå¯ä»¥çœ‹çœ‹è¿™é‡Œï¼š<a href="http://python-history.blogspot.com/2010/06/import-antigravity.html">The History of Python: import antigravity</a>ä»¥åŠè¿™é‡Œï¼š<a href="http://sciyoshi.com/2008/12/import-antigravity/">import antigravity | sciyoshi.com</a>ï¼Œå¤§æ„æ˜¯æºè‡ªgoogleçš„ä¸€ä¸ªå¤æ´»èŠ‚å½©è›‹ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œpython3çš„antigravityå½©è›‹å‡çº§äº†ï¼ä¸ä¿¡ä½ çœ‹</p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">webbrowser.<span class="built_in">open</span>(<span class="string">&quot;https://xkcd.com/353/&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">geohash</span>(<span class="params">latitude, longitude, datedow</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;Compute geohash() using the Munroe algorithm.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; geohash(37.421542, -122.085589, b&#x27;2005-05-26-10458.68&#x27;)</span></span><br><span class="line"><span class="string">    37.857713 -122.544543</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># http://xkcd.com/426/</span></span><br><span class="line">    h = hashlib.md5(datedow).hexdigest()</span><br><span class="line">    p, q = [(<span class="string">&#x27;%f&#x27;</span> % <span class="built_in">float</span>.fromhex(<span class="string">&#x27;0.&#x27;</span> + x)) <span class="keyword">for</span> x <span class="keyword">in</span> (h[:<span class="number">16</span>], h[<span class="number">16</span>:<span class="number">32</span>])]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%d%s %d%s&#x27;</span> % (latitude, p[<span class="number">1</span>:], longitude, q[<span class="number">1</span>:]))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> é‡Œé¢éšè—äº†ä¸€ä¸ªè®¡ç®—<a href="https://en.wikipedia.org/wiki/Geohashing">Geohashing</a>çš„ç®—æ³•ï¼Œå¯ä»¥æ ¹æ®ç»™å®šç‚¹åæ ‡çš„ç»çº¬åº¦ä»¥åŠå½“å‰æ—¶é—´è®¡ç®—ä¸€ä¸ªéšæœºçš„æ–°çš„ç‚¹åæ ‡ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2017/03/18/python-source-code-reading-0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>programmer humor week 0</title>
      <link>http://example.com/2017/03/15/programmer-humor-week-0/</link>
      <guid>http://example.com/2017/03/15/programmer-humor-week-0/</guid>
      <pubDate>Wed, 15 Mar 2017 10:33:39 GMT</pubDate>
      
      <description>&lt;p&gt;programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>programmer humor from reddit ğŸ¤£ğŸ˜‚ğŸ˜œ</p><span id="more"></span><h3 id="Huge-improvements-in-both-code-quality-and-performance"><a href="#Huge-improvements-in-both-code-quality-and-performance" class="headerlink" title="Huge improvements in both code quality and performance"></a>Huge improvements in both code quality and performance</h3><p><img src="/images/2017/03/16.png"></p><h3 id="Coding-in-MS-Paint"><a href="#Coding-in-MS-Paint" class="headerlink" title="Coding in MS Paint"></a>Coding in MS Paint</h3><p><img src="/images/2017/03/17.gif"></p><h3 id="What-debuggers-actually-do"><a href="#What-debuggers-actually-do" class="headerlink" title="What debuggers actually do"></a>What debuggers actually do</h3><p><img src="/images/2017/03/18.png"></p><h3 id="Every-time"><a href="#Every-time" class="headerlink" title="Every time"></a>Every time</h3><p><img src="/images/2017/03/19.png"></p><h3 id="One-last-compilation"><a href="#One-last-compilation" class="headerlink" title="One last compilation"></a>One last compilation</h3><p><img src="/images/2017/03/20.jpg"></p><h2 id="å¼•ç”¨è‡ª"><a href="#å¼•ç”¨è‡ª" class="headerlink" title="å¼•ç”¨è‡ª"></a>å¼•ç”¨è‡ª</h2><p><a href="https://www.reddit.com/r/ProgrammerHumor/">Programmer Humor</a></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Funny/">Funny</category>
      
      
      <comments>http://example.com/2017/03/15/programmer-humor-week-0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>æ•°æ®æŒ–æ˜æµç¨‹ï¼šæ•°æ®å¯è§†åŒ–ä¸é¢„å¤„ç†</title>
      <link>http://example.com/2017/03/15/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%B5%81%E7%A8%8B%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B8%8E%E9%A2%84%E5%A4%84%E7%90%86/</link>
      <guid>http://example.com/2017/03/15/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%B5%81%E7%A8%8B%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B8%8E%E9%A2%84%E5%A4%84%E7%90%86/</guid>
      <pubDate>Wed, 15 Mar 2017 03:14:11 GMT</pubDate>
      
      <description>&lt;p&gt;æ•°æ®æŒ–æ˜çš„ç¬¬ä¸€æ­¥ï¼Œå½“æˆ‘ä»¬æ‰‹ä¸­æ‹¿åˆ°ä¸€ä»½æ•°æ®ï¼Œå½“ç„¶æ˜¯å¯¹æ•°æ®è¿›è¡Œè§‚å¯Ÿä¸é¢„å¤„ç†äº†ã€‚æœ¬æ–‡ä¸»è¦å¯¹è¿™ä¸¤ä¸ªæ–¹é¢åšä¸€ä¸ªä¸ªäººçš„æ€»ç»“ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æ•°æ®æŒ–æ˜çš„ç¬¬ä¸€æ­¥ï¼Œå½“æˆ‘ä»¬æ‰‹ä¸­æ‹¿åˆ°ä¸€ä»½æ•°æ®ï¼Œå½“ç„¶æ˜¯å¯¹æ•°æ®è¿›è¡Œè§‚å¯Ÿä¸é¢„å¤„ç†äº†ã€‚æœ¬æ–‡ä¸»è¦å¯¹è¿™ä¸¤ä¸ªæ–¹é¢åšä¸€ä¸ªä¸ªäººçš„æ€»ç»“ã€‚</p><span id="more"></span><h2 id="import-æ‰åŒ…ï¼Ÿ"><a href="#import-æ‰åŒ…ï¼Ÿ" class="headerlink" title="import æ‰åŒ…ï¼Ÿ"></a>import æ‰åŒ…ï¼Ÿ</h2><p>ç¬¬0æ­¥ï¼Œè°ƒåŒ…ã€‚ã€‚</p><p>é€šå¸¸numpyã€pandasã€scipyã€seabornå·²ç»matplotlibæ˜¯å¿…é¡»çš„</p><p>ä¸ºé˜²æ­¢çƒ¦äººçš„warningï¼Œè¿˜éœ€è¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import warnings</span><br><span class="line">warnings.filterwarnings(&#x27;ignore&#x27;)</span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬ä¸ç®¡warningåªç®¡errorï¼Œå“ˆå“ˆğŸ˜‚</p><p>seabornçš„è®¾ç½®é¢œè‰²æ ¼å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.set_style(&#x27;whitegrid&#x27;)</span><br></pre></td></tr></table></figure><p>ä»¥åŠ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure><h2 id="è§‚å¯Ÿä¸å¯è§†åŒ–"><a href="#è§‚å¯Ÿä¸å¯è§†åŒ–" class="headerlink" title="è§‚å¯Ÿä¸å¯è§†åŒ–"></a>è§‚å¯Ÿä¸å¯è§†åŒ–</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åº”è¯¥é¦–å…ˆè§‚å¯Ÿ<strong>æ ‡ç­¾çš„åˆ†å¸ƒ</strong>ä»¥åŠ<strong>ç‰¹å¾çš„åˆ†å¸ƒ</strong>ï¼Œå¯¹äºå‰è€…é€šå¸¸ä½¿ç”¨pandas Dataframeçš„<code>columns</code>ï¼Œå¯¹äºåè€…åˆ™æ˜¯<code>value_counts()</code>å’Œ<code>describe()</code>æ¥å±•ç¤ºã€‚å¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train.columns</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int_level = train_df[&#x27;interest_level&#x27;].value_counts()</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df_train[&#x27;SalePrice&#x27;].describe()</span><br></pre></td></tr></table></figure><p><code>describe()</code>ä¼šç»™å‡ºæ ‡ç­¾çš„å„ç§æ•°å€¼ä¿¡æ¯ï¼Œå¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">count      1460.000000</span><br><span class="line">mean     180921.195890</span><br><span class="line">std       79442.502883</span><br><span class="line">min       34900.000000</span><br><span class="line">25%      129975.000000</span><br><span class="line">50%      163000.000000</span><br><span class="line">75%      214000.000000</span><br><span class="line">max      755000.000000</span><br><span class="line">Name: SalePrice, dtype: float64</span><br></pre></td></tr></table></figure><p>åŒæ—¶ä¹Ÿå¯ä»¥å€ŸåŠ©äºseabornå›¾æ¥æ˜¾ç¤º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.distplot(df_train[&#x27;SalePrice&#x27;]);</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/1.png"></p><p>æ¥ä¸‹æ¥å¯ä»¥çœ‹çœ‹æ ‡ç­¾çš„ååº¦å’Œå³°åº¦(skewness and kurtosis)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;Skewness: %f&quot; % df_train[&#x27;SalePrice&#x27;].skew())</span><br><span class="line">print(&quot;Kurtosis: %f&quot; % df_train[&#x27;SalePrice&#x27;].kurt())</span><br></pre></td></tr></table></figure><h3 id="ç‰¹å¾ä¸æ ‡ç­¾å…³ç³»"><a href="#ç‰¹å¾ä¸æ ‡ç­¾å…³ç³»" class="headerlink" title="ç‰¹å¾ä¸æ ‡ç­¾å…³ç³»"></a>ç‰¹å¾ä¸æ ‡ç­¾å…³ç³»</h3><p>å¯¹äºæ•°å€¼ç‰¹å¾å¯ç”¨æ•£ç‚¹å›¾æ¥å±•ç¤º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var = <span class="string">&#x27;GrLivArea&#x27;</span></span><br><span class="line">data = pd.concat([df_train[<span class="string">&#x27;SalePrice&#x27;</span>], df_train[var]], axis=<span class="number">1</span>)</span><br><span class="line">data.plot.scatter(x=var, y=<span class="string">&#x27;SalePrice&#x27;</span>, ylim=(<span class="number">0</span>,<span class="number">800000</span>));</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/03.png"></p><p>å¯¹äºç±»åˆ«ç‰¹å¾ï¼Œåˆ™å¯ç”¨ç®±å‹å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var = &#x27;OverallQual&#x27;</span><br><span class="line">data = pd.concat([df_train[&#x27;SalePrice&#x27;], df_train[var]], axis=1)</span><br><span class="line">f, ax = plt.subplots(figsize=(8, 6))</span><br><span class="line">fig = sns.boxplot(x=var, y=&quot;SalePrice&quot;, data=data)</span><br><span class="line">fig.axis(ymin=0, ymax=800000);</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/04.png"></p><p>æ—¶é—´ç‰¹å¾ç±»ä¼¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var = &#x27;YearBuilt&#x27;</span><br><span class="line">data = pd.concat([df_train[&#x27;SalePrice&#x27;], df_train[var]], axis=1)</span><br><span class="line">f, ax = plt.subplots(figsize=(16, 8))</span><br><span class="line">fig = sns.boxplot(x=var, y=&quot;SalePrice&quot;, data=data)</span><br><span class="line">fig.axis(ymin=0, ymax=800000);</span><br><span class="line">plt.xticks(rotation=90);</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/05.png"></p><h3 id="ç‰¹å¾ä¸ç‰¹å¾çš„å…³ç³»"><a href="#ç‰¹å¾ä¸ç‰¹å¾çš„å…³ç³»" class="headerlink" title="ç‰¹å¾ä¸ç‰¹å¾çš„å…³ç³»"></a>ç‰¹å¾ä¸ç‰¹å¾çš„å…³ç³»</h3><p>ç”¨å…³è”çŸ©é˜µCorrelation matrixçš„heatmapç±»å‹å¯ä»¥å±•ç¤ºæ‰€æœ‰ç‰¹å¾ä¸ç‰¹å¾çš„å…³ç³»</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#correlation matrix</span><br><span class="line">corrmat = df_train.corr()</span><br><span class="line">f, ax = plt.subplots(figsize=(12, 9))</span><br><span class="line">sns.heatmap(corrmat, vmax=.8, square=True);</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/06.png"></p><p>ä»å…³è”çŸ©é˜µæˆ‘ä»¬å¯ä»¥å¯¹ç‰¹å¾çš„æ€»ä½“å…³ç³»æœ‰ä¸ªè®¤è¯†ï¼Œé‚£ä¹ˆè¿›ä¸€æ­¥å¯ä»¥ç”¨zoomed heatmapæ¥ç­›é€‰å‡ ä¸ªç‰¹å¾è¿›è¡Œè§‚å¯Ÿå…¶ä¹‹é—´çš„å…³ç³»</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#saleprice correlation matrix</span><br><span class="line">k = 10 #number of variables for heatmap</span><br><span class="line">cols = corrmat.nlargest(k, &#x27;SalePrice&#x27;)[&#x27;SalePrice&#x27;].index</span><br><span class="line">cm = np.corrcoef(df_train[cols].values.T)</span><br><span class="line">sns.set(font_scale=1.25)</span><br><span class="line">hm = sns.heatmap(cm, cbar=True, annot=True, square=True, fmt=&#x27;.2f&#x27;, annot_kws=&#123;&#x27;size&#x27;: 10&#125;, yticklabels=cols.values, xticklabels=cols.values)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/07.png"></p><p>å¤§æ€å™¨åˆ™æ˜¯scatterplotï¼Œå¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#scatterplot</span><br><span class="line">sns.set()</span><br><span class="line">cols = [&#x27;SalePrice&#x27;, &#x27;OverallQual&#x27;, &#x27;GrLivArea&#x27;, &#x27;GarageCars&#x27;, &#x27;TotalBsmtSF&#x27;, &#x27;FullBath&#x27;, &#x27;YearBuilt&#x27;]</span><br><span class="line">sns.pairplot(df_train[cols], size = 2.5)</span><br><span class="line">plt.show();</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/08.png"></p><h2 id="é¢„å¤„ç†"><a href="#é¢„å¤„ç†" class="headerlink" title="é¢„å¤„ç†"></a>é¢„å¤„ç†</h2><h3 id="ç¼ºå¤±å€¼-Missing-dataÂ¶"><a href="#ç¼ºå¤±å€¼-Missing-dataÂ¶" class="headerlink" title="ç¼ºå¤±å€¼ Missing dataÂ¶"></a>ç¼ºå¤±å€¼ Missing dataÂ¶</h3><p>é¦–å…ˆè§‚å¯ŸåŒ…å«ç¼ºå¤±å€¼çš„ç‰¹å¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#missing data</span><br><span class="line">total = df_train.isnull().sum().sort_values(ascending=False)</span><br><span class="line">percent = (df_train.isnull().sum()/df_train.isnull().count()).sort_values(ascending=False)</span><br><span class="line">missing_data = pd.concat([total, percent], axis=1, keys=[&#x27;Total&#x27;, &#x27;Percent&#x27;])</span><br><span class="line">missing_data.head(20)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°†æ‰“å°åŒ…å«ç¼ºå¤±å€¼çš„ç‰¹å¾çš„ç¼ºå¤±ä¸ªæ•°å’Œæ¯”ä¾‹</p><p>å½“ç„¶å¯¹äºç¼ºå¤±å€¼ï¼Œä¸åŒæƒ…å†µæœ‰ä¸åŒçš„å¤„ç†æ–¹æ³•ï¼Œä¾‹å¦‚</p><p><img src="/images/2017/03/09.jpg"></p><p>è¿™é‡Œæˆ‘ä»¬ç®€å•çš„å°†missingè¶…è¿‡1çš„featureä¸¢å¼ƒï¼Œå†å°†missingå€¼ä¸º1çš„æ ·æœ¬åˆ å»ï¼Œå…¶ä»–æ–¹æ³•æœ‰å¾…ä¹‹åè¡¥å……ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#dealing with missing data</span><br><span class="line">df_train = df_train.drop((missing_data[missing_data[&#x27;Total&#x27;] &gt; 1]).index,1)</span><br><span class="line">df_train = df_train.drop(df_train.loc[df_train[&#x27;Electrical&#x27;].isnull()].index)</span><br><span class="line">df_train.isnull().sum().max()</span><br></pre></td></tr></table></figure><h3 id="ç¦»ç¾¤ç‚¹"><a href="#ç¦»ç¾¤ç‚¹" class="headerlink" title="ç¦»ç¾¤ç‚¹"></a>ç¦»ç¾¤ç‚¹</h3><p>å•ç‰¹å¾æƒ…å†µï¼Œå¯ä»¥ä»¥å¦‚ä¸‹å½¢å¼è§‚å¯Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#standardizing data</span><br><span class="line">saleprice_scaled = StandardScaler().fit_transform(df_train[&#x27;SalePrice&#x27;][:,np.newaxis]);</span><br><span class="line">low_range = saleprice_scaled[saleprice_scaled[:,0].argsort()][:10]</span><br><span class="line">high_range= saleprice_scaled[saleprice_scaled[:,0].argsort()][-10:]</span><br><span class="line">print(&#x27;outer range (low) of the distribution:&#x27;)</span><br><span class="line">print(low_range)</span><br><span class="line">print(&#x27;\nouter range (high) of the distribution:&#x27;)</span><br><span class="line">print(high_range)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">outer range (low) of the distribution:</span><br><span class="line">[[-1.83820775]</span><br><span class="line"> [-1.83303414]</span><br><span class="line"> [-1.80044422]</span><br><span class="line"> [-1.78282123]</span><br><span class="line"> [-1.77400974]</span><br><span class="line"> [-1.62295562]</span><br><span class="line"> [-1.6166617 ]</span><br><span class="line"> [-1.58519209]</span><br><span class="line"> [-1.58519209]</span><br><span class="line"> [-1.57269236]]</span><br><span class="line"></span><br><span class="line">outer range (high) of the distribution:</span><br><span class="line">[[ 3.82758058]</span><br><span class="line"> [ 4.0395221 ]</span><br><span class="line"> [ 4.49473628]</span><br><span class="line"> [ 4.70872962]</span><br><span class="line"> [ 4.728631  ]</span><br><span class="line"> [ 5.06034585]</span><br><span class="line"> [ 5.42191907]</span><br><span class="line"> [ 5.58987866]</span><br><span class="line"> [ 7.10041987]</span><br><span class="line"> [ 7.22629831]]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŒç‰¹å¾å…³ç³»å¦‚ç‰¹å¾æ ‡ç­¾å…³ç³»é‚£æ ·ï¼Œå…ˆconcatå†scatter</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#bivariate analysis saleprice/grlivarea</span><br><span class="line">var = &#x27;GrLivArea&#x27;</span><br><span class="line">data = pd.concat([df_train[&#x27;SalePrice&#x27;], df_train[var]], axis=1)</span><br><span class="line">data.plot.scatter(x=var, y=&#x27;SalePrice&#x27;, ylim=(0,800000));</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/11.png"></p><p>ç¦»ç¾¤ç‚¹å¯ä»¥ç®€å•åˆ å»ï¼Œå¦‚</p><p><img src="/images/2017/03/10.png"></p><h3 id="æ­£æ€åˆ†å¸ƒ"><a href="#æ­£æ€åˆ†å¸ƒ" class="headerlink" title="æ­£æ€åˆ†å¸ƒ"></a>æ­£æ€åˆ†å¸ƒ</h3><p>ç”¨histogram å’Œ normal probabilityå¯ä»¥è§‚å¯Ÿæ•°æ®çš„å³°åº¦ååº¦ä»¥åŠæ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sns.distplot(df_train[&#x27;SalePrice&#x27;], fit=norm);</span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[&#x27;SalePrice&#x27;], plot=plt)</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/12.png"><br><img src="/images/2017/03/13.png"></p><p>å¯¹äºæ­£ååº¦ï¼Œå–logé€šå¸¸ä¸é”™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#applying log transformation</span><br><span class="line">df_train[&#x27;SalePrice&#x27;] = np.log(df_train[&#x27;SalePrice&#x27;])</span><br><span class="line">In [22]:</span><br><span class="line">#transformed histogram and normal probability plot</span><br><span class="line">sns.distplot(df_train[&#x27;SalePrice&#x27;], fit=norm);</span><br><span class="line">fig = plt.figure()</span><br><span class="line">res = stats.probplot(df_train[&#x27;SalePrice&#x27;], plot=plt)</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/14.png"><br><img src="/images/2017/03/15.png"></p><p>æœ‰æ—¶æˆ‘ä»¬ä¼šé‡åˆ°å…·æœ‰è®¸å¤š0å€¼å¾—ç‰¹å¾ï¼Œè€Œä»istogram å’Œ normal probabilityå¯ä»¥çœ‹å‡ºå…¶å…·æœ‰ååº¦ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼šå°†éé›¶ç‚¹å–logä¿ç•™é›¶ç‚¹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#create column for new variable (one is enough because it&#x27;s a binary categorical feature)</span><br><span class="line">#if area&gt;0 it gets 1, for area==0 it gets 0</span><br><span class="line">df_train[&#x27;HasBsmt&#x27;] = pd.Series(len(df_train[&#x27;TotalBsmtSF&#x27;]), index=df_train.index)</span><br><span class="line">df_train[&#x27;HasBsmt&#x27;] = 0</span><br><span class="line">df_train.loc[df_train[&#x27;TotalBsmtSF&#x27;]&gt;0,&#x27;HasBsmt&#x27;] = 1</span><br><span class="line">In [28]:</span><br><span class="line">#transform data</span><br><span class="line">df_train.loc[df_train[&#x27;HasBsmt&#x27;]==1,&#x27;TotalBsmtSF&#x27;] = np.log(df_train[&#x27;TotalBsmtSF&#x27;])</span><br></pre></td></tr></table></figure><p>å¯¹äºæ ‡ç­¾ï¼Œå¦‚æœååº¦å¤ªå¤§ï¼Œå¯ä»¥ä½¿ç”¨<code>log1p</code>æ¥å¤„ç†ï¼Œå¹¶å¯¹æ¯”å‰åçš„å·®è·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">matplotlib.rcParams[&#x27;figure.figsize&#x27;] = (12.0, 6.0)</span><br><span class="line">prices = pd.DataFrame(&#123;&quot;price&quot;:train[&quot;SalePrice&quot;],</span><br><span class="line">                       &quot;log(price + 1)&quot;:np.log1p(train[&quot;SalePrice&quot;])</span><br><span class="line">                      &#125;)</span><br><span class="line">prices.hist()</span><br></pre></td></tr></table></figure><p><img src="/images/2017/03/02.png"></p><p>å¯¹å…¨éƒ¨Dataframeå¤„ç†éœ€è¦concat testä¸trainï¼Œä¸€å¹¶å¤„ç†ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data = pd.concat((train.loc[:,&quot;MSSubClass&quot;: &quot;SaleCondition&quot;], test.loc[:,&quot;MSSubClass&quot;: &quot;SaleCondition&quot;]))</span><br></pre></td></tr></table></figure><p>æœ€åéœ€è¦å°†é¢„æµ‹çš„æ ‡ç­¾å€¼æ”¾å¤§è¿˜åŸï¼Œå¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lasso_preds = np.expm1(model_lasso.predict(X_test))</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒå‡ºå¤„"><a href="#å‚è€ƒå‡ºå¤„" class="headerlink" title="å‚è€ƒå‡ºå¤„"></a>å‚è€ƒå‡ºå¤„</h2><ul><li><a href="https://www.kaggle.com/pmarcelino/house-prices-advanced-regression-techniques/comprehensive-data-exploration-with-python/notebook">House Prices: Advanced Regression Techniques | Kaggle</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      
      <comments>http://example.com/2017/03/15/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%B5%81%E7%A8%8B%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E4%B8%8E%E9%A2%84%E5%A4%84%E7%90%86/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Amdahl&#39;s law</title>
      <link>http://example.com/2017/02/22/Amdahl-s-law/</link>
      <guid>http://example.com/2017/02/22/Amdahl-s-law/</guid>
      <pubDate>Wed, 22 Feb 2017 10:03:29 GMT</pubDate>
      
      <description>&lt;p&gt;å…³äºAmdahlâ€™s lawã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>å…³äºAmdahlâ€™s lawã€‚</p><span id="more"></span><p>Amdahlâ€™s lawï¼Œåˆå«åšé˜¿å§†è¾¾å°”å®šå¾‹ï¼Œå…¶æ„ä¹‰åœ¨äºè¡¨ç¤ºäº†è®¡ç®—æœºå¹¶è¡Œè®¡ç®—å¤„ç†ä»»åŠ¡çš„åŠ é€Ÿçš„æé™ã€‚</p><h2 id="ç®€ç•¥è¯æ˜"><a href="#ç®€ç•¥è¯æ˜" class="headerlink" title="ç®€ç•¥è¯æ˜"></a>ç®€ç•¥è¯æ˜</h2><p>è§£é‡Šå¦‚ä¸‹ï¼Œå‡è®¾ä¸€ä¸ªä»»åŠ¡éœ€è¦æ—¶é—´$T$æ¥å®Œæˆï¼Œè€Œå…¶ä¸­å¯ä»¥è¢«å¹¶è¡Œå¤„ç†åŠ é€Ÿçš„éƒ¨åˆ†æ¯”ä¾‹ä¸º$p$ï¼Œé‚£ä¹ˆä¸èƒ½è¢«å¹¶è¡Œè®¡ç®—åŠ é€Ÿçš„éƒ¨åˆ†å°±ä¸º$1-p$ï¼Œæ¯”å¦‚ä»ç£ç›˜ä¸Šè¯»å–ç¨‹åºæ®µå°±ä¸èƒ½å¹¶è¡ŒåŠ é€Ÿï¼Œè€Œè¯»å–å®Œæˆåˆ°å†…å­˜ä¸­å°±å¯ä»¥å¼€å¤šä¸ªè¿›ç¨‹æˆ–è€…åˆ©ç”¨åˆ†å¸ƒå¼çš„æ–¹æ³•å¹¶è¡Œå¤„ç†æ¥åŠ é€Ÿã€‚</p><p>$$<br>T = (1-p)T + pT<br>$$</p><p>å¼€å¯åŠ é€Ÿåï¼Œå¯ä»¥åŠ é€Ÿçš„éƒ¨åˆ†æ—¶é—´å‡å°‘è‡³åŸæ¥çš„ $\frac {p} {s}$</p><p>$$<br>Tâ€™ = (1-p)T + \frac p s T<br>$$</p><p>åˆ™åŠ é€Ÿæ¯”å°±ä¸º</p><p>$$<br>S_{\text{latency}}(s) = \frac {T} {Tâ€™} = \frac{1}{1 - p + \frac p s}<br>$$</p><h2 id="æ„ä¹‰"><a href="#æ„ä¹‰" class="headerlink" title="æ„ä¹‰"></a>æ„ä¹‰</h2><p>Amdahlâ€™s lawæ­ç¤ºäº†ä¸ç®¡å¦‚ä½•çš„è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œåªè¦ä»»åŠ¡åŒ…å«æ— æ³•è¢«å¹¶è¡ŒåŠ é€Ÿçš„éƒ¨åˆ†ï¼Œé‚£ä¹ˆåŠ é€Ÿæ¯”æ˜¯æœ‰ä¸Šé™çš„ï¼Œå› ä¸º</p><p>$$<br>\lim_{s \rightarrow \infty} S_{\text{latency}}(s) = \frac {T} {Tâ€™} = \frac{1}{1 - p}<br>$$</p><p>ä¾‹å¦‚å¦‚ä¸‹å›¾ä¸­çš„ä¾‹å­ï¼Œå¦‚æœä»»åŠ¡çš„95%å¯ä»¥å¹¶è¡Œï¼Œé‚£ä¹ˆåŠ é€Ÿçš„æé™çº¦ä¸º20å€ã€‚</p><p><img src="/images/2017/02/AmdahlsLaw.svg.png"></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      
      <comments>http://example.com/2017/02/22/Amdahl-s-law/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Deep Learning Interview</title>
      <link>http://example.com/2017/02/18/Deep-Learning-Interview/</link>
      <guid>http://example.com/2017/02/18/Deep-Learning-Interview/</guid>
      <pubDate>Sat, 18 Feb 2017 02:25:31 GMT</pubDate>
      
      <description>&lt;p&gt;æ•´ç†ä¸€äº›å…³äºDeep Learningçš„é¢è¯•é—®é¢˜ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æ•´ç†ä¸€äº›å…³äºDeep Learningçš„é¢è¯•é—®é¢˜ã€‚</p><span id="more"></span><h2 id="é—®é¢˜åˆ—è¡¨"><a href="#é—®é¢˜åˆ—è¡¨" class="headerlink" title="é—®é¢˜åˆ—è¡¨"></a>é—®é¢˜åˆ—è¡¨</h2><ul><li><p>CNNæœ€æˆåŠŸçš„åº”ç”¨æ˜¯åœ¨CVï¼Œé‚£ä¸ºä»€ä¹ˆNLPå’ŒSpeechçš„å¾ˆå¤šé—®é¢˜ä¹Ÿå¯ä»¥ç”¨CNNè§£å‡ºæ¥ï¼Ÿä¸ºä»€ä¹ˆAlphaGoé‡Œä¹Ÿç”¨äº†CNNï¼Ÿè¿™å‡ ä¸ªä¸ç›¸å…³çš„é—®é¢˜çš„ç›¸ä¼¼æ€§åœ¨å“ªé‡Œï¼ŸCNNé€šè¿‡ä»€ä¹ˆæ‰‹æ®µæŠ“ä½äº†è¿™ä¸ªå…±æ€§ï¼Ÿ</p><ul><li>ä»¥ä¸Šå‡ ä¸ªä¸ç›¸å…³é—®é¢˜çš„ç›¸å…³æ€§åœ¨äºï¼Œéƒ½å­˜åœ¨å±€éƒ¨ä¸æ•´ä½“çš„å…³ç³»ï¼Œç”±ä½å±‚æ¬¡çš„ç‰¹å¾ç»è¿‡ç»„åˆï¼Œç»„æˆé«˜å±‚æ¬¡çš„ç‰¹å¾ï¼Œå¹¶ä¸”å¾—åˆ°ä¸åŒç‰¹å¾ä¹‹é—´çš„ç©ºé—´ç›¸å…³æ€§ã€‚å¦‚ä¸‹å›¾ï¼šä½å±‚æ¬¡çš„ç›´çº¿ï¼æ›²çº¿ç­‰ç‰¹å¾ï¼Œç»„åˆæˆä¸ºä¸åŒçš„å½¢çŠ¶ï¼Œæœ€åå¾—åˆ°æ±½è½¦çš„è¡¨ç¤ºã€‚<br><img src="/images/2017/02/v2-8555de443211e31f6e3967fe0fab83b3_b.png"></li><li><em>CNNæŠ“ä½æ­¤å…±æ€§çš„æ‰‹æ®µä¸»è¦æœ‰å››ä¸ªï¼šå±€éƒ¨è¿æ¥ï¼æƒå€¼å…±äº«ï¼æ± åŒ–æ“ä½œï¼å¤šå±‚æ¬¡ç»“æ„ã€‚</em><ul><li>å±€éƒ¨è¿æ¥ä½¿ç½‘ç»œå¯ä»¥æå–æ•°æ®çš„å±€éƒ¨ç‰¹å¾ï¼›</li><li>æƒå€¼å…±äº«å¤§å¤§é™ä½äº†ç½‘ç»œçš„è®­ç»ƒéš¾åº¦ï¼Œä¸€ä¸ªFilteråªæå–ä¸€ä¸ªç‰¹å¾ï¼Œåœ¨æ•´ä¸ªå›¾ç‰‡ï¼ˆæˆ–è€…è¯­éŸ³ï¼æ–‡æœ¬ï¼‰ ä¸­è¿›è¡Œå·ç§¯ï¼›</li><li>æ± åŒ–æ“ä½œä¸å¤šå±‚æ¬¡ç»“æ„ä¸€èµ·ï¼Œå®ç°äº†æ•°æ®çš„é™ç»´ï¼Œå°†ä½å±‚æ¬¡çš„å±€éƒ¨ç‰¹å¾ç»„åˆæˆä¸ºè¾ƒé«˜å±‚æ¬¡çš„ç‰¹å¾ï¼Œä»è€Œå¯¹æ•´ä¸ªå›¾ç‰‡è¿›è¡Œè¡¨ç¤ºã€‚</li></ul></li></ul></li><li><p>ä¸ºä»€ä¹ˆå¾ˆå¤šåšäººè„¸çš„Paperä¼šæœ€ååŠ å…¥ä¸€ä¸ªLocal Connected Convï¼Ÿ</p><ul><li>å¦‚æœæ¯ä¸€ä¸ªç‚¹çš„å¤„ç†ä½¿ç”¨ç›¸åŒçš„Filterï¼Œåˆ™ä¸ºå…¨å·ç§¯ï¼Œå¦‚æœä½¿ç”¨ä¸åŒçš„Filterï¼Œåˆ™ä¸ºLocal-Convã€‚</li><li>åæ¥äº†3ä¸ªLocal-Convå±‚ï¼Œè¿™é‡Œæ˜¯ç”¨Local-Convçš„åŸå› æ˜¯ï¼Œäººè„¸åœ¨ä¸åŒçš„åŒºåŸŸå­˜åœ¨ä¸åŒçš„ç‰¹å¾ï¼ˆçœ¼ç›ï¼é¼»å­ï¼å˜´çš„åˆ†å¸ƒä½ç½®ç›¸å¯¹å›ºå®šï¼‰ï¼Œå½“ä¸å­˜åœ¨å…¨å±€çš„å±€éƒ¨ç‰¹å¾åˆ†å¸ƒæ—¶ï¼ŒLocal-Convæ›´é€‚åˆç‰¹å¾çš„æå–ã€‚</li></ul></li><li><p>ä»€ä¹ˆæ ·çš„èµ„æ–™é›†ä¸é€‚åˆç”¨æ·±åº¦å­¦ä¹ ?</p><ul><li>æ•°æ®é›†å¤ªå°ï¼Œæ•°æ®æ ·æœ¬ä¸è¶³æ—¶ï¼Œæ·±åº¦å­¦ä¹ ç›¸å¯¹å…¶å®ƒæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ²¡æœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚</li><li>æ•°æ®é›†æ²¡æœ‰å±€éƒ¨ç›¸å…³ç‰¹æ€§ï¼Œç›®å‰æ·±åº¦å­¦ä¹ è¡¨ç°æ¯”è¾ƒå¥½çš„é¢†åŸŸä¸»è¦æ˜¯å›¾åƒï¼è¯­éŸ³ï¼è‡ªç„¶è¯­è¨€å¤„ç†ç­‰é¢†åŸŸï¼Œè¿™äº›é¢†åŸŸçš„ä¸€ä¸ªå…±æ€§æ˜¯å±€éƒ¨ç›¸å…³æ€§ã€‚å›¾åƒä¸­åƒç´ ç»„æˆç‰©ä½“ï¼Œè¯­éŸ³ä¿¡å·ä¸­éŸ³ä½ç»„åˆæˆå•è¯ï¼Œæ–‡æœ¬æ•°æ®ä¸­å•è¯ç»„åˆæˆå¥å­ï¼Œè¿™äº›ç‰¹å¾å…ƒç´ çš„ç»„åˆä¸€æ—¦è¢«æ‰“ä¹±ï¼Œè¡¨ç¤ºçš„å«ä¹‰åŒæ—¶ä¹Ÿè¢«æ”¹å˜ã€‚å¯¹äºæ²¡æœ‰è¿™æ ·çš„å±€éƒ¨ç›¸å…³æ€§çš„æ•°æ®é›†ï¼Œä¸é€‚äºä½¿ç”¨æ·±åº¦å­¦ä¹ ç®—æ³•è¿›è¡Œå¤„ç†ã€‚ä¸¾ä¸ªä¾‹å­ï¼šé¢„æµ‹ä¸€ä¸ªäººçš„å¥åº·çŠ¶å†µï¼Œç›¸å…³çš„å‚æ•°ä¼šæœ‰å¹´é¾„ã€èŒä¸šã€æ”¶å…¥ã€å®¶åº­çŠ¶å†µç­‰å„ç§å…ƒç´ ï¼Œå°†è¿™äº›å…ƒç´ æ‰“ä¹±ï¼Œå¹¶ä¸ä¼šå½±å“ç›¸å…³çš„ç»“æœã€‚</li></ul></li><li><p>å¯¹æ‰€æœ‰ä¼˜åŒ–é—®é¢˜æ¥è¯´, æœ‰æ²¡æœ‰å¯èƒ½æ‰¾åˆ°æ¯”ç¾åœ¨å·²çŸ¥ç®—æ³•æ›´å¥½çš„ç®—æ³•?</p><ul><li>No Free Lunchå®šå¾‹ï¼šä¸å­˜åœ¨ä¸€ä¸ªé€šç”¨æ™®é€‚çš„æ¨¡å‹ï¼Œå¯¹äºæ‰€æœ‰çš„å­¦ä¹ é—®é¢˜éƒ½èƒ½åšåˆ°æ€§èƒ½æœ€ä½³ã€‚<br><img src="/images/2017/02/v2-ee269730f637849151525ab8ac299840_b.png"></li><li>å¯¹äºè®­ç»ƒæ ·æœ¬ï¼ˆé»‘ç‚¹ï¼‰ï¼Œä¸åŒçš„ç®—æ³•A/Båœ¨ä¸åŒçš„æµ‹è¯•æ ·æœ¬ï¼ˆç™½ç‚¹ï¼‰ä¸­æœ‰ä¸åŒçš„è¡¨ç°ï¼Œè¿™è¡¨ç¤ºï¼šå¯¹äºä¸€ä¸ªå­¦ä¹ ç®—æ³•Aï¼Œè‹¥å®ƒåœ¨æŸäº›é—®é¢˜ä¸Šæ¯”å­¦ä¹ ç®—æ³• Bæ›´å¥½ï¼Œåˆ™å¿…ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œåœ¨é‚£é‡ŒBæ¯”Aå¥½ã€‚</li><li>ä¹Ÿå°±æ˜¯è¯´ï¼šå¯¹äºæ‰€æœ‰é—®é¢˜ï¼Œæ— è®ºå­¦ä¹ ç®—æ³•Aå¤šèªæ˜ï¼Œå­¦ä¹ ç®—æ³• Bå¤šç¬¨æ‹™ï¼Œå®ƒä»¬çš„æœŸæœ›æ€§èƒ½ç›¸åŒã€‚</li><li>ä½†æ˜¯ï¼šæ²¡æœ‰å…è´¹åˆé¤å®šåŠ›å‡è®¾æ‰€æœ‰é—®é¢˜å‡ºç°å‡ ç‡ç›¸åŒï¼Œå®é™…åº”ç”¨ä¸­ï¼Œä¸åŒçš„åœºæ™¯ï¼Œä¼šæœ‰ä¸åŒçš„é—®é¢˜åˆ†å¸ƒï¼Œæ‰€ä»¥ï¼Œåœ¨ä¼˜åŒ–ç®—æ³•æ—¶ï¼Œé’ˆå¯¹å…·ä½“é—®é¢˜è¿›è¡Œåˆ†æï¼Œæ˜¯ç®—æ³•ä¼˜åŒ–çš„æ ¸å¿ƒæ‰€åœ¨ã€‚</li></ul></li><li><p>ç”¨è´å¶æ–¯æœºç‡è¯´æ˜Dropoutçš„åŸç†</p><ul><li><a href="http://mlg.eng.cam.ac.uk/yarin/PDFs/Dropout_as_a_Bayesian_approximation.pdf">Dropout as a Bayesian Approximation: Insights and Applications</a></li></ul></li><li><p>ä½•ä¸ºå…±çº¿æ€§, è·Ÿè¿‡æ‹Ÿåˆæœ‰å•¥å…³è”?</p><ul><li><a href="https://en.wikipedia.org/wiki/Multicollinearity">Multicollinearityï¼Wikipedia</a></li><li>å…±çº¿æ€§ï¼šå¤šå˜é‡çº¿æ€§å›å½’ä¸­ï¼Œå˜é‡ä¹‹é—´ç”±äºå­˜åœ¨é«˜åº¦ç›¸å…³å…³ç³»è€Œä½¿å›å½’ä¼°è®¡ä¸å‡†ç¡®ã€‚</li><li>å…±çº¿æ€§ä¼šé€ æˆå†—ä½™ï¼Œå¯¼è‡´è¿‡æ‹Ÿåˆã€‚</li><li>è§£å†³æ–¹æ³•ï¼šæ’é™¤å˜é‡çš„ç›¸å…³æ€§ï¼åŠ å…¥æƒé‡æ­£åˆ™ã€‚</li></ul></li><li><p>è¯´æ˜å¦‚ä½•ç”¨æ”¯æŒå‘é‡æœºå®ç°æ·±åº¦å­¦ä¹ (åˆ—å‡ºç›¸å…³æ•°å­¦å…¬å¼)</p></li><li><p>å¹¿ä¹‰çº¿æ€§æ¨¡å‹æ˜¯æ€è¢«åº”ç”¨åœ¨æ·±åº¦å­¦ä¹ ä¸­?</p><ul><li><a href="http://blog.shakirm.com/2015/01/a-statistical-view-of-deep-learning-i-recursive-glms/">A Statistical View of Deep Learning (I): Recursive GLMs â† The Spectator</a></li><li>æ·±åº¦å­¦ä¹ ä»ç»Ÿè®¡å­¦è§’åº¦ï¼Œå¯ä»¥çœ‹åšé€’å½’çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ã€‚</li><li>å¹¿ä¹‰çº¿æ€§æ¨¡å‹ç›¸å¯¹äºç»å…¸çš„çº¿æ€§æ¨¡å‹(y=wx+b)ï¼Œæ ¸å¿ƒåœ¨äºå¼•å…¥äº†è¿æ¥å‡½æ•°g(.)ï¼Œå½¢å¼å˜ä¸ºï¼šy=gâˆ’1(wx+b)ã€‚</li><li>æ·±åº¦å­¦ä¹ æ—¶é€’å½’çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼Œç¥ç»å…ƒçš„æ¿€æ´»å‡½æ•°ï¼Œå³ä¸ºå¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„é“¾æ¥å‡½æ•°ã€‚é€»è¾‘å›å½’ï¼ˆå¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„ä¸€ç§ï¼‰çš„Logisticå‡½æ•°å³ä¸ºç¥ç»å…ƒæ¿€æ´»å‡½æ•°ä¸­çš„Sigmoidå‡½æ•°ï¼Œå¾ˆå¤šç±»ä¼¼çš„æ–¹æ³•åœ¨ç»Ÿè®¡å­¦å’Œç¥ç»ç½‘ç»œä¸­çš„åç§°ä¸ä¸€æ ·ï¼Œå®¹æ˜“å¼•èµ·åˆå­¦è€…çš„å›°æƒ‘ã€‚ä¸‹å›¾æ˜¯ä¸€ä¸ªå¯¹ç…§è¡¨ï¼š<br><img src="/images/2017/02/v2-29d9d42212fd2294e71c2f3e760791d4_b.png"></li></ul></li><li><p>ä»€ä¹ˆé€ æˆæ¢¯åº¦æ¶ˆå¤±é—®é¢˜? æ¨å¯¼ä¸€ä¸‹</p><ul><li><a href="https://www.quora.com/How-does-the-ReLu-solve-the-vanishing-gradient-problem">How does the ReLu solve the vanishing gradient problem? - Quora</a></li><li><a href="https://medium.com/@karpathy/yes-you-should-understand-backprop-e2f06eab496b#.nq9lr4sdn">Yes you should understand backprop â€“ Medium</a></li><li>ç¥ç»ç½‘ç»œçš„è®­ç»ƒä¸­ï¼Œé€šè¿‡æ”¹å˜ç¥ç»å…ƒçš„æƒé‡ï¼Œä½¿ç½‘ç»œçš„è¾“å‡ºå€¼å°½å¯èƒ½é€¼è¿‘æ ‡ç­¾ä»¥é™ä½è¯¯å·®å€¼ï¼Œè®­ç»ƒæ™®éä½¿ç”¨BPç®—æ³•ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œè®¡ç®—å‡ºè¾“å‡ºä¸æ ‡ç­¾é—´çš„æŸå¤±å‡½æ•°å€¼ï¼Œç„¶åè®¡ç®—å…¶ç›¸å¯¹äºæ¯ä¸ªç¥ç»å…ƒçš„æ¢¯åº¦ï¼Œè¿›è¡Œæƒå€¼çš„è¿­ä»£ã€‚æ¢¯åº¦æ¶ˆå¤±ä¼šé€ æˆæƒå€¼æ›´æ–°ç¼“æ…¢ï¼Œæ¨¡å‹è®­ç»ƒéš¾åº¦å¢åŠ ã€‚é€ æˆæ¢¯åº¦æ¶ˆå¤±çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œè®¸å¤šæ¿€æ´»å‡½æ•°å°†è¾“å‡ºå€¼æŒ¤å‹åœ¨å¾ˆå°çš„åŒºé—´å†…ï¼Œåœ¨æ¿€æ´»å‡½æ•°ä¸¤ç«¯è¾ƒå¤§èŒƒå›´çš„å®šä¹‰åŸŸå†…æ¢¯åº¦ä¸º0ã€‚é€ æˆå­¦ä¹ åœæ­¢<br><img src="/images/2017/02/v2-d081992735ff19112770f8aa8e273c13_b.png"></li></ul></li><li><p>Weights Initialization. ä¸åŒçš„æ–¹å¼ï¼Œé€ æˆçš„åæœã€‚ä¸ºä»€ä¹ˆä¼šé€ æˆè¿™æ ·çš„ç»“æœã€‚</p><ul><li>å‡ ç§ä¸»è¦çš„æƒå€¼åˆå§‹åŒ–æ–¹æ³•ï¼šlecun_uniform /  glorot_normal / he_normal / batch_normal</li><li>lecun_uniformï¼š<a href="https://www.researchgate.net/publication/2811922_Efficient_BackProp">Efficient BackProp (PDF Download Available)</a></li><li>glorot_normalï¼š<a href="http://jmlr.org/proceedings/papers/v9/glorot10a/glorot10a.pdf">Understanding the difficulty of training deep feedforward neural networks</a></li><li>he_normalï¼š<a href="https://arxiv.org/pdf/1502.01852.pdf">Delving Deep into Rectifiers:Surpassing Human-Level Performance on ImageNet Classification</a></li><li>batch_normalï¼š<a href="https://arxiv.org/pdf/1502.03167.pdf">Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift</a></li></ul></li><li><p>ä¸ºä»€ä¹ˆç½‘ç»œå¤Ÿæ·±(Neurons è¶³å¤Ÿå¤š)çš„æ—¶å€™ï¼Œæ€»æ˜¯å¯ä»¥é¿å¼€è¾ƒå·®Local Optimaï¼Ÿ</p><ul><li><a href="https://arxiv.org/abs/1412.0233">[1412.0233] The Loss Surfaces of Multilayer Networks</a></li></ul></li><li><p>Loss. æœ‰å“ªäº›å®šä¹‰æ–¹å¼ï¼ˆåŸºäºä»€ä¹ˆï¼Ÿï¼‰ï¼Œ æœ‰å“ªäº›ä¼˜åŒ–æ–¹å¼ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼Œå„è‡ªçš„å¥½å¤„ï¼Œä»¥åŠè§£é‡Šã€‚</p><ul><li>Cross-Entropy / MSE / K-Læ•£åº¦</li></ul></li><li><p>Dropoutã€‚ æ€ä¹ˆåšï¼Œæœ‰ä»€ä¹ˆç”¨å¤„ï¼Œè§£é‡Šã€‚</p><ul><li><a href="https://www.quora.com/How-does-the-dropout-method-work-in-deep-learning">How does the dropout method work in deep learning? - Quora</a></li><li><a href="https://arxiv.org/pdf/1312.6197.pdf">An empirical analysis of dropout in piecewise linear networks</a></li><li><a href="https://arxiv.org/pdf/1207.0580.pdf">Improving neural networks by preventing co-adaptation of feature detectors</a></li></ul></li><li><p>Activation Function. é€‰ç”¨ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆå¥½å¤„ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„å¥½å¤„ã€‚</p><ul><li>å‡ ç§ä¸»è¦çš„æ¿€æ´»å‡½æ•°ï¼šSigmond / ReLU ï¼PReLU</li><li><a href="http://jmlr.org/proceedings/papers/v15/glorot11a/glorot11a.pdf">Deep Sparse Rectifier Neural Networks</a></li><li><a href="https://arxiv.org/pdf/1502.01852.pdf">Delving Deep into Rectifiers: Surpassing Human-Level Performance on ImageNet Classification</a></li></ul></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://www.zhihu.com/question/41233373">å¦‚æœä½ æ˜¯é¢è¯•å®˜ï¼Œä½ æ€ä¹ˆå»åˆ¤æ–­ä¸€ä¸ªé¢è¯•è€…çš„æ·±åº¦å­¦ä¹ æ°´å¹³ï¼Ÿ - çŸ¥ä¹</a></li><li><a href="https://www.zhihu.com/question/54308150">æ·±åº¦å­¦ä¹ ç›¸å…³çš„èŒä½é¢è¯•æ—¶ä¸€èˆ¬ä¼šé—®ä»€ä¹ˆï¼Ÿä¼šé—®ä¸€äº›ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ç®—æ³•å—ï¼Ÿ - çŸ¥ä¹</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      
      <comments>http://example.com/2017/02/18/Deep-Learning-Interview/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>åœ¨Windowsä¸Šå®‰è£…å¹¶åŠ é€Ÿæ‹‰å–Dockeré•œåƒçš„æ–¹æ³•</title>
      <link>http://example.com/2017/02/17/Docker-Windows-Speed-up/</link>
      <guid>http://example.com/2017/02/17/Docker-Windows-Speed-up/</guid>
      <pubDate>Fri, 17 Feb 2017 06:38:44 GMT</pubDate>
      
      <description>&lt;p&gt;Dockerå®¹å™¨æœåŠ¡è¿‘æ¥å¯è°“æ˜¯ä¸€æ—¥åƒé‡Œçˆ†ç‚¸å¼çš„å‘å±•ï¼Œä½†æ˜¯åœ¨å›½å†…å®‰è£…Dockeræˆ–è€…æ‹‰å–åºå¤§çš„Dockeré•œåƒéƒ½ä¸å¯é¿å…çš„é‡åˆ°èœ—ç‰›å¼é€Ÿåº¦çš„é—®é¢˜ï¼Œæœ¬æ–‡ä¸»è¦å…³äºåŠ é€Ÿä¸‹è½½DockerWindowså®¢æˆ·ç«¯å’Œé•œåƒçš„æ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>Dockerå®¹å™¨æœåŠ¡è¿‘æ¥å¯è°“æ˜¯ä¸€æ—¥åƒé‡Œçˆ†ç‚¸å¼çš„å‘å±•ï¼Œä½†æ˜¯åœ¨å›½å†…å®‰è£…Dockeræˆ–è€…æ‹‰å–åºå¤§çš„Dockeré•œåƒéƒ½ä¸å¯é¿å…çš„é‡åˆ°èœ—ç‰›å¼é€Ÿåº¦çš„é—®é¢˜ï¼Œæœ¬æ–‡ä¸»è¦å…³äºåŠ é€Ÿä¸‹è½½DockerWindowså®¢æˆ·ç«¯å’Œé•œåƒçš„æ–¹æ³•ã€‚</p><span id="more"></span><h2 id="ä¸‹è½½Docker-Windowså®¢æˆ·ç«¯"><a href="#ä¸‹è½½Docker-Windowså®¢æˆ·ç«¯" class="headerlink" title="ä¸‹è½½Docker Windowså®¢æˆ·ç«¯"></a>ä¸‹è½½Docker Windowså®¢æˆ·ç«¯</h2><p>ä½¿ç”¨Daocloudæä¾›çš„<a href="https://get.daocloud.io/docker-install/windows">ä¸‹è½½åœ°å€</a>ï¼ŒåŸºæœ¬ä¸Šå‡ åˆ†é’Ÿå³å¯ä¸‹è½½å®Œ100Mbå·¦å³çš„Docker Windowså®¢æˆ·ç«¯ï¼Œè€Œç”¨Dockerå®˜ç½‘çš„ä¸‹è½½åœ°å€å¯è°“å‡ ä¹æ²¡æœ‰é€Ÿåº¦ã€‚</p><h2 id="åŠ é€Ÿæ‹‰å–Dockeré•œåƒ"><a href="#åŠ é€Ÿæ‹‰å–Dockeré•œåƒ" class="headerlink" title="åŠ é€Ÿæ‹‰å–Dockeré•œåƒ"></a>åŠ é€Ÿæ‹‰å–Dockeré•œåƒ</h2><p>ä¸æŒ‚VPNç›´æ¥æ‹‰å–Dockeré•œåƒç»å¯¹æ˜¯ç¾éš¾æ€§çš„ä½“éªŒï¼Œä¸ä»…æ…¢å¦‚ç‹—è€Œä¸”æå®¹æ˜“ä¸­æ–­è¿æ¥ã€‚è¿™é‡Œæˆ‘ä»¬åŒæ ·ä½¿ç”¨Daocloudæä¾›çš„é•œåƒç«™å¦‚<a href="https://www.daocloud.io/mirror#accelerator-doc">è¿™é‡Œ</a>ï¼Œä½¿ç”¨æ–¹æ³•ä¸ºåœ¨Dockerå³é”®èœå•çš„è®¾ç½®é€‰é¡¹å†…çš„DockerDaemoné‡Œé¢ï¼ŒåŠ ä¸Šä¸€æ®µåœ°å€æ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [</span><br><span class="line">    &quot;http://59dcc468.m.daocloud.io&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;insecure-registries&quot;: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹åDockerä¼šè‡ªåŠ¨é‡å¯ï¼Œä¹‹åå†Poolé•œåƒå³å¯äº«å—ç«ç®­åŠ é€Ÿèˆ¬çš„æå‡ï¼</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Docker/">Docker</category>
      
      
      <comments>http://example.com/2017/02/17/Docker-Windows-Speed-up/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Explanation of Convolutional Neural Networks</title>
      <link>http://example.com/2017/02/16/Explanation-of-Convolutional-Neural-Networks/</link>
      <guid>http://example.com/2017/02/16/Explanation-of-Convolutional-Neural-Networks/</guid>
      <pubDate>Thu, 16 Feb 2017 06:56:16 GMT</pubDate>
      
      <description>&lt;p&gt;å·ç§¯ç¥ç»ç½‘ç»œ(Convolutional Neural Network)ï¼Œç®€ç§°CNNï¼Œæ˜¯æœºå™¨è§†è§‰é¢†åŸŸçš„ä¸»è¦ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚æœ¬æ–‡ä¸»è¦å¯¹CNNåšä¸€ä¸ªç®€æ˜å…¨é¢çš„ä»‹ç»ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>å·ç§¯ç¥ç»ç½‘ç»œ(Convolutional Neural Network)ï¼Œç®€ç§°CNNï¼Œæ˜¯æœºå™¨è§†è§‰é¢†åŸŸçš„ä¸»è¦ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚æœ¬æ–‡ä¸»è¦å¯¹CNNåšä¸€ä¸ªç®€æ˜å…¨é¢çš„ä»‹ç»ã€‚</p><span id="more"></span><p><img src="/images/2017/02/screen-shot-2016-08-07-at-4-59-29-pm.png"></p><p>ä¸Šå›¾æ˜¯90å¹´ä»£çš„LeNetçš„ç»“æ„ï¼Œå½“æ—¶ä¸»è¦ç”¨äºå­—ç¬¦çš„è¯†åˆ«ï¼Œå½“å‰æœ‰è®¸å¤šçš„æ–°çš„CNNç»“æ„ï¼Œä½†æ˜¯å¤§ä½“ä¸Šéƒ½æ˜¯é‡‡ç”¨äº†ä¸LeNetç±»ä¼¼çš„ä¸»è¦æ€æƒ³ã€‚æœ¬æ–‡ä¸»è¦ä»¥LeNetä¸ºä¾‹æ¥åšè®²è§£ã€‚</p><p>LeNetçš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š</p><ul><li>å·ç§¯å±‚</li><li>éçº¿æ€§å˜æ¢(ReLU)</li><li>æ± åŒ–å±‚æˆ–è€…ä¸‹é‡‡æ ·</li><li>åˆ†ç±»(å…¨è¿æ¥)</li></ul><h2 id="å›¾ç‰‡å°±æ˜¯çŸ©é˜µ"><a href="#å›¾ç‰‡å°±æ˜¯çŸ©é˜µ" class="headerlink" title="å›¾ç‰‡å°±æ˜¯çŸ©é˜µ"></a>å›¾ç‰‡å°±æ˜¯çŸ©é˜µ</h2><p>åœ¨è®²å·ç§¯ä¸å·ç§¯å±‚ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆä»‹ç»ä¸€ä¸‹å›¾ç‰‡çš„ç›¸å…³çš„æ¦‚å¿µã€‚æœ¬è´¨ä¸Šï¼Œæ¯å¼ å›¾ç‰‡éƒ½æ˜¯åƒç´ å€¼çš„çŸ©é˜µã€‚</p><p><img src="/images/2017/02/8-gif.gif"></p><p>å½©è‰²å›¾ç‰‡å…·æœ‰ä¸‰ä¸ª<strong>é€šé“</strong>ï¼Œæ‰€è°“çš„RGBå›¾ç‰‡ï¼Œä¹Ÿå°±æ˜¯åœ¨çº¢è‰²ã€ç»¿è‰²å’Œè“è‰²ä¸‰ä¸ªé¢œè‰²çš„çŸ©é˜µï¼Œæ¯ä¸ªåƒç´ å€¼éƒ½æ˜¯[0,255]çš„å€¼ã€‚ç°åº¦å›¾ç‰‡åªæœ‰ä¸€ä¸ªé€šé“ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªçŸ©é˜µã€‚</p><h2 id="å·ç§¯å±‚"><a href="#å·ç§¯å±‚" class="headerlink" title="å·ç§¯å±‚"></a>å·ç§¯å±‚</h2><p>CNNç”±å·ç§¯è€Œå¾—åï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯å·ç§¯å‘¢ï¼Ÿå…ˆæ¥çœ‹å›¾ç‰‡</p><p>é¦–å…ˆæˆ‘ä»¬æœ‰å¦‚ä¸‹çš„5*5çš„çŸ©é˜µï¼Œå®ƒçš„æ¯ä¸ªåƒç´ å€¼éƒ½ç”±0æˆ–è€…1ç»„æˆ</p><p><img src="/images/2017/02/screen-shot-2016-07-24-at-11-25-13-pm.png"></p><p>å†æ¥ä¸€å¼ å¦‚ä¸‹çš„3*3çš„çŸ©é˜µ</p><p><img src="/images/2017/02/screen-shot-2016-07-24-at-11-25-24-pm.png"></p><p>ç”¨è¿™ä¸ª3<em>3çš„çŸ©é˜µå¯¹ä»¥ä¸Š5</em>5çš„çŸ©é˜µè¿›è¡Œå·ç§¯ï¼Œå¯ä»¥è¡¨ç¤ºä¸ºå¦‚ä¸‹çš„è¿‡ç¨‹ï¼Œ</p><p><img src="/images/2017/02/convolution_schematic.gif"></p><p>ä¸Šè¿°è¿‡ç¨‹å¯ä»¥æè¿°æˆï¼Œ3<em>3çš„çŸ©é˜µé¦–å…ˆå®šä½åˆ°5</em>5çš„çŸ©é˜µçš„å·¦ä¸Šè§’ï¼Œä¸¤è€…è¦†ç›–é‡å åˆ°çš„éƒ¨ä½è¿›è¡Œç‚¹ä¹˜å†æ±‚å’Œï¼Œå¾—åˆ°çš„å€¼æ˜¯æ–°çš„çŸ©é˜µçš„å·¦ä¸Šè§’ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ¥ç€3<em>3çŸ©é˜µå‘å³ç§»åŠ¨ä¸€ä¸ªåƒç´ ï¼Œä¹Ÿå«ä¸€ä¸ªstrideï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å·ç§¯æ“ä½œï¼ŒçŸ¥é“éå†å®Œæ¯•ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„çŸ©é˜µã€‚åœ¨CNNä¸­ï¼Œè¿™ä¸ª3</em>3çš„çŸ©é˜µå«åš<em>æ»¤æ³¢å™¨</em>æˆ–è€…<em>å·ç§¯æ ¸</em>ï¼Œå¾—åˆ°çš„æ–°çš„çŸ©é˜µå«åš<em>ç‰¹å¾æ˜ å°„</em>ã€‚å¯ä»¥è¯´ï¼Œå·ç§¯æ ¸çš„ä½œç”¨å°±æ˜¯ä»åŸå›¾ç‰‡ä¸­å‘ç°ç‰¹å¾ã€‚æ‰€ä»¥å¯¹äºåŒä¸€å¼ å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„å·ç§¯æ ¸å»æ“ä½œï¼Œå¾—åˆ°å®Œå…¨ä¸åŒçš„ç‰¹å¾æ˜ å°„ã€‚è€ƒè™‘å¦‚ä¸‹çš„å›¾ç‰‡ï¼Œ</p><p><img src="/images/2017/02/111.png"></p><p>æˆ‘ä»¬ç”¨ä¸åŒçš„å·ç§¯æ ¸è¿›è¡Œæ“ä½œï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼Œ</p><p><img src="/images/2017/02/screen-shot-2016-08-05-at-11-03-00-pm.png"></p><p>å¦ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼Œ</p><p><img src="/images/2017/02/giphy.gif"></p><p>å¦‚å›¾ï¼Œä¸¤ä¸ªéå¸¸ç›¸ä¼¼ä½†æ˜¯æ–¹å‘ä¸åŒçš„å·ç§¯æ ¸å¯¹åŒä¸€å¼ å›¾ç‰‡è¿›è¡Œå·ç§¯ï¼Œå¾—åˆ°çš„ä¸åŒçš„ç»“æœã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼ŒCNNä¼šè‡ªåŠ¨å­¦ä¹ åˆ°è¿™äº›å·ç§¯æ ¸çš„å‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æœ‰ä¸€äº›è¶…å‚æ•°éœ€è¦æ‰‹åŠ¨ç¡®å®šï¼Œå¦‚å·ç§¯æ ¸ä¸ªæ•°ã€å¤§å°ä»¥åŠç½‘ç»œçš„ç»“æ„ç­‰ç­‰ã€‚è€Œç‰¹å¾æ˜ å°„çš„å¤§å°ç”±ä¸‰ä¸ªå‚æ•°æ¥ç¡®å®šï¼Œ</p><ul><li><em>Depth</em>ï¼šä¹Ÿå°±æ˜¯å·ç§¯æ ¸çš„ä¸ªæ•°ï¼Œæˆ‘ä»¬ç”¨å‡ ä¸ªå·ç§¯æ ¸è¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾—åˆ°å¤šå°‘ä¸ªé‡å ç€çš„ç‰¹å¾æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯ç‰¹å¾æ˜ å°„çš„æ·±åº¦ã€‚</li><li><em>Stride</em>ï¼šå·ç§¯æ—¶æ¯æ­¥ç§»åŠ¨çš„å¤§å°ï¼Œå®¹æ˜“å¾—çŸ¥ï¼Œæ­¥å­è¶Šå¤§ï¼Œé‚£ä¹ˆå·ç§¯çš„æ¬¡æ•°ä¹Ÿå°±è¶Šå°ï¼Œé‚£ä¹ˆç‰¹å¾æ˜ å°„çŸ©é˜µä¹Ÿå°±è¶Šå°ã€‚</li><li><em>Zero-Padding</em>ï¼šæŒ‡çš„æ˜¯æ˜¯å¦åœ¨åŸå›¾åƒå‘¨å›´è¡¥ä¸Šé›¶å†è¿›è¡Œå·ç§¯ï¼Œï¼Œè¿™æ ·ä¹Ÿæ˜¯æ§åˆ¶ç‰¹å¾æ˜ å°„å¤§å°çš„æ–¹æ³•ï¼Œå¸¦æœ‰Paddingå’Œä¸å¸¦æœ‰Paddingçš„å·ç§¯åˆ†åˆ«å«åšå®½å·ç§¯å’Œçª„å·ç§¯ã€‚</li></ul><h2 id="éçº¿æ€§æ˜ å°„-ReLU"><a href="#éçº¿æ€§æ˜ å°„-ReLU" class="headerlink" title="éçº¿æ€§æ˜ å°„(ReLU)"></a>éçº¿æ€§æ˜ å°„(ReLU)</h2><p>ReLUå‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿåˆä¸€çœ‹å®ƒçš„å…¨ç§°Rectified Linear Unitå¥½åƒç‰¹åˆ«é«˜å¤§ä¸Šï¼Œå…¶å®å®ƒçš„å‡½æ•°å½¢å¼éå¸¸ç®€å•ï¼Œå°±æ˜¯</p><p>$$output = max(0, input)$$</p><p>ä¹Ÿå°±æ˜¯å°†åŸè¾“å…¥çš„è´Ÿå€¼å…¨éƒ¨æ›¿æ¢ä¸º0ã€‚é¡ºä¾¿ä¸€è¯´ï¼Œæ·±åº¦å­¦ä¹ ä¸šç•Œå……æ–¥ç€è¿™ç§ç°è±¡ï¼Œå¦‚å¤šå±‚æ„ŸçŸ¥æœºä¸ç¥ç»ç½‘ç»œã€ç”šè‡³æ˜¯Deep Learningè¿™ä¸ªç§°å·æœ¬èº«éƒ½æ˜¯è¿™æ ·æ”¹è¿‡æ¥çš„â€œå¥½åå­—â€ï¼Œä¸å¾—ä¸è¯´ï¼Œèµ·ä¸ªå¥½åå­—å¯¹äºæˆåŠŸä¹Ÿæ˜¯éå¸¸ä¸»è¦çš„å•Šï¼</p><p>è¯è¯´å›æ¥ï¼Œç”¨ReLUå¤„ç†è¿‡çš„å›¾ç‰‡çš„æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/2017/02/screen-shot-2016-08-07-at-6-18-19-pm.png"></p><p>é™¤ReLUä¹‹å¤–ï¼Œè¿˜æœ‰sigmoidå‡½æ•°å’ŒtanhåŒæ›²å‡½æ•°ç­‰éçº¿æ€§å˜æ¢ï¼Œä½†æ˜¯ReLUè¢«è¯æ˜è¡¨ç°æ›´åŠ ï¼Œæ‰€ä»¥ä¹Ÿå°±æ›´å¸¸ç”¨ã€‚</p><h2 id="æ± åŒ–å±‚"><a href="#æ± åŒ–å±‚" class="headerlink" title="æ± åŒ–å±‚"></a>æ± åŒ–å±‚</h2><p>æ± åŒ–(pooling)ä¹Ÿå°±æ˜¯ä¿¡å·å¤„ç†é¢†åŸŸçš„ä¸‹é‡‡æ ·Downsamplingï¼Œå…¶ä½œç”¨æ˜¯å¯¹ç‰¹å¾æ˜ å°„ä¿ç•™ä¸»è¦ä¿¡æ¯çš„åŒæ—¶è¿›è¡Œé™ç»´ã€‚æ ¹æ®è®¡ç®—æ–¹å¼çš„ä¸åŒå¯ä»¥æœ‰Maxã€Averageã€Sumç­‰å¤šç§poolingæ–¹å¼ã€‚</p><p><img src="/images/2017/02/screen-shot-2016-08-10-at-3-38-39-am.png"></p><p>ä»¥ä¸Šå±•ç¤ºäº†ä½¿ç”¨2*2çš„çª—å£å¯¹ç»è¿‡å·ç§¯å’Œéçº¿æ€§æ˜ å°„çš„çŸ©é˜µçš„Max poolingæ“ä½œã€‚è¿™é‡Œçš„strideæ˜¯2ä¸ªåƒç´ ï¼Œå¯¹æ¯ä¸ªåŒºåŸŸé‡‡ç”¨æœ€å¤§å€¼ã€‚åœ¨ç½‘ç»œä¸­ï¼Œpoolingæ˜¯å¯¹æ¯ä¸ªç‰¹å¾æ˜ å°„å•ç‹¬æ“ä½œçš„ï¼Œäºæ˜¯æˆ‘ä»¬ä¼šå¾—åˆ°ç›¸åŒæ•°ç›®çš„è¾“å‡ºã€‚</p><p><img src="/images/2017/02/screen-shot-2016-08-07-at-6-19-37-pm.png"></p><p>ä¸‹å›¾å±•ç¤ºäº†poolingæ“ä½œï¼Œ</p><p><img src="/images/2017/02/screen-shot-2016-08-07-at-6-11-53-pm.png"></p><p>poolingæ“ä½œæ˜¾è‘—åœ°å‡å°äº†è¾“å…¥çš„ç©ºé—´å¤§å°ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œ</p><ul><li>ä½¿å¾—è¾“å…¥æ›´åŠ å°ï¼Œæ›´åŠ å®¹æ˜“è®¡ç®—</li><li>å‡å°ç½‘ç»œçš„å¤æ‚ç¨‹åº¦ï¼Œæœ‰åˆ©äºå¯¹æŠ—è¿‡æ‹Ÿåˆ</li><li>ä½¿å¾—ç½‘ç»œå¯¹äºæ‰°åŠ¨ç­‰å™ªéŸ³æ›´åŠ é²æ£’ï¼Œå› ä¸ºå¾®å°çš„æ‰°åŠ¨å¯¹äºpoolingç»“æœæ²¡æœ‰å½±å“</li><li>æœ‰ç›Šäºç‰©ä½“æ¢æµ‹çš„å‡†ç¡®æ€§</li></ul><h2 id="å…¨è¿æ¥å±‚"><a href="#å…¨è¿æ¥å±‚" class="headerlink" title="å…¨è¿æ¥å±‚"></a>å…¨è¿æ¥å±‚</h2><p>ç»è¿‡ä¸¤è½®çš„å·ç§¯-ReLU-poolingæ“ä½œï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ ‡å‡†çš„å…¨è¿æ¥ç¥ç»ç½‘ç»œç»“æ„äº†ï¼Œæ‰€è°“å…¨è¿æ¥ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸€å±‚çš„æ¯ä¸ªç¥ç»å…ƒéƒ½ä¸ä¸‹ä¸€å±‚çš„æ¯ä¸ªç¥ç»å…ƒæœ‰è¿æ¥ï¼Œå€’æ•°ç¬¬äºŒå±‚çš„è¾“å‡ºæ˜¯æ¯ä¸ªç±»çš„æ¦‚ç‡ï¼Œå†ç»è¿‡ä¸€ä¸ªsoftmaxå±‚è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æœ€ç»ˆçš„è¾“å‡ºï¼šå’Œä¸º1çš„æ¯ä¸ªåˆ†ç±»çš„æ¦‚ç‡ã€‚</p><p><img src="/images/2017/02/screen-shot-2016-08-06-at-12-34-02-am.png"></p><h2 id="è®­ç»ƒè¿‡ç¨‹"><a href="#è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="è®­ç»ƒè¿‡ç¨‹"></a>è®­ç»ƒè¿‡ç¨‹</h2><p>ä¸Šé¢æŠŠCNNæ‹†å¼€äº†è®²ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠå„ä¸ªç»„ä»¶åˆèµ·æ¥çœ‹ä¸€ä¸‹CNNçš„è®­ç»ƒè¿‡ç¨‹ã€‚æ¯”å¦‚æˆ‘ä»¬çš„è¾“å…¥æ˜¯ä¸€å¼ èˆ¹çš„å›¾ç‰‡ï¼Œè€Œè¾“å‡ºåˆ™æ˜¯å±äºèˆ¹çš„æ¦‚ç‡æ˜¯1ï¼Œå¦‚[0,0,1,0]ã€‚</p><p><img src="/images/2017/02/screen-shot-2016-08-07-at-9-15-21-pm.png"></p><p>é‚£ä¹ˆè®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹</p><ul><li>æ­¥éª¤1ï¼šä»¥éšæœºå€¼åˆå§‹åŒ–å·ç§¯æ ¸å’Œæƒé‡å‚æ•°</li><li>æ­¥éª¤2ï¼šç½‘ç»œå¾—åˆ°è¾“å…¥ï¼Œè¿›è¡Œå‰å‘çš„è®¡ç®—ï¼ˆå·ç§¯ã€ReLUå’Œpoolingï¼‰å¾—åˆ°æœ€ç»ˆå„åˆ†ç±»çš„æ¦‚ç‡ï¼Œå‡è®¾æ˜¯[0.1, 0.3, 0.2, 0.4]ï¼Œå› ä¸ºå‚æ•°éƒ½æ˜¯éšæœºçš„ï¼Œé‚£ä¹ˆç»“æœè‚¯å®šä¹Ÿæ˜¯éšæœºçš„</li><li>æ­¥éª¤3ï¼šåˆ©ç”¨å¹³æ–¹è¯¯å·®è®¡ç®—é”™è¯¯çš„æŸå¤±å‡½æ•°å¤§å°</li><li>æ­¥éª¤4ï¼šåå‘ä¼ æ’­è®¡ç®—errorå¯¹äºå„ä¸ªå‚æ•°çš„æ¢¯åº¦ï¼Œå¯¹å‚æ•°è¿›è¡Œæ›´æ–°ï¼Œä»¥å‡å°é”™è¯¯ç¨‹åº¦<ul><li>æ³¨æ„åˆ°æˆ‘ä»¬åªæ›´æ–°å·ç§¯æ ¸çš„å‚æ•°ä»¥åŠå…¨è¿æ¥çš„æƒé‡ï¼Œå…¶ä½™çš„å‚æ•°å·²ç»åœ¨è®­ç»ƒä¹‹å‰æŒ‡å®š</li><li>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç½‘ç»œé€æ¸â€œå­¦ä¹ â€åˆ°å¦‚ä½•æ­£ç¡®åˆ†ç±»å›¾ç‰‡ï¼Œè¿™æ˜¯é€šè¿‡é€æ¸ä¿®æ”¹æ›´æ–°å‚æ•°å¾—åˆ°çš„</li></ul></li><li>æ­¥éª¤5ï¼šå¯¹äºæ‰€æœ‰è®­ç»ƒé›†å†…çš„å›¾ç‰‡é‡å¤æ­¥éª¤2-4</li></ul><h2 id="CNNçš„å¯è§†åŒ–"><a href="#CNNçš„å¯è§†åŒ–" class="headerlink" title="CNNçš„å¯è§†åŒ–"></a>CNNçš„å¯è§†åŒ–</h2><p><img src="/images/2017/02/screen-shot-2016-08-10-at-12-58-30-pm.png"></p><p>CNNåœ¨äººè„¸è¯†åˆ«å†…çš„åº”ç”¨ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚å¯¹äºCNNçš„åŸç†ï¼Œç»“åˆä¸Šå›¾æˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„è§£é‡Šï¼šCNNçš„å·ç§¯æ ¸ç”±ä¸‹åˆ°ä¸Šæ˜¯é€æ¸æ¢æµ‹å¤æ‚çš„ç‰¹å¾çš„ï¼Œæ¯”å¦‚ç¬¬ä¸€å±‚å·ç§¯æ ¸çš„ç‰¹å¾æ˜ å°„æ˜¯ç®€å•çš„æ˜æš—çº¿æ®µçº¹ç†ï¼Œç¬¬äºŒå±‚å°±å¯ä»¥å¾—åˆ°æ›²çº¿ç­‰å¤æ‚ä¸€äº›çš„ç‰¹å¾ï¼Œåˆ°äº†ç¬¬ä¸‰å±‚æ¢æµ‹çš„ç‰¹å¾å·²ç»æ˜¯äººè„¸çš„å½¢çŠ¶è½®å»“äº†ï¼Œåé¢çš„å±‚å¯¹äºå‰é¢å±‚çš„ç‰¹å¾è¿›è¡Œç»„åˆå˜åŒ–è€Œå¾—åˆ°æ›´åŠ å¤æ‚çš„ç»„åˆã€‚è¿™å°±ç±»ä¼¼å•å±‚æ„ŸçŸ¥æœºè¿å¼‚æˆ–å‡½æ•°éƒ½æ— æ³•è¡¨ç¤ºï¼Œå¤šå±‚æ„ŸçŸ¥æœºç»„åˆèµ·æ¥ä¹Ÿå°±æ˜¯ç¥ç»ç½‘ç»œå´å¯ä»¥æ‹Ÿåˆä»»æ„å¤æ‚çš„å‡½æ•°çš„åŸç†ä¸€æ ·ã€‚</p><p><a href="http://scs.ryerson.ca/~aharley/vis/conv/flat.html">è¿™é‡Œ</a>æœ‰ä¸€ä¸ªå¾ˆæ£’çš„å…³äºCNNåŸç†çš„å±•ç¤ºdemoï¼Œå¦‚å›¾</p><p><img src="/images/2017/02/conv_all.png"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://ujjwalkarn.me/2016/08/11/intuitive-explanation-convnets/">An Intuitive Explanation of Convolutional Neural Networks</a></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/CNN/">CNN</category>
      
      
      <comments>http://example.com/2017/02/16/Explanation-of-Convolutional-Neural-Networks/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Macä¸Šå®‰è£…Kaggle Docker é•œåƒçš„æ–¹æ³•</title>
      <link>http://example.com/2017/02/13/Install-Kaggle-Docker-on-Mac/</link>
      <guid>http://example.com/2017/02/13/Install-Kaggle-Docker-on-Mac/</guid>
      <pubDate>Sun, 12 Feb 2017 18:31:56 GMT</pubDate>
      
      <description>&lt;p&gt;ä½œä¸ºæ•°æ®ç§‘å­¦ä¸šç•Œç‹¬å é³Œå¤´çš„ç«èµ›ç½‘ç«™Kaggleä¸ºæˆ‘ä»¬æä¾›äº†ç®€ä¾¿çš„ä¸€é”®å®‰è£…çš„Dockeré•œåƒï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„åœ¨æœ¬åœ°&lt;br&gt;ä½¿ç”¨ä¸Kaggleç½‘ç«™åœ¨çº¿å®Œå…¨ä¸€è‡´çš„ç¯å¢ƒï¼Œé‚£ä¹ˆåœ¨Macä¸Šå¦‚ä½•å®‰è£…å’Œä½¿ç”¨Kaggleçš„Dockeré•œåƒå‘¢ï¼Ÿ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ä½œä¸ºæ•°æ®ç§‘å­¦ä¸šç•Œç‹¬å é³Œå¤´çš„ç«èµ›ç½‘ç«™Kaggleä¸ºæˆ‘ä»¬æä¾›äº†ç®€ä¾¿çš„ä¸€é”®å®‰è£…çš„Dockeré•œåƒï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„åœ¨æœ¬åœ°<br>ä½¿ç”¨ä¸Kaggleç½‘ç«™åœ¨çº¿å®Œå…¨ä¸€è‡´çš„ç¯å¢ƒï¼Œé‚£ä¹ˆåœ¨Macä¸Šå¦‚ä½•å®‰è£…å’Œä½¿ç”¨Kaggleçš„Dockeré•œåƒå‘¢ï¼Ÿ</p><span id="more"></span><h2 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h2><p>å‚è€ƒ<a href="https://www.docker.com/">Dockerå®˜ç½‘</a>çš„æ•™ç¨‹å¯ä»¥æ–¹ä¾¿çš„ä¸‹è½½å®‰è£…Dockeråœ¨Macä¸Šã€‚</p><h2 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="headerlink" title="æ‹‰å–é•œåƒ"></a>æ‹‰å–é•œåƒ</h2><p>å®‰è£…å¥½Dockerå¹¶è¿è¡ŒæˆåŠŸåï¼Œå‚è€ƒ<a href="https://github.com/kaggle/docker-python">è¿™é‡Œ</a>ï¼Œåœ¨ç»ˆç«¯ç”¨å¦‚ä¸‹è¿™è¡Œå‘½ä»¤<code>docker run --rm -it kaggle/python</code>ï¼Œå°±ä¼šä¸‹è½½kaggleçš„pythonç¯å¢ƒDockeré•œåƒåˆ°æœ¬åœ°ï¼Œå¤§å°æ•°Gï¼Œå¦‚æœå‡ºç°æ¡æ‰‹å¤±è´¥ç­‰æç¤ºå¯ä»¥å°è¯•æŒ‚VPNæˆ–è€…ç”¨Daocloudçš„æœåŠ¡æ¥åŠ é€Ÿã€‚</p><h2 id="jupyter-notebookè®¾ç½®"><a href="#jupyter-notebookè®¾ç½®" class="headerlink" title="jupyter notebookè®¾ç½®"></a>jupyter notebookè®¾ç½®</h2><p>æˆ‘ä»¬è£…å¥½ç¯å¢ƒåå½“ç„¶ä¸æ˜¯åªæ˜¯ä¸ºäº†åœ¨å‘½ä»¤è¡Œå†…ä½¿ç”¨pythonç¯å¢ƒï¼Œå¿…é¡»ç”¨jupyter notebookï¼é‚£ä¹ˆæ€ä¹ˆè®¾ç½®æ‰èƒ½åœ¨æœ¬åœ°çš„æµè§ˆå™¨ä¸Šè¿æ¥å®¹å™¨å†…è¿è¡Œçš„å†…æ ¸å‘¢ï¼Ÿ<br>å‚è€ƒ<a href="http://blog.kaggle.com/2016/02/05/how-to-get-started-with-data-science-in-containers/">è¿™é‡Œ</a>ï¼Œåœ¨ä½ çš„<code>.bashrc</code>æˆ–è€…<code>.bash_profile</code>æ–‡ä»¶å†…æ·»åŠ å¦‚ä¸‹æ•°è¡Œï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">kpython()&#123;</span><br><span class="line">  docker run -v $PWD:/tmp/working -w=/tmp/working --rm -it kaggle/python python &quot;$@&quot;</span><br><span class="line">&#125;</span><br><span class="line">ikpython() &#123;</span><br><span class="line">  docker run -v $PWD:/tmp/working -w=/tmp/working --rm -it kaggle/python ipython</span><br><span class="line">&#125;</span><br><span class="line">kjupyter() &#123;</span><br><span class="line">  (sleep 3 &amp;&amp; open &quot;http://$(docker-machine ip docker):8888&quot;)&amp;</span><br><span class="line">  docker run -v $PWD:/tmp/working -w=/tmp/working -p 8888:8888 --rm -it kaggle/python jupyter notebook --no-browser --ip=&quot;0.0.0.0&quot; --notebook-dir=/tmp/working</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ«å¿˜äº†<code>source .bashrc</code>ï¼Œä¹‹åå°±å¯ä»¥ç”¨<code>kjupyter</code>å‘½ä»¤æ¥è¿è¡Œ<code>jupyter notebook</code>ï¼Œåªè¦è¿›å…¥å‘½ä»¤è¡Œä¸­æä¾›çš„ç½‘å€å¦‚<code>http://0.0.0.0:8888/?token=16185adf197d30dc82e9b88508a5ac585e6fa072c682117d</code>å°±å¯è¿›å…¥<code>jupyter notebook</code>ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Data-Science/">Data Science</category>
      
      <category domain="http://example.com/tags/Docker/">Docker</category>
      
      
      <comments>http://example.com/2017/02/13/Install-Kaggle-Docker-on-Mac/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Note for SoloLearn SQL</title>
      <link>http://example.com/2017/01/17/Note-for-SoloLearn-SQL/</link>
      <guid>http://example.com/2017/01/17/Note-for-SoloLearn-SQL/</guid>
      <pubDate>Tue, 17 Jan 2017 08:11:48 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦å…³äºSQLçš„åŸºæœ¬è¯­æ³•çš„ç¬”è®°ï¼Œæ¥è‡ªSoloLearnã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦å…³äºSQLçš„åŸºæœ¬è¯­æ³•çš„ç¬”è®°ï¼Œæ¥è‡ªSoloLearnã€‚</p><span id="more"></span><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="ä»‹ç»æ•°æ®åº“"><a href="#ä»‹ç»æ•°æ®åº“" class="headerlink" title="ä»‹ç»æ•°æ®åº“"></a>ä»‹ç»æ•°æ®åº“</h3><h4 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h4><p>æ•°æ®åº“æ˜¯æŒ‡ä»¥åˆ©äºå®¹æ˜“åœ°è¿æ¥ã€æœ‰æ•ˆç®¡ç†å’Œæ›´æ–°çš„æ–¹å¼æ¥ç®¡ç†çš„ä¸€ç³»åˆ—çš„æ•°æ®ã€‚æ•°æ®åº“ç”±å‚¨å­˜ç›¸å…³è”çš„ä¿¡æ¯çš„è¡¨æ ¼ç»„æˆï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªå¦‚YouTubeçš„ç½‘ç«™ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ•°æ®åº“æ¥å­˜å‚¨è§†é¢‘ä¿¡æ¯ã€ç”¨æˆ·åä¸å¯†ç ä»¥åŠè¯„è®ºç­‰ç­‰ã€‚</p><h4 id="æ•°æ®åº“è¡¨æ ¼"><a href="#æ•°æ®åº“è¡¨æ ¼" class="headerlink" title="æ•°æ®åº“è¡¨æ ¼"></a>æ•°æ®åº“è¡¨æ ¼</h4><p>æ•°æ®åº“è¡¨æ ¼ç”¨ç±»ä¼¼Excelçš„æ–¹å¼å­˜å‚¨å’Œå±•ç¤ºæ•°æ®ï¼Œæ•°æ®åº“é€šå¸¸ç”±è®¸å¤šçš„è¡¨æ ¼æ„æˆï¼Œä¾‹å¦‚æƒ³è±¡ä¸€ä¸ªç”±åå­—å’Œç”µè¯å·ç æ„æˆçš„è¡¨æ ¼ã€‚</p><p><img src="/%5Cimages%5C2017%5C01%5C1.png"></p><h4 id="primary-key"><a href="#primary-key" class="headerlink" title="primary key"></a>primary key</h4><p>primary keyæ˜¯è¡¨æ ¼ä¸­ç‰¹æ®Šçš„ä¸€åˆ—ï¼Œä¸»è¦ç‰¹æ€§æ˜¯</p><ul><li>æ¯è¡Œéƒ½æœ‰ç‹¬ç‰¹çš„primary key</li><li>ä¸èƒ½ä¸ºnull</li></ul><p>ä¾‹å¦‚ä¸‹å›¾ä¸­ï¼ŒIDæ˜¯ä¸ªprimary keyçš„å¥½é€‰æ‹©ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰é‡åçš„æƒ…å†µã€‚</p><p><img src="/%5Cimages%5C2017%5C01%5C2.png"></p><h4 id="ä»€ä¹ˆæ˜¯SQL"><a href="#ä»€ä¹ˆæ˜¯SQL" class="headerlink" title="ä»€ä¹ˆæ˜¯SQL"></a>ä»€ä¹ˆæ˜¯SQL</h4><p>æˆ‘ä»¬å·²ç»ç†è§£äº†ä»€ä¹ˆæ˜¯æ•°æ®åº“ï¼Œé‚£ä¹ˆç†è§£ä»€ä¹ˆæ˜¯SQLå°±å¾ˆç®€å•äº†ã€‚SQL å…¨ç§°æ˜¯ç»“æ„åŒ–åºåˆ—è¯­è¨€ï¼ˆStructured Query Languageï¼‰ã€‚SQLç”¨äºè¿æ¥å’Œæ“ä½œæ•°æ®åº“ï¼Œè€ŒMySQLæŒ‡çš„æ˜¯ä¸€ç§èƒ½ç†è§£SQLçš„ç¨‹åºè¯­è¨€ã€‚å¯ä»¥è¿™ä¹ˆè¯´ï¼ŒSQLæ˜¯ä¸€ç§æ ‡å‡†ï¼Œè€Œæœ‰è®¸å¤šéµå¾ªè¿™ä¸ªç‰ˆæœ¬å´è‡ªå¸¦è®¸å¤šç‰¹æ€§çš„ç¨‹åºè¯­è¨€çš„å®ç°ã€‚</p><p>SQLå¯ä»¥ï¼š</p><ul><li>æ’å…¥ã€æ›´æ–°ã€åˆ é™¤æ•°æ®åº“é‡Œçš„è®°å½•</li><li>åˆ›å»ºæ–°çš„æ•°æ®åº“ã€è¡¨æ ¼ã€å­˜å‚¨ç¨‹åºå’Œå¤–è§‚</li><li>ä»æ•°æ®åº“å–å›æ•°æ®</li></ul><h3 id="SQLè¯­å¥-SELECT"><a href="#SQLè¯­å¥-SELECT" class="headerlink" title="SQLè¯­å¥ SELECT"></a>SQLè¯­å¥ SELECT</h3><h4 id="åŸºæœ¬SQLè¯­å¥"><a href="#åŸºæœ¬SQLè¯­å¥" class="headerlink" title="åŸºæœ¬SQLè¯­å¥"></a>åŸºæœ¬SQLè¯­å¥</h4><p><code>SHOW DATABASES</code>ï¼šè¿”å›æœåŠ¡å™¨ä¸Šæ‰€æœ‰æ•°æ®åº“çš„åºåˆ—</p><p><code>SHOW TABLES</code>ï¼šè¿”å›å½“å‰æ•°æ®åº“ä¸Šçš„æ‰€æœ‰è¡¨æ ¼</p><p><code>SHOW COLUMNS FROM customers</code>ï¼šè¿”å›é€‰å®šè¡¨æ ¼å†…çš„åˆ—ä¿¡æ¯</p><h4 id="SELECT-è¯­å¥"><a href="#SELECT-è¯­å¥" class="headerlink" title="SELECT è¯­å¥"></a>SELECT è¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_list</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br></pre></td></tr></table></figure><p>åœ¨åˆ¶å®šè¡¨æ ¼å†…é€‰ä¸­ä¸€åˆ—æˆ–è€…å¤šåˆ—</p><h3 id="è¯­æ³•è§„åˆ™"><a href="#è¯­æ³•è§„åˆ™" class="headerlink" title="è¯­æ³•è§„åˆ™"></a>è¯­æ³•è§„åˆ™</h3><h4 id="å¤šè¡Œè¯­å¥"><a href="#å¤šè¡Œè¯­å¥" class="headerlink" title="å¤šè¡Œè¯­å¥"></a>å¤šè¡Œè¯­å¥</h4><p>SQLå…è®¸åŒæ—¶è¿è¡Œå¤šå¥è¯­å¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT FirstName FROM customers;</span><br><span class="line">SELECT City FROM customers;</span><br></pre></td></tr></table></figure><h4 id="å¤§å°å†™ä¸æ•æ„Ÿ"><a href="#å¤§å°å†™ä¸æ•æ„Ÿ" class="headerlink" title="å¤§å°å†™ä¸æ•æ„Ÿ"></a>å¤§å°å†™ä¸æ•æ„Ÿ</h4><p>SQLæ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼Œå¦‚ä¸‹ä¸‰è¡Œæ˜¯åŒæ ·çš„æ•ˆæœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select City from customers;</span><br><span class="line">SELECT City FROM customers;</span><br><span class="line">sElEct City From customers;</span><br></pre></td></tr></table></figure><h4 id="å¿½ç•¥ç©ºç™½"><a href="#å¿½ç•¥ç©ºç™½" class="headerlink" title="å¿½ç•¥ç©ºç™½"></a>å¿½ç•¥ç©ºç™½</h4><p>whitespaceå’Œå¤šè¡Œè¢«å¿½ç•¥ï¼Œä»¥ä¸‹è¯­å¥æ˜¯okçš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT        City</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FROM customers;</span><br></pre></td></tr></table></figure><h3 id="é€‰æ‹©å¤šåˆ—"><a href="#é€‰æ‹©å¤šåˆ—" class="headerlink" title="é€‰æ‹©å¤šåˆ—"></a>é€‰æ‹©å¤šåˆ—</h3><h4 id="é€‰æ‹©å¤šåˆ—-1"><a href="#é€‰æ‹©å¤šåˆ—-1" class="headerlink" title="é€‰æ‹©å¤šåˆ—"></a>é€‰æ‹©å¤šåˆ—</h4><p>ä»¥é€—å·åˆ†éš”ï¼Œå¯ä»¥åŒæ—¶é€‰æ‹©å¤šåˆ—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT FirstName, LastName, City</span><br><span class="line">FROM customers;</span><br></pre></td></tr></table></figure><h4 id="é€‰æ‹©æ‰€æœ‰åˆ—"><a href="#é€‰æ‹©æ‰€æœ‰åˆ—" class="headerlink" title="é€‰æ‹©æ‰€æœ‰åˆ—"></a>é€‰æ‹©æ‰€æœ‰åˆ—</h4><p><code>SELECT * FROM customers; </code></p><h3 id="DISTINCTå’ŒLIMIT"><a href="#DISTINCTå’ŒLIMIT" class="headerlink" title="DISTINCTå’ŒLIMIT"></a>DISTINCTå’ŒLIMIT</h3><h4 id="DISTINCTå…³é”®è¯"><a href="#DISTINCTå…³é”®è¯" class="headerlink" title="DISTINCTå…³é”®è¯"></a>DISTINCTå…³é”®è¯</h4><p>DISTINCTå…³é”®è¯æŒ‡æ’é™¤é‡å¤é¡¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT column_name1, column_name2</span><br><span class="line">FROM table_name;</span><br></pre></td></tr></table></figure><h4 id="LIMITå…³é”®è¯"><a href="#LIMITå…³é”®è¯" class="headerlink" title="LIMITå…³é”®è¯"></a>LIMITå…³é”®è¯</h4><p>æŒ‡å®šè¿”å›çš„å­é›†å¤§å°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column list</span><br><span class="line">FROM table_name</span><br><span class="line">LIMIT [number of records];</span><br></pre></td></tr></table></figure><p>å¦‚é€‰æ‹©å‰äº”é¡¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ID, FirstName, LastName, City</span><br><span class="line">FROM customers LIMIT 5;</span><br></pre></td></tr></table></figure><p>é€‰æ‹©ä»3<strong>åé¢</strong>çš„4é¡¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ID, FirstName, LastName, City</span><br><span class="line"> FROM customers LIMIT 3, 4;</span><br></pre></td></tr></table></figure><h3 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h3><h4 id="å…¨å"><a href="#å…¨å" class="headerlink" title="å…¨å"></a>å…¨å</h4><p>å½“è¦æ“ä½œæ‹¥æœ‰ç›¸åŒåˆ—åå­—çš„å¤šä¸ªè¡¨æ ¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…¨åå¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT City FROM customers;</span><br><span class="line"></span><br><span class="line">SELECT customers.City FROM customers;</span><br></pre></td></tr></table></figure><h4 id="Order-By"><a href="#Order-By" class="headerlink" title="Order By"></a>Order By</h4><p>Order Byç”¨äºä¸SELECTæ¥æ’åºæ•°æ®<br>ç”¨ Firstnameæ’åº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM customers</span><br><span class="line">ORDER BY FirstName;</span><br></pre></td></tr></table></figure><p><img src="/%5Cimages%5C2017%5C01%5C3.png"></p><h4 id="å¤šåˆ—æ’åº"><a href="#å¤šåˆ—æ’åº" class="headerlink" title="å¤šåˆ—æ’åº"></a>å¤šåˆ—æ’åº</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM customers</span><br><span class="line">ORDER BY LastName, Age;</span><br></pre></td></tr></table></figure><p>å…ˆç”¨LastNameæ’åºï¼Œåœ¨LastNameç›¸åŒçš„æƒ…å†µä¸‹ï¼Œç”¨Ageæ’åº</p><h2 id="Filtering-Functions-Subqueries"><a href="#Filtering-Functions-Subqueries" class="headerlink" title="Filtering, Functions, Subqueries"></a>Filtering, Functions, Subqueries</h2><h3 id="WHEREè¯­å¥"><a href="#WHEREè¯­å¥" class="headerlink" title="WHEREè¯­å¥"></a>WHEREè¯­å¥</h3><h4 id="WHEREè¯­å¥-1"><a href="#WHEREè¯­å¥-1" class="headerlink" title="WHEREè¯­å¥"></a>WHEREè¯­å¥</h4><p>WHEREè¯­å¥ç±»ä¼¼ä¸€ä¸ªè¿‡æ»¤å™¨çš„ä½œç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_list</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition;</span><br></pre></td></tr></table></figure><h4 id="SQLæ“ä½œç¬¦"><a href="#SQLæ“ä½œç¬¦" class="headerlink" title="SQLæ“ä½œç¬¦"></a>SQLæ“ä½œç¬¦</h4><p>æ¯”è¾ƒæ“ä½œç¬¦å’Œé€»è¾‘æ“ä½œç¬¦ç”¨äºWHEREè¯­å¥å†…</p><p><img src="/%5Cimages%5C2017%5C01%5C4.png"></p><h4 id="BETWEEN-æ“ä½œç¬¦"><a href="#BETWEEN-æ“ä½œç¬¦" class="headerlink" title="BETWEEN æ“ä½œç¬¦"></a>BETWEEN æ“ä½œç¬¦</h4><p>ç”¨äºé€‰ä¸­ä¸€å®šèŒƒå›´å†…çš„å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name BETWEEN value1 AND value2;</span><br></pre></td></tr></table></figure><h4 id="Text-å€¼"><a href="#Text-å€¼" class="headerlink" title="Text å€¼"></a>Text å€¼</h4><p>éœ€è¦ç”¨å•å¼•å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT ID, FirstName, LastName, City</span><br><span class="line">FROM customers</span><br><span class="line">WHERE City = &#x27;New York&#x27;;</span><br></pre></td></tr></table></figure><h3 id="AND-ORé€»è¾‘æ“ä½œç¬¦"><a href="#AND-ORé€»è¾‘æ“ä½œç¬¦" class="headerlink" title="AND ORé€»è¾‘æ“ä½œç¬¦"></a>AND ORé€»è¾‘æ“ä½œç¬¦</h3><p>é€»è¾‘æ“ä½œç¬¦ç”¨äºæ“ä½œä¸¤ä¸ªå¸ƒå°”å€¼ï¼Œè¿”å›trueã€falseã€æˆ–è€…null</p><p><img src="/%5Cimages%5C2017%5C01%5C5.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT ID, FirstName, LastName, Age</span><br><span class="line">FROM customers</span><br><span class="line">WHERE Age &gt;= 30 AND Age &lt;= 40;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM customers</span><br><span class="line">WHERE City = &#x27;New York&#x27; OR City = &#x27;Chicago&#x27;;</span><br></pre></td></tr></table></figure><h4 id="ç»“åˆAND-amp-OR"><a href="#ç»“åˆAND-amp-OR" class="headerlink" title="ç»“åˆAND &amp; OR"></a>ç»“åˆAND &amp; OR</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM customers</span><br><span class="line">WHERE City = &#x27;New York&#x27;</span><br><span class="line">AND (Age=30 OR Age=35);</span><br></pre></td></tr></table></figure><h3 id="IN-NOT-IN"><a href="#IN-NOT-IN" class="headerlink" title="IN NOT IN"></a>IN NOT IN</h3><p>INæ“ä½œç¬¦ç”¨äºéœ€è¦å°†ä¸€åˆ—ä¸è®¸å¤šå€¼æ¯”è¾ƒçš„æƒ…å†µï¼Œå¦‚ç”¨ORè¯­å¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM customers</span><br><span class="line">WHERE City = &#x27;New York&#x27;</span><br><span class="line">OR City = &#x27;Los Angeles&#x27;</span><br><span class="line">OR City = &#x27;Chicago&#x27;;</span><br></pre></td></tr></table></figure><p>ç”¨INè¯­å¥æ›¿ä»£å¯ç®€å†™ä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM customers</span><br><span class="line">WHERE City IN (&#x27;New York&#x27;, &#x27;Los Angeles&#x27;, &#x27;Chicago&#x27;);</span><br></pre></td></tr></table></figure><p>NOT INå°±æ˜¯åé¢æƒ…å†µ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM customers</span><br><span class="line">WHERE City NOT IN (&#x27;New York&#x27;, &#x27;Los Angeles&#x27;, &#x27;Chicago&#x27;);</span><br></pre></td></tr></table></figure><h3 id="Custom-åˆ—"><a href="#Custom-åˆ—" class="headerlink" title="Custom åˆ—"></a>Custom åˆ—</h3><h4 id="CONCATè¯­å¥"><a href="#CONCATè¯­å¥" class="headerlink" title="CONCATè¯­å¥"></a>CONCATè¯­å¥</h4><p>CONCATè¯­å¥ç”¨äºè”åˆå¤šä¸ªTextå€¼ï¼Œè¿”å›å­—ç¬¦ä¸²</p><p><code>SELECT CONCAT(FirstName, &#39;, &#39; , City) FROM customers; </code><br><img src="/%5Cimages%5C2017%5C01%5C6.png"></p><h4 id="AS-æ“ä½œç¬¦"><a href="#AS-æ“ä½œç¬¦" class="headerlink" title="AS æ“ä½œç¬¦"></a>AS æ“ä½œç¬¦</h4><p>AS æ“ä½œç¬¦ç”¨äºç”Ÿæˆæ–°çš„åˆ—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT CONCAT(FirstName,&#x27;, &#x27;, City) AS new_column</span><br><span class="line">FROM customers;</span><br></pre></td></tr></table></figure><p><img src="/%5Cimages%5C2017%5C01%5C7.png"></p><h4 id="ç®—æ•°æ“ä½œç¬¦"><a href="#ç®—æ•°æ“ä½œç¬¦" class="headerlink" title="ç®—æ•°æ“ä½œç¬¦"></a>ç®—æ•°æ“ä½œç¬¦</h4><ul><li><ul><li><ul><li>/</li></ul></li></ul></li></ul><p>å¦‚å°†Salaryè‡ªå¢500</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ID, FirstName, LastName, Salary+500 AS Salary</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h4 id="UPPER-LOWERå‡½æ•°"><a href="#UPPER-LOWERå‡½æ•°" class="headerlink" title="UPPER LOWERå‡½æ•°"></a>UPPER LOWERå‡½æ•°</h4><p>ç”¨äºè½¬æ¢ä¸ºå¤§å°å†™æ ¼å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT FirstName, UPPER(LastName) AS LastName</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure><h4 id="SQRT-ã€-AVG"><a href="#SQRT-ã€-AVG" class="headerlink" title="SQRT ã€ AVG"></a>SQRT ã€ AVG</h4><p>SQRTè¿”å›å¹³æ–¹æ ¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT Salary, SQRT(Salary)</span><br><span class="line">FROM employees;</span><br></pre></td></tr></table></figure><p>AVGè¿”å›å‡å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT AVG(Salary) FROM employees;</span><br></pre></td></tr></table></figure><h4 id="SUMå‡½æ•°"><a href="#SUMå‡½æ•°" class="headerlink" title="SUMå‡½æ•°"></a>SUMå‡½æ•°</h4><p>è¿”å›åˆ—çš„åŠ å’Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT SUM(Salary) FROM employees;</span><br></pre></td></tr></table></figure><h3 id="å­è¯­å¥"><a href="#å­è¯­å¥" class="headerlink" title="å­è¯­å¥"></a>å­è¯­å¥</h3><p>å­è¯­å¥æ˜¯æŒ‡å«æœ‰å…¶ä»–è¯­å¥çš„è¯­å¥ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦é€‰ä¸­å…¨éƒ¨è–ªæ°´å¤§äºå‡å€¼çš„äººï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦å…ˆè·å–å‡å€¼</p><p><code>SELECT AVG(Salary) FROM employees;</code></p><p>å†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT FirstName, Salary FROM employees</span><br><span class="line">WHERE  Salary &gt; 3100</span><br><span class="line">ORDER BY Salary DESC;</span><br></pre></td></tr></table></figure><p>å…¶å®å¯ä»¥ç»“åˆèµ·æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT FirstName, Salary FROM employees</span><br><span class="line">WHERE  Salary &gt; (SELECT AVG(Salary) FROM employees)</span><br><span class="line">ORDER BY Salary DESC;</span><br></pre></td></tr></table></figure><h3 id="LIKEå’ŒMIN"><a href="#LIKEå’ŒMIN" class="headerlink" title="LIKEå’ŒMIN"></a>LIKEå’ŒMIN</h3><h4 id="LIKEå‡½æ•°"><a href="#LIKEå‡½æ•°" class="headerlink" title="LIKEå‡½æ•°"></a>LIKEå‡½æ•°</h4><p>LIKEç”¨äºåœ¨WHEREé‡ŒæŒ‡å®šæ¡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE column_name LIKE pattern;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œé€‰æ‹©æ‰€æœ‰Aå¼€å¤´çš„äºº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employees</span><br><span class="line">WHERE FirstName LIKE &#x27;A%&#x27;;</span><br></pre></td></tr></table></figure><p>é€‰æ‹©æ‰€æœ‰sç»“å°¾åå­—çš„äºº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employees</span><br><span class="line">WHERE LastName LIKE &#x27;%s&#x27;;</span><br></pre></td></tr></table></figure><h4 id="MINå‡½æ•°"><a href="#MINå‡½æ•°" class="headerlink" title="MINå‡½æ•°"></a>MINå‡½æ•°</h4><p>ç”¨äºé€‰æ‹©æœ€å°å€¼</p><p><code>SELECT MIN(Salary) AS Salary FROM employees;</code></p><h2 id="JOINã€è¡¨æ“ä½œ"><a href="#JOINã€è¡¨æ“ä½œ" class="headerlink" title="JOINã€è¡¨æ“ä½œ"></a>JOINã€è¡¨æ“ä½œ</h2><h3 id="åˆå¹¶è¡¨æ ¼"><a href="#åˆå¹¶è¡¨æ ¼" class="headerlink" title="åˆå¹¶è¡¨æ ¼"></a>åˆå¹¶è¡¨æ ¼</h3><p>å¯¹äºä»¥ä¸‹ä¸¤ä¸ªè¡¨æ ¼</p><p><img src="/%5Cimages%5C2017%5C01%5C8.png"></p><p><img src="/%5Cimages%5C2017%5C01%5C9.png"></p><p>å¯ç”¨ä»¥ä¸‹è¯­å¥ç»“åˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT customers.ID, customers.Name, orders.Name, orders.Amount</span><br><span class="line">FROM customers, orders</span><br><span class="line">WHERE customers.ID=orders.Customer_ID</span><br><span class="line">ORDER BY customers.ID;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><p><img src="/%5Cimages%5C2017%5C01%5C10.png"></p><h3 id="Joinçš„ç±»å‹"><a href="#Joinçš„ç±»å‹" class="headerlink" title="Joinçš„ç±»å‹"></a>Joinçš„ç±»å‹</h3><p>å¯ä»¥ç”¨â€œå°åâ€æ¥ç®€åŒ–joinæ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT ct.ID, ct.Name, ord.Name, ord.Amount</span><br><span class="line">FROM customers AS ct, orders AS ord</span><br><span class="line">WHERE ct.ID=ord.Customer_ID</span><br><span class="line">ORDER BY ct.ID;</span><br></pre></td></tr></table></figure><h4 id="JOINç±»å‹"><a href="#JOINç±»å‹" class="headerlink" title="JOINç±»å‹"></a>JOINç±»å‹</h4><ul><li>INNER JOIN</li><li>LEFT JOIN</li><li>RIGHT JOIN</li></ul><p>INNER JOINç­‰åŒäºJOIN</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table1 INNER JOIN table2</span><br><span class="line">ON table1.column_name=table2.column_name;</span><br></pre></td></tr></table></figure><p>å…³ç³»å¦‚å›¾</p><p><img src="/%5Cimages%5C2017%5C01%5C11.png"></p><p>LEFT JOIN è¿”å›æ‰€æœ‰å·¦è¾¹è¡¨æ ¼çš„è¡Œï¼Œç”šè‡³æ˜¯åœ¨å³è¾¹è¡¨æ ¼æ²¡æœ‰ç¬¦åˆçš„ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>åŸºæœ¬è¯­æ³•ä¸º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT table1.column1, table2.column2...</span><br><span class="line">FROM table1 LEFT OUTER JOIN table2</span><br><span class="line">ON table1.column_name = table2.column_name;</span><br></pre></td></tr></table></figure><p><img src="/%5Cimages%5C2017%5C01%5C12.png"></p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œè€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªä¾æ¬¡æ˜¯customerså’Œitemsï¼Œ<br><img src="/%5Cimages%5C2017%5C01%5C13.png"></p><p><img src="/%5Cimages%5C2017%5C01%5C14.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT customers.Name, items.Name</span><br><span class="line">FROM customers LEFT OUTER JOIN items</span><br><span class="line">ON customers.ID=items.Seller_id;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><p><img src="/%5Cimages%5C2017%5C01%5C15.png"></p><p>å¦‚æœç”¨RIGHT JOIN</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT table1.column1, table2.column2...</span><br><span class="line">FROM table1 RIGHT OUTER JOIN table2</span><br><span class="line">ON table1.column_name = table2.column_name;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯</p><p><img src="/%5Cimages%5C2017%5C01%5C16.png"></p><h3 id="UNION"><a href="#UNION" class="headerlink" title="UNION"></a>UNION</h3><p>å½“éœ€è¦åˆå¹¶ç›¸ä¼¼çš„è¡¨æ ¼æ—¶ï¼Œå¯ä»¥ç”¨åˆ°UNION and UNION ALLï¼Œä¸¤è€…ä¸»è¦åŒºåˆ«æ˜¯å‰è€…ä¼šä¸¢å¼ƒé‡å¤é¡¹ã€‚</p><p>å¦‚è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªè¡¨æ ¼</p><p><img src="/%5Cimages%5C2017%5C01%5C17.png"></p><p><img src="/%5Cimages%5C2017%5C01%5C18.png"></p><p>ä½¿ç”¨è¯­å¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT ID, FirstName, LastName, City FROM First</span><br><span class="line">UNION</span><br><span class="line">SELECT ID, FirstName, LastName, City FROM Second;</span><br></pre></td></tr></table></figure><p>ç»“æœä¸º</p><p><img src="/%5Cimages%5C2017%5C01%5C19.png"></p><p>è€Œä½¿ç”¨UNION ALL</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT ID, FirstName, LastName, City FROM First</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT ID, FirstName, LastName, City FROM Second;</span><br></pre></td></tr></table></figure><p>ç»“æœä¸º</p><p><img src="/%5Cimages%5C2017%5C01%5C20.png"></p><h3 id="INSERTè¯­å¥"><a href="#INSERTè¯­å¥" class="headerlink" title="INSERTè¯­å¥"></a>INSERTè¯­å¥</h3><h4 id="æ’å…¥è¯­å¥"><a href="#æ’å…¥è¯­å¥" class="headerlink" title="æ’å…¥è¯­å¥"></a>æ’å…¥è¯­å¥</h4><p>INSERTè¯­å¥ç”¨äºåœ¨è¡¨æ ¼æ’å…¥ä¸€æ¡æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name</span><br><span class="line">VALUES (value1, value2, value3,...);</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŒ‡å®šæ’å…¥åˆ—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name (column1, column2, column3, ...,columnN)  </span><br><span class="line">VALUES (value1, value2, value3,...valueN);</span><br></pre></td></tr></table></figure><p>äº¦å¯åªæ’å…¥æŒ‡å®šåˆ—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name (column1, column2, column3, ...,columnN)  </span><br><span class="line">VALUES (value1, value2, value3,...valueN);</span><br></pre></td></tr></table></figure><p><img src="/%5Cimages%5C2017%5C01%5C21.png"></p><h3 id="UPDATEã€DELETEè¯­å¥"><a href="#UPDATEã€DELETEè¯­å¥" class="headerlink" title="UPDATEã€DELETEè¯­å¥"></a>UPDATEã€DELETEè¯­å¥</h3><p>UPDATEè¯­å¥ç”¨äºæ›´æ”¹è¡¨æ ¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name</span><br><span class="line">SET column1=value1, column2=value2, ...</span><br><span class="line">WHERE condition;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚</p><p><img src="/%5Cimages%5C2017%5C01%5C22.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Employees</span><br><span class="line">SET Salary=5000</span><br><span class="line">WHERE ID=1;</span><br></pre></td></tr></table></figure><p><img src="/%5Cimages%5C2017%5C01%5C23.png"></p><p>ä¹Ÿå¯ä»¥åŒæ—¶æ›´æ”¹æ•°é¡¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Employees</span><br><span class="line">SET Salary=5000, FirstName=&#x27;Robert&#x27;</span><br><span class="line">WHERE ID=1;</span><br></pre></td></tr></table></figure><p>DELETEç”¨äºåˆ é™¤æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name</span><br><span class="line">WHERE condition;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè¡¨æ ¼"><a href="#åˆ›å»ºè¡¨æ ¼" class="headerlink" title="åˆ›å»ºè¡¨æ ¼"></a>åˆ›å»ºè¡¨æ ¼</h3><p>CREATE TABLE ç”¨äºåˆ›å»ºè¡¨æ ¼</p><p>åŸºæœ¬è¯­æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE table_name</span><br><span class="line">(</span><br><span class="line">column_name1 data_type(size),</span><br><span class="line">column_name2 data_type(size),</span><br><span class="line">column_name3 data_type(size),</span><br><span class="line">....</span><br><span class="line">columnN data_type(size)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><ul><li>column_namesæŒ‡å®šåˆ—å</li><li>data_typeæŒ‡å®šå­˜å‚¨æ•°æ®çš„ç±»å‹å¦‚int</li><li>sizeæŒ‡å®šæœ€å¤§é•¿åº¦</li></ul><p>å¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Users</span><br><span class="line">(</span><br><span class="line">   UserID int,</span><br><span class="line">   FirstName varchar(100),</span><br><span class="line">   LastName varchar(100),</span><br><span class="line">   City varchar(100)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>varcharæŒ‡çš„æ˜¯å­—ç¬¦ç±»å‹</p><h4 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h4><p>æ•°å€¼<br>INT - å¸¦ç¬¦å·æˆ–è€…éç¬¦å·integer<br>FLOAT(M,D) - å¸¦ç¬¦å·æµ®ç‚¹æ•°Mæ˜¯å±•ç¤ºé•¿åº¦ï¼ŒDæ˜¯å°æ•°ç‚¹ä½<br>DOUBLE(M,D) - å¸¦ç¬¦å·longç±»å‹æµ®ç‚¹æ•°Mæ˜¯å±•ç¤ºé•¿åº¦ï¼ŒDæ˜¯å°æ•°ç‚¹ä½</p><p>æ—¥æœŸå’Œæ—¶é—´<br>DATE - YYYY-MM-DD æ ¼å¼<br>DATETIME - YYYY-MM-DD HH:MM:SS æ ¼å¼<br>TIMESTAMP - ä» 1970å¹´1æœˆ1æ—¥åˆå¤œå¼€å§‹è®¡ç®—çš„æ—¶é—´é•¿åº¦<br>TIME - Stores the time in HH:MM:SS format.</p><p>å­—ç¬¦ä¸²<br>CHAR(M) - å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼ŒMæ˜¯é•¿åº¦ï¼Œæœ€å¤§ä¸º255 byte.<br>VARCHAR(M) - å¯å˜é•¿åº¦å­—ç¬¦ä¸²ï¼ŒMæ˜¯æœ€å¤§é•¿åº¦<br>BLOB - â€œäºŒè¿›åˆ¶å¤§å‹å¯¹è±¡â€ Binary Large Objectsï¼Œ ç”¨äºå­˜å‚¨å›¾ç‰‡ç­‰<br>TEXT - å¤§è§„æ¨¡çš„textæ•°æ®</p><p>æŒ‡å®šprimary key</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Users</span><br><span class="line">(</span><br><span class="line">   UserID int,</span><br><span class="line">   FirstName varchar(100),</span><br><span class="line">   LastName varchar(100),</span><br><span class="line">   City varchar(100),</span><br><span class="line">   PRIMARY KEY(UserID)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="NOT-NULL-å’Œ-AUTO-INCREMENT"><a href="#NOT-NULL-å’Œ-AUTO-INCREMENT" class="headerlink" title="NOT NULL å’Œ AUTO_INCREMENT"></a>NOT NULL å’Œ AUTO_INCREMENT</h3><h4 id="SQLçº¦æŸ"><a href="#SQLçº¦æŸ" class="headerlink" title="SQLçº¦æŸ"></a>SQLçº¦æŸ</h4><p>NOT NULL -  å¼ºåˆ¶åˆ—ä¸èƒ½å«æœ‰NULL<br>UNIQUE - ä¸å…è®¸åˆ—ä¸­å‡ºç°é‡å¤å€¼<br>PRIMARY KEY - å¼ºåˆ¶è¡¨æ ¼å¯¹äºç‰¹å®šçš„åˆ—æ¥å—æ•°æ®å¹¶åˆ›å»ºå•ç‹¬çš„åŠ é€Ÿç´¢å¼•<br>CHECK - é€šè¿‡é€»è¾‘è¡¨è¾¾å¼æ¥åˆ¤æ–­å€¼æ˜¯å¦æœ‰æ•ˆ<br>DEFAULT - å¾€è¡¨æ ¼æ’å…¥æ•°æ®æ—¶ï¼Œè‹¥æŸåˆ—æœªæŒ‡å®šå€¼ï¼Œåˆ™è‡ªåŠ¨æ’å…¥é»˜è®¤å€¼</p><p>ä¾‹å¦‚ï¼Œå¦‚ä¸‹è¯­å¥æŒ‡nameåˆ—ä¸å…è®¸å‡ºç°NULL</p><p><code>name varchar(100) NOT NULL</code></p><h4 id="AUTO-INCREMENT"><a href="#AUTO-INCREMENT" class="headerlink" title="AUTO INCREMENT"></a>AUTO INCREMENT</h4><p>å½“æ–°ä¸€æ¡è®°å½•åŠ å…¥æ—¶ï¼Œè‡ªåŠ¨ç”ŸæˆæŸæ•°ï¼Œé€šå¸¸ä»1å¼€å§‹ï¼Œæ¯æ¬¡æ–°çºªå½•åŠ å…¥ï¼Œè‡ªå¢1ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UserID int NOT NULL AUTO_INCREMENT,</span><br><span class="line">PRIMARY KEY (UserID)</span><br></pre></td></tr></table></figure><h3 id="ALTER-DROP-RANAME"><a href="#ALTER-DROP-RANAME" class="headerlink" title="ALTER DROP RANAME"></a>ALTER DROP RANAME</h3><p>ALTERç”¨äºå¯¹è¡¨æ ¼ä¸­çš„åˆ—è¿›è¡Œæ·»åŠ ã€åˆ é™¤å’Œç¼–è¾‘æ“ä½œï¼Œä¹Ÿå¯ä»¥å¯¹è¡¨æ ¼çš„çº¦æŸè¿›è¡Œæ·»åŠ æˆ–ç§»é™¤ã€‚</p><p><img src="/%5Cimages%5C2017%5C01%5C24.png"></p><p><code>ALTER TABLE People ADD DateOfBirth date;</code></p><p><img src="/%5Cimages%5C2017%5C01%5C25.png"></p><p>DROPç”¨äºåˆ é™¤æ•´åˆ—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE People</span><br><span class="line">DROP COLUMN DateOfBirth;</span><br></pre></td></tr></table></figure><p>è¦åˆ é™¤æ•´ä¸ªè¡¨æ ¼</p><p><code>DROP TABLE People;</code></p><p>RENAMEç”¨äºåˆ—æ”¹åæˆ–è€…å¯¹è¡¨æ ¼æ”¹å</p><p>å°†Peopleçš„FirstNameåˆ—æ”¹åä¸ºname</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE People</span><br><span class="line">CHANGE FirstName name varchar(100);</span><br></pre></td></tr></table></figure><p>å°†æ•´ä¸ªè¡¨æ ¼æ”¹å</p><p><code>RENAME TABLE People TO Users;</code></p><h3 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h3><p>ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„ç»„ç»‡å’Œæ“ä½œæ•°æ®åº“ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨è§†å›¾ã€‚è§†å›¾åŒ…å«è¡Œå’Œåˆ—ï¼Œå°±åƒä¸€ä¸ªçœŸå®çš„è¡¨ã€‚è§†å›¾ä¸­çš„å­—æ®µå°±æ˜¯æ¥è‡ªä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“ä¸­çš„çœŸå®çš„è¡¨ä¸­çš„å­—æ®µã€‚æˆ‘ä»¬å¯ä»¥å‘è§†å›¾æ·»åŠ  SQL å‡½æ•°ã€WHERE ä»¥åŠ JOIN è¯­å¥ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æäº¤æ•°æ®ï¼Œå°±åƒè¿™äº›æ¥è‡ªäºæŸä¸ªå•ä¸€çš„è¡¨ã€‚</p><p>åˆ›å»ºè¯­å¥å¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW view_name AS</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition;</span><br></pre></td></tr></table></figure><p>å‡è®¾ä¸€è¡¨æ ¼ï¼Œå¦‚<br><img src="/%5Cimages%5C2017%5C01%5C26.png"></p><p>æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªè§†å›¾æ¥å±•ç¤ºèŒå·¥çš„åå­—å’Œè–ªæ°´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW List AS</span><br><span class="line">SELECT FirstName, Salary</span><br><span class="line">FROM  Employees;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å¯ä»¥ç±»ä¼¼å±•ç¤ºè¡¨æ ¼ä¸€æ ·å±•ç¤ºè§†å›¾</p><p><code>SELECT * FROM List;</code></p><p><img src="/%5Cimages%5C2017%5C01%5C27.png"></p><p>å¯ä»¥ç”¨ä»¥ä¸‹è¯­å¥æ¥æ›´æ–°è§†å›¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE OR REPLACE VIEW view_name AS</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE OR REPLACE VIEW List AS</span><br><span class="line">SELECT FirstName, LastName, Salary</span><br><span class="line">FROM  Employees;</span><br></pre></td></tr></table></figure><p><img src="/%5Cimages%5C2017%5C01%5C28.png"></p><p>ä¸¢å¼ƒè§†å›¾<br><code>DROP VIEW List;</code></p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/SQL/">SQL</category>
      
      <category domain="http://example.com/tags/Note/">Note</category>
      
      
      <comments>http://example.com/2017/01/17/Note-for-SoloLearn-SQL/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Note of Recommendation System in Action</title>
      <link>http://example.com/2017/01/16/Action/</link>
      <guid>http://example.com/2017/01/16/Action/</guid>
      <pubDate>Sun, 15 Jan 2017 16:19:00 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦å…³äºé¡¹äº®çš„ã€Šæ¨èç³»ç»Ÿå®è·µã€‹çš„ç¬”è®°ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦å…³äºé¡¹äº®çš„ã€Šæ¨èç³»ç»Ÿå®è·µã€‹çš„ç¬”è®°ã€‚</p><span id="more"></span><h2 id="æ¨èç³»ç»Ÿçš„è¯„æµ‹æ–¹å¼"><a href="#æ¨èç³»ç»Ÿçš„è¯„æµ‹æ–¹å¼" class="headerlink" title="æ¨èç³»ç»Ÿçš„è¯„æµ‹æ–¹å¼"></a>æ¨èç³»ç»Ÿçš„è¯„æµ‹æ–¹å¼</h2><p>ä»¥ä¸‹ä¹Ÿæ˜¯ä¸€é¡¹æœ€ç»ˆèƒ½ä¸Šçº¿çš„æ¨èç®—æ³•çš„ä¾æ¬¡æµ‹è¯•é¡ºåºï¼Œ</p><ul><li>ç¦»çº¿è¯„æµ‹<ul><li>å°†æ•°æ®é›†åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œç¦»çº¿å¯¹ç®—æ³•è¿›è¡Œè¯„æµ‹</li></ul></li><li>ç”¨æˆ·è°ƒæŸ¥<ul><li>åœ¨ä¸Šçº¿ä¹‹å‰é€šè¿‡è°ƒæŸ¥å¾—åˆ°ç”¨æˆ·æ»¡æ„åº¦çš„ä¿¡æ¯</li></ul></li><li>åœ¨çº¿è¯„æµ‹<ul><li>è¿›è¡ŒABæµ‹è¯•ï¼Œå¯¹æ¯”æ¨èç®—æ³•æŒ‡æ ‡</li></ul></li></ul><h2 id="æ¨èç³»ç»Ÿçš„è¯„æµ‹æŒ‡æ ‡"><a href="#æ¨èç³»ç»Ÿçš„è¯„æµ‹æŒ‡æ ‡" class="headerlink" title="æ¨èç³»ç»Ÿçš„è¯„æµ‹æŒ‡æ ‡"></a>æ¨èç³»ç»Ÿçš„è¯„æµ‹æŒ‡æ ‡</h2><ul><li>æ»¡æ„åº¦<ul><li>æ˜¯æ¨èç³»ç»Ÿçš„æœ€é‡è¦æ ‡å‡†</li><li>æ— æ³•ç¦»çº¿è®¡ç®—ï¼Œåªèƒ½é€šè¿‡ç”¨æˆ·è°ƒæŸ¥å’Œåœ¨çº¿å®éªŒå¾—åˆ°</li><li>å¯é€šè¿‡åœç•™æ—¶é—´ã€ç‚¹å‡»ç‡å’Œè½¬åŒ–ç‡æ¥ç»Ÿè®¡</li></ul></li><li>é¢„æµ‹å‡†ç¡®åº¦<ul><li>æœ€é‡è¦çš„ç¦»çº¿æµ‹è¯•æ ‡å‡†</li><li>ä¸»è¦æ–¹æ³•æ˜¯ï¼Œåœ¨ç¦»çº¿æ•°æ®é›†å†…çš„è®­ç»ƒé›†è®­ç»ƒçš„ç»“æœä¸æµ‹è¯•é›†å¯¹æ¯”ï¼Œæ¯”è¾ƒé‡åˆåº¦ã€‚</li><li>åˆåˆ†ä¸ºè¯„åˆ†é¢„æµ‹å’ŒTop Næ¨è</li><li>å¯¹äºè¯„åˆ†é¢„æµ‹ï¼Œæœ‰å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰å’Œå¹³å‡ç»å¯¹è¯¯å·®ï¼ˆMAEï¼‰è®¡ç®—ä¸¤ç§æ–¹å¼ï¼Œç›¸å·®ä¸å¤§ï¼Œå‰è€…å¯¹äºåç¦»é¡¹æƒ©ç½šå¤§ï¼Œåè€…å¯¹äºè¯„åˆ†å–æ•´çš„æƒ…å†µä¼šé™ä½è¯¯å·®ã€‚</li><li>å¯¹äºTop Næ¨èï¼Œé€šå¸¸é€šè¿‡å‡†ç¡®ç‡å’Œæ‹›å‘¼ç‡æ¥è¯„æµ‹<ul><li>å‡è®¾$R(u)$å’Œ$T(u)$åˆ†åˆ«æ˜¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„æ¨èï¼Œé‚£ä¹ˆä¸¤è€…çš„äº¤é›†é•¿åº¦é™¤ä»¥$R(u)$çš„é•¿åº¦å°±æ˜¯precisionï¼Œäº¤é›†é•¿åº¦é™¤ä»¥$T(u)$å°±æ˜¯recallã€‚</li></ul></li><li>è¯„åˆ†é¢„æµ‹å…³æ³¨é¢„æµ‹ç”¨æˆ·çœ‹äº†ç”µå½±åä¼šç»™ç”µå½±ä»€ä¹ˆæ ·çš„è¯„åˆ†ï¼Œè€ŒTop Næ˜¯æ‰¾åˆ°ç”¨æˆ·æœ€æœ‰å¯èƒ½æ„Ÿå…´è¶£çš„ç”µå½±</li></ul></li><li>è¦†ç›–ç‡coverage<ul><li>ç²—ç•¥å®šä¹‰ä¸ºæ¨èç³»ç»Ÿå‘æ˜çš„ç‰©å“å å…¨éƒ¨ç‰©å“çš„æ¯”ç‡ï¼Œç²¾ç¡®å®šä¹‰ä¸ºç‰©å“æµè¡Œåº¦ä¸å…¨éƒ¨ç‰©å“æµè¡Œåº¦çš„æ¯”ç‡</li><li>å¯é€šè¿‡ä¿¡æ¯ç†µå’ŒåŸºå°¼ç³»æ•°æ¥è®¡ç®—</li><li>ä¸¤è€…éƒ½æ˜¯è®¡ç®—ä¸åŒç‰©å“æµè¡Œåº¦ä¹‹é—´çš„å¹³è¡¡åº¦</li><li>æ¨èç³»ç»Ÿä¸€èˆ¬å…·æœ‰é©¬å¤ªæ•ˆåº”ï¼šå¼ºè€…æ›´å¼º</li></ul></li><li>å¤šæ ·æ€§<ul><li>è¦è¦†ç›–æ»¡è¶³ç”¨æˆ·å¹¿å¤§çš„å…´è¶£ï¼Œå¯ä»¥ç”¨ä¸åŒçš„ç‰©å“ç›¸ä¼¼åº¦åº¦é‡å‡½æ•°æ¥å®šä¹‰ä¸åŒçš„å¤šæ ·æ€§</li><li>å¤šæ ·æ€§å’Œç›¸ä¼¼æ€§æ˜¯trade offçš„ï¼Œéœ€è¦è¾¾åˆ°ä¸€å®šçš„å¹³è¡¡ï¼Œè®©æ¨èæ•ˆæœæœ€å¥½</li></ul></li><li>æ–°é¢–æ€§<ul><li>æ¨èç”¨æˆ·æœªè§è¿‡çš„ç‰©å“ï¼Œæœ€ç®€å•çš„æ˜¯æ¨èæµè¡Œåº¦ä½çš„ç‰©å“</li><li>éš¾ç‚¹åœ¨äºä¸ç‰ºç‰²ç²¾åº¦çš„å‰æä¸‹æé«˜å¤šæ ·æ€§å’Œæ–°é¢–æ€§</li></ul></li><li>æƒŠå–œåº¦<ul><li>æ¨èç»“æœå’Œç”¨æˆ·çš„å†å²å…´è¶£ä¸ç›¸ä¼¼ï¼Œä½†å´è®©ç”¨æˆ·è§‰å¾—æ»¡æ„ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¯´æ¨èç»“æœçš„æƒŠå–œåº¦å¾ˆé«˜ï¼Œè€Œæ¨èçš„æ–°é¢–æ€§ä»…ä»…å–å†³äºç”¨æˆ·æ˜¯å¦å¬è¯´è¿‡è¿™ä¸ªæ¨èç»“æœã€‚</li></ul></li><li>ä¿¡ä»»åº¦<ul><li>ç”¨æˆ·å¯¹æ¨èç³»ç»Ÿçš„ä¿¡ä»»åº¦é«˜ï¼Œèƒ½å¢åŠ ç”¨æˆ·ä¸æ¨èç³»ç»Ÿçš„äº¤äº’</li><li>æå‡ç”¨æˆ·å¯¹æ¨èç³»ç»Ÿçš„ä¿¡ä»»åº¦çš„æ–¹æ³•<ul><li>å¢åŠ æ¨èç³»ç»Ÿçš„é€æ˜åº¦ï¼šå¯¹ç”¨æˆ·çš„æ¨èéœ€è¦è¿›è¡Œè§£é‡Š</li><li>æé«˜ç”¨æˆ·çš„ç¤¾äº¤å…³ç³»è¿›è¡Œæ¨è</li></ul></li></ul></li><li>å®æ—¶æ€§<ul><li>å®æ—¶æ›´æ–°è¿½è¸ªç”¨æˆ·çš„è¡Œä¸ºå’ŒçŠ¶æ€çš„å˜åŒ–</li><li>èƒ½å¤Ÿå°†æ–°åŠ å…¥çš„ç‰©å“æ¨èç»™ç”¨æˆ·</li></ul></li><li>é²æ£’æ€§<ul><li>åä½œå¼Šæ€§</li><li>ä½œå¼Šæ–¹æ³•<ul><li>è¡Œä¸ºæ³¨å…¥æ”»å‡»</li><li>è¯„åˆ†ç³»ç»Ÿæ”»å‡»ï¼šå¤§æ‰¹ç»™æŸç‰©å“æ‰“é«˜åˆ†</li></ul></li><li>å¦‚ä½•å¯¹æŠ—ä½œå¼Š<ul><li>é‡‡ç”¨ä½œå¼Šä»£ä»·é«˜çš„è¡Œä¸ºä½œä¸ºæ¨èç³»ç»Ÿé‡‡çº³çš„æ•°æ®</li><li>ä½¿ç”¨æ•°æ®å‰è¿›è¡Œæ£€æµ‹ã€æ¸…ç†</li></ul></li></ul></li><li>å•†ä¸šç›®æ ‡<ul><li>ä¸åŒåˆ©ç›Šæ–¹å…³æ³¨ä¸åŒ</li></ul></li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Recommendation-System/">Recommendation System</category>
      
      
      <comments>http://example.com/2017/01/16/Action/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Sort Algorithms of Linear Time Complexity</title>
      <link>http://example.com/2017/01/13/Sort-Algorithms-of-Linear-Time-Complexity/</link>
      <guid>http://example.com/2017/01/13/Sort-Algorithms-of-Linear-Time-Complexity/</guid>
      <pubDate>Fri, 13 Jan 2017 12:05:31 GMT</pubDate>
      
      <description>&lt;p&gt;å¸¸ç”¨æ’åºç®—æ³•å¦‚å½’å¹¶ã€å¿«æ’ã€å †æ’åºç­‰åŸºäºæ¯”è¾ƒçš„æ’åºæ–¹æ³•éƒ½æ˜¯ä¸èƒ½çªç ´$O(n \log n)$æ—¶é—´å¤æ‚åº¦çš„ï¼Œæœ¬æ–‡ç€é‡ä»‹ç»å‡ ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºæ–¹æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>å¸¸ç”¨æ’åºç®—æ³•å¦‚å½’å¹¶ã€å¿«æ’ã€å †æ’åºç­‰åŸºäºæ¯”è¾ƒçš„æ’åºæ–¹æ³•éƒ½æ˜¯ä¸èƒ½çªç ´$O(n \log n)$æ—¶é—´å¤æ‚åº¦çš„ï¼Œæœ¬æ–‡ç€é‡ä»‹ç»å‡ ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºæ–¹æ³•ã€‚</p><span id="more"></span><p>åŸºäºæ¯”è¾ƒçš„æ’åºä¸ºä½•ä¸èƒ½çªç ´$O(n \log n)$æ—¶é—´å¤æ‚åº¦ï¼Ÿå› ä¸º$N$ä¸ªæ•°æœ‰$N!$ä¸ªå¯èƒ½çš„æ’åˆ—æƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´åŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•çš„åˆ¤å®šæ ‘æœ‰$N!$ä¸ªå¶å­ç»“ç‚¹ï¼Œæ¯”è¾ƒæ¬¡æ•°è‡³å°‘ä¸º$\log(N!)= O(N \log N)$ (æ–¯ç‰¹æ—å…¬å¼)</p><p>è€Œçº¿æ€§å¤æ‚åº¦çš„æ’åºæ–¹æ³•é€šå¸¸æ¥è¯´æœ‰è®¡æ•°æ’åºã€æ¡¶æ’åºå’ŒåŸºæ•°æ’åºä¸‰ç§ã€‚</p><h2 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h2><p>è®¡æ•°æ’åºï¼ˆCounting sortï¼‰æ˜¯ä¸€ç§ç¨³å®šçš„çº¿æ€§æ—¶é—´æ’åºç®—æ³•ï¼ŒÎ˜(n + k)çš„æ—¶é—´å¤æ‚åº¦ã€‚n æ˜¯å¾…æ’åºæ•°ç»„çš„å¤§å°ï¼Œk æ˜¯è¾…åŠ©æ•°ç»„ count çš„å¤§å°ã€‚</p><p>å› ä¸ºå®ƒå¹¶ä¸æ˜¯åŸºäºæ¯”è¾ƒçš„çš„æ’åºç®—æ³•ï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰O(NlogN)çš„ä¸‹é™ã€‚å¹¶ä¸”åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹ï¼Œä½¿ç”¨è¯¥ç®—æ³•æ¯”ä½¿ç”¨å¿«æ’èƒ½å¸¦æ¥æ›´å¥½çš„æ•ˆç‡ã€‚ä¾‹å¦‚åœ¨åŸºæ•°æ’åºä¸­å°±è¿ç”¨äº†è®¡æ•°æ’åºï¼Œå› ä¸ºå®ƒåªéœ€è¦é¢å¤–çš„10ä¸ªå…ƒç´ å¤§å°çš„è¾…åŠ©æ•°ç»„ï¼Œçº¿æ€§çš„æ•ˆç‡ï¼Œå¹¶ä¿è¯äº†ç¨³å®šæ€§ã€‚</p><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>è®¡æ•°æ’åºçš„ä¸»è¦æ€æƒ³æ˜¯å°†å¾…æ’åºå…ƒç´ çš„å€¼ä½œä¸ºä¸‹æ ‡ï¼Œåˆ©ç”¨è¾…åŠ©æ•°ç»„ count è®°å½•æ‰€æœ‰çš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€‚å³ count[i] çš„å€¼ä»£è¡¨å…ƒç´  i åœ¨åŸå§‹æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚è¿™æ ·ï¼ŒåŸå§‹æ•°ç»„çš„æ‰€æœ‰å…ƒç´ å°±è¢«æœ‰æœ‰åºåœ°è®°å½•ä¸‹æ¥ã€‚</p><p>å½“ç„¶ï¼ŒåªçŸ¥é“æŸä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°æ˜¯ä¸è¶³ä»¥æ’åºçš„ã€‚ä»”ç»†è§‚å¯Ÿ count æ•°ç»„ï¼Œå‘ç°å¯¹ count æ•°ç»„è¿›è¡Œç´¯åŠ ï¼ˆcount[i] += count[i-1]ï¼‰åï¼Œcount[i] çš„å«ä¹‰å°±å˜æˆäº†åŸå§‹æ•°ç»„ i å‰é¢æœ‰ count[i]ä¸ªæ•°æ˜¯ä¸å¤§äºå®ƒçš„ã€‚æœ€åå°±å¯ä»¥æ ¹æ® count æ•°ç»„ä¸­çš„æ’åå»æ„é€ ä¸€ä¸ªå·²æ’åºçš„æ•°ç»„äº†ã€‚</p><p>ä¸‹é¢ä»¥åŸå§‹æ•°ç»„d = {8, 13, 0, 3, 20, 16, 9, 7, 11, 5} å»æ¼”ç¤ºä¸Šè¿°çš„è¿‡ç¨‹ï¼š</p><p>![](\images\2017\01\Screen Shot 2017-01-13 at 23.06.23.png)</p><p>æˆ–è€…æ˜¯æ•°ç»„ä¸­æœ‰é‡å¤å…ƒç´ çš„æƒ…å†µï¼š</p><p>![](\images\2017\01\Screen Shot 2017-01-13 at 23.06.41.png)</p><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><p>è®¡æ•°æ’åºè™½ç„¶æ•ˆç‡é«˜ï¼Œå´æœ‰å…¶å—é™çš„æ¡ä»¶ã€‚</p><p>åªèƒ½å¯¹[0, K]åŒºé—´çš„éè´Ÿæ•´æ•°è¿›è¡Œæ’åºã€‚<br>å½“ K å¾ˆå¤§æ—¶ï¼Œç©ºé—´å¤æ‚åº¦ä¼šå˜å¾—å¾ˆå¤§ã€‚<br>æ‰€ä»¥ï¼Œå¦‚æœæ˜¯å¯¹äº[0, 100]è¿™æ ·çš„åŒºé—´ï¼Œè®¡æ•°æ’åºæ˜¯ä¸ªå¥½çš„é€‰æ‹©ã€‚è€ƒè™‘åˆ°ç©ºé—´å¤æ‚åº¦çš„ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥ç”¨åŸå§‹æ•°ç»„ä¸­çš„ (æœ€å¤§å€¼ - æœ€å°å€¼ + 1) ä½œä¸º count æ•°ç»„çš„å¤§å°ã€‚</p><h3 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    æ•°ç»„ d çš„å…ƒç´ åªèƒ½ä½äº[0, K)åŒºé—´çš„éè´Ÿæ•´æ•°ï¼ŒO(n + K)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">counting_sort</span><span class="params">(<span class="keyword">int</span> d[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>, min = Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (max &lt; d[i])</span><br><span class="line">            max = d[i];</span><br><span class="line">        <span class="keyword">if</span> (min &gt; d[i])</span><br><span class="line">            min = d[i];</span><br><span class="line">    &#125;</span><br><span class="line">    max++;</span><br><span class="line">    <span class="keyword">int</span>[]  count = <span class="keyword">new</span> <span class="keyword">int</span>[max - min; <span class="comment">//ä¼˜åŒ–ç©ºé—´</span></span><br><span class="line">    <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max; ++i) count[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) count[d[i] - min]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; max; ++i) count[i] += count[i - <span class="number">1</span>];</span><br><span class="line">    <span class="comment">//è¿™é‡Œå¿…é¡»é€†åºå¾ªç¯ï¼Œä¸ç„¶ä¼šé€ æˆæ’åºç»“æœå¤±å»ç¨³å®šæ€§ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">      ans[ --count[d[i]- min] ] = d[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h2><h2 id="æ¡¶æ’åº"><a href="#æ¡¶æ’åº" class="headerlink" title="æ¡¶æ’åº"></a>æ¡¶æ’åº</h2>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      <category domain="http://example.com/tags/Java/">Java</category>
      
      
      <comments>http://example.com/2017/01/13/Sort-Algorithms-of-Linear-Time-Complexity/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Polymorphism of Java</title>
      <link>http://example.com/2017/01/13/Polymorphism-of-Java/</link>
      <guid>http://example.com/2017/01/13/Polymorphism-of-Java/</guid>
      <pubDate>Fri, 13 Jan 2017 10:15:27 GMT</pubDate>
      
      <description>&lt;p&gt;æœ€è¿‘é¢è¯•è¢«é—®åˆ°Javaçš„å¤šæ€æ€ä¹ˆç†è§£ï¼Œè‡ªå·±å«å«ç³Šç³Šçš„æ„Ÿè§‰è‡ªå·±çŸ¥é“ç‚¹å«ä¹‰å¯æ˜¯å°±æ˜¯å…·ä½“æ€ä¹ˆè¯´æ‰“ä¸å‡ºæ¥ï¼Œå°´å°¬æ­»ã€‚æ¥ä¸‹æ¥æ‰“ç®—æŠŠä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€éƒ½å¥½å¥½çš„å†™ä¸‹æ¥ï¼Œä»¥å‚è€ƒã€‚æœ¬æ–‡å…ˆå†™å…³äºJavaçš„å¤šæ€å§ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ€è¿‘é¢è¯•è¢«é—®åˆ°Javaçš„å¤šæ€æ€ä¹ˆç†è§£ï¼Œè‡ªå·±å«å«ç³Šç³Šçš„æ„Ÿè§‰è‡ªå·±çŸ¥é“ç‚¹å«ä¹‰å¯æ˜¯å°±æ˜¯å…·ä½“æ€ä¹ˆè¯´æ‰“ä¸å‡ºæ¥ï¼Œå°´å°¬æ­»ã€‚æ¥ä¸‹æ¥æ‰“ç®—æŠŠä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€éƒ½å¥½å¥½çš„å†™ä¸‹æ¥ï¼Œä»¥å‚è€ƒã€‚æœ¬æ–‡å…ˆå†™å…³äºJavaçš„å¤šæ€å§ã€‚</p><span id="more"></span><p>å¤šæ€ï¼Œç”¨ä¸€å¥è¯æ¥è¯´ï¼Œå°±æ˜¯<strong>äº‹ç‰©åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å­˜åœ¨ä¸åŒçš„çŠ¶æ€</strong>ã€‚å¤šæ€çš„å­˜åœ¨æœ‰ä¸‰ä¸ªå‰æ:</p><ol><li>è¦æœ‰ç»§æ‰¿å…³ç³»</li><li>å­ç±»è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•</li><li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹</li></ol><h2 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h2><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªçˆ¶ç±»Animal</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> num = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">int</span> age = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;åŠ¨ç‰©åœ¨åƒé¥­&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> stastic <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;åŠ¨ç‰©åœ¨ç¡è§‰&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;åŠ¨ç‰©åœ¨å¥”è·‘&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å†å®šä¹‰ä¸€ä¸ªå­ç±»Cat</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> num = <span class="number">30</span>;</span><br><span class="line">  <span class="keyword">int</span> age = <span class="number">40</span>;</span><br><span class="line">  String name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;çŒ«åœ¨åƒé¥­&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> stastic <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;çŒ«åœ¨ç¡è§‰&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">catchMouse</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;çŒ«åœ¨æŠ“è€é¼ &quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¥ä¸€ä¸ªæµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo_Test</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> stastic <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    Animal am = <span class="keyword">new</span> Cat();</span><br><span class="line">    am.eat();</span><br><span class="line">    am.sleep();</span><br><span class="line">    am.run();</span><br><span class="line">    System.out.println(am.num);</span><br><span class="line">    System.out.println(am.age);</span><br><span class="line"></span><br><span class="line">    am.catchMouse();</span><br><span class="line">    System.out.println(am.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆæ¥çœ‹çœ‹ä¸Šé¢æ˜¯å¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼š</p><ol><li>å­ç±»Catç»§æ‰¿äº†çˆ¶ç±»Animalï¼›</li><li>å­ç±»é‡å†™äº†çˆ¶ç±»çš„eat()ã€sleep()æ–¹æ³•ï¼Œå…¶ä¸­å‰è€…æ˜¯éé™æ€ï¼Œåè€…æ˜¯é™æ€æ–¹æ³•ï¼›</li><li>åœ¨å †å†…å­˜ä¸­å¼€è¾Ÿäº†å­ç±»Cat()å¯¹è±¡ï¼Œå¹¶æŠŠå­˜åœ¨äºæ ˆå†…å­˜ä¸­çš„Animal()å¼•ç”¨æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚</li></ol><p>ç„¶åæˆ‘ä»¬çœ‹ä¸€ä¸‹è¿è¡Œç»“æœï¼Œåº”è¯¥æ˜¯</p><p>çŒ«åœ¨åƒé¥­<br>åŠ¨ç‰©åœ¨ç¡è§‰<br>åŠ¨ç‰©åœ¨å¥”è·‘<br>10<br>20</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><ul><li>å­ç±»é‡å†™äº†çˆ¶ç±»çš„éé™æ€æˆå‘˜æ–¹æ³•ï¼Œå¯¹è±¡am.eat()çš„è¾“å‡ºç»“æœæ˜¯â€œçŒ«åœ¨åƒé¥­â€ï¼›</li><li>å­ç±»é‡å†™äº†çˆ¶ç±»çš„é™æ€æˆå‘˜æ–¹æ³•ï¼Œå¯¹è±¡am.sleep()çš„è¾“å‡ºç»“æœæ˜¯â€œåŠ¨ç‰©åœ¨ç¡è§‰â€ï¼›</li><li>æœªè¢«å­ç±»é‡å†™çš„æ–¹æ³•am.run()çš„è¾“å‡ºç»“æœæ˜¯â€œåŠ¨ç‰©åœ¨å¥”è·‘â€ã€‚</li></ul><p>é‚£ä¹ˆå¯ä»¥æ€»ç»“å‡ºå¤šæ€æˆå‘˜è®¿é—®çš„ç‰¹ç‚¹ï¼š</p><ul><li>æˆå‘˜å˜é‡ï¼šç¼–è¯‘çœ‹å·¦è¾¹(çˆ¶ç±»),è¿è¡Œçœ‹å·¦è¾¹(çˆ¶ç±»)</li><li>æˆå‘˜æ–¹æ³•ï¼šç¼–è¯‘çœ‹å·¦è¾¹(çˆ¶ç±»)ï¼Œè¿è¡Œçœ‹å³è¾¹(å­ç±»)ã€‚åŠ¨æ€ç»‘å®š</li><li>é™æ€æ–¹æ³•ï¼šç¼–è¯‘çœ‹å·¦è¾¹(çˆ¶ç±»)ï¼Œè¿è¡Œçœ‹å·¦è¾¹(çˆ¶ç±»)(é™æ€å’Œç±»ç›¸å…³ï¼Œç®—ä¸ä¸Šé‡å†™ï¼Œæ‰€ä»¥ï¼Œè®¿é—®è¿˜æ˜¯å·¦è¾¹çš„)</li></ul><p>åªæœ‰éé™æ€çš„æˆå‘˜æ–¹æ³•,ç¼–è¯‘çœ‹å·¦è¾¹,è¿è¡Œçœ‹å³è¾¹ï¼Œè€Œä»¥ä¸Šçš„è¿™ä¸ªè¿‡ç¨‹å°±å«åš<strong>å¤šæ€çš„å‘ä¸Šè½¬å‹</strong>ã€‚</p><h2 id="å¤šæ€çš„ç¼ºç‚¹"><a href="#å¤šæ€çš„ç¼ºç‚¹" class="headerlink" title="å¤šæ€çš„ç¼ºç‚¹"></a>å¤šæ€çš„ç¼ºç‚¹</h2><p>å¤šæ€ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼Œä¹Ÿå°±æ˜¯æ— æ³•å°è¯•è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•ï¼Œå¦‚ä¸Šé¢æœªå±•ç¤ºam.catchMouse();<br>System.out.println(am.name);ä¸¤è¡Œä»£ç éƒ½æ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºè¿™æ˜¯å­ç±»ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å±æ€§ã€‚</p><p>å¦‚æœæˆ‘ä»¬éœ€è¦è°ƒç”¨å­ç±»çš„ç‰¹æœ‰æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å±æ€§ï¼Œé‚£ä¹ˆåº”è¯¥å°†è¿™ä¸ªçˆ¶ç±»å¼ºåˆ¶è½¬æ¢ä¸ºå­ç±»ç±»å‹ï¼Œå¦‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo_Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">Animal am = <span class="keyword">new</span> Cat();</span><br><span class="line">am.eat();</span><br><span class="line">am.sleep();</span><br><span class="line">am.run();</span><br><span class="line"><span class="comment">//am.catchMouse();</span></span><br><span class="line"><span class="comment">//System.out.println(am.name);</span></span><br><span class="line">System.out.println(am.num);</span><br><span class="line">System.out.println(am.age);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;------------------------------&quot;</span>);</span><br><span class="line">Cat ct = (Cat)am;</span><br><span class="line">ct.eat();</span><br><span class="line">ct.sleep();</span><br><span class="line">ct.run();</span><br><span class="line">ct.catchMouse();</span><br><span class="line">&#125;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢<code>Cat ct = (Cat)am</code>åï¼Œè¿™æ—¶ctå°±æŒ‡å‘å †é‡Œæœ€å…ˆåˆ›å»ºçš„Cat()å¯¹è±¡äº†ï¼Œè‡ªç„¶èƒ½ä½¿ç”¨Catç±»çš„ä¸€åˆ‡æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å±æ€§äº†ã€‚è¿™ä¹Ÿæ˜¯å¤šæ€çš„é­…åŠ›ï¼Œä¸ºäº†ä½¿ç”¨å­ç±»çš„æŸäº›æ–¹æ³•ä¸éœ€è¦é‡æ–°å†å¼€è¾Ÿå†…å­˜ã€‚ä»¥ä¸Šå°±æ˜¯<strong>å¤šæ€ä¸­çš„å‘ä¸‹è½¬å‹</strong>ã€‚</p><h2 id="é€šä¿—è§£é‡Š"><a href="#é€šä¿—è§£é‡Š" class="headerlink" title="é€šä¿—è§£é‡Š"></a>é€šä¿—è§£é‡Š</h2><p>èŠ±æœ¨å…°æ›¿çˆ¶ä»å†›<br>å¤§å®¶éƒ½çŸ¥é“èŠ±æœ¨å…°æ›¿çˆ¶ä»å†›çš„ä¾‹å­ï¼ŒèŠ±æœ¨å…°æ›¿çˆ¶äº²èŠ±å¼§ä»å†›ã€‚é‚£ä¹ˆè¿™æ—¶å€™èŠ±æœ¨å…°æ˜¯å­ç±»ï¼ŒèŠ±å¼§æ˜¯çˆ¶ç±»ã€‚èŠ±å¼§æœ‰è‡ªå·±çš„æˆå‘˜å±æ€§å¹´é¾„ï¼Œå§“åï¼Œæ€§åˆ«ã€‚èŠ±æœ¨å…°ä¹Ÿæœ‰è¿™äº›å±æ€§ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾äºŒè€…çš„å±æ€§å®Œå…¨ä¸ä¸€æ ·ã€‚èŠ±å¼§æœ‰è‡ªå·±çš„éé™æ€æˆå‘˜æ–¹æ³•â€˜éª‘é©¬æ€æ•Œâ€™ï¼ŒåŒæ ·èŠ±æœ¨å…°ä¹Ÿé—ä¼ äº†çˆ¶äº²ä¸€æ ·çš„æ–¹æ³•â€˜éª‘é©¬æ€æ•Œâ€™ã€‚èŠ±å¼§è¿˜æœ‰ä¸€ä¸ªé™æ€æ–¹æ³•â€˜è‡ªæˆ‘ä»‹ç»â€™ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥é—®èŠ±å¼§å§“ç”šåè°ã€‚åŒæ—¶èŠ±æœ¨å…°è¿˜æœ‰ä¸€ä¸ªè‡ªå·±ç‰¹æœ‰çš„éé™æ€æˆå‘˜æ–¹æ³•â€˜æ¶‚è„‚æŠ¹ç²‰â€™ã€‚ä½†æ˜¯ï¼Œç°åœ¨èŠ±æœ¨å…°æ›¿çˆ¶ä»å†›ï¼Œå¥³æ‰®ç”·è£…ã€‚è¿™æ—¶å€™ç›¸å½“äºçˆ¶ç±»çš„å¼•ç”¨ï¼ˆèŠ±å¼§è¿™ä¸ªåå­—ï¼‰æŒ‡å‘äº†å­ç±»å¯¹è±¡ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªäººï¼‰ï¼Œé‚£ä¹ˆåœ¨å…¶ä»–ç±»ï¼ˆå…¶ä»–çš„äººï¼‰ä¸­è®¿é—®å­ç±»å¯¹è±¡ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªäººï¼‰çš„æˆå‘˜å±æ€§ï¼ˆå§“åï¼Œå¹´é¾„ï¼Œæ€§åˆ«ï¼‰æ—¶ï¼Œå…¶å®çœ‹åˆ°çš„éƒ½æ˜¯èŠ±æœ¨å…°å¥¹çˆ¶äº²çš„åå­—ï¼ˆèŠ±å¼§ï¼‰ã€å¹´é¾„ï¼ˆ60å²ï¼‰ã€æ€§åˆ«ï¼ˆç”·ï¼‰ã€‚å½“è®¿é—®å­ç±»å¯¹è±¡ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªäººï¼‰çš„éé™æ€æˆå‘˜æ–¹æ³•ï¼ˆéª‘é©¬æ‰“ä»—ï¼‰æ—¶ï¼Œå…¶å®éƒ½æ˜¯çœ‹åˆ°èŠ±æœ¨å…°è‡ªå·±è¿ç”¨åå…«èˆ¬æ­¦è‰ºåœ¨éª‘é©¬æ‰“ä»—ã€‚å½“è®¿é—®èŠ±æœ¨å…°çš„é™æ€æ–¹æ³•æ—¶ï¼ˆè‡ªæˆ‘ä»‹ç»ï¼‰ï¼ŒèŠ±æœ¨å…°è‡ªå·±éƒ½æ˜¯ç”¨å¥¹çˆ¶äº²çš„åå­—ä¿¡æ¯åœ¨å‘åˆ«äººä½œè‡ªæˆ‘ä»‹ç»ã€‚å¹¶ä¸”è¿™æ—¶å€™èŠ±æœ¨å…°ä¸èƒ½ä½¿ç”¨è‡ªå·±ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•â€˜æ¶‚è„‚æŠ¹ç²‰â€™ã€‚â€”â€“å¤šæ€ä¸­çš„å‘ä¸Šè½¬å‹<br>é‚£ä¹ˆç»ˆäºä¸€å°†åŠŸæˆä¸‡éª¨æ¯ï¼Œæ‰“ä»—æ——å¼€å¾—èƒœäº†ï¼ŒèŠ±æœ¨å…°å‘Šåˆ«äº†æˆ˜äº‰ç”Ÿæ´»ã€‚æœ‰ä¸€å¤©ï¼Œé‡åˆ°äº†è‡ªå·±å¿ƒçˆ±çš„ç”·äººï¼Œè¿™æ—¶å€™çˆ±æƒ…çš„åŠ›é‡å°†çˆ¶ç±»å¯¹è±¡çš„å¼•ç”¨ï¼ˆèŠ±å¼§è¿™ä¸ªåå­—ï¼‰å¼ºåˆ¶è½¬æ¢ä¸ºå­ç±»å¯¹è±¡æœ¬æ¥çš„å¼•ç”¨ï¼ˆèŠ±æœ¨å…°è¿™ä¸ªåå­—ï¼‰ï¼Œé‚£ä¹ˆèŠ±æœ¨å…°åˆä»æ–°æˆä¸ºäº†å¥¹è‡ªå·±ï¼Œè¿™æ—¶å€™å¥¹å®Œå…¨æ˜¯å¥¹è‡ªå·±äº†ã€‚åå­—æ˜¯èŠ±æœ¨å…°ï¼Œå¹´é¾„æ˜¯28ï¼Œæ€§åˆ«æ˜¯å¥³ï¼Œæ‰“ä»—ä¾ç„¶é‚£æ ·ç”ŸçŒ›å¥³æ±‰å­ï¼Œè‡ªæˆ‘ä»‹ç»åˆ™å ‚å ‚æ­£æ­£åœ°å‘Šè¯‰åˆ«äººæˆ‘å«èŠ±æœ¨å…°ã€‚OMGï¼ç»ˆäºï¼Œç»ˆäºå¯ä»¥ä½¿ç”¨è‡ªå·±ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•â€˜æ¶‚è„‚æŠ¹ç²‰â€™äº†ã€‚ä»æ­¤ï¼ŒèŠ±æœ¨å…°å®Œå…¨å›åˆ°äº†æ›¿çˆ¶ä»å†›å‰çš„é‚£ä¸ªèŠ±æœ¨å…°äº†ã€‚å¹¶ä¸”å’Œè‡ªå·±å¿ƒçˆ±çš„ç”·äººå¹¸ç¦çš„è¿‡å®Œäº†ä¸€ç”Ÿã€‚â€”â€“å¤šæ€ä¸­çš„å‘ä¸‹è½¬å‹<br>ã€‚</p><h2 id="å‚è€ƒå‡ºå¤„"><a href="#å‚è€ƒå‡ºå¤„" class="headerlink" title="å‚è€ƒå‡ºå¤„"></a>å‚è€ƒå‡ºå¤„</h2><ul><li>ä½œè€…ï¼šç¨‹åºç‹—<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/30082151/answer/120520568">https://www.zhihu.com/question/30082151/answer/120520568</a><br>æ¥æºï¼šçŸ¥ä¹</li></ul>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Java/">Java</category>
      
      <category domain="http://example.com/tags/OOP/">OOP</category>
      
      
      <comments>http://example.com/2017/01/13/Polymorphism-of-Java/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Map 0f Java</title>
      <link>http://example.com/2017/01/13/Map-0f-Java/</link>
      <guid>http://example.com/2017/01/13/Map-0f-Java/</guid>
      <pubDate>Fri, 13 Jan 2017 05:53:14 GMT</pubDate>
      
      <description>&lt;p&gt;æ•´ç†å…³äºJavaçš„Mapç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘é¢è¯•æœ‰è¢«é—®åˆ°å…³äºæ­¤ç±»æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼Œæ•…å†™ä¸‹æ¥æ€»ç»“ä¸€ç•ªã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æ•´ç†å…³äºJavaçš„Mapç›¸å…³çš„çŸ¥è¯†ï¼Œæœ€è¿‘é¢è¯•æœ‰è¢«é—®åˆ°å…³äºæ­¤ç±»æ•°æ®ç»“æ„çš„çŸ¥è¯†ï¼Œæ•…å†™ä¸‹æ¥æ€»ç»“ä¸€ç•ªã€‚</p><span id="more"></span><p>Listå’ŒMapéƒ½æ˜¯java.utilé‡Œé¢æœ‰å…³é›†åˆçš„æ•°æ®ç»“æ„ç±»ã€‚Mapä¸»è¦çš„åŠŸèƒ½æ˜¯å…ƒç´ å¯¹ï¼ˆé”®å€¼å¯¹ï¼‰çš„å½¢å¼ï¼Œæ¯ä¸ªé”®éƒ½æ˜ å°„åˆ°ä¸€ä¸ªç±»ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»Mapçš„åˆ†ç±»ã€åˆå§‹åŒ–ã€éå†çš„æ–¹å¼ã€æ’åºæ–¹æ³•ä»¥åŠå¸¸ç”¨APIã€‚</p><h2 id="Mapç±»"><a href="#Mapç±»" class="headerlink" title="Mapç±»"></a>Mapç±»</h2><p>Javaä¸­çš„Mapç±»å¯åˆ†ä¸ºä¸‰ç§ï¼š</p><ul><li>é€šç”¨Mapï¼šç”¨äºåœ¨åº”ç”¨ç¨‹åºå†…ç®¡ç†æ˜ å°„ï¼Œé€šå¸¸åœ¨java.utilså†…<ul><li>HashMapã€</li><li>Hashtableã€</li><li>Propertiesã€</li><li>LinkedHashMapã€</li><li>IdentityHashMapã€</li><li>TreeMapã€WeakHashMapã€</li><li>ConcurrentHashMap</li></ul></li><li>ä¸“ç”¨Mapï¼šä¸å¿…æˆ‘ä»¬è‡ªå·±åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡å…¶ä»–åº”ç”¨ç¨‹åºè®¿é—®<ul><li>java.util.jar.Attributeã€javax.print.attribute.standard.PrinterStateReasonsã€java.security.Providerã€java.awt.RenderingHintsã€javax.swing.UIDefaults</li></ul></li><li>è‡ªå®šä¹‰Map</li></ul><h2 id="å¸¸ç”¨ç±»å‹çš„åŒºåˆ«"><a href="#å¸¸ç”¨ç±»å‹çš„åŒºåˆ«" class="headerlink" title="å¸¸ç”¨ç±»å‹çš„åŒºåˆ«"></a>å¸¸ç”¨ç±»å‹çš„åŒºåˆ«</h2><ul><li>HashMap<ul><li>æœ€å¸¸ç”¨çš„Mapï¼Œé€Ÿåº¦å¿«ï¼ŒéåŒæ­¥ï¼ˆä¸æ”¯æŒçº¿ç¨‹åŒæ­¥ï¼‰</li><li>å…è®¸ä¸€æ¡é”®ä¸ºnullï¼šå¤šäº†è¦†ç›–</li><li>å…è®¸å¤šæ¡å€¼ä¸ºnull</li></ul></li><li>TreeMap<ul><li>ç”¨Iteratoréå†çš„æ—¶å€™è¿”å›ä»¥keyä¸ºåºçš„åºåˆ—</li><li>æ•…ä¸å…è®¸keyä¸ºç©º</li><li>éåŒæ­¥</li></ul></li><li>HashTable<ul><li>ç±»ä¼¼HashMapï¼Œä½†æ˜¯å†™å…¥é€Ÿåº¦æ…¢</li><li>å› ä¸ºæ”¯æŒçº¿ç¨‹åŒæ­¥ï¼šåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€çº¿ç¨‹èƒ½å†™HashTable</li></ul></li><li>LinkedHashMap<ul><li>ä¿æŒäº†æ’å…¥é¡ºåºï¼ŒIteratoréå†æ—¶å…ˆè¿›å…ˆå‡º</li><li>keyã€valueéƒ½å…è®¸ä¸ºç©º</li></ul></li></ul><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å»ºç«‹</span></span><br><span class="line">HashMap&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line"><span class="comment">//å¯»å€¼</span></span><br><span class="line">map.get(<span class="string">&quot;key1&quot;</span>);</span><br><span class="line"><span class="comment">//æ’å…¥</span></span><br><span class="line">map.put(<span class="string">&quot;key2&quot;</span>, <span class="string">&quot;value2&quot;</span>);</span><br><span class="line"><span class="comment">//ç§»é™¤</span></span><br><span class="line">map.remove(<span class="string">&quot;key1&quot;</span>);</span><br><span class="line"><span class="comment">//æ¸…ç©º</span></span><br><span class="line">map.clear();</span><br><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure><h2 id="Mapçš„éå†"><a href="#Mapçš„éå†" class="headerlink" title="Mapçš„éå†"></a>Mapçš„éå†</h2><p>åˆå§‹åŒ–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">map.put(<span class="string">&quot;key1&quot;</span>, <span class="string">&quot;value1&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;key2&quot;</span>, <span class="string">&quot;value2&quot;</span>);</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«ä½¿ç”¨å¢å¼ºforå¾ªç¯å’ŒIteratoræ¥éå†</p><h3 id="å¢å¼ºforå¾ªç¯éå†"><a href="#å¢å¼ºforå¾ªç¯éå†" class="headerlink" title="å¢å¼ºforå¾ªç¯éå†"></a>å¢å¼ºforå¾ªç¯éå†</h3><h4 id="KeySetéå†"><a href="#KeySetéå†" class="headerlink" title="KeySetéå†"></a>KeySetéå†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String key: map.keySet())&#123;</span><br><span class="line">  System.out.println(key + <span class="string">&quot;: &quot;</span> + map.get(key));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="entrySetéå†"><a href="#entrySetéå†" class="headerlink" title="entrySetéå†"></a>entrySetéå†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry: map.entrySet())&#123;</span><br><span class="line">  System.out.println(entry.getKey() + <span class="string">&quot;: &quot;</span> + entry.getValue());</span><br></pre></td></tr></table></figure><h3 id="Iteratoréå†"><a href="#Iteratoréå†" class="headerlink" title="Iteratoréå†"></a>Iteratoréå†</h3><h4 id="KeySetéå†-1"><a href="#KeySetéå†-1" class="headerlink" title="KeySetéå†"></a>KeySetéå†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;String&gt; iterator = map.keySet().iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">  String key = iterator.next();</span><br><span class="line">  System.out.println(key + <span class="string">&quot;: &quot;</span> + map.get(key));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="entrySetéå†-1"><a href="#entrySetéå†-1" class="headerlink" title="entrySetéå†"></a>entrySetéå†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">    Map.Entry&lt;String, String&gt; entry = iterator.next();</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">&quot;ï¼š&quot;</span> + entry.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éå†æ€§èƒ½"><a href="#éå†æ€§èƒ½" class="headerlink" title="éå†æ€§èƒ½"></a>éå†æ€§èƒ½</h3><p>å°±å®éªŒæ¯”è¾ƒï¼Œ</p><ul><li><p>å¢å¼ºforå¾ªç¯ä½¿ç”¨æ–¹ä¾¿ï¼Œä½†æ€§èƒ½è¾ƒå·®ï¼Œä¸é€‚åˆå¤„ç†è¶…å¤§é‡çº§çš„æ•°æ®ã€‚</p></li><li><p>è¿­ä»£å™¨çš„éå†é€Ÿåº¦è¦æ¯”å¢å¼ºforå¾ªç¯å¿«å¾ˆå¤šï¼Œæ˜¯å¢å¼ºforå¾ªç¯çš„2å€å·¦å³ã€‚</p></li><li><p>ä½¿ç”¨entrySetéå†çš„é€Ÿåº¦è¦æ¯”keySetå¿«å¾ˆå¤šï¼Œæ˜¯keySetçš„1.5å€å·¦å³ã€‚</p></li></ul><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><p>TreeMapæ’åºï¼Œè‹¥æ˜¯å‡åºåªéœ€è¦æŒ‰åºè¾“å‡ºå³å¯ï¼Œé™åºéœ€è¦æ”¹å†™æ¯”è¾ƒå™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = <span class="keyword">new</span> TreeMap&lt;String, String&gt;(<span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String obj1, String obj2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj2.compareTo(obj1);<span class="comment">// é™åºæ’åº</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">map.put(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String key : map.keySet()) &#123;</span><br><span class="line">    System.out.println(key + <span class="string">&quot; ï¼š&quot;</span> + map.get(key));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>HashMap\HashTable\LinkedHashMapæ’åº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">map.put(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡ArrayListæ„é€ å‡½æ•°æŠŠmap.entrySet()è½¬æ¢æˆlist</span></span><br><span class="line">List&lt;Map.Entry&lt;String, String&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;Map.Entry&lt;String, String&gt;&gt;(map.entrySet());</span><br><span class="line"><span class="comment">// é€šè¿‡æ¯”è¾ƒå™¨å®ç°æ¯”è¾ƒæ’åº</span></span><br><span class="line">Collections.sort(list, <span class="keyword">new</span> Comparator&lt;Map.Entry&lt;String, String&gt;&gt;() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Map.Entry&lt;String, String&gt; mapping1, Map.Entry&lt;String, String&gt; mapping2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mapping1.getKey().compareTo(mapping2.getKey());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, String&gt; mapping : list) &#123;</span><br><span class="line">    System.out.println(mapping.getKey() + <span class="string">&quot; ï¼š&quot;</span> + mapping.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨API"><a href="#å¸¸ç”¨API" class="headerlink" title="å¸¸ç”¨API"></a>å¸¸ç”¨API</h2><table><thead><tr><th>method</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>clear()</td><td>ä» Map ä¸­åˆ é™¤æ‰€æœ‰æ˜ å°„</td></tr><tr><td>remove(Object key)</td><td>ä» Map ä¸­åˆ é™¤é”®å’Œå…³è”çš„å€¼</td></tr><tr><td>put(Object key, Object value)</td><td>å°†æŒ‡å®šå€¼ä¸æŒ‡å®šé”®ç›¸å…³è”</td></tr><tr><td>putAll(Map t)</td><td>å°†æŒ‡å®š Map ä¸­çš„æ‰€æœ‰æ˜ å°„å¤åˆ¶åˆ°æ­¤ map</td></tr><tr><td>entrySet()</td><td>è¿”å› Map ä¸­æ‰€åŒ…å«æ˜ å°„çš„ Set è§†å›¾ã€‚Set ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ª Map.Entry å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ getKey() å’Œ getValue() æ–¹æ³•ï¼ˆè¿˜æœ‰ä¸€ä¸ª setValue() æ–¹æ³•ï¼‰è®¿é—®åè€…çš„é”®å…ƒç´ å’Œå€¼å…ƒç´ </td></tr><tr><td>keySet()</td><td>è¿”å› Map ä¸­æ‰€åŒ…å«é”®çš„ Set è§†å›¾ã€‚åˆ é™¤ Set ä¸­çš„å…ƒç´ è¿˜å°†åˆ é™¤ Map ä¸­ç›¸åº”çš„æ˜ å°„ï¼ˆé”®å’Œå€¼ï¼‰</td></tr><tr><td>values()</td><td>è¿”å› map ä¸­æ‰€åŒ…å«å€¼çš„ Collection è§†å›¾ã€‚åˆ é™¤ Collection ä¸­çš„å…ƒç´ è¿˜å°†åˆ é™¤ Map ä¸­ç›¸åº”çš„æ˜ å°„ï¼ˆé”®å’Œå€¼ï¼‰</td></tr><tr><td>get(Object key)</td><td>è¿”å›ä¸æŒ‡å®šé”®å…³è”çš„å€¼</td></tr><tr><td>containsKey(Object key)</td><td>å¦‚æœ Map åŒ…å«æŒ‡å®šé”®çš„æ˜ å°„ï¼Œåˆ™è¿”å› true</td></tr><tr><td>containsValue(Object value)</td><td>å¦‚æœæ­¤ Map å°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°æŒ‡å®šå€¼ï¼Œåˆ™è¿”å› true</td></tr><tr><td>isEmpty()</td><td>å¦‚æœ Map ä¸åŒ…å«é”®-å€¼æ˜ å°„ï¼Œåˆ™è¿”å› true</td></tr><tr><td>size()</td><td>è¿”å› Map ä¸­çš„é”®-å€¼æ˜ å°„çš„æ•°ç›®</td></tr></tbody></table>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Java/">Java</category>
      
      <category domain="http://example.com/tags/Data-Structure/">Data Structure</category>
      
      
      <comments>http://example.com/2017/01/13/Map-0f-Java/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>To be a great commander</title>
      <link>http://example.com/2017/01/11/good%20commander/</link>
      <guid>http://example.com/2017/01/11/good%20commander/</guid>
      <pubDate>Wed, 11 Jan 2017 07:19:05 GMT</pubDate>
      
      <description>&lt;p&gt;è¿‘æ¥å¶ç„¶è¯»åˆ°æ—å½ªå…ƒå¸…å…³äºå¦‚ä½•è¿›è¡Œå†›äº‹å·¥ä½œå†™çš„å·¥ä½œæ€»ç»“ï¼Œä¸å…‰æ˜¯å†›äº‹ï¼Œåº”ç”¨åˆ°æ—¥å¸¸å·¥ä½œã€åšäº‹ä¹Ÿæ˜¯å¾ˆå¥½çš„æŒ‡å¯¼ï¼Œè¿™æ˜¯æ—å½ªä¸åˆ°30å²æ—¶å€™å†™ä¸‹çš„æ–‡å­—ï¼Œé¡¿æ—¶æ˜ç™½ä¸ºä½•äººå®¶23å²å°±å¯ä»¥å½“å†›é•¿çš„åŸå› ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>è¿‘æ¥å¶ç„¶è¯»åˆ°æ—å½ªå…ƒå¸…å…³äºå¦‚ä½•è¿›è¡Œå†›äº‹å·¥ä½œå†™çš„å·¥ä½œæ€»ç»“ï¼Œä¸å…‰æ˜¯å†›äº‹ï¼Œåº”ç”¨åˆ°æ—¥å¸¸å·¥ä½œã€åšäº‹ä¹Ÿæ˜¯å¾ˆå¥½çš„æŒ‡å¯¼ï¼Œè¿™æ˜¯æ—å½ªä¸åˆ°30å²æ—¶å€™å†™ä¸‹çš„æ–‡å­—ï¼Œé¡¿æ—¶æ˜ç™½ä¸ºä½•äººå®¶23å²å°±å¯ä»¥å½“å†›é•¿çš„åŸå› ã€‚</p><span id="more"></span><p>æ¨æˆæ­¦å›å¿†ï¼š1936å¹´12æœˆ,è¥¿å®‰äº‹å˜çˆ†å‘ï¼Œçº¢å†›å¤§å­¦ç¬¬ä¸€æœŸæ¯•ä¸šã€‚å³å°†å¥”èµ´å‰çº¿ï¼Œæ—å½ªæ‰¾æˆ‘è°ˆè¯ï¼Œç»™æˆ‘ç•™ä¸‹å¾ˆæ·±çš„å°è±¡ã€‚æˆ‘è¿‡å»å½“æ”¿å§”ï¼Œè¿˜æƒ³å¹²è€æœ¬è¡Œã€‚ä½†å†› å§”ç»è¿‡å…¨é¢è€ƒè™‘,ç¡®å®šæˆ‘å½“å¸ˆé•¿ã€‚æ—å½ªè¯´æ¯›ä¸»å¸­è¦æˆ‘å’Œä½ è°ˆä¸€æ¬¡è¯ï¼Œè®²ä¸€ä¸‹æ€æ ·å½“å¥½å¸ˆé•¿çš„é—®é¢˜ã€‚è°ˆè¯æ—¶ç½—ç‘å¿ä¹Ÿåœ¨åœº,æ¨æˆæ­¦è®¤çœŸä½œäº†è®°å½•ã€‚æ—å½ªè®²äº†ä¹æ¡,è¿™ä¹Ÿ æ˜¯ä»–è‡ªå·±åœ¨æˆ˜äº‰ä¸­çš„ä½“ä¼šï¼š</p><p>ä¸€ã€è¦å‹¤å¿«ã€‚ä¸å‹¤å¿«çš„äººåŠä¸å¥½äº‹æƒ…ï¼Œä¸èƒ½å½“å¥½å†›äº‹æŒ‡æŒ¥å‘˜ã€‚åº”è¯¥è‡ªå·±å¹²çš„äº‹æƒ…ä¸€å®šè¦äº²è‡ªè¿‡ç›®ï¼Œäº²è‡ªåŠ¨æ‰‹ã€‚æ¯”å¦‚ï¼Œåº”è¯¥ä¸Šå»çœ‹çš„å±±å¤´å°±è¦çˆ¬ä¸Šå»ï¼Œåº”è¯¥äº†è§£çš„æƒ…å†µ å°±è¦åŠæ—¶äº†è§£ï¼Œåº”è¯¥æ£€æŸ¥çš„é—®é¢˜å°±è¦ä¸¥æ ¼æ£€æŸ¥ã€‚ä¸èƒ½æ‡’ï¼Œå†›äº‹æŒ‡æŒ¥å‘˜åˆ‡å¿Œæ‡’ï¼Œå› ä¸ºæ‡’ä¼šå¸¦æ¥å±é™©ï¼Œå¸¦æ¥å¤±è´¥ã€‚æ¯”æ–¹è¯´ï¼Œä¸€ä¸ªå†›äº‹æŒ‡æŒ¥å‘˜ï¼Œåˆ°äº†å®¿è¥åœ°å°±è¿›æˆ¿å­ï¼Œææ°´ æ´—è„¸æ´—è„šï¼Œæé¸¡è›‹ç…®é¢åƒï¼Œåƒé¥±äº†å°±ç¡å¤§è§‰ã€‚ä»–å¯¹ä½çš„æ‘å­æœ‰å¤šå¤§ï¼Œåœ¨ä»€ä¹ˆä½ç½®ï¼Œé™„è¿‘æœ‰å‡ ä¸ªå±±å¤´å‘¨å›´æœ‰å‡ æ¡é“è·¯ï¼Œæ•Œæƒ…æ€ä¹ˆæ ·ï¼Œç¾¤ä¼—æ¡ä»¶æ€ä¹ˆæ ·ï¼Œå¯èƒ½å‘ç”Ÿä»€ä¹ˆæƒ… å†µï¼Œéƒ¨é˜Ÿåˆ°é½äº†æ²¡æœ‰ï¼Œå“¨ä½åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œå‘ç”Ÿç´§æ€¥æƒ…å†µæ—¶çš„å¤„ç½®é¢„æ¡ˆå¦‚ä½•ï¼Œéƒ½ä¸è¿‡é—®ï¼Œéƒ½ä¸çŸ¥é“ã€‚è¿™æ ·ï¼Œå¦‚æœåŠå¤œä¸‰æ›´å‘ç”Ÿäº†æƒ…å†µï¼Œæ•Œäººæ¥ä¸ªçªç„¶è¢­å‡»ï¼Œå°±æ²¡æœ‰åŠæ³• äº†ã€‚åˆ°é‚£ç§æ—¶å€™ï¼Œå³ä½¿å¹³æ—¶å¾ˆå‹‡æ•¢çš„æŒ‡æŒ¥å‘˜ï¼Œä¹Ÿä¼šæŸæ‰‹æ— ç­–ï¼Œåªå¥½ä¸‰åå…­è®¡ï¼Œè·‘ä¸ºä¸Šè®¡ï¼Œç»“æœï¼Œå˜æˆä¸€ä¸ªæœºä¼šä¸»ä¹‰è€…ã€‚æœºä¼šä¸»ä¹‰å’Œæ‰“è´¥ä»—ï¼Œå¸¸å¸¸æ˜¯å› ä¸ºæ²¡æœ‰æ€æƒ³å‡† å¤‡ï¼Œæ²¡æœ‰ç»„ç»‡å‡†å¤‡ï¼Œå·¥ä½œæ²¡æœ‰åšåˆ°å®¶ï¼Œæ‡’çš„ç»“æœã€‚å› æ­¤ï¼Œä¸è®ºå¤§å°æŒ‡æŒ¥å‘˜éƒ½è¦å‹¤å¿«ï¼Œè¦ä¸æƒœèµ°è·¯ï¼Œä¸æ€•åŠ³ç´¯ï¼Œè¦å¤šç”¨è„‘å­ï¼Œè¦åšåˆ°å¿ƒåˆ°ã€çœ¼åˆ°ã€å£åˆ°ã€è„šåˆ°ã€æ‰‹åˆ°ã€‚ äº‹æƒ…æ²¡æœ‰åšå¥½ä»¥å‰ï¼Œä¸èƒ½è´ªé—²ã€‚è´ªé—²å°±éšä¼ç€çŠ¯é”™è¯¯çš„æ ¹å­ã€‚ä»€ä¹ˆäº‹éƒ½è¦å¿ƒä¸­æœ‰åº•ï¼Œâ€œå‡¡äº‹é¢„åˆ™ç«‹ï¼Œä¸é¢„åˆ™åºŸâ€ã€‚é›·æ‰“ä¸åŠ¨çš„å¹²éƒ¨ï¼Œç‰›çš®ç³–å¼çš„å¹²éƒ¨ï¼Œä¸ç®¡æœ‰å¤šå¤§æœ¬ äº‹ï¼Œéƒ½ä¸æ˜¯å¥½å¹²éƒ¨ã€‚</p><p>ã€€ã€€äºŒã€è¦æ‘¸æ¸…ä¸Šçº§çš„æ„å›¾ã€‚å¯¹ä¸Šçº§çš„æ„å›¾è¦çœŸæ­£ç†è§£ï¼ŒçœŸæ­£èä¼šè´¯é€šï¼ŒçœŸæ­£è®¤è¯†è‡ªå·±æ‰€å—é¢†çš„ä»»åŠ¡åœ¨æˆ˜å½¹ã€æˆ˜æ–—å…¨å±€ä¸­çš„ åœ°ä½å’Œä½œç”¨ã€‚è¿™æ ·ï¼Œæ‰èƒ½å……åˆ†å‘æŒ¥è‡ªå·±çš„ä¸»è§‚èƒ½åŠ¨æ€§ï¼›æ‰èƒ½æ‰“ç ´æ¡†æ¡†ï¼Œæœ‰æ•¢äºå’Œå–„äºåœ¨æ–°æƒ…å†µä¸­æ‰¾åˆ°æ–°åŠæ³•çš„åˆ›é€ æ€§ï¼›æ‰èƒ½æœ‰å¤§å‹‡ï¼Œæ‰èƒ½å†³å¿ƒå¼ºã€å†³å¿ƒç‹ ï¼Œæ•¢äºå½»åº• èƒœåˆ©ï¼Œæœ‰å¼ºçƒˆçš„åæ‰æ•Œäººçš„ä¼å›¾å’Œé›„å¿ƒã€‚æŒ‡æŒ¥å‘˜çš„å‹‡æ•¢é›†ä¸­è¡¨ç°åœ¨æ­¼æ•Œå†³å¿ƒçš„åšå®šé¡½å¼ºä¸Šé¢ã€‚æŒ‡æŒ¥å‘˜çš„å¤§å‹‡å»ºç«‹åœ¨é©å‘½çš„æœ€é«˜è‡ªè§‰æ€§å’Œæ­£ç¡®ç†è§£ä¸Šçº§æ„å›¾çš„åŸºç¡€ä¸Š é¢ã€‚</p><p>ã€€ã€€ä¸‰ã€è¦è°ƒæŸ¥ç ”ç©¶ã€‚å¯¹äºæ•Œæƒ…ã€åœ°å½¢ã€éƒ¨é˜Ÿçš„æƒ…å†µå’Œç¤¾ä¼šæƒ…å†µï¼Œè¦ç»å¸¸åšåˆ°å¿ƒä¸­æœ‰æ•°ã€‚è¦å¤©å¤©æ‘¸ï¼Œå¤©å¤©ç¢ç£¨ï¼Œä¸èƒ½é—´æ–­ã€‚è¿™æ ·åšï¼Œä¸èƒ½çœ‹ ä½œæ˜¯é‡å¤ï¼Œå®é™…ä¸Šè¿™ä¸æ˜¯é‡å¤ï¼Œè€Œæ˜¯ä¸æ–­æ·±åŒ–ä¸æ–­æé«˜çš„è¿‡ç¨‹ï¼Œæ˜¯å–å¾—æ­£ç¡®è®¤è¯†çš„å¿…ä¸å¯å°‘çš„æ‰‹æ®µã€‚å¹³æ—¶ç§¯ç´¯æŒæ¡çš„æƒ…å†µè¶Šå¤šï¼Œè¶Šç³»ç»Ÿï¼Œåœ¨æˆ˜æ—¶ï¼Œç‰¹åˆ«æ˜¯åœ¨ç´§å¼ å¤æ‚ çš„æƒ…å†µä¸‹ï¼Œå°±è¶Šæ²‰ç€ï¼Œè¶Šæœ‰åŠæ³•ã€‚æ€¥ä¸­ç”Ÿæ™ºçš„â€œæ™ºâ€ï¼Œæ‰æœ‰åŸºç¡€ã€‚å› æ­¤ï¼Œè°ƒæŸ¥ç ”ç©¶å·¥ä½œè¦è´¯ä¸²åœ¨å„é¡¹å·¥ä½œä¸­ï¼Œè¦è´¯ä¸²åœ¨æ¯ä¸€æ¬¡æˆ˜å½¹ã€æˆ˜æ–—çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œåå¯¹æ‰“è½æ’ ä»—ã€ç³Šæ¶‚ä»—ï¼Œåå¯¹æ€¥æ€§ç—…ï¼Œåå¯¹ä¸äº²è‡ªåŠ¨æ‰‹åšè°ƒæŸ¥ç ”ç©¶çš„æ‡’æ±‰ä½œé£ã€‚ç‰¹åˆ«æ˜¯æ•Œæƒ…ï¼Œå¿…é¡»åˆ‡å®æ‘¸é€ã€‚å› ä¸ºæ•Œæƒ…æ˜¯æ´»çš„ï¼Œæ•Œäººå¿…ç„¶ä¼šæåŠ›éšè”½ã€ä¼ªè£…ä»–ä»¬çš„çœŸå®ä¼å›¾å’Œè¡Œ åŠ¨ã€‚è¦å°½ä¸€åˆ‡å¯èƒ½ä¸é—´æ–­åœ°ä¾¦å¯Ÿï¼ŒæŸ¥æ¸…æ•Œäººçš„éƒ¨ç½²å’ŒåŠ¨å‘ï¼Œçœ‹ä»–æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿæ˜¯ä¸»è§’è¿˜æ˜¯é…è§’ï¼Ÿæ˜¯ä¸»åŠ›è¿˜æ˜¯éä¸»åŠ›ï¼Ÿæ˜¯éª„å…µè¿˜æ˜¯è´¥å…µï¼Ÿèƒ½é›†ä¸­å¤šå¤§å…µåŠ›å‘æˆ‘ä»¬è¿›æ”» å’Œé˜»æŒ¡æˆ‘ä»¬çš„è¿›æ”»ã€‚æŸ¥æ˜æ•Œä¸»å®˜çš„ç‰¹æ€§ï¼Œçœ‹ä»–æƒ¯ç”¨å’Œæ“…é•¿ç”¨ä»€ä¹ˆæˆ˜æ³•ï¼Œæ ¹æ®ä»–å½“å‰çš„ä¼å›¾åˆ¤æ–­ä»–å¯èƒ½é‡‡ç”¨ä»€ä¹ˆæ‰“æ³•ï¼Œç­‰ç­‰ã€‚åªè¦æ‘¸æ¸…äº†æ•Œæƒ…ã€æˆ‘æƒ…ã€åœ°å½¢çš„åº•ï¼Œå†³å¿ƒ å°±å¿«ï¼Œå°±ç¡¬ï¼Œå°±åšå®šã€‚å°±ä¸ä¼šè¢«ä»»ä½•å‡è±¡æ‰€è¿·æƒ‘ï¼Œå°±ä¸ä¼šè¢«ä»»ä½•å›°éš¾æ‰€å“ä½ã€‚å¦‚æœæƒ…å†µä¸æ¸…ï¼Œå°±ä¼šçŠ¹è±«ä¸å†³ï¼Œä¸¾æ£‹ä¸å®šï¼Œåå¤±è‰¯æœºï¼Œæˆ–è€…å‹‰å¼ºä¸‹äº†å†³å¿ƒï¼Œä¸€é‡é£å¹è‰ åŠ¨ï¼Œå¬åˆ°ç•éš¾å«è‹¦å’Œä¸æ­£ç¡®çš„å»ºè®®ï¼Œå°±å®¹æ˜“åŠ¨æ‘‡ï¼Œå¯èƒ½ä¸€å¿µä¹‹å·®ï¼Œå‰åŠŸå°½å¼ƒã€‚</p><p>ã€€ã€€å››ã€è¦æœ‰ä¸ªæ´»åœ°å›¾ã€‚æŒ‡æŒ¥å‘˜å’Œå‚è°‹å¿…é¡»ç†Ÿæ‚‰åœ°å›¾ï¼Œè¦ç»å¸¸è¯»åœ° å›¾ã€‚ç†Ÿè¯»åœ°å›¾å¯ä»¥äº§ç”Ÿè§è§£ï¼Œäº§ç”Ÿæ™ºæ…§ï¼Œäº§ç”ŸåŠæ³•ï¼Œäº§ç”Ÿä¿¡å¿ƒã€‚è¯»çš„æ–¹æ³•æ˜¯æŠŠå›¾æŒ‚èµ·æ¥ï¼Œæ¬ä¸ªå‡³å­åä¸‹æ¥ï¼Œå¯¹ç€åœ°å›¾çœ‹ï¼Œä»å¤§çš„æ–¹å‘åˆ°æ´»åŠ¨åœ°åŒºï¼Œä»åœ°åŒºå…¨è²Œåˆ°æ¯ä¸€ åœ°æ®µçš„åœ°å½¢ç‰¹ç‚¹ï¼Œä»ç²—è¯»åˆ°ç»†è¯»ï¼Œé€å—é€å—åœ°è¯»ï¼Œç”¨çº¢è“é“…ç¬”æŠŠä¸»è¦çš„å±±è„‰ã€æ²³æµã€åŸé•‡ã€æ‘åº„ã€é“è·¯æ ‡åˆ’å‡ºæ¥ï¼Œè¾¹è¯»ï¼Œè¾¹åˆ’ï¼Œç­‰åˆ°åœ°å›¾å·®ä¸å¤šå¿«åˆ’çƒ‚äº†ï¼Œä¹Ÿå°±å·®ä¸ å¤šæŠŠåœ°å›¾èƒŒç†Ÿäº†ï¼ŒèƒŒå‡ºæ¥äº†ã€‚åœ¨ç†Ÿè¯»åœ°å›¾çš„åŸºç¡€ä¸Šï¼Œè¦äº²è‡ªç»„ç»‡æœ‰å…³æŒ‡æŒ¥å‘˜å’Œå‚è°‹å¯¹ä½œæˆ˜åœ°åŒºå’Œæˆ˜åœºè¿›è¡Œå®åœ°å‹˜å¯Ÿï¼Œæ ¸æ­£åœ°å›¾ï¼ŒæŠŠæˆ˜åœºçš„åœ°å½¢æƒ…å†µå’Œæ•Œæˆ‘åŒæ–¹çš„å…µåŠ› éƒ¨ç½²éƒ½è£…è‡³è„‘å­é‡Œå»ï¼Œåšåˆ°é—­ä¸Šçœ¼ç›é¢å‰å°±æœ‰ä¸€å¹…é²œæ˜çš„æˆ˜åœºå›¾å½±ï¼Œç¦»å¼€åœ°å›¾ä¹Ÿèƒ½æŒ‡æŒ¥ä½œæˆ˜ã€‚è¿™æ ·ï¼Œåœ¨ä½ æ­»æˆ‘æ´»ã€ç¬æ¯ä¸‡å˜çš„æˆ˜æ–—æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¯”æ•Œäººæ¥å¾—å¿«ï¼Œäº‰å– å…ˆæœºï¼Œå…ˆæ•Œä¸€ç€ï¼ŒæŒæ¡ä¸»åŠ¨ï¼Œç¨³æ“èƒœåˆ¸ã€‚</p><p>ã€€ã€€äº”ã€è¦æŠŠå„æ–¹é¢çš„é—®é¢˜æƒ³å¤Ÿæƒ³é€ã€‚æ¯ä¸€æ¬¡æˆ˜å½¹ã€æˆ˜æ–—çš„ç»„ç»‡ï¼Œè¦è®©å¤§å®¶æå‡ºå„ç§å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œ è¦è®©å¤§å®¶æ¥æ‰¾ç­”æ¡ˆï¼Œè€Œä¸”è¦ä»æœ€åçš„æœ€ä¸¥é‡çš„æƒ…å†µæ¥æ‰¾ç­”æ¡ˆã€‚æŠŠæ‰€æœ‰æå‡ºæ¥çš„é—®é¢˜éƒ½å›ç­”äº†ï¼Œå†æ²¡æœ‰é—®é¢˜æ²¡æœ‰å›ç­”çš„äº†ï¼Œè¿™æ ·ï¼Œæ‰“èµ·ä»—æ¥æ‰ä¸ä¼šçŠ¯å¤§é”™è¯¯ï¼Œä¸‡ä¸€çŠ¯äº† é”™è¯¯ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“çº æ­£ã€‚æ²¡æœ‰å¾—åˆ°ç­”æ¡ˆçš„é—®é¢˜ï¼Œä¸èƒ½å› ä¸ºæƒ³äº†å¾ˆä¹…æƒ³ä¸å‡ºæ¥å°±æŠŠå®ƒä¸¢å¼€ï¼Œç•™ä¸‹ä¸€ä¸ªç–™ç˜©ã€‚å¦‚æœè¿™æ ·ï¼Œæ˜¯å¾ˆå±é™©çš„ï¼Œåœ¨ç´§è¦å…³å¤´ï¼Œè¿™ä¸ªç–™ç˜©å¾ˆå¯èƒ½å†’å‡º æ¥ï¼Œå°±ä¼šä½¿ä½ ä»¬å¿ƒä¸­æ— æ•°ï¼Œæªæ‰‹ä¸åŠã€‚å½“ç„¶ï¼Œåœ¨æˆ˜äº‰ç¯å¢ƒä¸­ï¼Œè¦è€ƒè™‘çš„é—®é¢˜å¾ˆå¤šï¼Œä¸å¯èƒ½ä¸€æ¬¡éƒ½æå®Œï¼Œä¹Ÿä¸å¯èƒ½ä¸€æ¬¡éƒ½å›ç­”å®Œï¼Œæ•´ä¸ªæˆ˜å½¹ã€æˆ˜æ–—çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸æ–­æ å‡ºé—®é¢˜å’Œä¸æ–­å›ç­”é—®é¢˜çš„è¿‡ç¨‹ã€‚æœ‰æ—¶è„‘å­å¾ˆç–²åŠ³ï¼Œæœ‰çš„é—®é¢˜å¯èƒ½ç«‹å³å›ç­”ä¸äº†ã€‚è¿™æ—¶ï¼Œé™¤äº†å¥½å¥½åœ°å’Œåˆ«äººå•†é‡ä»¥å¤–ï¼Œå°±å¥½å¥½åœ°ç¡ä¸€è§‰ï¼Œç¡å¥½äº†ï¼Œç¡é†’äº†ï¼Œå¤´è„‘æ¸…é†’ äº†ï¼Œå†èººåœ¨åºŠä¸Šå¥½å¥½æƒ³ä¸€æƒ³ï¼Œå°±å¯èƒ½å¼€çªï¼Œå¯èƒ½æƒ³é€šäº†ï¼Œå›ç­”äº†ï¼Œè§£å†³äº†ã€‚æ€»ä¹‹ï¼Œå¯¹æ¯ä¸€ä¸ªé—®é¢˜ä¸èƒ½å«ç³Šäº†äº‹ã€‚é—®é¢˜å›ç­”å®Œäº†ï¼Œæˆ˜å½¹ã€æˆ˜æ–—çš„ç»„ç»‡æ‰ç®—å®Œæˆã€‚</p><p>ã€€ ã€€å…­ã€è¦åŠæ—¶ä¸‹è¾¾å†³å¿ƒã€‚åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹å¯ä»¥ä¸‹å†³å¿ƒæ‰“å‘¢ï¼ŸæŒ‡æŒ¥å‘˜å¿…é¡»ä»¥æœ€å¤§åŠªåŠ›ç»„ç»‡æˆ˜å½¹ã€æˆ˜æ–—çš„å‡†å¤‡å·¥ä½œï¼ŒåŠ›æ±‚ç¡®æœ‰æŠŠæ¡æ‰åŠ¨æ‰‹ï¼Œä¸æ‰“æ— æŠŠæ¡ä¹‹ä»—ã€‚ä½†æ˜¯ä»»ä½• ä¸€æ¬¡æˆ˜æ–—éƒ½ä¸å¯èƒ½å®Œå…¨å…·å¤‡å„ç§æ¡ä»¶ï¼Œä¸å¯èƒ½æœ‰ç™¾åˆ†ä¹‹ç™¾çš„æŠŠæ¡ã€‚ä¸€èˆ¬è¯´æœ‰ç™¾åˆ†ä¹‹ä¸ƒåå·¦å³çš„æŠŠæ¡ï¼Œå°±å¾ˆä¸é”™äº†ï¼Œå°±è¦åšå†³åœ°æ‰“ï¼Œæ”¾æ‰‹åœ°æ‰“ã€‚ä¸è¶³çš„æ¡ä»¶ï¼Œè¦é€šè¿‡å…… åˆ†å‘æŒ¥äººçš„å› ç´ çš„ä½œç”¨ï¼Œä¾é äººæ°‘ç¾¤ä¼—çš„åŠ›é‡ï¼Œå……åˆ†å‘æŒ¥äººæ°‘å†›é˜Ÿç‰¹æœ‰çš„æ”¿æ²»ä¸Šçš„ä¼˜åŠ¿ï¼Œå……åˆ†å‘æŒ¥æŒ‡æˆ˜å‘˜çš„æ™ºæ…§å’Œè‹±å‹‡é¡½å¼ºçš„æˆ˜æ–—ä½œé£æ¥å¼¥è¡¥ï¼Œä»¥ä¸»è§‚åŠªåŠ›æ¥åˆ›é€ æ¡ ä»¶ï¼ŒåŒ–å†’é™©æ€§ä¸ºåˆ›é€ æ€§ï¼Œå–å¾—èƒœåˆ©ã€‚</p><p>ã€€ã€€ä¸ƒã€è¦æœ‰ä¸€ä¸ªå¾ˆå¥½çš„å¾ˆå›¢ç»“çš„ç­å­ã€‚é¢†å¯¼ç­å­æ€æƒ³è®¤è¯†è¦ä¸€è‡´ï¼Œè¡ŒåŠ¨è¦åè°ƒã€åˆæ‹ï¼Œè¦é›·å‰é£è¡Œï¼Œè¦æœ‰é©å‘½è‹±é›„ä¸»ä¹‰çš„æ°”æ¦‚ã€‚éƒ½è¦å‹¤å¿«ï¼Œéƒ½åƒæ–¹ç™¾è®¡åœ°åŠå¥½äº‹æƒ…ï¼Œå®Œæˆä»»åŠ¡ã€‚ä¸äº’ç›¸æ‰¯çš®ï¼Œä¸äº’ç›¸å¹²æ‰°ï¼Œä¸æŠ±æ—è§‚è€…çš„æ€åº¦ã€‚å¦‚æœé¢†å¯¼ç­å­ä¸å¥½ï¼Œäººå¤šä¸ä½†æ— ç”¨ï¼Œåè€Œæœ‰å®³ã€‚</p><p>ã€€ ã€€å…«ã€è¦æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æˆ˜æ–—ä½œé£ã€‚æœ‰å¥½çš„æˆ˜æ–—ä½œé£çš„éƒ¨é˜Ÿæ‰èƒ½æ‰“å¥½ä»—ï¼Œæ‰“èƒœä»—ã€‚å¥½çš„æˆ˜æ–—ä½œé£é¦–å…ˆæ˜¯ä¸å«è‹¦ï¼ŒæŠ¢ç€å»æ‹…è´Ÿæœ€è‰°å·¨çš„ä»»åŠ¡ï¼Œè‹±å‹‡é¡½å¼ºï¼Œä¸æ€•ç‰ºç‰²ï¼ŒçŒ›æ‰“ çŒ›å†²çŒ›è¿½ã€‚ç‰¹åˆ«æ˜¯è¦å‹‡äºç©·è¿½ã€‚å› ä¸ºæŠŠæ•Œäººæ‰“å®ä»¥åï¼Œè¿½å‡»æ˜¯è§£å†³æˆ˜æ–—ã€æ‰©å¤§æˆ˜æœã€å½»åº•æ­¼ç­æ•Œäººæœ€å…³é”®çš„ä¸€æ‹›ã€‚åœ¨è¿½å‡»æ—¶ï¼Œè¦è·‘æ­¥è¿½ï¼Œå¿«æ­¥è¿½ï¼Œèµ°ä¸åŠ¨çš„æ‰¶ç€æ‹æ£ è¿½ï¼Œå°±æ˜¯çˆ¬ã€æ»šï¼Œä¹Ÿè¦å¾€å‰è¿½ï¼Œåªæœ‰æŠ“ä½æ•Œäººï¼Œæ‰èƒ½åƒæ‰æ•Œäººã€‚å¥½çš„æˆ˜æ–—ä½œé£è¦é å¹³æ—¶å…»æˆï¼Œè¦é å®é™…é”»ç‚¼ï¼Œè¦åœ¨ç´§å¼ ã€æ®‹é…·çš„æˆ˜æ–—ä¸­æ‰èƒ½é”»ç‚¼å‡ºæ¥ã€‚ä¸æ•¢æ‰“ç¡¬ä»—ã€ æ¶ä»—çš„éƒ¨é˜Ÿï¼Œè®©ä»–æ‰“å‡ æ¬¡å°±æ‰“å‡ºæ¥äº†ï¼Œå› ä¸ºå·²ç»è§è¯†è¿‡ç¡¬ä»—ã€æ¶ä»—çš„åœºé¢ï¼Œæœ‰äº†ä½“ä¼šï¼Œæœ‰äº†ç»éªŒï¼ŒçŸ¥é“æ€ä¹ˆæ‰“äº†ï¼Œç™¾ç‚¼æˆé’¢å°±æ˜¯è¿™ä¸ªé“ç†ã€‚åšå·¥ä½œä¹Ÿè¦æœ‰å¥½çš„ä½œé£ï¼Œ è¯´äº†å°±è¦åšï¼Œè¯´åˆ°é‚£é‡Œåšåˆ°é‚£é‡Œï¼Œè¦åšå¾—å¹²è„†åˆ©ç´¢ï¼Œè¦ä¸€ç«¿å­æ’åˆ°åº•ï¼Œä¸€ç‚¹ä¸å«ç³Šï¼Œä¸åšå¥½ä¸æ’’æ‰‹ã€‚å¥½çš„ä½œé£çš„å…»æˆï¼Œå…³é”®åœ¨äºå¹²éƒ¨ã€‚å¼ºå°†æ‰‹ä¸‹æ— å¼±å…µï¼Œå¹²éƒ¨çš„ä½œé£ æ€ä¹ˆæ ·ï¼Œéƒ¨é˜Ÿçš„ä½œé£å°±ä¼šæ€ä¹ˆæ ·ã€‚å› æ­¤ï¼Œé¦–å…ˆè¦æŠ“å¥½å¹²éƒ¨ï¼Œè¦å¹²éƒ¨åšå‡ºæ ·å­ï¼Œå½±å“å¸¦åŠ¨éƒ¨é˜Ÿã€‚åªè¦å¹²éƒ¨ä½œé£å¥½ï¼ŒæŒ‡æŒ¥å¥½æˆ˜æ–—ï¼Œå¤šæ‰“èƒœä»—ï¼Œå³ä½¿æ˜¯æ–°å»ºçš„éƒ¨é˜Ÿæˆ–è€…åŸæ¥ åŸºç¡€è¾ƒå¼±çš„éƒ¨é˜Ÿï¼Œä¹Ÿä¼šå¾ˆå¿«æ‰“å‡ºå¥½ä½œé£æ¥ï¼Œåƒé“é”¤ä¸€æ ·ï¼Œç ¸åˆ°é‚£é‡Œï¼Œé‚£é‡Œå°±ç¢ã€‚</p><p>ã€€ã€€ä¹ã€è¦é‡è§†æ”¿æ²»ï¼Œäº²è‡ªåšæ”¿æ²»å·¥ä½œã€‚éƒ¨é˜Ÿæˆ˜æ–—åŠ›çš„æé«˜ è¦é å¹³æ—¶åšå¼ºçš„å…šçš„é¢†å¯¼ã€åšå¼ºçš„æ”¿æ²»å·¥ä½œã€‚è¿é˜Ÿçš„æ”¯éƒ¨ä¸€å®šè¦å»ºè®¾å¥½ï¼Œæ”¯éƒ¨çš„å·¥ä½œè¦åšæ´»ï¼Œå°±æ˜¯è¦æŠŠæ‰€æœ‰å…šå›¢å‘˜çš„é©å‘½åŠ²å¤´é¼“å¾—è¶³è¶³çš„ï¼Œå……åˆ†å‘æŒ¥ä»–ä»¬çš„æ¨¡èŒƒä½œ ç”¨ã€å¸¦å¤´ä½œç”¨ï¼Œé€šè¿‡ä»–ä»¬æŠŠå…¨è¿å¸¦åŠ¨èµ·æ¥ï¼Œé€šè¿‡ä»–ä»¬å»åšæ”¿æ²»å·¥ä½œï¼Œæé«˜å…¨ä½“æŒ‡æˆ˜å‘˜çš„é˜¶çº§è§‰æ‚Ÿã€‚æœ‰äº†åšå¼ºçš„å…šæ”¯éƒ¨çš„é¢†å¯¼ï¼Œæœ‰äº†åšå¼ºçš„æ”¿æ²»å·¥ä½œï¼Œå°±å¯ä»¥åšåˆ°ä¸€å‘¼ ç™¾åº”ï¼Œäº‰å…ˆæåï¼Œä¸æ€•ç‰ºç‰²ï¼Œå‰èµ´åç»§ã€‚æˆ˜æœ¯ã€æŠ€æœ¯ä¹Ÿè¦ç»ƒå¥½ï¼Œç‰¹åˆ«æ˜¯æŠ€æœ¯ï¼Œå¦‚æœæªæ‰“ä¸å‡†ï¼Œæˆ˜åœºä¸Šå°±ä¸èƒ½æ¶ˆç­æ•Œäººï¼Œå°±ä¸èƒ½è§£å†³æˆ˜æ–—ã€‚å› æ­¤ï¼Œå†›äº‹è®­ç»ƒä¸èƒ½é©¬è™ï¼Œ å…šæ”¿å·¥ä½œè¦é¢†å¯¼å¥½è®­ç»ƒã€‚è‰ºé«˜äººèƒ†å¤§ï¼Œèƒ†å¤§è‰ºæ›´é«˜ï¼Œéƒ¨é˜Ÿæœ‰äº†é«˜åº¦çš„æ— äº§é˜¶çº§è§‰æ‚Ÿï¼Œæœ‰äº†å¥½çš„æˆ˜æ–—ä½œé£ï¼Œå†åŠ ä¸Šè¿‡ç¡¬çš„ä½œæˆ˜æœ¬é¢†ï¼Œå°±å¦‚è™æ·»ç¿¼ï¼Œå°±å¯ä»¥æ— æ•Œäºå¤©ä¸‹ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/life/">life</category>
      
      
      <comments>http://example.com/2017/01/11/good%20commander/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>logistic regressionçš„å…¬å¼æ‰‹æ¨ç›¸å…³</title>
      <link>http://example.com/2017/01/09/logistic-regression/</link>
      <guid>http://example.com/2017/01/09/logistic-regression/</guid>
      <pubDate>Mon, 09 Jan 2017 07:56:59 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡æœ‰å…³logistic regressionçš„å…¬å¼ç›¸å…³çš„æ‰‹æ¨ï¼ŒåŒ…æ‹¬å‡è¯´å‡½æ•°ã€æå¤§ä¼¼ç„¶ä¼°è®¡ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡æœ‰å…³logistic regressionçš„å…¬å¼ç›¸å…³çš„æ‰‹æ¨ï¼ŒåŒ…æ‹¬å‡è¯´å‡½æ•°ã€æå¤§ä¼¼ç„¶ä¼°è®¡ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚</p><span id="more"></span><h2 id="Hypothesis"><a href="#Hypothesis" class="headerlink" title="Hypothesis"></a>Hypothesis</h2><p>é¦–é€‰æˆ‘ä»¬è¦æ˜ç¡®ï¼Œlogistic regressionè™½ç„¶å«â€œå›å½’â€ï¼Œä½†æ˜¯å®ƒå´æ˜¯ç”¨æ¥åšåˆ†ç±»çš„ï¼Œä¹Ÿæ˜¯æœ€æœ€å¸¸ç”¨çš„åˆ†ç±»æœºå™¨å­¦ä¹ ç®—æ³•ã€‚å…¶å‡è¯´æ¨¡å‹ä¸ºï¼š</p><p>$$<br>h_{\theta}(x) = g(\theta ^T x)<br>$$</p><p>å…¶ä¸­$g(z) = \frac{1}{1+e^{-z}}$ï¼Œso</p><p>$$<br>h_{\theta}(x) = \frac{1}{1+e^{-\theta ^T x}}<br>$$</p><p>å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°ä¸»ä½“å’Œçº¿æ€§å›å½’ä¸€æ ·ï¼Œéƒ½æ˜¯æ ·æœ¬ä¸å‚æ•°çš„å†…ç§¯ï¼Œä½†æ˜¯é€»è¾‘å›å½’æ˜¯ç”¨æ¥æ‰“åˆ†çš„ï¼Œä¹Ÿå°±æ˜¯åˆ¤æ–­æ ·æœ¬æ˜¯æ­£è´Ÿä¾‹çš„æ¦‚ç‡ï¼Œéœ€è¦$g(z)$ä¹Ÿå°±æ˜¯sigmoidæˆ–è€…logisticså‡½æ•°æ¥å°†è¿™ä¸ªå†…ç§¯æ˜ å°„åˆ°ä¸€ä¸ªåŒºé—´(0,1)ï¼Œæ‰€ä»¥å®é™…ä¸Š</p><p>$$<br>h_{\theta}(x) = p(y=1 | x;\theta)<br>$$</p><p>ä»¥ä¸Šåªæ˜¯å¾—å‡ºäº†æ ·æœ¬ç‚¹æ˜¯æ­£ä¾‹çš„æ¦‚ç‡ï¼Œåˆ°åº•é¢„æµ‹å®ƒæ˜¯æ­£ä¾‹è¿˜æ˜¯è´Ÿä¾‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªdecision boundaryï¼Œä¾‹å¦‚</p><p>$$<br>h_{\theta}(x) \ge 0.5 \rightarrow y=1 \<br>h_{\theta}(x) \lt 0.5 \rightarrow y=0<br>$$</p><p>ç”±äºsigmoidå‡½æ•°çš„å½¢çŠ¶æˆ‘ä»¬å®¹æ˜“å¾—åˆ°</p><p>$$<br>\theta ^T x \ge 0 \rightarrow y=1 \<br>\theta ^T x \lt 0 \rightarrow y=0<br>$$</p><p>å½“ç„¶ï¼Œdecision boundaryå±äºå‡è¯´å‡½æ•°çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¸€å®šå°±æ˜¯0.5.</p><h2 id="æå¤§ä¼¼ç„¶ä¼°è®¡"><a href="#æå¤§ä¼¼ç„¶ä¼°è®¡" class="headerlink" title="æå¤§ä¼¼ç„¶ä¼°è®¡"></a>æå¤§ä¼¼ç„¶ä¼°è®¡</h2><p>äºŒå…ƒåˆ†ç±»å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªä¼¯åŠªåˆ©åˆ†å¸ƒï¼Œåˆå«åš0-1åˆ†å¸ƒï¼Œä¸Šé¢æåˆ°<br>$$<br>p(y=1 | x;\theta) = h_{\theta}(x)<br>$$</p><p>é‚£ä¹ˆè‡ªç„¶æœ‰</p><p>$$<br>p(y=0 | x;\theta) = 1 - h_{\theta}(x)<br>$$</p><p>é‚£ä¹ˆæ€»ä½“åˆ†å¸ƒä¹Ÿå°±æ˜¯å¾—åˆ°ä¸€ä¸ªè§‚æµ‹å€¼çš„æ¦‚ç‡å¯ä»¥ç”¨Trickå†™æˆ<br>$$<br>p(y | x;\theta) = (h_{\theta}(x))^y (1 - h_{\theta}(x^i))^{(1-y)}<br>$$</p><p>å› ä¸ºæ¯ä¸€ä¸ªæ ·æœ¬å’Œå…¶ä»–æ ·æœ¬æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„ï¼ŒæŠŠå®ƒä»¬çš„æ¦‚ç‡ç›¸ä¹˜å¾—åˆ°ä¼¼ç„¶å‡½æ•°ï¼Œ</p><p>$$<br>L(\theta) = \prod_{i=1}^{m}((h_{\theta}(x^i))^{y^i} (1 - h_{\theta}(x^i))^{(1-y^i)})<br>$$<br>ä¸ºè®¡ç®—æ–¹ä¾¿ï¼Œå–å¯¹æ•°ï¼Œå¾—åˆ°</p><p>$$<br>l(\theta) = \sum_{i=1}^{m} (y^i \log(h_{\theta}(x^i)) +<br>(1-y^i) (1 - h_{\theta}(x^i))<br>)<br>$$</p><h2 id="Cost-Function"><a href="#Cost-Function" class="headerlink" title="Cost Function"></a>Cost Function</h2><p>æ—¢ç„¶é€»è¾‘å›å½’æ˜¯åšé¢„æµ‹çš„ï¼Œé‚£ä¹ˆæŸå¤±å‡½æ•°å°±æ˜¯é¢„æµ‹é”™äº†å¤šå°‘çš„åº¦é‡å’¯ã€‚æ¯”å¦‚æˆ‘ä»¬å°±å¯ä»¥ç»Ÿè®¡åˆ°åº•é¢„æµ‹é”™äº†å¤šå°‘ä¸ªï¼Œæ¥å½“åšæŸå¤±å‡½æ•°ï¼Œä½†æ˜¯å‘¢ï¼Œè¿™æ ·çš„å‡½æ•°è‚¯å®šæ˜¯éå‡¸çš„ï¼Œä¸å¥½ä¼˜åŒ–ï¼Œæ‰€ä»¥å®é™…é‡‡ç”¨çš„æŸå¤±å‡½æ•°æ˜¯è¿™æ ·çš„</p><p>$$<br>J(\theta) = \frac{1}{m}\sum_{i=1}^{m} (Cost(h_{\theta}(x^i)), y^i)<br>$$</p><p>å…¶ä¸­<br>$$<br>Cost(h_{\theta}(x), y) = -\log(h_{\theta}(x)) \ \  if \ \ y=1 \<br>;Cost (h_{\theta}(x), y) = -\log(1 - h_{\theta}(x)) \ \  if \ \ y=0<br>$$</p><p>å¯ç®€å†™æˆï¼š</p><p>$$<br>Cost(h_{\theta}(x), y) = -  y \log(h_{\theta}(x)) - (1-y) \log(1 - h_{\theta}(x))<br>$$</p><p>å‡½æ•°å›¾åƒå¦‚ä¸‹</p><p><img src="/%5Cimages%5C2017%5C01%5Coctave-workspace.png"></p><p><img src="/%5Cimages%5C2017%5C01%5CUt7vvXnxEead-BJkoDOYOw_f719f2858d78dd66d80c5ec0d8e6b3fa_Logistic_regression_cost_function_negative_class.png"></p><p>å¯ä»¥ç›´è§‚çš„çœ‹åˆ°ï¼Œå°±æ˜¯æ¦‚ç‡é¢„æµ‹çš„å’Œæ ‡ç­¾è¶Šæ¥è¿‘æƒ©ç½šè¶Šå°ï¼Œåä¹‹è¶Šå¤§ã€‚å½“ç„¶ï¼Œè¿™é‡Œè®²çš„åªæ˜¯äºŒå…ƒåˆ†ç±»ï¼Œæ ‡ç­¾ä¸æ˜¯0å°±æ˜¯1.</p><p>æœ€åï¼Œé€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°ä¸º</p><p>$$<br>J(\theta) = - \frac{1}{m} \sum_{i=1}^{m} (y^i \log(h_{\theta}(x^i)) + (1-y^i) \log (1-h_{\theta}(x^i))<br>$$</p><h2 id="ä¼˜åŒ–è¿‡ç¨‹"><a href="#ä¼˜åŒ–è¿‡ç¨‹" class="headerlink" title="ä¼˜åŒ–è¿‡ç¨‹"></a>ä¼˜åŒ–è¿‡ç¨‹</h2><p>æ¢¯åº¦ä¸‹é™æ›´æ–°ç®—æ³•</p><p>$$<br>\theta_j = \theta_j - \alpha \frac{\partial J(\theta)}{\partial \theta_j}<br>$$</p><p>å…¶ä¸­ï¼Œ</p><p>$$<br>\frac{\partial J(\theta)}{\partial \theta_j} = - \frac{1}{m} \sum{i=1}^{m} (y^i \log(g(z)) + (1-y^i) \log (1-g(z))<br>$$</p><p>$$<br>= - \frac{1}{m} \sum_{i=1}^{m} ( \frac{y^i}{g(z)} \frac{\partial g(z)}{\theta_j} - \frac{1-y^i}{1-g(z)} \frac{\partial g(z)}{\theta_j})<br>$$</p><p>$$<br>= - \frac{1}{m} \sum_{i=1}^{m}   \frac{y^i - g(z)}{g(z)(1-g(z))}  \frac{\partial g(z)}{\theta_j}<br>$$</p><p>åˆ<br>$$<br>\frac{\partial g(z)}{\theta_j} = g(z)(1-g(z)x_j^i<br>$$</p><p>ä»£å…¥ä¸Šå¼å¯å¾—<br>$$<br>\frac{\partial J(\theta)}{\partial \theta_j} =<br>\frac{1}{m} \sum_{i=1}^{m}(h_{\theta}(x^i)-y^i)x_j^i<br>$$<br>è¿™å°±å¾—åˆ°äº†é€»è¾‘å›å½’çš„æ¢¯åº¦ä¸‹é™æ›´æ–°å¼å­<br>$$<br>\theta_j = \theta_j - \alpha \frac{1}{m} \sum_{i=1}^{m}(h_{\theta}(x^i)-y^i)x_j^i<br>$$<br>æ˜¯ä¸æ˜¯æ„Ÿè§‰å’Œçº¿æ€§å›å½’çš„å¼å­ä¸€æ¨¡ä¸€æ ·ï¼Ÿå“ˆå“ˆï¼Œå¾ˆç¥å¥‡å§ï¼ä¸è¿‡æ³¨æ„ä¸¤è€…çš„å‡è¯´å‡½æ•°$h_{\theta}(x)$æ˜¯ä¸åŒçš„ï¼ŒåŒºåˆ«åœ¨è¿™å„¿ã€‚</p><h2 id="ç‰›é¡¿æ³•ä¼˜åŒ–"><a href="#ç‰›é¡¿æ³•ä¼˜åŒ–" class="headerlink" title="ç‰›é¡¿æ³•ä¼˜åŒ–"></a>ç‰›é¡¿æ³•ä¼˜åŒ–</h2><p>é™¤äº†æ¢¯åº¦ä¸‹é™ï¼Œå…¶å®è¿˜æœ‰è®¸å¤šå¯ä»¥å¯¹é€»è¾‘å›å½’åšä¼˜åŒ–çš„æ–¹æ³•ï¼Œä¾‹å¦‚ç‰›é¡¿æ³•ï¼Œè¿™é‡Œæœ‰å¾…ä¸‹æ¬¡æ›´æ–°ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      
      <comments>http://example.com/2017/01/09/logistic-regression/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>linear regression çš„å…¬å¼æ‰‹æ¨ç›¸å…³</title>
      <link>http://example.com/2017/01/06/linear-regression/</link>
      <guid>http://example.com/2017/01/06/linear-regression/</guid>
      <pubDate>Fri, 06 Jan 2017 13:55:30 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡æœ‰å…³å¤šå…ƒlinear Regressionçš„æŸå¤±å‡½æ•°ä»æå¤§ä¼¼ç„¶ä¼°è®¡çš„è§’åº¦çš„æ¨å¯¼ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚çº¯æ‰‹æ‰“ï¼Œ^^&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡æœ‰å…³å¤šå…ƒlinear Regressionçš„æŸå¤±å‡½æ•°ä»æå¤§ä¼¼ç„¶ä¼°è®¡çš„è§’åº¦çš„æ¨å¯¼ä»¥åŠæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚çº¯æ‰‹æ‰“ï¼Œ^^</p><span id="more"></span><h2 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h2><p>æˆ‘ä»¬çš„æ¨¡å‹ä¸º</p><p>$$<br>h_{\theta}(x) =  \theta_0 + \theta_1x + \theta_2 x^2 â€¦ = \theta ^ TX<br>$$</p><p>ä¼¼ç„¶å‡½æ•°ä¸ºï¼š</p><p>$$y^i = \theta ^ T x^i + \epsilon ^ i$$</p><p>ï¼Œæ®‹å·®ç”¨$\epsilon$è¡¨ç¤ºï¼Œå¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬ç‚¹çš„æ®‹å·®$\epsilon^i$ï¼Œï¼ˆæ³¨æ„ä»¥ä¸‹æ ‡å·ä¸­ä¸Šæ ‡iè¡¨ç¤ºç¬¬iä¸ªæ ·æœ¬ç‚¹ï¼‰ï¼Œæœ‰ï¼š</p><p>$$<br>\epsilon^i = y^i - h_{\theta}(x^i) = y^i - \theta ^ T x^i<br>$$</p><p>é‚£ä¹ˆæˆ‘ä»¬æœ‰å‡è®¾æ‰€æœ‰çš„æ®‹å·®æ ¹æ®ä¸­å¿ƒæé™å®šç†ï¼Œå…¶å¯†åº¦å‡½æ•°$p(\epsilon^i)$ç¬¦åˆå‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º$\sigma^2$çš„é«˜æ–¯åˆ†å¸ƒï¼Œå³</p><p>$$<br>p(\epsilon^i) = \frac{1}{\sqrt {2\pi} \sigma} \exp (-\frac{(\epsilon^i)^2}{2 \sigma ^2}) \<br>= \frac{1}{\sqrt {2\pi} \sigma} \exp (-\frac{(y^i - \theta ^ T x^i)^2}{2 \sigma ^2})<br>$$</p><p>é‚£ä¹ˆï¼Œä¼¼ç„¶å‡½æ•°å°±æ˜¯æ‰€æœ‰æ ·æœ¬ç‚¹çš„å‡ºç°çš„æ¦‚ç‡ä¹˜ç§¯ï¼Œå³</p><p>$$<br>L(\theta) = \prod_{i=1}^{m} p(\epsilon^i) \<br>$$</p><p>$$<br>= \prod_{i=1}^{m} \frac{1}{\sqrt {2\pi} \sigma} \exp (-\frac{(y^i - \theta ^ T x^i)^2}{2 \sigma ^2})<br>$$</p><p>æˆ‘ä»¬æœ€ç»ˆæ˜¯æ±‚$\theta$çš„æœ€ä¼˜è§£ï¼Œäºæ˜¯å¯¹ä¼¼ç„¶å‡½æ•°å–å¯¹æ•°ï¼Œ</p><p>$$<br>l(\theta) = \log \left(\prod_{i=1}^{m} \frac{1}{\sqrt {2\pi} \sigma} \exp (-\frac{(y^i - \theta ^ T x^i)^2}{2 \sigma ^2})\right) \<br>$$</p><p>$$<br>= m \log \frac{1}{\sqrt {2\pi} \sigma} - \frac{1}{2 \sigma ^2} \sum _{i=1}^{m} (y^i - \theta ^ T x^i)^2<br>$$</p><p>æ‰”æ‰å¸¸æ•°é¡¹ï¼Œå°±å¾—åˆ°äº†çº¿æ€§å›å½’çš„ç›®æ ‡å‡½æ•°æˆ–error functionï¼Œ</p><p>$$<br>J(\theta) = \frac{1}{2} \sum_{i=1}^m (h_{\theta}(x^i) - y^i) ^ 2<br>$$</p><h2 id="æœ€å°äºŒä¹˜æ³•"><a href="#æœ€å°äºŒä¹˜æ³•" class="headerlink" title="æœ€å°äºŒä¹˜æ³•"></a>æœ€å°äºŒä¹˜æ³•</h2><p>ä»¥ä¸Šå¯ä»¥æŠŠç›®æ ‡å‡½æ•°å†™æˆè¿™æ ·çš„å½¢å¼ï¼š</p><p>$$<br>J(\theta) = \frac{1}{2} (X \theta - y)^T (X \theta - y)<br>$$</p><p>å¯¹å‘é‡$\theta$æ±‚å¯¼ï¼Œ</p><p>$$<br>\frac{\partial J(\theta)}{\partial \theta} =  X^T(X \theta - y)<br>$$</p><p>ç›´æ¥ä»¤ä¸Šå¼ä¸ºé›¶ï¼Œå¾—åˆ°</p><p>$$<br>\theta = (X^TX)^{-1} X^Ty<br>$$</p><p>æœ€å°äºŒä¹˜æ³•è§£çº¿æ€§å›å½’ç†è®ºå¾ˆæ¼‚äº®ï¼Œä½†æ˜¯å› ä¸ºå¤æ‚åº¦çš„åŸå› å®é™…ä¸Šä¸å¸¸ç”¨ã€‚å› ä¸ºçŸ©é˜µæ±‚é€†çš„å¤æ‚åº¦ä¸º$O(n^3)$ï¼Œå¾ˆæ…¢ã€‚å¦å¤–ä¸€ç§è§£é‡Šæ˜¯é€šå¸¸Xä¸æ˜¯æ»¡ç§©çš„ï¼Œè­¬å¦‚ç”Ÿç‰©å­¦ç§‘é‡Œé¢çš„æ•°æ®ï¼Œç‰¹å¾æœ‰æˆåƒä¸Šä¸‡ä¸ªï¼Œæ•°æ®å´å°‘å¾—å¯æ€œï¼Œè¿™ç§é€šå¸¸æ˜¯è§£ä¸å‡ºç‰¹å®šçš„è§£çš„ã€‚</p><h2 id="æ¢¯åº¦ä¸‹é™ç®—æ³•"><a href="#æ¢¯åº¦ä¸‹é™ç®—æ³•" class="headerlink" title="æ¢¯åº¦ä¸‹é™ç®—æ³•"></a>æ¢¯åº¦ä¸‹é™ç®—æ³•</h2><p>å¸¸ç”¨çš„è¿˜æ˜¯æ¢¯åº¦ä¸‹é™æ³•ã€‚ä»¥ä¸Šå¾—åˆ°äº†æŸå¤±å‡½æ•°ä¸º</p><p>$$<br>J(\theta) = \frac{1}{2} \sum_{i=1}^m (h_{\theta}(x^i) - y^i) ^ 2<br>$$</p><p>é‚£ä¹ˆï¼Œé€šè¿‡å¯¹$\theta$çš„å„åˆ†é‡$\theta_i$æ ¹æ®æ¢¯åº¦æ›´æ–°å…¶å€¼å³å¯</p><p>$$<br>\theta_j = \theta_j -  \alpha \frac{\partial J(\theta)}{\partial \theta_j}<br>$$</p><p>è€Œä¸Šå¼ä¸­</p><p>$$<br>\frac {\partial J(\theta)}{\partial \theta_i} =<br>$$</p><p>$$<br>\frac{1}{2m} \sum_{i=1}^m \frac{\partial(h_{\theta}(x^i) - y^i) ^ 2}{\partial \theta_j}<br>$$</p><p>$$<br>= \frac{2}{2m} \sum_{i=1}^m (h_{\theta}(x^i) - y^i)  \frac{\partial h_{\theta}(x^i)}{\partial \theta_j}<br>$$</p><p>åˆä¸Šå¼ä¸­</p><p>$$<br>\frac{\partial h_{\theta}(x^i)}{\partial \theta_j} =<br>\frac{\partial (\theta_0 x_0^i + \theta_1 x_1^i + \cdots+ \theta_j x_j^i + \cdots)}{\partial \theta_j} \<br>= \frac{\partial ( \theta_j x_j^i )}{\partial \theta_j}<br>= x_j^i<br>$$</p><p>ä¸€æ­¥æ­¥ä»£ä¸Šå»å¯å¾—</p><p>$$<br>\theta_j = \theta_j -  \alpha \frac{1}{m} \sum_{i=1}^m {(h_{\theta}(x^i) - y^i)} x_j^i<br>$$</p><p>è¿™å°±æ˜¯æ¢¯åº¦ä¸‹é™æ³•æ›´æ–°å¤šå…ƒçº¿æ€§å›å½’çš„å…¬å¼å•¦ï¼^_^</p><p>PSï¼šæœ‰ç»†å¿ƒçš„åŒå­¦å¯èƒ½å‘ç°ä¸Šé¢çš„å¼å­ä¸­æ·»åŠ äº†$\frac{1}{m}$ï¼Œå¯èƒ½æœ‰ç–‘æƒ‘ï¼Œæƒ³é—®æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å›ç­”ï¼šå…¶å®æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒæœ€ä¼˜åŒ–çš„æ—¶å€™ï¼Œç›®æ ‡å‡½æ•°çš„æå€¼æ˜¯å¤šå°‘ï¼Œè€Œæˆ‘ä»¬åªå…³æ³¨ï¼Œç›®æ ‡å‡½æ•°å–æå€¼çš„æ—¶å€™ï¼Œå‚æ•°çš„å€¼æ˜¯å¤šå°‘ã€‚æ‰€ä»¥å› ä¸ºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬ç»å¸¸ä¸ºäº†å¼å­ç®€ä¾¿è€Œå¯¹ç›®æ ‡å‡½æ•°åšç¼©æ”¾ï¼Œæ¯”å¦‚ä¸Šé¢çš„å–å¯¹æ•°ï¼Œå¯¹æ•°çš„åº•æ˜¯eè¿˜æ˜¯2æ ¹æœ¬æ²¡æœ‰åŒºåˆ«ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      
      <comments>http://example.com/2017/01/06/linear-regression/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>AliPay RedEnvelope Hacker</title>
      <link>http://example.com/2016/12/25/AliPay-RedEnvelope-Hacker/</link>
      <guid>http://example.com/2016/12/25/AliPay-RedEnvelope-Hacker/</guid>
      <pubDate>Sun, 25 Dec 2016 15:16:53 GMT</pubDate>
      
      <description>&lt;p&gt; æœ€è¿‘æ”¯ä»˜å®ç»§ç»­å…¶é€†å¤©æ”¹å‘½çš„è¿½èµ¶è¶…è¶Šå¾®ä¿¡çš„ç¤¾äº¤æ¢¦ä¹‹è·¯ï¼Œä¸Šçº¿äº†ç‹‚æ‹½é…·ç‚«åŠç‚¸å¤©çš„ARçº¢åŒ…ç©æ³•ï¼Œé¡¿æ—¶åˆ·çˆ†äº†ä¸€æ³¢æœ‹å‹åœˆï¼Œä½†æ˜¯è¿™çƒ­é—¹åé¢ä¹Ÿéšè—ç€ä¸€äº›é—®é¢˜ç”šè‡³æ˜¯è‡´å‘½Bugæˆ–è€…å±æœºã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p> æœ€è¿‘æ”¯ä»˜å®ç»§ç»­å…¶é€†å¤©æ”¹å‘½çš„è¿½èµ¶è¶…è¶Šå¾®ä¿¡çš„ç¤¾äº¤æ¢¦ä¹‹è·¯ï¼Œä¸Šçº¿äº†ç‹‚æ‹½é…·ç‚«åŠç‚¸å¤©çš„ARçº¢åŒ…ç©æ³•ï¼Œé¡¿æ—¶åˆ·çˆ†äº†ä¸€æ³¢æœ‹å‹åœˆï¼Œä½†æ˜¯è¿™çƒ­é—¹åé¢ä¹Ÿéšè—ç€ä¸€äº›é—®é¢˜ç”šè‡³æ˜¯è‡´å‘½Bugæˆ–è€…å±æœºã€‚</p><span id="more"></span><p>ARçº¢åŒ…ä¸€ä¸Šçº¿ï¼Œæ¯èª‰å‚åŠï¼Œæœ‰åª’ä½“äººäº§å“æ–¹é¢äººå£«è¡¨ç¤ºâ€œè¿™æ˜¯æ”¯ä»˜å®åœ¨å¯¹æŠ—å¾®ä¿¡çš„æˆ˜åœºä¸Šï¼Œéš¾å¾—çš„æ¼‚äº®åå‡»â€ï¼Œä½†æ˜¯ã€‚ã€‚ã€‚åŒæ—¶å¾ˆå¿«æœ‰å¤©æ‰æ‰¾åˆ°äº†ä½œå¼Šçš„æ–¹æ³•ï¼Œæ‰€è°“å®ç°äº†â€œæ—©ä¸Šè¯•äº†ä¸€ä¸‹ï¼Œç°åœ¨å·²ç»å®ç°åœ¨å®¶æ”¶çº¢åŒ…çš„å±€é¢äº†â€ï¼Œæ–¹æ³•å…¶å®ç±»ä¼¼æˆ‘ä¹‹åæåˆ°çš„ï¼Œåªæ˜¯ä»–ç”¨çš„æ˜¯PSã€‚ã€‚ã€‚æ–¹æ³•æ˜¯ï¼š</p><ul><li>æˆªå›¾æ”¾åˆ°psé‡Œï¼Œå»ºç«‹å’Œé»‘è‰²æ¡çº¹ç­‰å®½çš„é•¿æ¡è‹¥å¹²ï¼›</li><li>é»‘è‰²æ¡çº¹ç„¶åå¾€ä¸Šç§»åŠ¨ä¸€ç‚¹ï¼Œè¦†ç›–ä½æ˜¾ç¤ºå›¾ç‰‡çš„åŒºåŸŸï¼Œå†å¤åˆ¶ä¸€å¼ æˆªå›¾ç½®äºé¡¶å±‚å»ºç«‹å‰ªè´´è’™æ¿ï¼ŒæŠŠä½ç½®é”™æ¥æ¥çœ‹ï¼›</li><li>æ‰«ä¸€ä¸‹å°±å¯ä»¥é¢†å–çº¢åŒ…äº†</li></ul><p> ä»¥ä¸Šæ¥è‡ªçŸ¥ä¹ç”¨æˆ·@Chain</p><p>å¾ˆå¿«æˆ‘åˆæ‰¾åˆ°äº†ä»£ç ç‰ˆæœ¬ï¼Œæ˜¯ç”¨phpå®ç°çš„ï¼Œæ•°è¡Œä»£ç å³å¯æå®šï¼ˆä¸ºäº†è·‘æˆåŠŸèŠ±äº†åŠå°æ—¶å­¦ä¹ å¦‚ä½•å®‰è£…å¹¶è·‘å‡ºphpçš„Hello Worldï¼Œå›§~ï¼‰ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">imagecropper</span>(<span class="params"><span class="variable">$source_path</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="variable">$source_info</span>   = getimagesize(<span class="variable">$source_path</span>);</span><br><span class="line"><span class="variable">$source_width</span>  = <span class="variable">$source_info</span>[<span class="number">0</span>];</span><br><span class="line"><span class="variable">$source_height</span> = <span class="variable">$source_info</span>[<span class="number">1</span>];</span><br><span class="line"><span class="variable">$source_mime</span>   = <span class="variable">$source_info</span>[<span class="string">&#x27;mime&#x27;</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$oldimg</span> = imagecreatefrompng(<span class="variable">$source_path</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$base_width</span>=<span class="number">340</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$base_height</span>=<span class="number">6</span>;</span><br><span class="line"><span class="variable">$baseimage</span> = imagecreatetruecolor(<span class="variable">$base_width</span>, <span class="variable">$base_width</span>);<span class="comment">// è‹¹æœå›¾å•Š</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$beginx</span> = <span class="number">150</span>;</span><br><span class="line"><span class="variable">$beginy</span> = <span class="number">444</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$thisimage</span> = imagecreatetruecolor(<span class="variable">$base_width</span>, <span class="variable">$base_height</span>);</span><br><span class="line">imagecopy(<span class="variable">$baseimage</span>, <span class="variable">$oldimg</span>, <span class="number">0</span>, <span class="number">0</span>,       <span class="variable">$beginx</span>,      <span class="variable">$beginy</span>, <span class="variable">$base_width</span>, <span class="variable">$base_height</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>;<span class="variable">$i</span>&lt;<span class="number">30</span>;<span class="variable">$i</span>++)&#123;</span><br><span class="line">imagecopy(<span class="variable">$baseimage</span>, <span class="variable">$oldimg</span>, <span class="number">0</span>, <span class="variable">$i</span>*(<span class="variable">$base_height</span>*<span class="number">2</span>)-<span class="variable">$base_height</span>, <span class="variable">$beginx</span>, (<span class="variable">$beginy</span>+(<span class="variable">$i</span>*(<span class="variable">$base_height</span>*<span class="number">2</span>))),  <span class="variable">$base_width</span>, <span class="variable">$base_height</span>);</span><br><span class="line">imagecopy(<span class="variable">$baseimage</span>, <span class="variable">$oldimg</span>, <span class="number">0</span>, <span class="variable">$i</span>*(<span class="variable">$base_height</span>*<span class="number">2</span>), <span class="variable">$beginx</span>, (<span class="variable">$beginy</span>+(<span class="variable">$i</span>*(<span class="variable">$base_height</span>*<span class="number">2</span>))),  <span class="variable">$base_width</span>, <span class="variable">$base_height</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">header(<span class="string">&#x27;Content-Type: image/png&#x27;</span>);</span><br><span class="line">imagepng(<span class="variable">$baseimage</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">imagecropper(<span class="string">&quot;http://127.0.0.1/frank/img/IMG_0734.png&quot;</span>)</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/2016/12/IMG_0723.PNG"></p><p><img src="/images/2016/12/IMG_0725.PNG"></p><p>ç®—æ³•çš„åŸç†æ˜¯ï¼šä½¿ç”¨imagecreatetruecoloråˆ›å»ºçš„æ–°å›¾åƒï¼Œåˆ©ç”¨imagecopyå°†æŒ‡å®šåæ ‡ï¼ˆæˆªå›¾ä¸­çš„çº¿ç´¢å›¾ç‰‡çš„æ–¹æ¡†çš„å·¦ä¸Šè§’ï¼‰å¼€å§‹çš„æ¨ªæ¡éƒ¨åˆ†é€æ­¥ä¾æ¬¡ç”±ä¸Šåˆ°ä¸‹å¤åˆ¶åˆ°æ–°å›¾åƒä¸Šï¼Œä»¥æ­¤è¾¾åˆ°ç”¨é»‘è‰²æ¡çº¹ä¸Šä¸‹æ–¹çš„ç›¸ä¼¼å›¾åƒé®ç›–æ¡çº¹çš„ç›®çš„ã€‚å½“ç„¶åŸä½œè€…çš„iPhoneè‚¯å®šä¸æ˜¯æˆ‘è¿™ä¸ªå‹å·ï¼Œæ‰€ä»¥å¾ˆæ˜¾ç„¶è¿™ä¸ªå¼€å§‹å¤åˆ¶çš„ç‚¹éœ€è¦æµ‹é‡æ‰‹æœºæˆªå›¾çš„å®é™…åƒç´ è·ç¦»æ‰å¯ä»¥ç¡®å®šï¼ˆåˆèŠ±äº†åŠä¸ªå°æ—¶æµ‹é‡æˆ‘æ‰‹æœºçš„æˆªå›¾çš„çº¿ç´¢å›¾ç‰‡æ–¹æ¡†å·¦ä¸Šè§’çš„åæ ‡ï¼Œå›§~ï¼‰ã€‚</p><p>ä»è¿™ä¸ªå®éªŒçš„è¿‡ç¨‹æˆ‘ä¹Ÿçœ‹åˆ°phpä½œä¸ºä¸æµè§ˆå™¨æ¯æ¯ç›¸å…³çš„è¯­è¨€çš„ä¼˜åŠ¿ï¼Œä¸Šé¢çš„ç¨‹åºæ˜¯æ¯æ¬¡è¿è¡Œéƒ½æŠŠæ–°å›¾ç‰‡æ˜¾ç¤ºåœ¨æµè§ˆå™¨é‡Œé¢ï¼Œæ‰€ä»¥æ¯æ¬¡æ”¶åˆ°æ–°æˆªå›¾éƒ½å¯ä»¥åªéœ€åˆ·æ–°ä¸€ä¸‹æµè§ˆå™¨å°±å¯ä»¥åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå‡ºå¤„ç†åçš„å›¾ç‰‡äº†ã€‚</p><p>è¿è¡Œæ­¤phpè„šæœ¬çš„æ–¹æ³•æ˜¯å°†å…¶æ”¾åœ¨xamppçš„htdocsç›®å½•ä¸‹ï¼Œå¼€å¯ApacheæœåŠ¡ï¼Œå†åœ¨æµè§ˆå™¨ä¸­è®¿é—®127.0.0.1/index.php å³å¯ï¼ˆindex.phpå³è„šæœ¬åï¼‰ã€‚</p><p>å…¶å®ä»ARçº¢åŒ…ä¸Šçº¿ä»¥æ¥å°±æœ‰è®¸å¤šé—®é¢˜ï¼Œè­¬å¦‚</p><ul><li><p>å¦‚æœçº¿ç´¢å›¾ç‰‡æ˜¯å·¥å¡ã€æ ¡å›­å¡æˆ–è€…æ¡Œæ¤…ã€çº¸å·¾ç­‰é™„è¿‘çš„äººä¹Ÿå¯ä»¥æ‹åˆ°ç±»ä¼¼çš„ç‰©å“æˆ–è€…å«æœ‰ç±»ä¼¼logoç‰©å“çš„å›¾ç‰‡ä¹Ÿæ˜¯å¯ä»¥é¢†å–çš„ï¼Œè¿™å°±æ¶‰åŠåˆ°å®šä½ç²¾å‡†åº¦ç­‰é—®é¢˜ï¼Œä¸è¿‡æˆ‘è®¤ä¸ºè¿™ä¹Ÿæ˜¯ç©æ³•çš„ä¹è¶£æ‰€åœ¨ï¼Œè®©äººæ°‘ç¾¤ä¼—å–œé—»ä¹è§çš„ä½œå¼Šä¹Ÿæ˜¯ä¹°ç‚¹ä¹‹ä¸€</p></li><li><p>è€Œåƒä¸Šé¢æåˆ°çš„ç›´æ¥å¤„ç†å›¾ç‰‡å°±å¯ä»¥ä½œå¼Šè‚¯å®šå°±æ˜¯å¤§é—®é¢˜äº†ï¼Œè¿™è¯´æ˜é˜¿é‡Œå“¦ä¸ï¼Œæ˜¯èš‚èšé‡‘æœå¯¹äºå›¾ç‰‡çš„å¤„ç†çš„ç®—æ³•æ€¥éœ€æ”¹è¿›ï¼Œè‚¯å®šä¸å¯èƒ½æ˜¯è¿™ç§é”™ä½ä¸€ä¸‹å›¾ç‰‡å°±å¯ä»¥ä½œå¼Šçš„ç¨‹åº¦ï¼Œè¿™é‡Œæˆ‘æœ‰ä¸ªæƒ³æ³•æ˜¯åŠ å…¥ç±»ä¼¼äºäººè„¸è¯†åˆ«é‡Œçš„åˆ¤æ–­æ˜¯çœŸäººè¿˜æ˜¯ç›¸ç‰‡çš„æ¨¡å—ï¼Œé€šè¿‡è¿™ä¸ªæ’é™¤ä¸æ˜¯çœŸå®ç‰©å“çš„åˆ©ç”¨å±å¹•ä¸Šçš„å›¾ç‰‡æ¥ä½œå¼Šçš„è¡Œä¸ºã€‚</p></li></ul><p>å¥½äº†ï¼Œæš‚æ—¶å…ˆå†™è¿™ä¹ˆå¤šï¼Œç¥åœ£è¯å¿«ä¹ï¼</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://github.com/shenzhenjinma/aliredenvelope">æ”¯ä»˜å®çº¢åŒ…ç ´è§£ç®—æ³•</a></li></ol>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      
      <comments>http://example.com/2016/12/25/AliPay-RedEnvelope-Hacker/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>pointer and ++--</title>
      <link>http://example.com/2016/12/11/pointer-and/</link>
      <guid>http://example.com/2016/12/11/pointer-and/</guid>
      <pubDate>Sun, 11 Dec 2016 08:50:45 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºæŒ‡é’ˆä¸è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ç»“åˆçš„æ—¶å€™çš„è¿ç®—é¡ºåºã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºæŒ‡é’ˆä¸è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ç»“åˆçš„æ—¶å€™çš„è¿ç®—é¡ºåºã€‚</p><span id="more"></span><table><thead><tr><th align="center">è¡¨è¾¾å¼</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center"><code>*p++</code>æˆ–<code>*(p++)</code></td><td align="center">è‡ªå¢å‰è¡¨è¾¾å¼çš„å€¼æ˜¯<code>*p</code>ï¼Œç„¶åè‡ªå¢<code>p</code></td></tr><tr><td align="center"><code>(*p)++</code></td><td align="center">è‡ªå¢å‰è¡¨è¾¾å¼çš„å€¼æ˜¯<code>*p</code>ï¼Œç„¶åè‡ªå¢<code>*p</code></td></tr><tr><td align="center"><code>*++p</code>æˆ–<code>*(++p)</code></td><td align="center">å…ˆè‡ªå¢<code>p</code>ï¼Œè‡ªå¢åè¡¨è¾¾å¼çš„å€¼æ˜¯<code>*p</code></td></tr><tr><td align="center"><code>++*p</code>æˆ–<code>++(*p)</code></td><td align="center">å…ˆè‡ªå¢<code>*p</code>ï¼Œè‡ªå¢åè¡¨è¾¾å¼çš„å€¼æ˜¯<code>*p</code></td></tr></tbody></table><p>åŸç†æ˜¯è‡ªå¢å’Œ<code>*</code>åœ¨ä¸€èµ·æ—¶ç»“åˆé¡ºåºç”±å³åˆ°å·¦ï¼Œæ¯”å¦‚<code>*p++</code>ï¼Œå…ˆè¿ç®—<code>p++</code>ï¼Œä¹Ÿå°±æ˜¯<code>p</code>å½“å‰çš„å€¼ï¼Œå†è¿ç®—<code>*p</code>å¯¹å¯»å€ï¼Œå†å¯¹<code>p</code>è‡ªå¢ã€‚</p><p>æ³¨æ„ä»¥ä¸Šæ‰€æœ‰çš„è¡¨è¾¾å¼è¿”å›çš„å€¼éƒ½æ˜¯<code>*p</code>ï¼Œåªä¸è¿‡å¯¹åˆ†åˆ«æ˜¯å¯¹<code>p</code>å’Œ<code>*p</code>çš„è‡ªå¢æ“ä½œã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/C/">C++</category>
      
      
      <comments>http://example.com/2016/12/11/pointer-and/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>QuickSort in C &amp; Python</title>
      <link>http://example.com/2016/12/02/QuickSort-in-C/</link>
      <guid>http://example.com/2016/12/02/QuickSort-in-C/</guid>
      <pubDate>Fri, 02 Dec 2016 11:55:35 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºCè¯­è¨€ä¸­çš„å¿«æ’ç®—æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦å…³äºæ¼”ç¤ºCè¯­è¨€ä¸­çš„å¿«æ’ç®—æ³•ã€‚</p><span id="more"></span><p>å¤§åé¼é¼çš„QuickSortâ€“å¿«é€Ÿæ’åºç®—æ³•ï¼Œå¦‚æ­¤çš„é«˜æ•ˆã€å¿«é€Ÿè€Œä¼˜é›…ï¼Œä»Šå¤©è®©æˆ‘ä»¬ç”¨å›¾ç‰‡å’Œæ–‡å­—å½¢è±¡åœ°å±•ç¤ºä¸€ä¸‹å®ƒå§ï¼</p><p>å¿«æ’æ˜¯ä¸€ç§åˆ†æ²»ç®—æ³•ï¼Œå…¶ä¸»è¦æ€æƒ³åœ¨äºé€šè¿‡é€‰å–ä¸€ä¸ªåŸºå‡†Pivotå°†åºåˆ—åˆ†ä¸ºå·¦å³ä¸¤ä¸ªå­åºåˆ—ï¼Œå…¶ä¸­å·¦åºåˆ—çš„æ•°éƒ½å°äºç­‰äºPivotï¼Œå³è¾¹çš„éƒ½å¤§äºç­‰äºPivotï¼Œå†åœ¨è¿™ä¸¤ä¸ªå­åºåˆ—ä¸Šé€’å½’è°ƒç”¨å¿«æ’ç®—æ³•å³å¯ã€‚</p><p>è€Œç†è§£å¿«æ’ç®—æ³•çš„æ ¸å¿ƒå°±åœ¨äºåˆ†è§£è¿™ä¸ªæ­¥éª¤ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆç»™å‡ºä»£ç ï¼Œå†ç”¨å›¾ç‰‡å±•ç¤ºæ­¥éª¤ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  main.c</span></span><br><span class="line"><span class="comment">//  QuickSort</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by frankchen on 12/2/16.</span></span><br><span class="line"><span class="comment">//  Copyright Â© 2016 frankchen. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">QuickSort</span><span class="params">(<span class="keyword">int</span> s[],<span class="keyword">int</span> low,<span class="keyword">int</span> high)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> s[],<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[N], i;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter %d numbers to be sorted: &quot;</span>, N);</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;N; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    </span><br><span class="line">    QuickSort(a, <span class="number">0</span>, N<span class="number">-1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;In sorted order: \n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;N; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//äº¤æ¢æ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> s[],<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    temp=s[i];</span><br><span class="line">    s[i]=s[j];</span><br><span class="line">    s[j]=temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">QuickSort</span><span class="params">(<span class="keyword">int</span> s[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, pivot;<span class="comment">//è®°å½•ç•Œé™çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">if</span>(low &lt; high)<span class="comment">//åªæœ‰æ•°ç»„ä¸­å…ƒç´ å¤§äº1æ—¶æ‰æ“ä½œ</span></span><br><span class="line">    &#123;</span><br><span class="line">        pivot = low;<span class="comment">//é€‰å–ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†</span></span><br><span class="line">        <span class="keyword">for</span>(i=low+<span class="number">1</span>; i&lt;=high; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] &lt; s[low])</span><br><span class="line">                swap(s, ++pivot, i);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(s, low, pivot);<span class="comment">//åŸºå‡†å…ƒä¸ç•Œé™äº¤æ¢</span></span><br><span class="line">        QuickSort(s, low, pivot<span class="number">-1</span>);</span><br><span class="line">        QuickSort(s, pivot+<span class="number">1</span>, high);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯Pythonç‰ˆæœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuickSort</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, l</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        åˆå§‹åŒ–</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        self.l = l</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        æ‰“å°æ’åºåçš„list</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;list\t:%s&#x27;</span> % (self.l)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">swap</span>(<span class="params">self, s, i, j</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        äº¤æ¢ä½ç½®</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        tmp = <span class="number">0</span></span><br><span class="line">        tmp = s[i]</span><br><span class="line">        s[i] = s[j]</span><br><span class="line">        s[j] = tmp</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">QuickSort</span>(<span class="params">self, s, low, high</span>):</span></span><br><span class="line">        i = <span class="number">0</span>; pivot = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> low &lt; high:</span><br><span class="line">            pivot = low</span><br><span class="line">            i = low + <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(i, high+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> s[i] &lt; s[low]:</span><br><span class="line">                    pivot += <span class="number">1</span></span><br><span class="line">                    self.swap(s, pivot, i)</span><br><span class="line">            self.swap(s, low, pivot)</span><br><span class="line">            self.QuickSort(s, low, pivot-<span class="number">1</span>)</span><br><span class="line">            self.QuickSort(s, pivot+<span class="number">1</span>, high)</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getList</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    è¯»å–æ–‡ä»¶å†…çš„æ•°å­˜å…¥æ•°ç»„</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    MyFile = <span class="string">&quot;QuickSort.txt&quot;</span></span><br><span class="line">    l = []</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(MyFile) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">            l.append(<span class="built_in">int</span>(line))</span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Sort</span>():</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    æ’åº</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºQuickSortå¯¹è±¡</span></span><br><span class="line">    l = getList()</span><br><span class="line">    p = QuickSort(l)</span><br><span class="line">    N = <span class="built_in">len</span>(l)</span><br><span class="line">    p.QuickSort(l, <span class="number">0</span>, N-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    p = Sort()</span><br><span class="line">    <span class="built_in">print</span> p</span><br></pre></td></tr></table></figure><ul><li>ä¸ºäº†æ’åºæ•´ä¸ªåºåˆ—ï¼Œåªéœ€è¦è°ƒç”¨QuickSort(Rï¼Œ0ï¼Œn-1)å³å¯å®Œæˆå¯¹R[0..n-1]çš„æ’åºã€‚</li><li>è¿™é‡Œé€‰å–äº†ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼Œå¦‚æœè¾“å…¥æ˜¯éšæœºåºåˆ—ï¼Œé‚£ä¹ˆæ²¡ä»€ä¹ˆå¤§ç¢ï¼Œä½†æ˜¯å¦‚æœè¾“å…¥æ˜¯é¢„æ’åºæˆ–è€…é€†åºçš„ï¼Œé‚£ä¹ˆä¼šäº§ç”Ÿåçš„æ’åºï¼Œä½¿å¾—æ—¶é—´å¤æ‚åº¦æé«˜ï¼Œéšæœºé€‰å–åŸºå‡†æ˜¯ä¸€ç§å¯è¡Œçš„æ–¹æ³•ï¼Œå¦å¤–ä¸€ç§æ˜¯é€‰å–å¼€å¤´ã€ä¸­é—´ç‚¹å’Œæœ«ä½ç‚¹çš„ä¸­ä½æ•°ã€‚</li></ul><pre><code>![image](/images/2016/12/QuickSort/QuickSort.001.jpeg)![image](/images/2016/12/QuickSort/QuickSort.002.jpeg)![image](/images/2016/12/QuickSort/QuickSort.003.jpeg)![image](/images/2016/12/QuickSort/QuickSort.004.jpeg)![image](/images/2016/12/QuickSort/QuickSort.005.jpeg)![image](/images/2016/12/QuickSort/QuickSort.006.jpeg)![image](/images/2016/12/QuickSort/QuickSort.007.jpeg)![image](/images/2016/12/QuickSort/QuickSort.008.jpeg)![image](/images/2016/12/QuickSort/QuickSort.009.jpeg)![image](/images/2016/12/QuickSort/QuickSort.010.jpeg)</code></pre>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      
      <comments>http://example.com/2016/12/02/QuickSort-in-C/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Workflow for automatic extract and jump to the true URL of 91porn.com</title>
      <link>http://example.com/2016/11/28/Workflow-for-automatic-extract-and-jump-to-the-true-URL-of-91porn-com/</link>
      <guid>http://example.com/2016/11/28/Workflow-for-automatic-extract-and-jump-to-the-true-URL-of-91porn-com/</guid>
      <pubDate>Sun, 27 Nov 2016 16:41:22 GMT</pubDate>
      
      <description>&lt;p&gt;ä¸»è¦è®²è¿°è‡ªå·±å¼€å‘çš„Alfred Workflow 91urlï¼šè‡ªåŠ¨è·å–æŸç½‘ç«™çš„çœŸå®è§†é¢‘åœ°å€å¹¶è·³è½¬çš„åº”ç”¨ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ä¸»è¦è®²è¿°è‡ªå·±å¼€å‘çš„Alfred Workflow 91urlï¼šè‡ªåŠ¨è·å–æŸç½‘ç«™çš„çœŸå®è§†é¢‘åœ°å€å¹¶è·³è½¬çš„åº”ç”¨ã€‚</p><span id="more"></span><p>ç›¸ä¿¡è®¸å¤šæœ‹å‹éƒ½çˆ±çœ‹91çš„è§†é¢‘ï¼Œä½†æ˜¯å…è´¹ç”¨æˆ·çš„æ¯æ—¥æœ‰é™çš„è§‚çœ‹æ¬¡æ•°æ€»æ˜¯è®©äººæ„çŠ¹æœªå°½ã€‚ã€‚ã€‚äºæ˜¯<a href="http://freeget.vip/">FreeGet å…è´¹ç¦åˆ©èµ„è®¯</a>åº”è¿è€Œç”Ÿã€‚ã€‚ã€‚ä½†æ˜¯é‡å¤çš„ä»æµè§ˆå™¨çª—å£ç‚¹å‡»å¤åˆ¶urlï¼Œåˆ‡æ¢çª—å£ã€ç²˜è´´å†ç‚¹å‡»ã€‚ã€‚ã€‚æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è®©ä¼—ç‹¼å‹çš„åŒæ‰‹è§£æ”¾å‡ºæ¥å‘¢ï¼Ÿä½œä¸ºç¨‹åºå‘˜çš„æˆ‘å½“ç„¶ä¸èƒ½å¿ï¼Œæ‰€ä»¥è€—è´¹ä¸€ä¸‹åˆçš„æ—¶é—´å¼€å‘äº†è¿™ä¸ªWorkflowï¼š91urlï¼Œèƒ½å¤Ÿè‡ªåŠ¨è·å–å½“å‰çš„æµè§ˆå™¨çª—å£çš„ç½‘å€å¹¶æäº¤åˆ°FreeGetç½‘ç«™ï¼Œå¹¶ç”¨ç«ç‹æµè§ˆå™¨æ‰“å¼€çœŸå®è§†é¢‘ç½‘å€ï¼ˆæŠ±æ­‰æ˜¯0.1ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å—é™ï¼Œä¸è¶³ä¹‹å¤„å¾…ä¹‹åç‰ˆæœ¬è§£å†³ï¼‰ã€‚ä½¿ç”¨æ–¹æ³•éå¸¸ç®€å•ï¼Œåªè¦åœ¨æˆ‘çš„<a href="https://github.com/frankchen0130/91url">Github</a>ä¸‹è½½å¹¶æ‹–åˆ°Alfred çš„Workflowå³å¯ï¼Œå¦å¤–è¿˜éœ€è¦å®‰è£…Pythonçš„è‡ªåŠ¨åŒ–ç½‘é¡µæµ‹è¯•å·¥å…·åŒ…seleniumï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><p>ç„¶åæµè§ˆå™¨å¤„äº91è§†é¢‘çš„é¡µé¢çš„æ—¶å€™ï¼Œç”¨command + ç©ºæ ¼ è¾“å…¥91urlå¹¶enterå³å¯(å½“ç„¶ä¹Ÿå¯ä»¥ä¿®æ”¹HotKeyæ¥è§¦å‘)ï¼š</p><p><img src="/images/2016/11/9.png" alt="image"></p><p>ä¹‹å91urlå°†è‡ªåŠ¨æ‰“å¼€ç«ç‹æµè§ˆå™¨å¹¶è·³è½¬è‡³FreeGetè·å–çœŸå®ç½‘å€ï¼Œ</p><p><img src="/images/2016/11/10.png" alt="image"></p><p>å¦‚ä¸Šå›¾ï¼Œç‚¹å‡»å³å¯æ’­æ”¾æˆ–è€…ä¸‹è½½ï¼Œsoï¼Œenjoyï¼</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Old-Driver/">Old Driver</category>
      
      
      <comments>http://example.com/2016/11/28/Workflow-for-automatic-extract-and-jump-to-the-true-URL-of-91porn-com/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Devide and Conquer Counting Inversions with Python</title>
      <link>http://example.com/2016/11/25/Devide-and-Conquer-Counting-Inversions-with-Python/</link>
      <guid>http://example.com/2016/11/25/Devide-and-Conquer-Counting-Inversions-with-Python/</guid>
      <pubDate>Fri, 25 Nov 2016 08:55:15 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦å†…å®¹å…³äºpythonå½’å¹¶æ’åºæ±‚é€†åºæ•°çš„ç®—æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦å†…å®¹å…³äºpythonå½’å¹¶æ’åºæ±‚é€†åºæ•°çš„ç®—æ³•ã€‚</p><span id="more"></span><p>è§£å†³é—®é¢˜ï¼šç»™å®šæœ‰é™é•¿åº¦çš„æ— é‡å¤ä¹±åºæ•°ç»„ï¼Œæ±‚å…¶é€†åºæ•°ä¸ªæ•°ã€‚ç®€å•æ¥è¯´æˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ä¸ªå¾ªç¯æ¥è§£å†³ï¼Œä½†æ˜¯å¤æ‚åº¦ä¸º$O(N^2)$ï¼Œè‹¥åˆ©ç”¨å½’å¹¶æ’åºï¼Œå¤æ‚åº¦å°±é™ä¸ºäº†$O(N \log(N))$ã€‚ä»¥ä¸‹ç»™å‡ºä¸€ä¸ªå®ç°ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ivrs_num</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, filename</span>):</span></span><br><span class="line">        self.count = <span class="number">0</span></span><br><span class="line">        self.filename = filename</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">load_txt</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;è½½å…¥txtæ–‡ä»¶ä¿å­˜ä¸ºlist&#x27;&#x27;&#x27;</span></span><br><span class="line">        int_list = []</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(self.filename) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">                int_list.append(<span class="built_in">int</span>(line))</span><br><span class="line">        <span class="keyword">return</span> int_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">self, ListA, ListB</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;å°†ä¸¤ä¸ªå·²ç»æ’åºå¥½çš„æ•°ç»„åˆå¹¶æˆæ–°çš„æ’åºå¥½çš„æ•°ç»„</span></span><br><span class="line"><span class="string">        é¡ºä¾¿è®¡ç®—é€†åºæ•°&#x27;&#x27;&#x27;</span></span><br><span class="line">        newList = []</span><br><span class="line">        <span class="keyword">while</span> ListA <span class="keyword">and</span> ListB:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">int</span>(ListA[<span class="number">0</span>]) &gt; <span class="built_in">int</span>(ListB[<span class="number">0</span>]):</span><br><span class="line">                self.count += <span class="built_in">len</span>(ListA)</span><br><span class="line">                newList.append(ListB.pop(<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                newList.append(ListA.pop(<span class="number">0</span>))</span><br><span class="line">        <span class="keyword">return</span> newList + ListA + ListB</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span>(<span class="params">self, A</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;å½’å¹¶æ’åº&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(A) == <span class="number">1</span>: <span class="keyword">return</span> A</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            middle = <span class="built_in">len</span>(A) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">return</span> self.merge(self.merge_sort(A[:middle]), self.merge_sort(A[middle:]))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">count_ivrs</span>(<span class="params">self</span>):</span></span><br><span class="line">        data = self.load_txt()</span><br><span class="line">        self.merge_sort(data)</span><br><span class="line">        <span class="keyword">return</span> self.count</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    ivrs = Ivrs_num(<span class="string">&quot;IntegerArray.txt&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span> ivrs.count_ivrs()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      <category domain="http://example.com/tags/Algorithm/">Algorithm</category>
      
      
      <comments>http://example.com/2016/11/25/Devide-and-Conquer-Counting-Inversions-with-Python/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Understanding EM algorithm</title>
      <link>http://example.com/2016/11/18/Understanding-EM-algorithm/</link>
      <guid>http://example.com/2016/11/18/Understanding-EM-algorithm/</guid>
      <pubDate>Fri, 18 Nov 2016 13:54:19 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦å†…å®¹ä¸ºç”¨ä¸€ä¸ªç®€çŸ­çš„ä¾‹å­è§£é‡ŠEMç®—æ³•ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦å†…å®¹ä¸ºç”¨ä¸€ä¸ªç®€çŸ­çš„ä¾‹å­è§£é‡ŠEMç®—æ³•ã€‚</p><span id="more"></span><p>EMç®—æ³•æ˜¯èšç±»ä¸­å¸¸ç”¨çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œä½†æ˜¯ç›¸æ¯”å–œé—»ä¹è§çš„k-meansç®—æ³•ï¼Œå¤§å®¶å¯èƒ½å¯¹äºEMç®—æ³•çš„äº†è§£å¯èƒ½æ²¡æœ‰é‚£ä¹ˆç›´è§‚æ·±å…¥ï¼Œæ‰€ä»¥æœ¬æ–‡ä¸»è¦åˆ©ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œåœ¨å¯¹æ¯”k-meansç®—æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå¸®åŠ©å¤§å®¶å»ºç«‹ä¸€ä¸ªæ¸…æ™°æ˜ç¡®çš„å¯¹EMç®—æ³•çš„ç†è§£ã€‚</p><p>å½“æˆ‘ä»¬åœ¨èšç±»çš„é¢†åŸŸè°ˆè®ºk-meansç®—æ³•æ—¶ï¼Œåˆ†ç»„çš„æ¦‚å¿µæ˜¯éå¸¸æ¸…æ™°ç›´è§‚çš„â€“æ¯ä¸ªæ ·æœ¬ç‚¹åªå±äºå®ƒç¦»å¾—æœ€è¿‘çš„é‚£ä¸ªä¸­å¿ƒç‚¹æ‰€å±çš„åˆ†ç»„ã€‚å¦‚æœç»™å‡ºä¸€äº›æ ·æœ¬ç‚¹å’Œä¸­å¿ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾ˆå®¹æ˜“ç»™è¿™äº›ç‚¹æ‰“æ ‡ç­¾ã€‚</p><p>ä½†æ˜¯å¯¹äºEMç®—æ³•è€Œè¨€ï¼Œåˆ†ç»„çš„æ¦‚å¿µå°±ä¹ˆé‚£ä¹ˆç›´è§‚äº†ï¼ˆå› ä¸ºEMç®—æ³•è€ƒè™‘æ¯ä¸ªæ ·æœ¬ç‚¹éƒ½æœ‰ä¸€å®šçš„æ¦‚ç‡å±äºæ‰€æœ‰çš„åˆ†ç»„ï¼‰ã€‚åœ¨æˆ‘ä»¬ä»‹=å¼•å…¥EMç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¤ä¹ ä¸€ä¸‹k-meansé‡Œé¢çš„åˆ†ç»„æ¦‚å¿µã€‚</p><h2 id="k-meansé‡Œé¢çš„åˆ†ç»„æ¦‚å¿µ"><a href="#k-meansé‡Œé¢çš„åˆ†ç»„æ¦‚å¿µ" class="headerlink" title="k-meansé‡Œé¢çš„åˆ†ç»„æ¦‚å¿µ"></a>k-meansé‡Œé¢çš„åˆ†ç»„æ¦‚å¿µ</h2><p>å‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹çš„ä¸‰ä¸ªæ ·æœ¬ç‚¹ï¼ˆ2Då¹³é¢æƒ…å†µä¸‹çš„ç‚¹ï¼‰ï¼š</p><table><thead><tr><th align="center">æ•°æ®é›†</th><th align="center">X</th><th align="center">Y</th></tr></thead><tbody><tr><td align="center">ç‚¹0</td><td align="center">10</td><td align="center">5</td></tr><tr><td align="center">ç‚¹1</td><td align="center">2</td><td align="center">1</td></tr><tr><td align="center">ç‚¹2</td><td align="center">3</td><td align="center">7</td></tr></tbody></table><p><img src="/images/2016/11/1.png" alt="image"></p><p>å¦‚æœåœ¨ä¸Šé¢çš„æ•°æ®é›†ä¸Šè·‘k-meansç®—æ³•ï¼Œå‡å®šä¸­å¿ƒç‚¹å¦‚ä¸‹ï¼š</p><table><thead><tr><th align="center">ä¸­å¿ƒ</th><th align="center">X</th><th align="center">Y</th></tr></thead><tbody><tr><td align="center">A</td><td align="center">3</td><td align="center">4</td></tr><tr><td align="center">B</td><td align="center">6</td><td align="center">3</td></tr><tr><td align="center">C</td><td align="center">4</td><td align="center">6</td></tr></tbody></table><p><img src="/images/2016/11/2.png" alt="image"></p><p>ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œå¯ä»¥åˆ†é…èšç±»å¦‚ä¸‹</p><table><thead><tr><th>è·ç¦»</th><th>ç¾¤ç»„Aä¸­å¿ƒ</th><th>ç¾¤ç»„Bä¸­å¿ƒ</th><th>ç¾¤ç»„Cä¸­å¿ƒ</th><th>ç¾¤ç»„åˆ†é…</th></tr></thead><tbody><tr><td>ç‚¹0</td><td>7.071</td><td><strong>4.472</strong></td><td>6.083</td><td>ç¾¤ç»„B</td></tr><tr><td>ç‚¹1</td><td><strong>3.162</strong></td><td>4.472</td><td>5.385</td><td>ç¾¤ç»„A</td></tr><tr><td>ç‚¹2</td><td>3.000</td><td>5.000</td><td><strong>1.414</strong></td><td>ç¾¤ç»„C</td></tr></tbody></table><p><img src="/images/2016/11/3.png" alt="image"></p><p>åˆ°æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºä¸€ä¸ªå›ç­”ï¼šåˆ°åº•æŠŠä¸€ä¸ªç‚¹å½’ç±»åˆ°ä¸€ä¸ªç¾¤ç»„æ„å‘³ç€ä»€ä¹ˆï¼Ÿä¸¾ä¾‹æ¥è¯´ï¼Œç‚¹1åªè¢«åˆ†é…åˆ°åˆ†ç»„Aï¼Œä¹Ÿå°±æ˜¯ç‚¹1çš„100%å±äºç¾¤ç»„Aå¹¶ä¸”0%å±äºç¾¤ç»„Bå’Œç¾¤ç»„Cã€‚é‚£ä¹ˆæ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹è¡¨æ ¼ï¼Œ</p><table><thead><tr><th></th><th align="right">ç¾¤ç»„A</th><th align="center">ç¾¤ç»„B</th><th>ç¾¤ç»„C</th></tr></thead><tbody><tr><td>ç‚¹0</td><td align="right">0</td><td align="center"><strong>1</strong></td><td>0</td></tr><tr><td>ç‚¹1</td><td align="right"><strong>1</strong></td><td align="center">0</td><td>0</td></tr><tr><td>ç‚¹2</td><td align="right">0</td><td align="center">0</td><td><strong>1</strong></td></tr><tr><td>æˆå‘˜ä¸ªæ•°</td><td align="right">1</td><td align="center">1</td><td>1</td></tr></tbody></table><p>æ³¨æ„åˆ°ï¼Œå¯¹äºä¸€ä¸ªç¾¤ç»„æ¥è¯´ï¼Œå…¶å¾—åˆ°çš„æ¯ä¸€è¡Œçš„å’Œéƒ½æ˜¯1ï¼ˆå› ä¸ºä¸€ä¸ªç‚¹çš„ç™¾åˆ†æ¯”å°±æ˜¯ä¹‹å’Œå°±æ˜¯1ï¼‰ï¼›å¦å¤–ï¼Œæ¯ä¸€åˆ—çš„å’Œå°±æ˜¯è¿™ä¸ªç¾¤ç»„çš„æˆå‘˜ç‚¹çš„ä¸ªæ•°ã€‚æ¨è€Œå¹¿ä¹‹ï¼š</p><ul><li>æ¯ä¸€è¡Œçš„å’Œæ€»æ˜¯1ï¼Œå› ä¸ºä¸€ä¸ªç‚¹çš„ç™¾åˆ†æ¯”ä¹‹å’Œæ˜¯1</li><li>æ¯ä¸€åˆ—çš„å’Œå°±æ˜¯åˆ†é…åˆ°è¿™ä¸ªç¾¤ç»„çš„ç‚¹çš„ä¸ªæ•°</li></ul><h2 id="EMç®—æ³•ä¸­çš„ç¾¤ç»„åˆ†é…"><a href="#EMç®—æ³•ä¸­çš„ç¾¤ç»„åˆ†é…" class="headerlink" title="EMç®—æ³•ä¸­çš„ç¾¤ç»„åˆ†é…"></a>EMç®—æ³•ä¸­çš„ç¾¤ç»„åˆ†é…</h2><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬åšçš„ä¼¼ä¹ä¸é”™ï¼Œä½†æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¿™é‡Œæ¯ä¸ªç‚¹éƒ½åªèƒ½å±äºä¸€ä¸ªç¾¤ç»„ï¼Œä¸è¿‡è¿™ä¸€ç‚¹æœ‰æ—¶å€™ä¸æ˜¯é‚£ä¹ˆåˆç†ï¼Œæ¯”å¦‚ç‚¹0åˆ†é…åˆ°ç¾¤ç»„Bä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æ¯”å¦‚ç‚¹1è·ç¦»ç¾¤ç»„Aå’Œç¾¤ç»„Bçš„è·ç¦»å·®åˆ«ä¸é‚£ä¹ˆå¤§ï¼Œé‚£ä¹ˆåªå› ä¸ºè·ç¦»ç¾¤ç»„Aè¿‘é‚£ä¹ˆä¸€ç‚¹ç‚¹å°±åªæŠŠå®ƒåˆ†é…åˆ°ç¾¤ç»„Aï¼Œéš¾é“æ²¡ä»€ä¹ˆé—®é¢˜å—ï¼Ÿæˆ‘ä»¬å¯èƒ½æ›´åŠ æƒ³è¡¨è¾¾è¿™æ ·ä¸€ç§æ¦‚å¿µï¼šç‚¹1æ›´å¯èƒ½å±äºç¾¤ç»„Aï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿæƒ³ä¿ç•™ç‚¹1ä¹Ÿæœ‰ä¸€äº›å¯èƒ½å±äºç¾¤ç»„Bçš„ä¸ç¡®å®šæ€§ã€‚</p><table><thead><tr><th>è·ç¦»</th><th>ç¾¤ç»„Aä¸­å¿ƒ</th><th>ç¾¤ç»„Bä¸­å¿ƒ</th><th>ç¾¤ç»„Cä¸­å¿ƒ</th><th>ç¾¤ç»„åˆ†é…</th></tr></thead><tbody><tr><td>ç‚¹0</td><td>7.071</td><td>4.472</td><td>6.083</td><td>ç¾¤ç»„B</td></tr><tr><td>ç‚¹1</td><td>3.162</td><td>4.472</td><td>5.385</td><td>ç¾¤ç»„A</td></tr><tr><td>ç‚¹2</td><td>3.000</td><td>5.000</td><td>1.414</td><td>ç¾¤ç»„C</td></tr></tbody></table><p>æˆ‘ä»¬å¦‚ä½•è¡¨è¿°è¿™ç§ä¸ç¡®å®šæ€§å‘¢ï¼Ÿè¿™å°±æ˜¯<strong>åˆ†ç»„æƒé‡</strong>çš„ç”±æ¥ã€‚åˆ†ç»„æƒé‡è¡¨è¾¾äº†ä¸€ä¸ªç‚¹æœ‰å¤šå¯èƒ½å±äºæŸä¸ªç¾¤ç»„ã€‚æ¯”å¦‚ä¹‹å‰çš„å½¢å¼æ˜¯è¿™æ ·çš„ï¼Œ</p><table><thead><tr><th></th><th align="right">ç¾¤ç»„A</th><th align="center">ç¾¤ç»„B</th><th>ç¾¤ç»„C</th></tr></thead><tbody><tr><td>ç‚¹0</td><td align="right">0</td><td align="center">1</td><td>0</td></tr><tr><td>ç‚¹1</td><td align="right">1</td><td align="center">0</td><td>0</td></tr><tr><td>ç‚¹2</td><td align="right">0</td><td align="center">0</td><td>1</td></tr><tr><td>æˆå‘˜ä¸ªæ•°</td><td align="right">1</td><td align="center">1</td><td>1</td></tr></tbody></table><p>æŠŠä¸Šè¡¨çš„0å’Œ1æ¢æˆåˆ†æ•°ï¼ˆä¸è¦è´¨ç–‘è¿™äº›åˆ†æ•°æ€ä¹ˆæ¥çš„ï¼Œç­‰ä¸‹ä¼šç»™å‡ºåˆç†è§£é‡Šï¼Œï¼šï¼‰ï¼‰</p><table><thead><tr><th></th><th align="right">ç¾¤ç»„A</th><th align="center">ç¾¤ç»„B</th><th>ç¾¤ç»„C</th></tr></thead><tbody><tr><td>ç‚¹0</td><td align="right">0.007</td><td align="center">0.938</td><td>0.055</td></tr><tr><td>ç‚¹1</td><td align="right">0.812</td><td align="center">0.154</td><td>0.034</td></tr><tr><td>ç‚¹2</td><td align="right">0.234</td><td align="center">0.016</td><td>0.750</td></tr><tr><td>è½¯è®¡æ•°</td><td align="right">1.053</td><td align="center">1.108</td><td>0.839</td></tr></tbody></table><p>ä¸Šè¡¨ä¸­ï¼Œç‚¹0ä»¥93.8%çš„æ¦‚ç‡å±äºç¾¤ç»„Bï¼ŒåŒæ—¶ä¸‹ä¸€è¡Œä¸­ï¼Œç‚¹1ä»¥81.2%çš„æ¦‚ç‡å±äºç¾¤ç»„Aã€‚è¿™äº›åˆ†æ•°ä¹Ÿå°±æ˜¯<strong>åˆ†ç»„æƒé‡</strong>ã€‚æ¯”å¦‚ï¼Œç‚¹0å±äºåˆ†ç»„Açš„æƒé‡å°±æ˜¯0.7%ã€‚</p><p><strong>å’Œk-meansç®—æ³•ä¸­æ¯ä¸ªç‚¹åªèƒ½å±äºä¸€ä¸ªç¾¤ç»„ä¸åŒï¼Œè¿™é‡Œæ¯ä¸ªç‚¹éƒ½ä»¥æŸç§ç¨‹åº¦åœ°å±äºæ¯ä¸€ä¸ªç¾¤ç»„ã€‚</strong>ä¾‹å¦‚ï¼Œ93.8%çš„ç‚¹0å±äºç¾¤ç»„ï¼Œå…¶ä½™çš„å±äºå…¶ä»–çš„ç¾¤ç»„ã€‚</p><p><img src="/images/2016/11/4.png" alt="image"></p><p>é‚£ä¹ˆï¼Œåœ¨ä¸Šé¢çš„åˆ†é…çŸ©é˜µé‡Œé¢ï¼Œæ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—çš„å«ä¹‰å¦‚ä¸‹ï¼Œ</p><ul><li>æ¯ä¸€è¡Œçš„å’Œéƒ½æ˜¯1ï¼Œå› ä¸ºæ¯ä¸ªç‚¹éƒ½100%å±äºæ‰€æœ‰çš„ç¾¤ç»„ï¼Œå°†è¿™ä¸€äº›éƒ¨åˆ†åŠ èµ·æ¥å’Œå¿…å®šæ˜¯1</li><li>æ¯ä¸€åˆ—çš„å’Œæ˜¯è¿™ä¸ªç¾¤ç»„çš„â€œè½¯è®¡æ•°â€ï¼Œå®ƒä»£è¡¨ç€æ‰€æœ‰çš„ç‚¹å±äºè¿™ä¸ªç¾¤ç»„çš„ç™¾åˆ†æ¯”ä¹‹å’Œ</li><li>æ‰€æœ‰çš„ç¾¤ç»„çš„è½¯è®¡æ•°ä¹‹å’Œå°±æ˜¯æ ·æœ¬ç‚¹çš„æ€»æ•°</li></ul><h2 id="æ­¥éª¤Eï¼šç»™å®šåˆ†ç»„å‚æ•°è®¡ç®—åˆ†ç»„æƒé‡"><a href="#æ­¥éª¤Eï¼šç»™å®šåˆ†ç»„å‚æ•°è®¡ç®—åˆ†ç»„æƒé‡" class="headerlink" title="æ­¥éª¤Eï¼šç»™å®šåˆ†ç»„å‚æ•°è®¡ç®—åˆ†ç»„æƒé‡"></a>æ­¥éª¤Eï¼šç»™å®šåˆ†ç»„å‚æ•°è®¡ç®—åˆ†ç»„æƒé‡</h2><p>åˆ†ç»„æƒé‡æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿæ¥è‡ªç»™å®šåˆ†ç»„çš„åˆ†å¸ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬è§‚å¯Ÿæ ·æœ¬ç‚¹å¯èƒ½æ˜¯ä»€ä¹ˆã€‚è€ŒEMç®—æ³•ä¸­çš„æ¯ä¸€ä¸ªç¾¤ç»„éƒ½ç”±ä¸€ä¸ª<strong>åˆ†ç»„æƒé‡</strong>ï¼Œä¸€ä¸ª<strong>å‡å€¼å‘é‡</strong>ï¼Œä¸€ä¸ª<strong>åæ–¹å·®çŸ©é˜µ</strong>æ„æˆã€‚å…¶ä¸­ï¼Œå‡å€¼è¡¨ç¤ºç¾¤ç»„çš„ä¸­å¿ƒï¼Œåæ–¹å·®ä½“ç°ç¾¤ç»„çš„èŒƒå›´ï¼Œè€Œåˆ†ç»„æƒé‡ä½“ç°äº†æ ·æœ¬ç‚¹ä¸æ­¤åˆ†ç»„çš„å…³è”ç¨‹åº¦ã€‚æ‰€æœ‰ï¼Œæ¯ä¸ªç¾¤ç»„éƒ½ç”±ä¸€ä¸ªå¤šå˜é‡é«˜æ–¯åˆ†å¸ƒæ‰€å®šä¹‰ã€‚</p><p>å›é¡¾ä¸Šé¢çš„ä¾‹å­ï¼ŒåŠ ä¸Šä¸€ä¸ªä¸ç¡®å®šåº¦çš„æ¤­åœ†ï¼Œå¦‚ä¸‹ï¼Œ</p><p><img src="/images/2016/11/5.png" alt="image"></p><p>å›¾ä¸­æ¯ä¸ªæ¤­åœ†è¡¨ç¤ºç€åæ–¹å·®çŸ©é˜µï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯ä¸ªç¾¤ç»„éƒ½æ˜¯ç”¨çš„æ˜¯å¯¹è§’åæ–¹å·®çŸ©é˜µ[[3,0],[0,3]]ã€‚å› ä¸ºå¯¹è§’çº¿å¤–å…ƒç´ éƒ½æ˜¯0ï¼Œæ‰€æœ‰å›¾ä¸­çš„æ¤­åœ†å®é™…ä¸Šçœ‹èµ·æ¥æ˜¯åœ†ã€‚å¹¶ä¸”ï¼Œç”±äºå¹¶æ²¡æœ‰ä»€ä¹ˆç†ç”±è®¤ä¸ºå“ªä¸ªç¾¤ç»„æ¯”å…¶ä»–ç¾¤ç»„æ›´åŠ é‡è¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®šä¹‰æ¯ä¸ªç¾¤ç»„çš„åˆ†ç»„æƒé‡éƒ½æ˜¯1/3ã€‚</p><p>é‚£ä¹ˆï¼Œç‚¹0å±äºç¾¤ç»„Açš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿè¿™é‡Œç”¨æ¥è¡¡é‡æ½œåœ¨çš„é«˜æ–¯åˆ†å¸ƒçš„æ ‡å‡†æ˜¯æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆprobability density functionï¼ŒPDFï¼‰ï¼Œä½¿ç”¨<code>scipy.stats.multivariate_normal.pdf</code>å¯è®¡ç®—å‡ºæ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> multivariate_normal.pdf([<span class="number">10</span>,<span class="number">5</span>], mean=[<span class="number">3</span>,<span class="number">4</span>], cov=[[<span class="number">3</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1.275199678019219e-05</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜è¦å°†è¿™ä¸ªæ¦‚ç‡ä¹˜ä»¥åˆ†ç»„æƒé‡æ‰è¡Œï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="number">1</span>/<span class="number">3.</span>*multivariate_normal.pdf([<span class="number">10</span>,<span class="number">5</span>], mean=[<span class="number">3</span>,<span class="number">4</span>], cov=[[<span class="number">3</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">4.2506655934e-06</span></span><br></pre></td></tr></table></figure><p>ç‚¹0å±äºç¾¤ç»„Açš„ä¼¼ç„¶å€¼æ˜¯4.251e-6ã€‚å•çœ‹çœ‹ä¸å‡ºä»€ä¹ˆï¼Œæˆ‘ä»¬è¿˜è¦ä¾æ¬¡è®¡ç®—ç¾¤ç»„Bå’Œç¾¤ç»„Cçš„å€¼ã€‚åˆ†åˆ«è®¡ç®—Bå’ŒCçš„PDFå¹¶ä¸”ä¹˜ä»¥åˆ†ç»„æƒé‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="number">1</span>/<span class="number">3.</span>*multivariate_normal.pdf([<span class="number">10</span>,<span class="number">5</span>], mean=[<span class="number">6</span>,<span class="number">3</span>], cov=[[<span class="number">3</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0.000630854709005</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span> <span class="number">1</span>/<span class="number">3.</span>*multivariate_normal.pdf([<span class="number">10</span>,<span class="number">5</span>], mean=[<span class="number">4</span>,<span class="number">6</span>], cov=[[<span class="number">3</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">3</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3.71046481027e-05</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œ</p><table><thead><tr><th></th><th>ç¾¤ç»„A</th><th>ç¾¤ç»„B</th><th>ç¾¤ç»„C</th></tr></thead><tbody><tr><td>ç‚¹(10,5)çš„PDFä¹˜ä»¥åˆ†ç»„æƒé‡</td><td>4.251e-6</td><td>6.309e-4</td><td>3.710e-5</td></tr></tbody></table><p>å¾ˆæ˜æ˜¾ï¼Œç¾¤ç»„Bçš„ä¼¼ç„¶å€¼æ˜¯æœ€é«˜çš„ï¼Œè¿™å®¹æ˜“ç†è§£å› ä¸ºç‚¹0è·ç¦»ç¾¤ç»„Bä¸­å¿ƒçš„è·ç¦»æœ€è¿‘ã€‚</p><p><img src="/images/2016/11/6.png" alt="image"></p><p>ä¼¼ç„¶å€¼çœ‹èµ·æ¥å¤ªå°äº†ï¼Œæˆ‘ä¹ˆå¯ä»¥å¯¹å…¶åšä¸€ä¸ªå½’ä¸€åŒ–ï¼šéƒ½é™¤ä»¥æ‰€æœ‰ç¾¤ç»„çš„ä¼¼ç„¶å€¼çš„å’Œå¾—åˆ°ç™¾åˆ†æ¯”å€¼ã€‚</p><table><thead><tr><th>ç‚¹0</th><th>ç¾¤ç»„A</th><th>ç¾¤ç»„B</th><th>ç¾¤ç»„C</th><th>æ€»å’Œ</th></tr></thead><tbody><tr><td>ä¼¼ç„¶å€¼</td><td>4.251e-6</td><td>6.309e-4</td><td>3.710e-5</td><td>6.722e-4</td></tr><tr><td>ä¼¼ç„¶å€¼ï¼Œå¤„ä»¥æ€»å’Œ</td><td>4.251e-6 / 6.722e-4 = 0.007</td><td>6.309e-4 / 6.722e-4 = 0.938</td><td>3.710e-5 / 6.722e-4 = 0.055</td><td>-</td></tr></tbody></table><p>æœ€ä¸‹ä¸€è¡Œå°±æ˜¯ç‚¹0åˆ†ç»„è´£ä»»ï¼æ³¨æ„åˆ°å› ä¸ºå½’ä¸€åŒ–ï¼Œè¿™ä¸€è¡Œçš„æ€»å’Œæ˜¯1ã€‚å°ç»“ä¸€ä¸‹ï¼š</p><ul><li>å¯¹äºæ¯ä¸€ä¸ªç‚¹æˆ‘ä»¬è®¡ç®—äº†å…¶é«˜æ–¯åˆ†å¸ƒçš„PDFå€¼ï¼Œé€šè¿‡ä½¿ç”¨é«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å’Œåæ–¹å·®è®¡ç®—å¾—åˆ°</li><li>å°†PDFä¹˜ä»¥åˆ†ç»„æƒé‡ï¼Œå¾—åˆ°ä¼¼ç„¶åº¦</li><li>å°†ä¼¼ç„¶ç¨‹åº¦å½’ä¸€åŒ–</li></ul><p>ä¾æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ç‚¹1å’Œç‚¹2çš„çŸ©é˜µï¼Œè¿™é‡Œç•¥å»ä¸è¡¨ï¼Œæœ€åå°†ä¸‰ä¸ªç‚¹çš„çŸ©é˜µæ±‡æ€»å¾—åˆ°ä»¥ä¸‹ï¼Œ</p><table><thead><tr><th>Responsibility matrix</th><th>Cluster A</th><th>Cluster B</th><th>Cluster C</th></tr></thead><tbody><tr><td>Data point 0</td><td>0.007</td><td>0.938</td><td>0.055</td></tr><tr><td>Data point 1</td><td>0.812</td><td>0.154</td><td>0.034</td></tr><tr><td>Data point 2</td><td>0.234</td><td>0.016</td><td>0.750</td></tr><tr><td>Soft counts</td><td>1.053</td><td>1.108</td><td>0.839</td></tr></tbody></table><h2 id="æ­¥éª¤Mï¼šç»™å®šåˆ†ç»„è´£ä»»è®¡ç®—åˆ†ç»„å‚æ•°"><a href="#æ­¥éª¤Mï¼šç»™å®šåˆ†ç»„è´£ä»»è®¡ç®—åˆ†ç»„å‚æ•°" class="headerlink" title="æ­¥éª¤Mï¼šç»™å®šåˆ†ç»„è´£ä»»è®¡ç®—åˆ†ç»„å‚æ•°"></a>æ­¥éª¤Mï¼šç»™å®šåˆ†ç»„è´£ä»»è®¡ç®—åˆ†ç»„å‚æ•°</h2><p>ç°åœ¨æˆ‘ä»¬æ‰‹é‡Œå·²ç»æœ‰äº†åˆ†ç»„çš„è´£ä»»äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¾æ®è¿™äº›é‡æ–°æ›´æ–°å‚æ•°ï¼šåˆ†ç»„æƒé‡ã€å‡å€¼å’Œåæ–¹å·®ã€‚è™½ç„¶æˆ‘ä»¬å¼€å§‹æ˜¯ä¹±çŒœçš„è¿™äº›å‚æ•°ï¼Œä½†æ˜¯é€šè¿‡æ›´æ–°æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€äº›æ›´å¥½çš„ä¼°è®¡ã€‚</p><p><strong>åˆ†ç»„æƒé‡ã€‚</strong>ç¾¤ç»„çš„ç›¸å¯¹é‡è¦ç¨‹åº¦ç”±å®ƒçš„è½¯è®¡æ•°æ¥å†³å®šã€‚ç”±äºåˆ†ç»„æƒé‡å¿…é¡»å’Œä¸º1ï¼Œæ‰€æœ‰è¿™é‡Œä¹Ÿéœ€è¦åšå½’ä¸€åŒ–ï¼Œ</p><p>|    |Cluster A    |Cluster B    |Cluster C    |Sum|<br>|-|-|-|-|<br>|Soft counts    |1.053|    1.108|    0.839|    3.000|<br>|Soft counts, divided by the sum    |1.053 / 3.000 = 0.351|    1.108 / 3.000 = 0.369    |0.839 / 3.000 = 0.280|-|</p><p>å½’ä¸€åŒ–åçš„è½¯è®¡æ•°ï¼Œå°±æ˜¯åˆ†ç»„æƒé‡çš„æ–°çš„ä¼°è®¡ã€‚</p><p><strong>å‡å€¼ã€‚</strong>ä½¿ç”¨åˆ†ç»„è´£ä»»è®¡ç®—æ‰€æœ‰ç‚¹åæ ‡çš„ç™¾åˆ†æ¯”ï¼Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Weighted <span class="built_in">sum</span> of data points <span class="keyword">for</span> cluster A]</span><br><span class="line">= [Fraction of data point <span class="number">0</span> represented <span class="keyword">in</span> cluster A] * [data point <span class="number">0</span>]</span><br><span class="line">  + [Fraction of data point <span class="number">1</span> represented <span class="keyword">in</span> cluster A] * [data point <span class="number">1</span>]</span><br><span class="line">  + [Fraction of data point <span class="number">2</span> represented <span class="keyword">in</span> cluster A] * [data point <span class="number">2</span>]</span><br><span class="line">= <span class="number">0.007</span>*[data point <span class="number">0</span>] + <span class="number">0.812</span>*[data point <span class="number">1</span>] + <span class="number">0.234</span>*[data point <span class="number">2</span>]</span><br><span class="line">= <span class="number">0.007</span>*(<span class="number">10</span>,<span class="number">5</span>) + <span class="number">0.812</span>*(<span class="number">2</span>,<span class="number">1</span>)  + <span class="number">0.234</span>*(<span class="number">3</span>,<span class="number">7</span>)</span><br><span class="line">= (<span class="number">0.063</span>,<span class="number">0.035</span>) + (<span class="number">1.624</span>,<span class="number">0.812</span>) + (<span class="number">0.702</span>,<span class="number">1.638</span>)</span><br><span class="line">= (<span class="number">2.396</span>,<span class="number">2.485</span>)</span><br></pre></td></tr></table></figure><p>å†é™¤ä»¥è½¯è®¡æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[mean of cluster A]</span><br><span class="line">= (<span class="number">2.396</span>,<span class="number">2.485</span>)/<span class="number">1.053</span></span><br><span class="line">= (<span class="number">2.275</span>,<span class="number">2.360</span>)</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼åœ°è®¡ç®—Bå’ŒCçš„å‡å€¼ï¼Œå¾—åˆ°å¦‚ä¸‹ï¼Œ</p><table><thead><tr><th>New means</th><th>X</th><th>Y</th></tr></thead><tbody><tr><td>Cluster A</td><td>2.275</td><td>2.360</td></tr><tr><td>Cluster B</td><td>8.787</td><td>4.473</td></tr><tr><td>Cluster C</td><td>3.418</td><td>6.626</td></tr></tbody></table><p>è®©æˆ‘ä»¬ç”»å‡ºå‡å€¼çš„ä¹‹å‰å’Œä¹‹åçš„ä¼°è®¡ã€‚æ³¨æ„åˆ°ç¾¤ç»„Açš„å‡å€¼ç§»åŠ¨åœ°æ›´åŠ é è¿‘ç‚¹1ï¼Œå› ä¸ºç¾¤ç»„Aæ˜¯ä¸»è¦çš„ï¼Œç±»ä¼¼çš„ä¹Ÿå‘ç”Ÿåœ¨Bå’ŒCä¸Šï¼Œ</p><p><img src="/images/2016/11/7.png" alt="image"></p><p><strong>åæ–¹å·®ã€‚</strong> åæ–¹å·®ä¹Ÿæ˜¯ç”±åˆ†æ•°æ¥è®¡ç®—çš„ï¼Œä½†æ˜¯è¿™é‡Œéœ€è¦çŸ©é˜µå½¢å¼ï¼Œæ‰€ä»¥å®é™…ä¸Šæ˜¯ç”±å‘é‡å‰ä¹˜å¾—åˆ°çš„ï¼Œ</p><p>$$x_i - \hat{\mu}_k$$</p><p>å‡è®¾ä¸Šé¢æ˜¯dç»´å‘é‡ï¼Œè®¡ç®—å…¶ä¸è‡ªèº«çš„å†…ç§¯ï¼Œ</p><p>$$(x_i - \hat{\mu}_k)(x_i - \hat{\mu}_k)^T$$</p><p>å¯¹012æ¯ä¸ªç‚¹éƒ½æ ¹æ®å…¶åæ ‡å’ŒAçš„å‡å€¼è®¡ç®—åæ–¹å·®çŸ©é˜µï¼Œä¸åˆ†ç»„è´£ä»»ç›¸ä¹˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[Weighted <span class="built_in">sum</span> of outer products]</span><br><span class="line">= [Fraction of data point <span class="number">0</span> represented <span class="keyword">in</span> cluster A] * [outer product <span class="keyword">for</span> data point <span class="number">0</span>]</span><br><span class="line">  + [Fraction of data point <span class="number">1</span> represented <span class="keyword">in</span> cluster A] * [outer product <span class="keyword">for</span> data point <span class="number">1</span>]</span><br><span class="line">  + [Fraction of data point <span class="number">2</span> represented <span class="keyword">in</span> cluster A] * [outer product <span class="keyword">for</span> data point <span class="number">2</span>]</span><br><span class="line">=  <span class="number">0.007</span>*[[<span class="number">59.676</span>,<span class="number">20.394</span>], [<span class="number">20.394</span>,<span class="number">6.970</span>]]</span><br><span class="line">  + <span class="number">0.812</span>*[[<span class="number">0.076</span>,<span class="number">0.374</span>], [<span class="number">0.374</span>,<span class="number">1.850</span>]]</span><br><span class="line">  + <span class="number">0.234</span>*[[<span class="number">0.526</span>,<span class="number">3.364</span>], [<span class="number">3.364</span>,<span class="number">21.530</span>]]</span><br><span class="line">= [[<span class="number">0.602</span>, <span class="number">1.234</span>], [<span class="number">1.234</span>, <span class="number">6.589</span>]]</span><br><span class="line"></span><br><span class="line">[New covariance <span class="keyword">for</span> cluster A]</span><br><span class="line">= [[<span class="number">0.602</span>,<span class="number">1.234</span>], [<span class="number">1.234</span>,<span class="number">6.589</span>]]/<span class="number">1.053</span></span><br><span class="line">= [[<span class="number">0.572</span>,<span class="number">1.172</span>], [<span class="number">1.172</span>,<span class="number">6.257</span>]]</span><br></pre></td></tr></table></figure><p>å¯¹äºBCé‡å¤ä»¥ä¸Šï¼Œå¾—åˆ°ï¼Œ</p><table><thead><tr><th>New covariances</th><th></th></tr></thead><tbody><tr><td>Cluster A</td><td>[[0.572,1.172], [1.172,6.257]]</td></tr><tr><td>Cluster B</td><td>[[8.132,3.606], [3.606,2.004]]</td></tr><tr><td>Cluster C</td><td>[[3.078,-0.518], [-0.518,1.581]]</td></tr></tbody></table><p><img src="/images/2016/11/8.png" alt="image"></p><p>é•¿äºä¸€å£æ°”ï¼è¿™ä¹ˆå¤šçš„è®¡ç®—ï¼Œæˆ‘ä»¬åˆ°åº•æ›´æ–°çš„æ•ˆæœæ˜¯ä»€ä¹ˆï¼Ÿé¦–å…ˆï¼Œæ‰€æœ‰çš„ç¾¤ç»„éƒ½æœ‰äº†æ›´å°çš„ä¸ç¡®å®šåº¦ï¼Œä»å›¾ä¸Šæ¥çœ‹ï¼Œæ¤­åœ†å˜å¾—æ›´å°äº†ï¼›å…¶æ¬¡ï¼Œç¾¤ç»„æ”¹å˜äº†å½¢çŠ¶æ¥é€‚åº”æ•°æ®ï¼Œæ¯”å¦‚ç¾¤ç»„Bå‘ç€ç‚¹1çš„æ–¹å‘å»¶é•¿äº†ã€‚æ€»ä¹‹ï¼Œæ¯æ¬¡å‡å€¼å’Œåæ–¹å·®æ›´æ–°ä»¥åï¼Œç¾¤ç»„éƒ½æ”¹å˜å½¢çŠ¶ä»¥æ›´å¥½åœ°è¡¨ç¤ºæ•°æ®é‡Œçš„æ¨¡å¼ã€‚</p><h2 id="EMç®—æ³•ï¼šäº¤æ›¿æ­¥éª¤Eå’Œæ­¥éª¤M"><a href="#EMç®—æ³•ï¼šäº¤æ›¿æ­¥éª¤Eå’Œæ­¥éª¤M" class="headerlink" title="EMç®—æ³•ï¼šäº¤æ›¿æ­¥éª¤Eå’Œæ­¥éª¤M"></a>EMç®—æ³•ï¼šäº¤æ›¿æ­¥éª¤Eå’Œæ­¥éª¤M</h2><p>ç°åœ¨æˆ‘ä»¬å¯¹äºåˆ†ç»„çš„å‚æ•°æœ‰äº†æ›´å¥½åœ°ä¼°è®¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å›è¿‡å¤´å»è®¡ç®—åˆ†ç»„çš„è´£ä»»ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ›´å¥½çš„å‚æ•°çš„ä¼°è®¡ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥äº¤æ›¿ç€ä½¿ç”¨æ­¥éª¤Eå’Œæ­¥éª¤Mæ¥é€æ­¥æé«˜åˆ†ç»„çš„æ€§èƒ½ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://www.coursera.org/learn/ml-clustering-and-retrieval/supplement/s9OBQ/optional-a-worked-out-example-for-em">åç››é¡¿å¤§å­¦æœºå™¨å­¦ä¹ ï¼šèšç±»ä¸æ£€ç´¢</a></li></ol>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/Machine-Learning/">Machine Learning</category>
      
      
      <comments>http://example.com/2016/11/18/Understanding-EM-algorithm/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Way to solving the .DS_Store problem of Mac</title>
      <link>http://example.com/2016/11/17/Way-to-solving-the-DS-Store-problem-of-Mac/</link>
      <guid>http://example.com/2016/11/17/Way-to-solving-the-DS-Store-problem-of-Mac/</guid>
      <pubDate>Thu, 17 Nov 2016 07:25:30 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦è®²è¿°å¦‚ä½•è§£å†³Mac OSä¸‹é¢çš„.DS_Storeæ–‡ä»¶çš„é—®é¢˜ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦è®²è¿°å¦‚ä½•è§£å†³Mac OSä¸‹é¢çš„.DS_Storeæ–‡ä»¶çš„é—®é¢˜ã€‚</p><span id="more"></span><p>åœ¨Mac OSä¸Šï¼Œ<code>.DS_Store</code>æ–‡ä»¶ æ˜¯ <code>Desktop Services Store</code> çš„ç®€ç§°ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨æ–‡ä»¶å¤¹çš„æ˜¾ç¤ºå±æ€§çš„è‡ªå®šä¹‰å±æ€§çš„éšè—æ–‡ä»¶ï¼Œï¼šæ¯”å¦‚æ–‡ä»¶å›¾æ ‡çš„æ‘†æ”¾ä½ç½®ï¼Œå¦‚æ–‡ä»¶çš„å›¾æ ‡ä½ç½®æˆ–èƒŒæ™¯è‰²ï¼Œç›¸å½“äºWindowsçš„desktop.iniï¼Œåˆ é™¤ä»¥åçš„å‰¯ä½œç”¨å°±æ˜¯è¿™äº›ä¿¡æ¯çš„å¤±å»ï¼Œä¸è¿‡æ€»ä½“è€Œè¨€å½±å“ä¸å¤§ã€‚</p><p>æœ€è¿‘ä¸Šæ‰‹çš„Macï¼Œ<code>.DS_Store</code> ç¬¬ä¸€æ¬¡çƒ¦åˆ°æˆ‘ï¼Œæ˜¯åœ¨Githubä¸Šfolkäº†äººå®¶çš„é¡¹ç›®è‡ªå·±æäº¤äº†æƒ³Pull Request çš„æ—¶å€™å‡ºç°çš„é—®é¢˜ï¼Œæˆ‘æ˜æ˜åªä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆåœ¨æ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢éƒ½å‡ºç°äº†è¿™ä¹ˆäº›ä¸ªå¥‡æ€ªçš„ <code>.DS_Store</code> ï¼Ÿï¼Ÿåˆ é™¤äº†è¿™äº›æ–‡ä»¶ä»¥åå†ç¬¬äºŒæ¬¡æäº¤çš„æ—¶å€™åˆä¼šå‡ºç°ï¼ˆæœŸé—´æˆ‘ç”¨äº†Finderï¼‰ï¼Œè°·æ­Œä»¥åæ‰å‘ç°è¿™åŸæ¥æ˜¯ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè¦æƒ³å®ƒä¸å‡ºç°ï¼Œé™¤éåªç”¨Shellä¸ç”¨Finderã€‚ã€‚ã€‚</p><p>æ¥ç€æ‰¾èµ„æ–™å‘ç°å¦‚ä¸‹åŠæ³•ï¼Œ</p><ul><li>å®‰è£…<a href="http://asepsis.binaryage.com/">ASEPSIS</a><ul><li>OS X 10.11ä»¥å‰çš„ç‰ˆæœ¬ç›´æ¥å®‰è£…å³å¯</li><li>OS X 10.11éœ€è¦å…³é—­SIPï¼ˆSystem Integrity Protectionï¼‰å†ä½¿ç”¨å‘½ä»¤<code>touch ~/.no-asepsis-os-restriction</code> æ–°å»ºæ–‡ä»¶å†å®‰è£…</li></ul></li><li>é‡å¯ç³»ç»Ÿ</li><li>ç„¶åå¯ä»¥ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ é™¤macä¸Šæ‰€æœ‰çš„.DS_Storeï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find ~ -name &quot;.DS_Store&quot; -delete</span><br><span class="line">æˆ–è€…</span><br><span class="line">find &lt;your path&gt; -name &quot;.DS_Store&quot; -delete</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://www.zhihu.com/question/20345704">https://www.zhihu.com/question/20345704</a></li><li><a href="https://zh.wikipedia.org/wiki/.DS_Store">https://zh.wikipedia.org/wiki/.DS_Store</a>     </li></ol>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Mac/">Mac</category>
      
      <category domain="http://example.com/tags/DS-Store/">.DS_Store</category>
      
      
      <comments>http://example.com/2016/11/17/Way-to-solving-the-DS-Store-problem-of-Mac/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>A efficiency comparison between while for generator comprehension - Python whileã€forã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ç­‰è¯­å¥çš„æ‰§è¡Œæ•ˆç‡å¯¹æ¯”</title>
      <link>http://example.com/2016/11/11/2016-11-11-a-efficiency-comparison-between-while-slash-for-slash-generator-slash-comprehension/</link>
      <guid>http://example.com/2016/11/11/2016-11-11-a-efficiency-comparison-between-while-slash-for-slash-generator-slash-comprehension/</guid>
      <pubDate>Fri, 11 Nov 2016 14:43:17 GMT</pubDate>
      
      <description>&lt;p&gt;pythonä¸­ï¼ŒåŒä¸€ä¸ªåŠŸèƒ½çš„å®ç°ï¼Œå¯ä»¥ç”¨å¤šç§è¯­å¥æ¥å®ç°ï¼Œæ¯”å¦‚è¯´:whileè¯­å¥ã€forè¯­å¥ã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ã€å†…ç½®å‡½æ•°ç­‰å®ç°ï¼Œç„¶è€Œä»–ä»¬çš„æ•ˆç‡å¹¶ä¸ä¸€æ ·ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°ç¨‹åºæ¥æµ‹è¯•å®ƒä»¬æ‰§è¡Œçš„æ•ˆç‡ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>pythonä¸­ï¼ŒåŒä¸€ä¸ªåŠŸèƒ½çš„å®ç°ï¼Œå¯ä»¥ç”¨å¤šç§è¯­å¥æ¥å®ç°ï¼Œæ¯”å¦‚è¯´:whileè¯­å¥ã€forè¯­å¥ã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ã€å†…ç½®å‡½æ•°ç­‰å®ç°ï¼Œç„¶è€Œä»–ä»¬çš„æ•ˆç‡å¹¶ä¸ä¸€æ ·ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå°ç¨‹åºæ¥æµ‹è¯•å®ƒä»¬æ‰§è¡Œçš„æ•ˆç‡ã€‚</p><span id="more"></span><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys  </span><br><span class="line">nums = <span class="number">100</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯ä¸ªå‡½æ•°å®ç°çš„éƒ½æ˜¯ä»1-100çš„è‡ªç„¶æ•°çš„ç»å¯¹å€¼æ·»åŠ è¿›ä¸€ä¸ªlist</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">while_Statement</span>():</span>  <span class="comment">#while loopå®ç°</span></span><br><span class="line">    res = []  </span><br><span class="line">    x   = <span class="number">0</span>  </span><br><span class="line">    <span class="keyword">while</span> nums &gt; x:  </span><br><span class="line">        x += <span class="number">1</span>  </span><br><span class="line">        res.append(<span class="built_in">abs</span>(x))  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">for_Statement</span>():</span>  <span class="comment">#for loopå®ç°</span></span><br><span class="line">    res = []  </span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(nums):  </span><br><span class="line">        res.append(<span class="built_in">abs</span>(x))  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generator_Expression</span>():</span>  <span class="comment">#ç”Ÿæˆå™¨å®ç°</span></span><br><span class="line">    res = <span class="built_in">list</span>(<span class="built_in">abs</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(nums))  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_Comprehension</span>():</span>  <span class="comment">#åˆ—è¡¨è§£æå¼å®ç°ï¼Œå¯¹æ¯”ç”Ÿæˆå™¨å®ç°å¯ä»¥å‘ç°ä¸¤è€…åŒºåˆ«åªæœ‰ä¸­æ‹¬å·ä¸å°æ‹¬å·</span></span><br><span class="line">    res = [<span class="built_in">abs</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(nums)]  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map_Function</span>():</span>  <span class="comment">#mapå‡½æ•°ï¼ˆå†…ç½®å‡½æ•°ï¼‰å®ç°</span></span><br><span class="line">    res = <span class="built_in">map</span>(<span class="built_in">abs</span>, <span class="built_in">range</span>(nums))  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:  </span><br><span class="line">    <span class="keyword">import</span> timeit            <span class="comment">#ç”¨timeitæ¨¡å—æ¥æµ‹è¯•  </span></span><br><span class="line">    <span class="built_in">print</span> sys.version  </span><br><span class="line">    funcs = [while_Statement, for_Statement, generator_Expression, list_Comprehension, map_Function]  </span><br><span class="line">    <span class="keyword">for</span> func <span class="keyword">in</span> funcs:  </span><br><span class="line">        <span class="built_in">print</span> func.__name__.ljust(<span class="number">20</span>),<span class="string">&#x27;: &#x27;</span>,timeit.timeit(<span class="string">&quot;func()&quot;</span>, setup=<span class="string">&quot;from __main__ import func&quot;</span>)  </span><br><span class="line">æµ‹è¯•ç»“æœ:</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>  </span><br><span class="line"><span class="number">2.7</span><span class="number">.10</span> (default, Oct <span class="number">23</span> <span class="number">2015</span>, <span class="number">19</span>:<span class="number">19</span>:<span class="number">21</span>) </span><br><span class="line">[GCC <span class="number">4.2</span><span class="number">.1</span> Compatible Apple LLVM <span class="number">7.0</span><span class="number">.0</span> (clang-<span class="number">700.0</span><span class="number">.59</span><span class="number">.5</span>)]</span><br><span class="line">while_Statement      :  <span class="number">16.0008671284</span></span><br><span class="line">for_Statement        :  <span class="number">12.9374330044</span></span><br><span class="line">generator_Expression :  <span class="number">10.133701086</span></span><br><span class="line">list_Comprehension   :  <span class="number">7.86516404152</span></span><br><span class="line">map_Function         :  <span class="number">5.24277615547</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šç”¨timeitæ¨¡å—ä¸¤ç§æµ‹è¯•æ–¹å¼æµ‹è¯•äº†è‹¥å¹²ç»„æ•°å­—ï¼Œå¾—å‡ºçš„ç»“æœæ˜¯æ‰§è¡Œå†…ç½®å‡½æ•°æœ€å¿«ï¼Œå…¶æ¬¡å°±æ˜¯åˆ—è¡¨æ¨å¯¼ï¼Œå†å…¶æ¬¡ç”Ÿæˆå™¨å’Œforå¾ªç¯ï¼Œwhileå¾ªç¯æœ€æ…¢ã€‚æœ€å¿«çš„ä½¿ç”¨å†…ç½®å‡½æ•°çš„æ–¹æ³•è¦æ¯”ä½¿ç”¨æœ€æ…¢çš„whileå¿«ä¸¤å€ä»¥ä¸Šã€‚</p><p>ç®€å•åˆ†æä¸‹åŸå› :</p><ul><li>å†…ç½®å‡½æ•°æ¯”å¦‚è¯´map,filter,reduceåŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨Cè¯­è¨€æ¥å®ç°çš„,æ‰€ä»¥é€Ÿåº¦æ˜¯æœ€å¿«çš„ï¼Œ</li><li>åˆ—è¡¨æ¨å¯¼å†…çš„è¿­ä»£åœ¨è§£é‡Šå™¨å†…æ˜¯ä»¥Cè¯­è¨€çš„é€Ÿåº¦è¿è¡Œçš„(ä¸€èˆ¬æ˜¯forå¾ªç¯çš„ä¸¤å€,å¯¹å¤§å‹æ–‡ä»¶æ“ä½œè€Œè¨€</li><li>åˆ—è¡¨æ¨å¯¼æ•ˆæœå°¤å…¶æ˜æ˜¾)ï¼Œç›¸æ¯”è¾ƒforå¾ªç¯ä»£ç æ˜¯åœ¨PVMæ­¥è¿›è¿è¡Œè¦å¿«çš„å¤š</li><li>forå¾ªç¯é‡Œé¢å«range()ï¼Œç›¸å¯¹é€Ÿåº¦ä¹Ÿä¼šå¿«äº›ï¼Œ</li><li>whileè¯­å¥æ˜¯çº¯ç²¹ç”¨Pythonä»£ç å†™æˆï¼Œæ‰€ä»¥é€Ÿåº¦æœ€æ…¢ã€‚</li></ul><p>ç»¼ä¸Šï¼Œ<strong>æ‰€ä»¥å‡½æ•°å¼ç¼–ç¨‹æœ€å¥½ä½¿ç”¨å†…ç½®å‡½æ•°ï¼Œç„¶åæ‰è€ƒè™‘ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æˆ–forå¾ªç¯ã€‚æœ€å¥½ä¸ç”¨whileå¾ªç¯ã€‚</strong></p><p>##å‚è€ƒèµ„æ–™</p><ol><li><a href="http://m.jb51.net/article/67169.htm">Python whileã€forã€ç”Ÿæˆå™¨ã€åˆ—è¡¨æ¨å¯¼ç­‰è¯­å¥çš„æ‰§è¡Œæ•ˆç‡æµ‹è¯•</a></li><li><a href="https://wiki.python.org/moin/PythonSpeed/PerformanceTips">PythonSpeed/PerformanceTips</a></li><li><a href="http://pycoders-weekly-chinese.readthedocs.io/en/latest/issue1/python-performance-tips-part-1.html">Python æ€§èƒ½å°è´´å£« (ç¬¬1éƒ¨åˆ†)</a></li></ol>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/python/">python</category>
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2016/11/11/2016-11-11-a-efficiency-comparison-between-while-slash-for-slash-generator-slash-comprehension/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1 å€¼ã€ROC/AUC ã€PRCå„è‡ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</title>
      <link>http://example.com/2016/09/21/metric/</link>
      <guid>http://example.com/2016/09/21/metric/</guid>
      <pubDate>Wed, 21 Sep 2016 14:15:48 GMT</pubDate>
      
      <description>&lt;p&gt;ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1 å€¼ã€ROCã€AUCã€PRCéƒ½æ˜¯æœºå™¨å­¦ä¹ æ¨¡å‹çš„å¸¸ç”¨è¯„ä»·æ ‡å‡†ï¼Œé‚£ä¹ˆå®ƒä»¬çš„åŒºåˆ«å’Œè”ç³»ä»¥åŠå„è‡ªåº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&quot;è¿™äº›æŒ‡æ ‡çš„å«ä¹‰&quot;&gt;&lt;a href=&quot;#è¿™äº›æŒ‡æ ‡çš„å«ä¹‰&quot; class=&quot;headerlink&quot; title=&quot;è¿™äº›æŒ‡æ ‡çš„å«ä¹‰&quot;&gt;&lt;/a&gt;è¿™äº›æŒ‡æ ‡çš„å«ä¹‰&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Precisionï¼šP=TP/(TP+FP)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Recallï¼šR=TP/(TP+FN)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;F1-scoreï¼š2/(1/P+1/R)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ROC/AUCï¼šTPR=TP/(TP+FN), FPR=FP/(FP+TN)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;TP â€”â€” True Positive ï¼ˆçœŸæ­£, TPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºçœŸçš„æ­£ç¡®ç‡&lt;/p&gt;
&lt;p&gt;TN â€”â€” True Negativeï¼ˆçœŸè´Ÿ , TNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„è´Ÿæ ·æœ¬ ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºå‡çš„æ­£ç¡®ç‡&lt;/p&gt;
&lt;p&gt;FP â€”â€”False Positive ï¼ˆå‡æ­£, FPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„è´Ÿæ ·æœ¬ï¼›å¯ä»¥ç§°ä½œè¯¯æŠ¥ç‡&lt;/p&gt;
&lt;p&gt;FNâ€”â€” False Negativeï¼ˆå‡è´Ÿ , FNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œæ¼æŠ¥ç‡&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1 å€¼ã€ROCã€AUCã€PRCéƒ½æ˜¯æœºå™¨å­¦ä¹ æ¨¡å‹çš„å¸¸ç”¨è¯„ä»·æ ‡å‡†ï¼Œé‚£ä¹ˆå®ƒä»¬çš„åŒºåˆ«å’Œè”ç³»ä»¥åŠå„è‡ªåº”ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><h2 id="è¿™äº›æŒ‡æ ‡çš„å«ä¹‰"><a href="#è¿™äº›æŒ‡æ ‡çš„å«ä¹‰" class="headerlink" title="è¿™äº›æŒ‡æ ‡çš„å«ä¹‰"></a>è¿™äº›æŒ‡æ ‡çš„å«ä¹‰</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Precisionï¼šP=TP/(TP+FP)</span><br><span class="line">Recallï¼šR=TP/(TP+FN)</span><br><span class="line">F1-scoreï¼š2/(1/P+1/R)</span><br><span class="line">ROC/AUCï¼šTPR=TP/(TP+FN), FPR=FP/(FP+TN)</span><br></pre></td></tr></table></figure><p>TP â€”â€” True Positive ï¼ˆçœŸæ­£, TPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºçœŸçš„æ­£ç¡®ç‡</p><p>TN â€”â€” True Negativeï¼ˆçœŸè´Ÿ , TNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„è´Ÿæ ·æœ¬ ï¼›å¯ä»¥ç§°ä½œåˆ¤æ–­ä¸ºå‡çš„æ­£ç¡®ç‡</p><p>FP â€”â€”False Positive ï¼ˆå‡æ­£, FPï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºæ­£çš„è´Ÿæ ·æœ¬ï¼›å¯ä»¥ç§°ä½œè¯¯æŠ¥ç‡</p><p>FNâ€”â€” False Negativeï¼ˆå‡è´Ÿ , FNï¼‰è¢«æ¨¡å‹é¢„æµ‹ä¸ºè´Ÿçš„æ­£æ ·æœ¬ï¼›å¯ä»¥ç§°ä½œæ¼æŠ¥ç‡</p><span id="more"></span><p>True Positive Rateï¼ˆçœŸæ­£ç‡ , TPRï¼‰æˆ–çµæ•åº¦ï¼ˆsensitivityï¼‰ ä¹Ÿå°±æ˜¯<strong>å¬å›ç‡ Recall</strong></p><p>TPR = TP /ï¼ˆTP + FNï¼‰</p><p>æ­£æ ·æœ¬é¢„æµ‹ç»“æœæ•° / æ­£æ ·æœ¬å®é™…æ•°</p><p>True Negative Rateï¼ˆçœŸè´Ÿç‡ , TNRï¼‰æˆ–ç‰¹æŒ‡åº¦ï¼ˆspecificityï¼‰</p><p>TNR = TN /ï¼ˆTN + FPï¼‰</p><p>è´Ÿæ ·æœ¬é¢„æµ‹ç»“æœæ•° / è´Ÿæ ·æœ¬å®é™…æ•°</p><p>False Positive Rate ï¼ˆå‡æ­£ç‡, FPRï¼‰</p><p>FPR = FP /ï¼ˆFP + TNï¼‰</p><p>è¢«é¢„æµ‹ä¸ºæ­£çš„è´Ÿæ ·æœ¬ç»“æœæ•° /è´Ÿæ ·æœ¬å®é™…æ•°</p><p>False Negative Rateï¼ˆå‡è´Ÿç‡ , FNRï¼‰</p><p>FNR = FN /ï¼ˆTP + FNï¼‰</p><p>è¢«é¢„æµ‹ä¸ºè´Ÿçš„æ­£æ ·æœ¬ç»“æœæ•° / æ­£æ ·æœ¬å®é™…æ•°</p><p>å‡å®šä¸€ä¸ªå…·ä½“åœºæ™¯ä½œä¸ºä¾‹å­ï¼š</p><blockquote><p>å‡å¦‚æŸä¸ªç­çº§æœ‰ç”·ç”Ÿ<strong>80</strong>äºº,å¥³ç”Ÿ<strong>20</strong>äºº,å…±è®¡<strong>100</strong>äºº.ç›®æ ‡æ˜¯æ‰¾å‡ºæ‰€æœ‰å¥³ç”Ÿ.</p><p>ç°åœ¨æŸäººæŒ‘é€‰å‡º<strong>50</strong>ä¸ªäºº,å…¶ä¸­<strong>20</strong>äººæ˜¯å¥³ç”Ÿ,å¦å¤–è¿˜é”™è¯¯çš„æŠŠ30ä¸ªç”·ç”Ÿä¹Ÿå½“ä½œå¥³ç”ŸæŒ‘é€‰å‡ºæ¥äº†.</p><p>ä½œä¸ºè¯„ä¼°è€…çš„ä½ éœ€è¦æ¥è¯„ä¼°(<strong>evaluation</strong>)ä¸‹ä»–çš„å·¥ä½œã€‚</p></blockquote><table><thead><tr><th></th><th><strong>ç›¸å…³(Relevant),æ­£ç±»</strong></th><th><strong>æ— å…³(NonRelevant),è´Ÿç±»</strong></th></tr></thead><tbody><tr><td><strong>è¢«æ£€ç´¢åˆ°(Retrieved)</strong></td><td>true positives(TP æ­£ç±»åˆ¤å®šä¸ºæ­£ç±»,ä¾‹å­ä¸­å°±æ˜¯æ­£ç¡®çš„åˆ¤å®šâ€è¿™ä½æ˜¯å¥³ç”Ÿâ€)</td><td>false positives(FP è´Ÿç±»åˆ¤å®šä¸ºæ­£ç±»,â€å­˜ä¼ªâ€,ä¾‹å­ä¸­å°±æ˜¯åˆ†æ˜æ˜¯ç”·ç”Ÿå´åˆ¤æ–­ä¸ºå¥³ç”Ÿ,å½“ä¸‹ä¼ªå¨˜æ¨ªè¡Œ,è¿™ä¸ªé”™å¸¸æœ‰äººçŠ¯)</td></tr><tr><td><strong>æœªè¢«æ£€ç´¢åˆ°(Not Retrieved)</strong></td><td>false negatives(FN æ­£ç±»åˆ¤å®šä¸ºè´Ÿç±»,â€å»çœŸâ€,ä¾‹å­ä¸­å°±æ˜¯,åˆ†æ˜æ˜¯å¥³ç”Ÿ,è¿™å“¥ä»¬å´åˆ¤æ–­ä¸ºç”·ç”Ÿâ€“æ¢å±±ä¼¯åŒå­¦çŠ¯çš„é”™å°±æ˜¯è¿™ä¸ª)</td><td>true negatives(TN è´Ÿç±»åˆ¤å®šä¸ºè´Ÿç±»,ä¹Ÿå°±æ˜¯ä¸€ä¸ªç”·ç”Ÿè¢«åˆ¤æ–­ä¸ºç”·ç”Ÿ,åƒæˆ‘è¿™æ ·çš„çº¯çˆ·ä»¬ä¸€å‡†å„¿å°±ä¼šåœ¨æ­¤å¤„)</td></tr></tbody></table><p>é€šè¿‡è¿™å¼ è¡¨,æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“å¾—åˆ°è¿™å‡ ä¸ªå€¼:</p><p>TP=20</p><p>FP=30</p><p>FN=0</p><p>TN=50</p><p>**ç²¾ç¡®ç‡ï¼š **ç­–ç•¥å‘½ä¸­çš„æ‰€æœ‰ç›¸å…³æ ·æœ¬/ç­–ç•¥å‘½ä¸­çš„æ‰€æœ‰æ ·æœ¬</p><p>Precision = TP / (TP + FP)</p><p><em>æ³¨ï¼šæ­£ç¡®ç‡/å‡†ç¡®ç‡ï¼ˆaccuracyï¼‰å’Œ ç²¾åº¦ï¼ˆprecisionï¼‰ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µ</em></p><p><em>æ­£ç¡®ç‡æ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„è¯„ä»·æŒ‡æ ‡ï¼Œaccuracy = ï¼ˆTP+TNï¼‰/(P+N)ï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯è¢«åˆ†å¯¹çš„æ ·æœ¬æ•°é™¤ä»¥æ‰€æœ‰çš„æ ·æœ¬æ•°</em></p><p><strong>å¬å›ç‡</strong>ï¼šç­–ç•¥å‘½ä¸­çš„æ‰€æœ‰ç›¸å…³æ ·æœ¬/æ‰€æœ‰çš„ç›¸å…³æ ·æœ¬ï¼ˆåŒ…æ‹¬ç­–ç•¥æœªè¢«å‘½ä¸­çš„ï¼‰</p><p>Recall =  TP / (TP + FN)</p><p>F1-score(F1-åˆ†æ•°)ï¼š2Ã—å‡†ç¡®ç‡Ã—å¬å›ç‡/ï¼ˆå‡†ç¡®ç‡+å¬å›ç‡ï¼‰ï¼Œæ˜¯æ¨¡å‹å‡†ç¡®ç‡å’Œå¬å›ç‡çš„ä¸€ç§åŠ æƒå¹³å‡ï¼Œå®ƒçš„æœ€å¤§å€¼æ˜¯1ï¼Œæœ€å°å€¼æ˜¯0ã€‚ï¼ˆè¯¦ç»†ä»‹ç»è§ä¸‹ï¼‰</p><p>ROC(_receiver operating characteristic curve_):  ROCæ›²çº¿çš„æ¨ªåæ ‡ä¸º_false positive rate_ï¼ˆFPR,å‡æ­£ç‡ï¼‰ï¼Œçºµåæ ‡ä¸º_true positive rate_ï¼ˆTPRï¼ŒçœŸæ­£ç‡ï¼Œå¬å›ç‡ï¼‰</p><p>PRC(_precision recall curve_): PRCæ›²çº¿çš„æ¨ªåæ ‡ä¸ºå¬å›ç‡_Recall_ï¼Œçºµåæ ‡ä¸ºå‡†ç¡®ç‡_Precision_ã€‚</p><p>AUC:è¢«å®šä¹‰ä¸ºROCæ›²çº¿ä¸‹çš„é¢ç§¯ï¼Œæ˜¾ç„¶è¿™ä¸ªé¢ç§¯çš„æ•°å€¼ä¸ä¼šå¤§äº1ã€‚æ•…AUCä¸PRCæ˜¯åŒä¸€æ¦‚å¿µã€‚åˆç”±äºROCæ›²çº¿ä¸€èˆ¬éƒ½å¤„äºy=xè¿™æ¡ç›´çº¿çš„ä¸Šæ–¹ï¼Œæ‰€ä»¥AUCçš„å–å€¼èŒƒå›´ä¸€èˆ¬åœ¨0.5å’Œ1ä¹‹é—´ã€‚</p><h2 id="æŒ‡æ ‡çš„è¯„ä»·æ ‡å‡†"><a href="#æŒ‡æ ‡çš„è¯„ä»·æ ‡å‡†" class="headerlink" title="æŒ‡æ ‡çš„è¯„ä»·æ ‡å‡†"></a>æŒ‡æ ‡çš„è¯„ä»·æ ‡å‡†</h2><h3 id="ROCä¸AUC"><a href="#ROCä¸AUC" class="headerlink" title="ROCä¸AUC"></a>ROCä¸AUC</h3><p>ROCï¼ˆreceiver operating characteristic curveï¼‰ä¹Ÿå°±æ˜¯ä¸‹å›¾ä¸­çš„æ›²çº¿ï¼Œå…¶å…³æ³¨ä¸¤ä¸ªæŒ‡æ ‡</p><p> True Positive Rate ( TPR ) = TP / [ TP + FN] ï¼ŒTPRä»£è¡¨èƒ½å°†æ­£ä¾‹åˆ†å¯¹çš„æ¦‚ç‡</p><p> False Positive Rate( FPR ) = FP / [ FP + TN] ï¼ŒFPRä»£è¡¨å°†è´Ÿä¾‹é”™åˆ†ä¸ºæ­£ä¾‹çš„æ¦‚ç‡</p><p>åœ¨ROC ç©ºé—´ä¸­ï¼Œæ¯ä¸ªç‚¹çš„æ¨ªåæ ‡æ˜¯FPRï¼Œçºµåæ ‡æ˜¯TPRï¼Œè¿™ä¹Ÿå°±æç»˜äº†åˆ†ç±»å™¨åœ¨TPï¼ˆçœŸæ­£çš„æ­£ä¾‹ï¼‰å’ŒFPï¼ˆé”™è¯¯çš„æ­£ä¾‹ï¼‰é—´çš„trade-offã€‚ROCçš„ä¸»è¦åˆ†æå·¥å…·æ˜¯ä¸€ä¸ªç”»åœ¨ROCç©ºé—´çš„æ›²çº¿â€”â€”ROC curveã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹äºäºŒå€¼åˆ†ç±»é—®é¢˜ï¼Œå®ä¾‹çš„å€¼å¾€å¾€æ˜¯è¿ç»­å€¼ï¼Œæˆ‘ä»¬é€šè¿‡è®¾å®šä¸€ä¸ªé˜ˆå€¼ï¼Œå°†å®ä¾‹åˆ†ç±»åˆ°æ­£ç±»æˆ–è€…è´Ÿç±»ï¼ˆæ¯”å¦‚å¤§äºé˜ˆå€¼åˆ’åˆ†ä¸ºæ­£ç±»ï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å˜åŒ–é˜ˆå€¼ï¼Œæ ¹æ®ä¸åŒçš„é˜ˆå€¼è¿›è¡Œåˆ†ç±»ï¼Œæ ¹æ®åˆ†ç±»ç»“æœè®¡ç®—å¾—åˆ°ROCç©ºé—´ä¸­ç›¸åº”çš„ç‚¹ï¼Œè¿æ¥è¿™äº›ç‚¹å°±å½¢æˆROC curveã€‚ROC curveç»è¿‡ï¼ˆ0,0ï¼‰ï¼ˆ1,1ï¼‰ï¼Œå®é™…ä¸Š(0, 0)å’Œ(1, 1)è¿çº¿å½¢æˆçš„ROC curveå®é™…ä¸Šä»£è¡¨çš„æ˜¯ä¸€ä¸ªéšæœºåˆ†ç±»å™¨ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ›²çº¿éƒ½åº”è¯¥å¤„äº(0, 0)å’Œ(1, 1)è¿çº¿çš„ä¸Šæ–¹ã€‚å¦‚å›¾æ‰€ç¤ºã€‚</p><p>ç”¨ROC curveæ¥è¡¨ç¤ºåˆ†ç±»å™¨çš„performanceå¾ˆç›´è§‚å¥½ç”¨ã€‚å¯æ˜¯ï¼Œäººä»¬æ€»æ˜¯å¸Œæœ›èƒ½æœ‰ä¸€ä¸ªæ•°å€¼æ¥æ ‡å¿—åˆ†ç±»å™¨çš„å¥½åã€‚</p><p>äºæ˜¯**Area Under roc Curve(AUC)**å°±å‡ºç°äº†ã€‚é¡¾åæ€ä¹‰ï¼ŒAUCçš„å€¼å°±æ˜¯å¤„äºROC curveä¸‹æ–¹çš„é‚£éƒ¨åˆ†é¢ç§¯çš„å¤§å°ã€‚é€šå¸¸ï¼ŒAUCçš„å€¼ä»‹äº0.5åˆ°1.0ä¹‹é—´ï¼Œè¾ƒå¤§çš„AUCä»£è¡¨äº†è¾ƒå¥½çš„Performanceã€‚</p><p>åŒæ—¶æˆ‘ä»¬ä¹Ÿçœ‹é‡Œé¢ä¹Ÿä¸Šäº†AUCä¹Ÿå°±æ˜¯æ˜¯é¢ç§¯ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœROCæ˜¯å…‰æ»‘çš„ï¼Œé‚£ä¹ˆåŸºæœ¬å¯ä»¥åˆ¤æ–­æ²¡æœ‰å¤ªå¤§çš„overfittingï¼ˆæ¯”å¦‚å›¾ä¸­0.2åˆ°0.4å¯èƒ½å°±æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ ·æœ¬å¤ªå°‘äº†ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™è°ƒæ¨¡å‹å¯ä»¥åªçœ‹AUCï¼Œé¢ç§¯è¶Šå¤§ä¸€èˆ¬è®¤ä¸ºæ¨¡å‹è¶Šå¥½ã€‚</p><p><img src="/images/2016/09/efd0feae0d18367a7d666328ae674ab1_b.jpg"></p><h3 id="PRC"><a href="#PRC" class="headerlink" title="PRC"></a>PRC</h3><p>å†è¯´PRCï¼Œ precision recall curveã€‚å’ŒROCä¸€æ ·ï¼Œå…ˆçœ‹å¹³æ»‘ä¸å¹³æ»‘ï¼ˆè“çº¿æ˜æ˜¾å¥½äº›ï¼‰ï¼Œåœ¨çœ‹è°ä¸Šè°ä¸‹ï¼ˆåŒä¸€æµ‹è¯•é›†ä¸Šï¼‰ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä¸Šé¢çš„æ¯”ä¸‹é¢çš„å¥½ï¼ˆç»¿çº¿æ¯”çº¢çº¿å¥½ï¼‰ã€‚F1ï¼ˆä¸‹é¢ä»‹ç»ï¼‰å½“På’ŒRæ¥è¿‘å°±ä¹Ÿè¶Šå¤§ï¼Œä¸€èˆ¬ä¼šç”»è¿æ¥(0,0)å’Œ(1,1)çš„çº¿ï¼Œçº¿å’ŒPRCé‡åˆçš„åœ°æ–¹çš„F1æ˜¯è¿™æ¡çº¿æœ€å¤§çš„F1ï¼ˆå…‰æ»‘çš„æƒ…å†µä¸‹ï¼‰ï¼Œæ­¤æ—¶çš„F1å¯¹äºPRCå°±å¥½è±¡AUCå¯¹äºROCä¸€æ ·ã€‚<strong>ä¸€ä¸ªæ•°å­—æ¯”ä¸€æ¡çº¿æ›´æ–¹ä¾¿è°ƒæ¨¡å‹ã€‚</strong></p><p><img src="/images/2016/09/3378a75e33245f6e0aac33717b19512c_b.jpg"></p><p>ä»¥ä¸Šä¸¤ä¸ªæŒ‡æ ‡ç”¨æ¥<strong>åˆ¤æ–­æ¨¡å‹å¥½å</strong>ï¼Œä½†æ˜¯æœ‰æ—¶å€™æ¨¡å‹æ²¡æœ‰å•çº¯çš„è°æ¯”è°å¥½ï¼ˆæ¯”å¦‚å›¾äºŒçš„è“çº¿å’Œé’çº¿ï¼‰ï¼Œé‚£ä¹ˆé€‰æ‹©æ¨¡å‹è¿˜æ˜¯è¦ç»“åˆå…·ä½“çš„ä½¿ç”¨åœºæ™¯ã€‚</p><p>ä¸‹é¢æ˜¯ä¸¤ä¸ªåœºæ™¯ï¼š</p><ol><li>åœ°éœ‡çš„é¢„æµ‹</li></ol><p>å¯¹äºåœ°éœ‡çš„é¢„æµ‹ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯RECALLéå¸¸é«˜ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡åœ°éœ‡æˆ‘ä»¬éƒ½å¸Œæœ›é¢„æµ‹å‡ºæ¥ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç‰ºç‰²PRECISIONã€‚æƒ…æ„¿å‘å‡º1000æ¬¡è­¦æŠ¥ï¼ŒæŠŠ10æ¬¡åœ°éœ‡éƒ½é¢„æµ‹æ­£ç¡®äº†ï¼›ä¹Ÿä¸è¦é¢„æµ‹100æ¬¡å¯¹äº†8æ¬¡æ¼äº†ä¸¤æ¬¡ã€‚</p><ol><li>å«Œç–‘äººå®šç½ª</li></ol><p>åŸºäºä¸é”™æ€ªä¸€ä¸ªå¥½äººçš„åŸåˆ™ï¼Œå¯¹äºå«Œç–‘äººçš„å®šç½ªæˆ‘ä»¬å¸Œæœ›æ˜¯éå¸¸å‡†ç¡®çš„ã€‚åŠæ—¶æœ‰æ—¶å€™æ”¾è¿‡äº†ä¸€äº›ç½ªçŠ¯ï¼ˆrecallä½ï¼‰ï¼Œä½†ä¹Ÿæ˜¯å€¼å¾—çš„ã€‚</p><p>å¯¹äºåˆ†ç±»å™¨æ¥è¯´ï¼Œæœ¬è´¨ä¸Šæ˜¯ç»™ä¸€ä¸ªæ¦‚ç‡ï¼Œæ­¤æ—¶ï¼Œæˆ‘ä»¬å†é€‰æ‹©ä¸€ä¸ªCUTOFFç‚¹ï¼ˆé˜€å€¼ï¼‰ï¼Œé«˜äºè¿™ä¸ªç‚¹çš„åˆ¤æ­£ï¼Œä½äºçš„åˆ¤è´Ÿã€‚é‚£ä¹ˆè¿™ä¸ªç‚¹çš„é€‰æ‹©å°±éœ€è¦ç»“åˆä½ çš„å…·ä½“åœºæ™¯å»é€‰æ‹©ã€‚åè¿‡æ¥ï¼Œåœºæ™¯ä¼šå†³å®šè®­ç»ƒæ¨¡å‹æ—¶çš„æ ‡å‡†ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å°±åªçœ‹RECALL=99.9999%ï¼ˆåœ°éœ‡å…¨ä¸­ï¼‰æ—¶çš„PRECISIONï¼Œå…¶ä»–æŒ‡æ ‡å°±å˜å¾—æ²¡æœ‰äº†æ„ä¹‰ã€‚</p><h3 id="PRCæ¯”ROCæ›´æœ‰æ•ˆçš„ç‰¹æ®Šæƒ…å†µ"><a href="#PRCæ¯”ROCæ›´æœ‰æ•ˆçš„ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="PRCæ¯”ROCæ›´æœ‰æ•ˆçš„ç‰¹æ®Šæƒ…å†µ"></a>PRCæ¯”ROCæ›´æœ‰æ•ˆçš„ç‰¹æ®Šæƒ…å†µ</h3><p>åœ¨æ­£è´Ÿæ ·æœ¬åˆ†å¸ƒå¾—æä¸å‡åŒ€(highly skewed datasets)çš„æƒ…å†µä¸‹ï¼ŒPRCæ¯”ROCèƒ½æ›´æœ‰æ•ˆåœ°ååº”åˆ†ç±»å™¨çš„å¥½åã€‚<img src="/images/2016/09/fd2c6445290cdf3c863664af155b9dd0_b.png"></p><p>ä¾‹å¦‚ä¸Šå›¾ä¸­å›¾(a)ROCæ›²çº¿ä¸­çš„ä¸¤ä¸ªæ¨¡å‹çœ‹ä¼¼éå¸¸æ¥è¿‘å·¦ä¸Šè§’ï¼Œä½†æ˜¯å¯¹åº”ç€åŒä¸€ç‚¹çš„å›¾(b)ä¸­çš„PRCæ›²çº¿ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨å¬å›ç‡ä¸º0.8æ—¶å‡†ç¡®ç‡åªæœ‰0.05ä¹‹å°‘ï¼Œè¿™æ˜¯ç”±äºæ­£è´Ÿæ ·æœ¬æ¯”ä¾‹å¤±è¡¡é€ æˆçš„ã€‚</p><p>å†å¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/2016/09/74db397e36eabfb505abedd68f15bd57_b.png"></p><p>åœ¨testing setå‡ºç°imbalanceæ—¶ROCæ›²çº¿èƒ½ä¿æŒä¸å˜ï¼Œè€ŒPRåˆ™ä¼šå‡ºç°å¤§å˜åŒ–ã€‚å¼•ç”¨å›¾(Fawcett, 2006)ï¼Œ(a)(c)ä¸ºROCï¼Œ(b)(d)ä¸ºPRï¼Œ(a)(b)æ ·æœ¬æ¯”ä¾‹1:1ï¼Œ(c)(d)ä¸º1:10ã€‚</p><h3 id="F1"><a href="#F1" class="headerlink" title="F1"></a>F1</h3><p>ä¿¡æ¯æ£€ç´¢ã€åˆ†ç±»ã€è¯†åˆ«ã€ç¿»è¯‘ç­‰é¢†åŸŸä¸¤ä¸ªæœ€åŸºæœ¬æŒ‡æ ‡æ˜¯**å¬å›ç‡(Recall Rate)<strong>å’Œ</strong>å‡†ç¡®ç‡(Precision Rate)**ï¼Œå¬å›ç‡ä¹Ÿå«æŸ¥å…¨ç‡ï¼Œå‡†ç¡®ç‡ä¹Ÿå«æŸ¥å‡†ç‡ã€‚</p><p>å›¾è¡¨è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="/images/2016/09/0_1308034676G5GQ.gif"></p><p><strong>å‡†ç¡®ç‡å’Œå¬å›ç‡æ˜¯äº’ç›¸å½±å“çš„ï¼Œç†æƒ³æƒ…å†µä¸‹è‚¯å®šæ˜¯åšåˆ°ä¸¤è€…éƒ½é«˜ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹å‡†ç¡®ç‡é«˜ã€å¬å›ç‡å°±ä½ï¼Œå¬å›ç‡ä½ã€å‡†ç¡®ç‡é«˜ï¼Œå½“ç„¶å¦‚æœä¸¤è€…éƒ½ä½ï¼Œé‚£æ˜¯ä»€ä¹ˆåœ°æ–¹å‡ºé—®é¢˜äº†</strong>ã€‚ä¸€èˆ¬æƒ…å†µï¼Œç”¨ä¸åŒçš„é˜€å€¼ï¼Œç»Ÿè®¡å‡ºä¸€ç»„ä¸åŒé˜€å€¼ä¸‹çš„ç²¾ç¡®ç‡å’Œå¬å›ç‡ï¼Œè¿™å°±æ˜¯PRCæ›²çº¿ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/2016/09/0_1308034738ZLr8.png"></p><p><strong>å¦‚æœæ˜¯åšæœç´¢ï¼Œé‚£å°±æ˜¯ä¿è¯å¬å›çš„æƒ…å†µä¸‹æå‡å‡†ç¡®ç‡ï¼›å¦‚æœåšç–¾ç—…ç›‘æµ‹ã€ååƒåœ¾ï¼Œåˆ™æ˜¯ä¿å‡†ç¡®ç‡çš„æ¡ä»¶ä¸‹ï¼Œæå‡å¬å›ã€‚</strong></p><p>æ‰€ä»¥ï¼Œåœ¨ä¸¤è€…éƒ½è¦æ±‚é«˜çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç”¨F1æ¥è¡¡é‡ã€‚</p><p><code>F1 = 2 * P * R / (P + R)</code></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>AUCæ˜¯ROCçš„ç§¯åˆ†ï¼ˆæ›²çº¿ä¸‹é¢ç§¯ï¼‰ï¼Œæ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œä¸€èˆ¬è®¤ä¸ºè¶Šå¤§è¶Šå¥½ï¼Œæ•°å€¼ç›¸å¯¹äºæ›²çº¿è€Œè¨€æ›´å®¹æ˜“å½“åšè°ƒå‚çš„å‚ç…§ã€‚</li><li>ROCç›¸æ¯”PRCåœ¨æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹æ‚¬æ®Šæ—¶å…·æœ‰ä¿æŒå•è°ƒæ€§çš„ç‰¹æ€§ï¼Œå­¦æœ¯è®ºæ–‡åœ¨å‡å®šæ­£è´Ÿæ ·æœ¬å‡è¡¡çš„æ—¶å€™å¤šç”¨ROC/AUCã€‚</li><li>å®é™…å·¥ç¨‹æ›´å¤šå­˜åœ¨æ•°æ®æ ‡ç­¾å€¾æ–œé—®é¢˜ä¸€èˆ¬ä½¿ç”¨F1ã€‚</li></ul>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Machine-Learning/">Machine Learning</category>
      
      
      <comments>http://example.com/2016/09/21/metric/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>PDF click return</title>
      <link>http://example.com/2016/09/07/2016-09-07-pdf-click-return/</link>
      <guid>http://example.com/2016/09/07/2016-09-07-pdf-click-return/</guid>
      <pubDate>Wed, 07 Sep 2016 02:57:05 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;åœ¨é˜…è¯»PDFæ–‡æ¡£æ—¶ï¼Œå¦‚æœç‚¹å‡»äº†æ–‡æ¡£ä¸­çš„é“¾æ¥ï¼Œè·³è½¬åˆ°å¦ä¸€é¡µï¼Œæƒ³å†å¿«é€Ÿè¿”å›åŸæ¥çš„é¡µé¢ï¼Œä½¿ç”¨alt+å·¦ç®­å¤´çš„ç»„åˆé”®å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®æƒ…å†µçš„ä¸åŒï¼Œæœ‰æ—¶éœ€è¦ä½¿ç”¨è‹¥å¹²æ¬¡æ‰èƒ½è¿”å›åŸæ¥çš„é¡µé¢ï¼Œè¿™ä¸ªç»„åˆé”®å°±ç›¸å½“äºå›é€€ï¼Œå¦‚æœç‚¹å‡»äº†é“¾æ¥åˆ°äº†æ–°çš„é¡µé¢ï¼Œåœ¨æ–°çš„é¡µé¢ä¸Šåˆç§»åŠ¨äº†é¡µé¢ï¼Œå¦‚å‘ä¸Šæˆ–å‘ä¸‹</description>
        
      
      
      
      <content:encoded><![CDATA[<p>åœ¨é˜…è¯»PDFæ–‡æ¡£æ—¶ï¼Œå¦‚æœç‚¹å‡»äº†æ–‡æ¡£ä¸­çš„é“¾æ¥ï¼Œè·³è½¬åˆ°å¦ä¸€é¡µï¼Œæƒ³å†å¿«é€Ÿè¿”å›åŸæ¥çš„é¡µé¢ï¼Œä½¿ç”¨alt+å·¦ç®­å¤´çš„ç»„åˆé”®å³å¯ã€‚</p><p>æ ¹æ®æƒ…å†µçš„ä¸åŒï¼Œæœ‰æ—¶éœ€è¦ä½¿ç”¨è‹¥å¹²æ¬¡æ‰èƒ½è¿”å›åŸæ¥çš„é¡µé¢ï¼Œè¿™ä¸ªç»„åˆé”®å°±ç›¸å½“äºå›é€€ï¼Œå¦‚æœç‚¹å‡»äº†é“¾æ¥åˆ°äº†æ–°çš„é¡µé¢ï¼Œåœ¨æ–°çš„é¡µé¢ä¸Šåˆç§»åŠ¨äº†é¡µé¢ï¼Œå¦‚å‘ä¸Šæˆ–å‘ä¸‹æµè§ˆï¼Œé‚£ä¹ˆè‡³å°‘è¦ä½¿ç”¨2æ¬¡æˆ–2æ¬¡ä»¥ä¸Šalt+å·¦ç®­å¤´ç»„åˆé”®æ‰èƒ½ç»ˆç‚¹åŸé“¾æ¥å¤„ã€‚</p><p>è€Œæƒ³è¦å†æ¬¡å›é€€å°±ä½¿ç”¨alt+å³ç®­å¤´ç»„åˆè¿›è¡Œæ“ä½œå³å¯ã€‚</p>]]></content:encoded>
      
      
      
      <category domain="http://example.com/tags/tips/">tips</category>
      
      
      <comments>http://example.com/2016/09/07/2016-09-07-pdf-click-return/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>å¦‚ä½•è§£å†³Linux ä¸‹ zip æ–‡ä»¶è§£å‹ä¹±ç </title>
      <link>http://example.com/2016/07/16/Linux%20zip%20encoding/</link>
      <guid>http://example.com/2016/07/16/Linux%20zip%20encoding/</guid>
      <pubDate>Sat, 16 Jul 2016 04:11:14 GMT</pubDate>
      
      <description>&lt;p&gt;ç”±äºzipæ ¼å¼ä¸­å¹¶æ²¡æœ‰æŒ‡å®šç¼–ç æ ¼å¼ï¼ŒWindowsä¸‹ç”Ÿæˆçš„zipæ–‡ä»¶ä¸­çš„ç¼–ç æ˜¯GBK/GB2312ç­‰ï¼Œå› æ­¤ï¼Œå¯¼è‡´è¿™äº›zipæ–‡ä»¶åœ¨Linuxä¸‹è§£å‹æ—¶å‡ºç°ä¹±ç é—®é¢˜ï¼Œå› ä¸ºLinuxä¸‹çš„é»˜è®¤ç¼–ç æ˜¯UTF8ã€‚&lt;br&gt;ç›®å‰ç½‘ä¸Šæµä¼ ä¸€ç§unzip -O cp936çš„æ–¹æ³•ï¼Œä½†ä¸€äº›unzipæ˜¯æ²¡æœ‰-Oè¿™ä¸ªé€‰é¡¹çš„ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>ç”±äºzipæ ¼å¼ä¸­å¹¶æ²¡æœ‰æŒ‡å®šç¼–ç æ ¼å¼ï¼ŒWindowsä¸‹ç”Ÿæˆçš„zipæ–‡ä»¶ä¸­çš„ç¼–ç æ˜¯GBK/GB2312ç­‰ï¼Œå› æ­¤ï¼Œå¯¼è‡´è¿™äº›zipæ–‡ä»¶åœ¨Linuxä¸‹è§£å‹æ—¶å‡ºç°ä¹±ç é—®é¢˜ï¼Œå› ä¸ºLinuxä¸‹çš„é»˜è®¤ç¼–ç æ˜¯UTF8ã€‚<br>ç›®å‰ç½‘ä¸Šæµä¼ ä¸€ç§unzip -O cp936çš„æ–¹æ³•ï¼Œä½†ä¸€äº›unzipæ˜¯æ²¡æœ‰-Oè¿™ä¸ªé€‰é¡¹çš„ã€‚</p><span id="more"></span><p>åœ¨ubuntuä¸‹çš„å®‰è£…å‘½ä»¤æ˜¯</p><p><code>sudo apt-get install p7zip convmv</code></p><p>å®‰è£…å®Œä¹‹åï¼Œå°±å¯ä»¥ç”¨7zaå’Œconvmvä¸¤ä¸ªå‘½ä»¤å®Œæˆè§£å‹ç¼©ä»»åŠ¡ã€‚</p><p><code>LANG=C 7za x your-zip-file.zip convmv -f GBK -t utf8 --notest -r .</code></p><p>ç¬¬ä¸€æ¡å‘½ä»¤ç”¨äºè§£å‹ç¼©ï¼Œè€ŒLANG=Cè¡¨ç¤ºä»¥US-ASCIIè¿™æ ·çš„ç¼–ç è¾“å‡ºæ–‡ä»¶åï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªè¯­è¨€è®¾ç½®ï¼Œå®ƒåŒæ ·ä¼šè¾“å‡ºä¹±ç ï¼Œåªä¸è¿‡æ˜¯UTF8æ ¼å¼çš„ä¹±ç (convmvä¼šå¿½ç•¥è¿™æ ·çš„ä¹±ç )ã€‚<br>ç¬¬äºŒæ¡å‘½ä»¤æ˜¯å°†GBKç¼–ç çš„æ–‡ä»¶åè½¬åŒ–ä¸ºUTF8ç¼–ç ï¼Œ-rè¡¨ç¤ºé€’å½’è®¿é—®ç›®å½•ï¼Œå³å¯¹å½“å‰ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶è¿›è¡Œè½¬æ¢ã€‚</p><p>ä½œè€…ï¼šLatm Ake<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/20523036/answer/35225920">https://www.zhihu.com/question/20523036/answer/35225920</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒã€‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2016/07/16/Linux%20zip%20encoding/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>RECURRENT NEURAL NETWORK TUTORIAL, PART 4 â€“ IMPLEMENTING A GRU/LSTM RNN WITH PYTHON AND THEANO</title>
      <link>http://example.com/2016/06/22/2016-06-22-recurrent-neural-network-tutorial-part-4-implementing-a-gru-slash-lstm-rnn-with-python-and-theano/</link>
      <guid>http://example.com/2016/06/22/2016-06-22-recurrent-neural-network-tutorial-part-4-implementing-a-gru-slash-lstm-rnn-with-python-and-theano/</guid>
      <pubDate>Wed, 22 Jun 2016 13:42:51 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å…³äºLSTM (Long Short Term Memory)ç½‘ç»œå’Œ GRUs (Gated Recurrent Units)çš„çŸ¥è¯†ã€‚LSTMæœ€åˆç”±&lt;a href=&quot;http://deeplearning.cs.cmu.edu/pdfs/Hochreiter97_lstm.pdf&quot;&gt;Sepp Hochreiter and JÃ¼rgen Schmidhuberäº1997å¹´æå‡º&lt;/a&gt;ï¼Œå¦‚ä»Šæ˜¯æ·±åº¦å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸæœ€æµè¡Œçš„æ¨¡å‹ã€‚GRUï¼Œ&lt;a href=&quot;http://arxiv.org/pdf/1406.1078v3.pdf&quot;&gt;å‡ºç°äº2014å¹´&lt;/a&gt;ï¼Œæ˜¯LSTMçš„ç®€åŒ–ç‰ˆï¼Œä¸LSTMæœ‰è®¸å¤šç›¸ä¼¼çš„ç‰¹æ€§ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å…³äºLSTM (Long Short Term Memory)ç½‘ç»œå’Œ GRUs (Gated Recurrent Units)çš„çŸ¥è¯†ã€‚LSTMæœ€åˆç”±<a href="http://deeplearning.cs.cmu.edu/pdfs/Hochreiter97_lstm.pdf">Sepp Hochreiter and JÃ¼rgen Schmidhuberäº1997å¹´æå‡º</a>ï¼Œå¦‚ä»Šæ˜¯æ·±åº¦å­¦ä¹ è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸæœ€æµè¡Œçš„æ¨¡å‹ã€‚GRUï¼Œ<a href="http://arxiv.org/pdf/1406.1078v3.pdf">å‡ºç°äº2014å¹´</a>ï¼Œæ˜¯LSTMçš„ç®€åŒ–ç‰ˆï¼Œä¸LSTMæœ‰è®¸å¤šç›¸ä¼¼çš„ç‰¹æ€§ã€‚</p><span id="more"></span><p>##LSTM ç½‘ç»œ</p><p>åœ¨<a href="http://frankchen0130.github.io/2016/06/22/recurrent-neural-networks-tutorial-part-3-backpropagation-through-time-and-vanishing-gradients/">ç¬¬ä¸‰éƒ¨åˆ†</a>æˆ‘ä»¬æåˆ°äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜å¦¨ç¢äº†æ ‡å‡†çš„RNNå­¦ä¹ é•¿æœŸä¾èµ–é—®é¢˜ã€‚LSTMè¢«è®¾è®¡äºç”¨gateç»“æ„è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚ä¸ºäº†ç†è§£è¿™ä¸ªæœºåˆ¶ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹LSTMå¦‚ä½•è®¡ç®—éšè—çŠ¶æ€$$s_t$$ï¼ˆå…¶ä¸­å°åœ†åœˆä»£è¡¨Hadamard productï¼Œå³åŒå‹çŸ©é˜µå„å…ƒç´ å¯¹åº”ç›¸ä¹˜ï¼Œä¸åŒäºçŸ©é˜µç‚¹ä¹˜ï¼‰ã€‚</p><p><img src="/images/2016/06/latex7.png"></p><p>å¼å­çœ‹èµ·æ¥å¤æ‚ï¼Œä¸€æ­¥ä¸€æ­¥æ¥ç†è§£å®åˆ™ç®€å•ã€‚é¦–å…ˆï¼ŒLSTMçš„ä¸€å±‚ä»£è¡¨çš„åªæ˜¯å¦ä¸€ç§è®¡ç®—éšè—å±‚çš„æ–¹æ³•ã€‚ä¹‹å‰æˆ‘ä»¬è®¡ç®—äº†éšè—çŠ¶æ€$$s_t = tanh(Ux_t + WS_{s-1})$$ã€‚å¯¹äºå½“å‰çš„å•å…ƒï¼Œè¾“å…¥æ˜¯$$t$$æ—¶åˆ»çš„$$x_t$$ï¼Œè€Œ$$s_{t-1}$$æ˜¯ä¹‹å‰çš„éšè—çŠ¶æ€ï¼Œè¾“å‡ºæ˜¯æ–°çš„éšè—çŠ¶æ€$$s_t$$ã€‚å…¶å®ï¼ŒLSTMåšçš„äº‹æƒ…æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œåªä¸è¿‡æ¢äº†ç§æ–¹å¼ï¼Œè¿™ä¹Ÿæ˜¯ç†è§£LSTMçš„æ ¸å¿ƒã€‚æˆ‘ä»¬å¯ä»¥æŠŠLSTMå•å…ƒçœ‹ä½œæ˜¯é»‘ç›’å­ï¼Œç»™äºˆå…¶å½“å‰è¾“å…¥å’Œä¹‹å‰çš„éšè—çŠ¶æ€ï¼Œå®ƒå¯ä»¥è¾“å‡ºä¸‹ä¸€ä¸ªéšè—çŠ¶æ€ã€‚</p><p><img src="/images/2016/06/gru-lstm.png"></p><p>æŠŠè¿™ä¸ªç‰¢è®°äºå¿ƒï¼Œæˆ‘ä»¬å¼€å§‹æ¥é˜è¿°LSTMå¦‚ä½•è®¡ç®—éšè—çŠ¶æ€ã€‚å…³äºè¿™ä¸€ç‚¹ï¼Œè¯¦ç»†å¯çœ‹<a href="http://frankchen0130.github.io/2016/06/04/understanding-lstm-networks/">è¿™ç¯‡æ–‡ç« </a>ï¼Œè¿™é‡Œæˆ‘ä»¬åªä½œç®€çŸ­æè¿°ï¼š</p><ul><li>$$i,f,o$$åˆ†åˆ«è¢«ç§°ä¸ºè¾“å…¥é—¨ã€é—å¿˜é—¨å’Œè¾“å‡ºé—¨ã€‚æ³¨æ„åˆ°ï¼Œå®ƒä»¬å…·æœ‰ç›¸åŒçš„ç­‰å¼ï¼Œåªæ˜¯å‚æ•°çŸ©é˜µä¸åŒã€‚å®ƒä»¬ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºâ€œé—¨â€ï¼Œæ˜¯å› ä¸ºsigmoidå‡½æ•°å°†å‘é‡å€¼å‹ç¼©åˆ°0å’Œ1ä¹‹é—´ï¼Œå†ä¸å¦ä¸€ä¸ªå‘é‡ç›¸ä¹˜ï¼Œæˆ‘ä»¬å› æ­¤å†³å®šå‘é‡çš„å¤šå°‘â€œé€šè¿‡â€ã€‚è¾“å…¥é—¨å†³å®šå½“å‰è¾“å…¥è®¡ç®—å‡ºæ¥çš„çŠ¶æ€çš„å¤šå°‘æˆåˆ†è¢«é€šè¿‡ï¼Œé—å¿˜é—¨å†³å®šä¹‹å‰çš„çŠ¶æ€æœ‰å¤šå°‘å¯ä»¥è¢«ä¿ç•™åˆ°ä¹‹åï¼Œè¾“å‡ºé—¨å†³å®šå½“å‰çš„çŠ¶æ€æœ‰å¤šå°‘è¢«ä¼ é€åˆ°å¤–å±‚çš„ç½‘ç»œï¼ˆé«˜å±‚ç½‘ç»œå’Œä¸‹ä¸€æ—¶åˆ»ï¼‰ã€‚è¿™äº›é—¨çš„ç»´åº¦éƒ½æ˜¯$$d_s$$ï¼Œå³éšè—å±‚çš„å¤§å°ã€‚</li><li>$$g$$æ˜¯ä¸€ä¸ªå€™é€‰çš„éšè—çŠ¶æ€ï¼ŒåŸºäºå½“å‰çš„è¾“å…¥å’Œä¹‹å‰çš„éšè—çŠ¶æ€è®¡ç®—è€Œå‡ºã€‚å…¶ä¸vanilla RNNçš„è®¡ç®—ç­‰å¼ç›¸åŒï¼Œåªæ˜¯æŠŠå‚æ•°$$U,W$$æ”¹åä¸º$$U^g,W^g$$ã€‚å’ŒRNNçš„ç›´æ¥å°†$$g$$ä½œä¸ºå¿ƒçš„éšè—çŠ¶æ€ä¸åŒï¼Œæˆ‘ä»¬å°†å…¶é€šè¿‡ä¸€ä¸ªè¾“å…¥é—¨æ¥å†³å®šä¿ç•™å®ƒçš„å¤šå°‘æˆåˆ†ã€‚</li><li>$$c_t$$æ˜¯å•å…ƒçš„å†…éƒ¨çš„è®°å¿†ï¼Œå®ƒç”±ä¹‹å‰çš„è®°å¿†$$c_{t-1}$$é€šè¿‡é—å¿˜é—¨å†åŠ ä¸Šæ–°è®¡ç®—å‡ºæ¥çš„éšè—çŠ¶æ€$$g$$é€šè¿‡è¾“å…¥é—¨è®¡ç®—å¾—å‡ºã€‚å› æ­¤ï¼Œå®ƒä»£è¡¨äº†æ—§çš„è®°å¿†ä¸æ–°çš„è¾“å…¥çš„ç»“åˆã€‚æˆ‘ä»¬å¯ä»¥é€‰æ‹©å…¨éƒ¨å¿½ç•¥æ—§çš„è®°å¿†ï¼ˆé—å¿˜é—¨å…¨éƒ¨ç½®é›¶ï¼‰ï¼Œæˆ–è€…å¿½ç•¥å…¨éƒ¨çš„è®¡ç®—å‡ºçš„æ–°çŠ¶æ€ï¼ˆè¾“å…¥é—¨å…¨éƒ¨ç½®é›¶ï¼‰ï¼Œä½†æ˜¯é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬å¯èƒ½æ›´å¸Œæœ›ä»‹äºä¸¤è€…ä¹‹é—´ã€‚</li><li>ç»™å®šè®°å¿†$$c_t$$ï¼Œæˆ‘ä»¬æœ€ç»ˆé€šè¿‡è®©è®°å¿†å’Œè¾“å‡ºé—¨ç›¸ä¹˜è®¡ç®—å‡ºè¾“å‡ºéšè—å±‚çŠ¶æ€$$s_t$$ã€‚åœ¨ç½‘ç»œå†…ï¼Œä¸æ˜¯æ‰€æœ‰çš„å†…éƒ¨è®°å¿†éƒ½ä¸å…¶ä»–å•å…ƒä½¿ç”¨çš„éšè—çŠ¶æ€æœ‰å…³ã€‚</li></ul><p><img src="/images/2016/06/Screen-Shot-2015-10-23-at-10.00.55-AM.png"></p><p>æ¢ä¸€ç§è¯´æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ ‡å‡†çš„RNNçœ‹ä½œæ˜¯ç‰¹æ®Šçš„LSTMï¼Œå¦‚æœæˆ‘ä»¬å°†é—å¿˜é—¨å…¨éƒ¨ç½®é›¶ï¼Œè¾“å…¥é—¨å…¨éƒ¨ç½®ä¸€ï¼Œè¾“å‡ºé—¨å…¨éƒ¨ç½®ä¸€ï¼Œæˆ‘ä»¬å°±å‡ ä¹å¾—åˆ°ä¸€ä¸ªæ ‡å‡†çš„RNNã€‚é€šè¿‡é—¨æœºåˆ¶ï¼ŒLSTMå¯ä»¥æ“ä½œè®°å¿†ä»è€Œè§£å†³é•¿æœŸä¾èµ–é—®é¢˜ã€‚</p><p>æ³¨æ„åˆ°ï¼Œè¿˜æœ‰è®¸å¤šçš„LSTMå˜ç§ï¼Œä¸€ç§æ·»åŠ ä¸Šâ€œçŒ«çœ¼â€ç»“æ„ï¼Œå®ƒçš„é—¨åŒæ—¶å–å†³äºä¹‹å‰çš„éšè—çŠ¶æ€$$s_{t-1}$$å’Œä¹‹å‰çš„å†…éƒ¨çŠ¶æ€$$c_{t-1}$$ã€‚<a href="http://arxiv.org/pdf/1503.04069.pdf"> LSTM: A Search Space Odyssey </a>å®éªŒè§‚å¯Ÿäº†è®¸å¤šä¸åŒçš„LSTMæœºåˆ¶ã€‚</p><p>##GRUç½‘ç»œ</p><p>GRUçš„ç†å¿µç±»ä¼¼äºLSTMï¼Œå…¶ç­‰å¼å¦‚ä¸‹ï¼š</p><p><img src="/images/2016/06/latex8.png"></p><p>GRUæ‹¥æœ‰ä¸¤ä¸ªé—¨ï¼Œç§°ä¸ºé‡ç½®é—¨$$r$$å’Œæ›´æ–°é—¨$$z$$ã€‚ç›´è§‚æ¥è¯´ï¼Œé‡ç½®é—¨å†³å®šå¦‚ä½•è”åˆæ–°çš„è¾“å…¥å’Œä¹‹å‰çš„è®°å¿†ï¼Œè€Œæ›´æ–°é—¨å†³å®šç•™ä¸‹å¤šå°‘ä¹‹å‰çš„è®°å¿†ã€‚å¦‚æœå°†é‡ç½®é—¨å…¨éƒ¨ç½®ä¸€å¹¶ä¸”æ›´æ–°é—¨å…¨éƒ¨ç½®é›¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆå¾—åˆ°äº†æˆ‘ä»¬åŸå§‹çš„RNNäº†ã€‚GRUçš„è§£å†³é•¿æœŸä¾èµ–çš„ç†å¿µå’ŒLSTMåŸºæœ¬ç±»ä¼¼ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›ä¸åŒä¹‹å¤„ï¼š</p><ul><li>ä¸¤ä¸ªé—¨VSä¸‰ä¸ªé—¨</li><li>GRUä¸å¤„ç†å†…å±‚è®°å¿†$$c_t$$</li><li>è¾“å…¥é—¨å’Œé—å¿˜é—¨è¢«ç»„åˆæˆæ›´æ–°é—¨$$z$$,é‡ç½®é—¨$$r$$ç›´æ¥è¿æ¥ä¹‹å‰çš„éšè—çŠ¶æ€ã€‚å› æ­¤ï¼Œ</li><li>è®¡ç®—è¾“å‡ºæ˜¯ä¸åŠ ä¸Šç¬¬äºŒä¸ªéçº¿æ€§å˜æ¢</li></ul><p><img src="/images/2016/06/Screen-Shot-2015-10-23-at-10.36.51-AM.png"></p><p>##GRU VS LSTM</p><p>å¦‚ä»Šä½ è®¤è¯†äº†ä¸¤ä¸ªå¯¹æŠ—æ¢¯åº¦æ¶ˆå¤±çš„æ¨¡å‹</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/RNN/">RNN</category>
      
      
      <comments>http://example.com/2016/06/22/2016-06-22-recurrent-neural-network-tutorial-part-4-implementing-a-gru-slash-lstm-rnn-with-python-and-theano/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>RECURRENT NEURAL NETWORKS TUTORIAL, PART 3 â€“ BACKPROPAGATION THROUGH TIME AND VANISHING GRADIENTS</title>
      <link>http://example.com/2016/06/22/2016-06-22-recurrent-neural-networks-tutorial-part-3-backpropagation-through-time-and-vanishing-gradients/</link>
      <guid>http://example.com/2016/06/22/2016-06-22-recurrent-neural-networks-tutorial-part-3-backpropagation-through-time-and-vanishing-gradients/</guid>
      <pubDate>Wed, 22 Jun 2016 07:42:14 GMT</pubDate>
      
      <description>&lt;p&gt;åœ¨ä¹‹å‰çš„éƒ¨åˆ†æˆ‘ä»¬å®ç°äº†RNNï¼Œä½†æ˜¯å¹¶æœªæ·±å…¥æ¢ç©¶æ—¶é—´åå‘ä¼ æ’­ç®—æ³•ï¼Œæœ¬æ–‡å°†å¯¹è¿™ä¸€ç‚¹ä½œè¯¦ç»†è¯´æ˜ã€‚æˆ‘ä»¬å°†äº†è§£å…³äºæ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„çŸ¥è¯†ï¼Œå®ƒä¿ƒä½¿äº†LSTMå’ŒGRUçš„å‡ºç°ï¼Œè€Œè¿™ä¸¤è€…éƒ½æ˜¯NLPé¢†åŸŸéå¸¸å¸¸è§çš„æ¨¡å‹ã€‚&lt;/p&gt;
&lt;p&gt;##BACKPROPAGATION THROUGH TIME (BPTT)&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å›é¡¾ä¸€ä¸‹RNNçš„åŸºæœ¬ç­‰å¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/2016/06/latex.png&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>åœ¨ä¹‹å‰çš„éƒ¨åˆ†æˆ‘ä»¬å®ç°äº†RNNï¼Œä½†æ˜¯å¹¶æœªæ·±å…¥æ¢ç©¶æ—¶é—´åå‘ä¼ æ’­ç®—æ³•ï¼Œæœ¬æ–‡å°†å¯¹è¿™ä¸€ç‚¹ä½œè¯¦ç»†è¯´æ˜ã€‚æˆ‘ä»¬å°†äº†è§£å…³äºæ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„çŸ¥è¯†ï¼Œå®ƒä¿ƒä½¿äº†LSTMå’ŒGRUçš„å‡ºç°ï¼Œè€Œè¿™ä¸¤è€…éƒ½æ˜¯NLPé¢†åŸŸéå¸¸å¸¸è§çš„æ¨¡å‹ã€‚</p><p>##BACKPROPAGATION THROUGH TIME (BPTT)</p><p>é¦–å…ˆæˆ‘ä»¬å›é¡¾ä¸€ä¸‹RNNçš„åŸºæœ¬ç­‰å¼ï¼š</p><p><img src="/images/2016/06/latex.png"></p><span id="more"></span><p>æˆ‘ä»¬ä¹Ÿå®šä¹‰äº†æŸå¤±å‡½æ•°ï¼ˆäº¤å‰ç†µï¼‰ï¼š</p><p><img src="/images/2016/06/latex1.png"></p><p>åœ¨è¿™é‡Œï¼Œ$$y_t$$æ˜¯ $$t$$æ—¶åˆ»çš„æ­£ç¡®çš„è¯è¯­ï¼Œ $$\tilde{y_t}$$ æ˜¯æˆ‘ä»¬çš„é¢„æµ‹ã€‚å› ä¸ºæˆ‘ä»¬æŠŠä¸€æ•´ä¸ªåºåˆ—ï¼ˆå¥å­ï¼‰å½“åšæ˜¯è¾“å…¥ï¼Œé‚£ä¹ˆé”™è¯¯ç­‰åŒäºæ¯ä¸ªæ—¶é—´stepï¼ˆè¯è¯­ï¼‰çš„é”™è¯¯çš„å’Œã€‚</p><p>![](/images/2016/06/rnn-bptt1.pngï¼‰</p><p>éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®¡ç®—åŸºäºå‚æ•°$$U, V, W$$é”™è¯¯çš„æ¢¯åº¦ï¼Œå¹¶ä¸”é€šè¿‡SGDæ¥å­¦ä¹ åˆ°å¥½çš„å‚æ•°ã€‚ç±»ä¼¼äºæˆ‘ä»¬å°†é”™è¯¯ç›¸åŠ çš„åšæ³•ï¼Œå¯¹äºä¸€ä¸ªè®­ç»ƒæ ·æœ¬ï¼Œæˆ‘ä»¬å°†å„ä¸ªæ—¶é—´ç‚¹çš„æ¢¯åº¦ç›¸åŠ ã€‚</p><p>$$<br>\frac{\partial{E}}{\partial{W}} = \sum_{t} \frac{\partial{E_t}}{\partial{W}}<br>$$</p><p>æˆ‘ä»¬ä½¿ç”¨é“¾å¼æ±‚å¯¼æ³•åˆ™æ¥è®¡ç®—è¿™äº›æ¢¯åº¦ï¼Œè¿™å°±æ˜¯åå‘ä¼ æ’­ç®—æ³•:ä»é”™è¯¯å¤„åå‘è®¡ç®—ã€‚ä»¥ä¸‹æˆ‘ä»¬ä½¿ç”¨$$E_3$$ä½œä¸ºä¾‹å­ã€‚</p><p><img src="/images/2016/06/latex2.png"></p><p>å…¶ä¸­ï¼Œ$$z_3 = V s_3$$ï¼Œå¹¶ä¸”$$\otimes$$æŒ‡çš„æ˜¯å‘é‡å¤–ç§¯ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„åˆ°ï¼Œ$$\frac{\partial{E_3}}{\partial{V}}$$åªå–å†³äºå½“å‰æ—¶åˆ»çš„å€¼$$\tilde{y_3}, y_3, s_3$$ã€‚å¦‚æœä½ æ˜ç¡®äº†è¿™ä¸€ç‚¹ï¼Œé‚£ä¹ˆè®¡ç®—$$V$$çš„æ¢¯åº¦åªæ˜¯çŸ©é˜µè®¡ç®—ç½¢äº†ã€‚</p><p>ä½†æ˜¯ï¼Œå¯¹äº$$\frac{\partial{E_3}}{\partial{W}}$$å’Œ$$V$$å°±ä¸ä¸€æ ·äº†ã€‚æˆ‘ä»¬å†™å‡ºé“¾å¼æ³•åˆ™ï¼š</p><p><img src="/images/2016/06/latex3.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œ$$s_3 = \tanh(U x_t + W s_2)$$å–å†³äº$$s_2$$ï¼Œè€Œ$$s_2$$åˆå–å†³äº$$W$$å’Œ$$s_1$$ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€ä»¥æˆ‘ä»¬è®¡ç®—$$W$$çš„åå¯¼ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠ$$s_2$$å½“åšä¸€ä¸ªå¸¸é‡ï¼Œç›¸åæˆ‘ä»¬éœ€è¦ä¸€ééçš„åº”ç”¨é“¾å¼æ³•åˆ™ï¼š</p><p><img src="/images/2016/06/latex4.png"></p><p>æˆ‘ä»¬æŠŠæ¯ä¸ªæ—¶é—´ç‚¹å¯¹äºæ¢¯åº¦è´¡çŒ®ç»¼åˆèµ·æ¥ã€‚æ¢å¥è¯è¯´ï¼Œå› ä¸º$$W$$åœ¨ç›´åˆ°æˆ‘ä»¬éœ€è¦è¾“å‡ºçš„æ—¶åˆ»éƒ½è¢«ç”¨åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¡ç®—$$t=3$$æ—¶åˆ»ç›´åˆ°$$t=0$$æ—¶åˆ»ï¼š</p><p><img src="/images/2016/06/rnn-bptt-with-gradients.png"></p><p>è¿™å…¶å®å’Œæ·±åº¦å‰é¦ˆç¥ç»ç½‘ç»œé‡Œçš„æ ‡å‡†çš„åå‘ä¼ æ’­ç®—æ³•æ˜¯ç±»ä¼¼çš„ã€‚ä¸»è¦çš„ä¸åŒç‚¹åœ¨äºæˆ‘ä»¬æŠŠæ¯ä¸ªæ—¶é—´ç‚¹çš„$$W$$çš„æ¢¯åº¦ç»¼åˆèµ·æ¥ã€‚ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œçš„ä¸åŒå±‚ä¹‹é—´ä¸å…±äº«å‚æ•°ï¼Œäºæ˜¯æˆ‘ä»¬ä¹Ÿä¸éœ€è¦ç»¼åˆä»€ä¹ˆã€‚ä½†æ˜¯åœ¨æˆ‘çœ‹æ¥ï¼ŒBPTTåªä¸è¿‡æ˜¯åœ¨æ²¡æœ‰å±•å¼€çš„RNNä¸Šçš„æ ‡å‡†BPç®—æ³•çš„åˆ«åç½¢äº†ã€‚ç±»ä¼¼äºæ ‡å‡†çš„BPç®—æ³•ï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªå¾³å¡”é¡¹æ¥è¡¨ç¤ºåå‘ä¼ æ’­çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼š$$\delta_{2}^{(3)} = \frac{\partial{E_3}}{\partial{z_2}} = \frac{\partial{E_3}}{\partial{s_3}} \frac{\partial{s_3}}{\partial{s_2}} \frac{\partial{s_2}}{\partial{z_2}}$$ï¼Œå…¶ä¸­$$z_2 = Ux_2 + Ws_1$$ã€‚ä»¥æ­¤ç±»æ¨ã€‚</p><p>ä»£ç å®ç°BPTTå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bptt</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">    T = <span class="built_in">len</span>(y)</span><br><span class="line">    <span class="comment"># Perform forward propagation</span></span><br><span class="line">    o, s = self.forward_propagation(x)</span><br><span class="line">    <span class="comment"># We accumulate the gradients in these variables</span></span><br><span class="line">    dLdU = np.zeros(self.U.shape)</span><br><span class="line">    dLdV = np.zeros(self.V.shape)</span><br><span class="line">    dLdW = np.zeros(self.W.shape)</span><br><span class="line">    delta_o = o</span><br><span class="line">    delta_o[np.arange(<span class="built_in">len</span>(y)), y] -= <span class="number">1.</span></span><br><span class="line">    <span class="comment"># For each output backwards...</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> np.arange(T)[::-<span class="number">1</span>]:</span><br><span class="line">        dLdV += np.outer(delta_o[t], s[t].T)</span><br><span class="line">        <span class="comment"># Initial delta calculation: dL/dz</span></span><br><span class="line">        delta_t = self.V.T.dot(delta_o[t]) * (<span class="number">1</span> - (s[t] ** <span class="number">2</span>))</span><br><span class="line">        <span class="comment"># Backpropagation through time (for at most self.bptt_truncate steps)</span></span><br><span class="line">        <span class="keyword">for</span> bptt_step <span class="keyword">in</span> np.arange(<span class="built_in">max</span>(<span class="number">0</span>, t-self.bptt_truncate), t+<span class="number">1</span>)[::-<span class="number">1</span>]:</span><br><span class="line">            <span class="comment"># print &quot;Backpropagation step t=%d bptt step=%d &quot; % (t, bptt_step)</span></span><br><span class="line">            <span class="comment"># Add to gradients at each previous step</span></span><br><span class="line">            dLdW += np.outer(delta_t, s[bptt_step-<span class="number">1</span>])</span><br><span class="line">            dLdU[:,x[bptt_step]] += delta_t</span><br><span class="line">            <span class="comment"># Update delta for next step dL/dz at t-1</span></span><br><span class="line">            delta_t = self.W.T.dot(delta_t) * (<span class="number">1</span> - s[bptt_step-<span class="number">1</span>] ** <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> [dLdU, dLdV, dLdW]</span><br></pre></td></tr></table></figure><p>ä»ä»£ç ä½ ä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°RNNä¸å®¹æ˜“è®­ç»ƒï¼šç”±äºåºåˆ—æ¯”è¾ƒé•¿ï¼Œæ¯æ¬¡ä¼ æ’­éœ€è¦è®¡ç®—å¾ˆå¤šå±‚ï¼Œå®è·µä¸Šé€šå¸¸è®¸å¤šäººçš„åšæ³•æ˜¯å°†ä¼ æ’­é™åˆ¶åœ¨å‡ æ­¥ä¹‹å†…ã€‚</p><p>##æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</p><p>ä¹‹å‰çš„éƒ¨åˆ†æˆ‘ä»¬å·²ç»è®²è¿°äº†å…³äºRNNçš„é•¿æœŸä¾èµ–é—®é¢˜ã€‚ä¸ºäº†è§£è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥è§‚å¯Ÿä¸Šé¢æˆ‘ä»¬è®¡ç®—è¿‡çš„æ¢¯åº¦ã€‚</p><p><img src="/images/2016/06/latex5.png"></p><p>æ³¨æ„åˆ°æ˜¯å¯¹äºè‡ªèº«çš„é“¾å¼æ³•åˆ™ï¼Œå¦‚ã€‚å†æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬è¿™é‡Œè®¡ç®—çš„æ˜¯å‘é‡å¯¹å‘é‡çš„åå¯¼ï¼Œå…¶ç»“æœæ˜¯ä¸€ä¸ªé›…å¯æ¯”çŸ©é˜µã€‚å› æ­¤å¯ä»¥æ”¹å†™ä¸Šé¢çš„æ¢¯åº¦å¼ä¸ºï¼š</p><p><img src="/images/2016/06/latex6.png"></p><p>å¼å­ä¸­çš„é›…å…‹æ¯”çŸ©é˜µçš„äºŒèŒƒæ•°å…·æœ‰ä¸Šé™1.è¿™å¯¼è‡´æ¿€æ´»å‡½æ•°tanhï¼ˆæˆ–è€…sigmoidï¼‰æ˜ å°„æ‰€æœ‰çš„å€¼åˆ°[-1,1]ï¼Œé‚£ä¹ˆåå¯¼ä¹Ÿè¢«é™åˆ¶åœ¨1ï¼ˆå¯¹äºsigmoidæ˜¯$$\frac{1}{4} $$ï¼‰ã€‚</p><p><img src="/images/2016/06/tanh.png"></p><p>å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨tanhå‡½æ•°ä¸¤è¾¹ï¼Œæ¢¯åº¦éƒ½æ¥è¿‘äº0.è¿™å¯¼è‡´å®ƒä¹‹å‰çš„æ¢¯åº¦ä¹Ÿæ¥è¿‘äº0ï¼Œé‚£ä¹ˆï¼Œä¸çŸ©é˜µä¸­çš„æ•°å­—å¤šæ¬¡ç›¸ä¹˜ä½¿å¾—æ¢¯åº¦è¿…é€Ÿå‡å°ï¼Œç›´åˆ°æ¥è¿‘æ¶ˆå¤±ã€‚é™¢å‡ºçš„æ—¶é—´ç‚¹å¯¹äºç°åœ¨çš„å½±å“æ¥è¿‘äº0ï¼Œè¿™å°±æ˜¯é•¿æœŸä¾èµ–é—®é¢˜çš„åŸå› ã€‚ä½†æ˜¯ï¼Œé•¿æœŸä¾èµ–é—®é¢˜å¹¶ä¸åªæ˜¯å¯¹äºRNNå‡ºç°ï¼Œæ·±åº¦ç¥ç»ç½‘ç»œéƒ½å…·æœ‰è¿™ä¸ªé—®é¢˜ï¼Œåªä¸è¿‡RNNç»å¸¸è¦å¤„ç†é•¿åºåˆ—é—®é¢˜ï¼Œæ‰€ä»¥ç½‘ç»œå±‚æ•°å¾ˆå¤šï¼Œè¿™ä¸ªé—®é¢˜å°±ç»å¸¸å‡ºç°äº†ã€‚</p><p>å®¹æ˜“æƒ³åˆ°çš„æ˜¯ï¼Œä¸æ¢¯åº¦æ¶ˆå¤±é—®é¢˜å¯¹åº”çš„æ˜¯ï¼Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ã€‚å½“é›…å…‹æ¯”çŸ©é˜µä¸­çš„æ•°å€¼è¾ƒå¤§æ—¶ï¼Œå®¹æ˜“å‡ºç°è¿™ä¸ªé—®é¢˜ã€‚ä½†æ˜¯ï¼Œé€šå¸¸æ¥è¯´ï¼Œå¯¹äºæ¢¯åº¦çˆ†ç‚¸ï¼Œä¸šç•Œå…³æ³¨å¹¶ä¸å¤ªå¤šã€‚æœ‰ä¸¤ä¸ªåŸå› ï¼Œå…¶ä¸€ï¼Œæ¢¯åº¦çˆ†ç‚¸å‘ç”Ÿæ—¶é€šå¸¸å®¹æ˜“å‘ç°ï¼Œå› ä¸ºå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒä¹‹ç±»çš„åæœï¼›å…¶äºŒï¼Œé€šå¸¸ä¸ºæ¢¯åº¦è®¾ç½®ä¸Šé™æ˜¯åº”å¯¹æ¢¯åº¦çˆ†ç‚¸çš„ç®€ä¾¿åšæ³•ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆåº”å¯¹æ¢¯åº¦å¼¥æ•£é—®é¢˜å‘¢ï¼Ÿé¦–å…ˆï¼Œæ›´å¥½çš„åˆå§‹åŒ–æƒé‡å¯ä»¥å‡å°‘æ¢¯åº¦å¼¥æ•£çš„æ•ˆæœï¼›å…¶æ¬¡ï¼Œä½¿ç”¨æ­£åˆ™åŒ–ï¼›æ›´åŠ é€šç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨ReLUä½œä¸ºæ¿€æ´»å‡½æ•°ï¼Œå…¶æ¢¯åº¦è¦ä¹ˆæ˜¯1è¦ä¹ˆæ˜¯0ï¼Œæ‰€ä»¥æ›´å°‘çš„å¯èƒ½å‡ºç°æ¢¯åº¦å¼¥æ•£çš„é—®é¢˜ã€‚å¦å¤–ï¼Œæ›´åŠ æµè¡Œçš„åšæ³•åˆ™æ˜¯ä½¿ç”¨ Long Short-Term Memory (LSTM)æˆ–è€…Gated Recurrent Unit (GRU)ï¼ŒLSTM<a href="http://deeplearning.cs.cmu.edu/pdfs/Hochreiter97_lstm.pdf">å‡ºç°äº1997å¹´</a>ï¼Œä¹Ÿè®¸æ˜¯NLPé¢†åŸŸè¿‘æœŸæœ€æµè¡Œçš„ç½‘ç»œç»“æ„ã€‚GRUï¼Œ<a href="http://arxiv.org/pdf/1406.1078v3.pdf">å‡ºç°äº2014å¹´</a>ï¼Œæ˜¯LSTMçš„ç®€åŒ–ç‰ˆæœ¬ã€‚ä¸¤ç§ç½‘ç»œéƒ½æ˜¯ä¸ºäº†åº”å¯¹æ¢¯åº¦å¼¥æ•£å’Œé•¿æœŸä¾èµ–é—®é¢˜ã€‚æˆ‘ä»¬å°†ä¼šåœ¨ä¹‹åçš„æ•™ç¨‹ä¸­æ¶‰åŠå®ƒä»¬ã€‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/RNN/">RNN</category>
      
      
      <comments>http://example.com/2016/06/22/2016-06-22-recurrent-neural-networks-tutorial-part-3-backpropagation-through-time-and-vanishing-gradients/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Vim ç»ƒçº§æ”»ç•¥äºŒ</title>
      <link>http://example.com/2016/06/22/2016-06-22-vim-lian-ji-gong-er/</link>
      <guid>http://example.com/2016/06/22/2016-06-22-vim-lian-ji-gong-er/</guid>
      <pubDate>Wed, 22 Jun 2016 02:50:35 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;ç¬¬ä¸‰çº§-â€“-æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«&quot;&gt;&lt;a href=&quot;#ç¬¬ä¸‰çº§-â€“-æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«&quot; class=&quot;headerlink&quot; title=&quot;ç¬¬ä¸‰çº§ â€“ æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«&quot;&gt;&lt;/a&gt;ç¬¬ä¸‰çº§ â€“ æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«&lt;/h2&gt;&lt;p&gt;å…ˆæ­å–œä½ ï¼ä½ å¹²çš„å¾ˆä¸é”™ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹ä¸€äº›æ›´ä¸ºæœ‰è¶£çš„äº‹äº†ã€‚åœ¨ç¬¬ä¸‰çº§ï¼Œæˆ‘ä»¬åªè°ˆé‚£äº›å’Œviå¯ä»¥å…¼å®¹çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ›´å¥½&quot;&gt;&lt;a href=&quot;#æ›´å¥½&quot; class=&quot;headerlink&quot; title=&quot;æ›´å¥½&quot;&gt;&lt;/a&gt;æ›´å¥½&lt;/h3&gt;&lt;p&gt;ä¸‹é¢ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;. â†’ (å°æ•°ç‚¹) å¯ä»¥é‡å¤ä¸Šä¸€æ¬¡çš„å‘½ä»¤&lt;/li&gt;
&lt;li&gt;N&lt;command&gt; â†’ é‡å¤æŸä¸ªå‘½ä»¤Næ¬¡&lt;/li&gt;
&lt;/ol&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="ç¬¬ä¸‰çº§-â€“-æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«"><a href="#ç¬¬ä¸‰çº§-â€“-æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«" class="headerlink" title="ç¬¬ä¸‰çº§ â€“ æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«"></a>ç¬¬ä¸‰çº§ â€“ æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«</h2><p>å…ˆæ­å–œä½ ï¼ä½ å¹²çš„å¾ˆä¸é”™ã€‚æˆ‘ä»¬å¯ä»¥å¼€å§‹ä¸€äº›æ›´ä¸ºæœ‰è¶£çš„äº‹äº†ã€‚åœ¨ç¬¬ä¸‰çº§ï¼Œæˆ‘ä»¬åªè°ˆé‚£äº›å’Œviå¯ä»¥å…¼å®¹çš„å‘½ä»¤ã€‚</p><h3 id="æ›´å¥½"><a href="#æ›´å¥½" class="headerlink" title="æ›´å¥½"></a>æ›´å¥½</h3><p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹vimæ˜¯æ€ä¹ˆé‡å¤è‡ªå·±çš„ï¼š</p><ol><li>. â†’ (å°æ•°ç‚¹) å¯ä»¥é‡å¤ä¸Šä¸€æ¬¡çš„å‘½ä»¤</li><li>N<command> â†’ é‡å¤æŸä¸ªå‘½ä»¤Næ¬¡</li></ol><span id="more"></span><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ‰¾å¼€ä¸€ä¸ªæ–‡ä»¶ä½ å¯ä»¥è¯•è¯•ä¸‹é¢çš„å‘½ä»¤ï¼š</p><blockquote><ul><li>2dd â†’ åˆ é™¤2è¡Œ</li></ul></blockquote><ul><li>3p â†’ ç²˜è´´æ–‡æœ¬3æ¬¡</li><li>100idesu [ESC] â†’ ä¼šå†™ä¸‹ â€œdesu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu â€œ</li><li>. â†’ é‡å¤ä¸Šä¸€ä¸ªå‘½ä»¤â€”â€” 100 â€œdesu â€œ.</li><li><ol start="3"><li>â†’ é‡å¤ 3 æ¬¡ â€œdesuâ€ (æ³¨æ„ï¼šä¸æ˜¯ 300ï¼Œä½ çœ‹ï¼ŒVIMå¤šèªæ˜å•Š).</li></ol></li></ul><p>###æ›´å¼º</p><p>ä½ è¦è®©ä½ çš„å…‰æ ‡ç§»åŠ¨æ›´æœ‰æ•ˆç‡ï¼Œä½ ä¸€å®šè¦äº†è§£ä¸‹é¢çš„è¿™äº›å‘½ä»¤ï¼Œåƒä¸‡åˆ«è·³è¿‡ã€‚</p><ol><li>NG â†’ åˆ°ç¬¬ N è¡Œ ï¼ˆæ³¨ï¼šæ³¨æ„å‘½ä»¤ä¸­çš„Gæ˜¯å¤§å†™çš„ï¼Œå¦æˆ‘ä¸€èˆ¬ä½¿ç”¨ : N åˆ°ç¬¬Nè¡Œï¼Œå¦‚ :137 åˆ°ç¬¬137è¡Œï¼‰</li><li>gg â†’ åˆ°ç¬¬ä¸€è¡Œã€‚ï¼ˆæ³¨ï¼šç›¸å½“äº1Gï¼Œæˆ– :1ï¼‰</li><li>G â†’ åˆ°æœ€åä¸€è¡Œã€‚</li><li>æŒ‰å•è¯ç§»åŠ¨ï¼š<ol><li>w â†’ åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ã€‚</li><li>e â†’ åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„ç»“å°¾ã€‚</li></ol></li></ol><pre><code>![](/images/2016/06/word_moves.jpg)&gt; å¦‚æœä½ è®¤ä¸ºå•è¯æ˜¯ç”±é»˜è®¤æ–¹å¼ï¼Œé‚£ä¹ˆå°±ç”¨å°å†™çš„eå’Œwã€‚é»˜è®¤ä¸Šæ¥è¯´ï¼Œä¸€ä¸ªå•è¯ç”±å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ç»„æˆï¼ˆæ³¨ï¼šç¨‹åºå˜é‡ï¼‰&gt; å¦‚æœä½ è®¤ä¸ºå•è¯æ˜¯ç”±blankå­—ç¬¦åˆ†éš”ç¬¦ï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨å¤§å†™çš„Eå’ŒWã€‚ï¼ˆæ³¨ï¼šç¨‹åºè¯­å¥ï¼‰</code></pre><p>ä¸‹é¢ï¼Œè®©æˆ‘æ¥è¯´è¯´æœ€å¼ºçš„å…‰æ ‡ç§»åŠ¨ï¼š</p><blockquote><ul><li>% : åŒ¹é…æ‹¬å·ç§»åŠ¨ï¼ŒåŒ…æ‹¬ (, {, [. ï¼ˆæ³¨ï¼šä½ éœ€è¦æŠŠå…‰æ ‡å…ˆç§»åˆ°æ‹¬å·ä¸Šï¼‰</li></ul></blockquote><ul><li>* å’Œ #:  åŒ¹é…å…‰æ ‡å½“å‰æ‰€åœ¨çš„å•è¯ï¼Œç§»åŠ¨å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªï¼ˆæˆ–ä¸Šä¸€ä¸ªï¼‰åŒ¹é…å•è¯ï¼ˆ*æ˜¯ä¸‹ä¸€ä¸ªï¼Œ#æ˜¯ä¸Šä¸€ä¸ªï¼‰</li></ul><h3 id="æ›´å¿«"><a href="#æ›´å¿«" class="headerlink" title="æ›´å¿«"></a>æ›´å¿«</h3><p>ä½ ä¸€å®šè¦è®°ä½å…‰æ ‡çš„ç§»åŠ¨ï¼Œå› ä¸ºå¾ˆå¤šå‘½ä»¤éƒ½å¯ä»¥å’Œè¿™äº›ç§»åŠ¨å…‰æ ‡çš„å‘½ä»¤è¿åŠ¨ã€‚å¾ˆå¤šå‘½ä»¤éƒ½å¯ä»¥å¦‚ä¸‹æ¥å¹²ï¼š</p><p><code>&lt;start position&gt;&lt;command&gt;&lt;end position&gt;</code></p><p>ä¾‹å¦‚ 0y$ å‘½ä»¤æ„å‘³ç€ï¼š</p><ul><li>0 â†’ å…ˆåˆ°è¡Œå¤´</li><li>y â†’ ä»è¿™é‡Œå¼€å§‹æ‹·è´</li><li>$ â†’ æ‹·è´åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªå­—ç¬¦</li></ul><p>ä½ ä¹Ÿå¯ä»¥è¾“å…¥ yeï¼Œä»å½“å‰ä½ç½®æ‹·è´åˆ°æœ¬å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥è¾“å…¥ y2/foo æ¥æ‹·è´2ä¸ª â€œfooâ€ ä¹‹é—´çš„å­—ç¬¦ä¸²ã€‚</p><p>è¿˜æœ‰å¾ˆå¤šæ—¶é—´å¹¶ä¸ä¸€å®šä½ å°±ä¸€å®šè¦æŒ‰yæ‰ä¼šæ‹·è´ï¼Œä¸‹é¢çš„å‘½ä»¤ä¹Ÿä¼šè¢«æ‹·è´ï¼š</p><ul><li>d (åˆ é™¤ )</li><li>v (å¯è§†åŒ–çš„é€‰æ‹©)</li><li>gU (å˜å¤§å†™)</li><li>gu (å˜å°å†™)</li><li>ç­‰ç­‰</li></ul><p>ï¼ˆæ³¨ï¼šå¯è§†åŒ–é€‰æ‹©æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å‘½ä»¤ï¼Œä½ å¯ä»¥å…ˆæŒ‰vï¼Œç„¶åç§»åŠ¨å…‰æ ‡ï¼Œä½ å°±ä¼šçœ‹åˆ°æ–‡æœ¬è¢«é€‰æ‹©ï¼Œç„¶åï¼Œä½ å¯èƒ½dï¼Œä¹Ÿå¯yï¼Œä¹Ÿå¯ä»¥å˜å¤§å†™ç­‰ï¼‰</p><h2 id="ç¬¬å››çº§-â€“-Vim-è¶…èƒ½åŠ›"><a href="#ç¬¬å››çº§-â€“-Vim-è¶…èƒ½åŠ›" class="headerlink" title="ç¬¬å››çº§ â€“ Vim è¶…èƒ½åŠ›"></a>ç¬¬å››çº§ â€“ Vim è¶…èƒ½åŠ›</h2><p>ä½ åªéœ€è¦æŒæ¡å‰é¢çš„å‘½ä»¤ï¼Œä½ å°±å¯ä»¥å¾ˆèˆ’æœçš„ä½¿ç”¨VIMäº†ã€‚ä½†æ˜¯ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å‘ä½ ä»‹ç»çš„æ˜¯VIMæ€æ‰‹çº§çš„åŠŸèƒ½ã€‚ä¸‹é¢è¿™äº›åŠŸèƒ½æ˜¯æˆ‘åªç”¨vimçš„åŸå› ã€‚</p><h3 id="åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡-0-f-F-t-T"><a href="#åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡-0-f-F-t-T" class="headerlink" title="åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡: 0 ^ $ f F t T , ;"></a>åœ¨å½“å‰è¡Œä¸Šç§»åŠ¨å…‰æ ‡: 0 ^ $ f F t T , ;</h3><blockquote><ul><li>0 â†’ åˆ°è¡Œå¤´</li></ul></blockquote><ul><li>^ â†’ åˆ°æœ¬è¡Œçš„ç¬¬ä¸€ä¸ªéblankå­—ç¬¦</li><li>$ â†’ åˆ°è¡Œå°¾</li><li>g_ â†’ åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ã€‚</li><li>fa â†’ åˆ°ä¸‹ä¸€ä¸ªä¸ºaçš„å­—ç¬¦å¤„ï¼Œä½ ä¹Ÿå¯ä»¥fsåˆ°ä¸‹ä¸€ä¸ªä¸ºsçš„å­—ç¬¦ã€‚</li><li>t, â†’ åˆ°é€—å·å‰çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚é€—å·å¯ä»¥å˜æˆå…¶å®ƒå­—ç¬¦ã€‚</li><li>3fa â†’ åœ¨å½“å‰è¡ŒæŸ¥æ‰¾ç¬¬ä¸‰ä¸ªå‡ºç°çš„aã€‚</li><li>F å’Œ T â†’ å’Œ f å’Œ t ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯ç›¸åæ–¹å‘ã€‚<br><img src="/images/2016/06/line_moves.jpg"></li></ul><p>è¿˜æœ‰ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å‘½ä»¤æ˜¯ dtâ€ â†’ åˆ é™¤æ‰€æœ‰çš„å†…å®¹ï¼Œç›´åˆ°é‡åˆ°åŒå¼•å·â€”â€” â€œã€‚</p><p>###åŒºåŸŸé€‰æ‹© <code>&lt;action&gt;a&lt;object&gt;</code> æˆ– <code>&lt;action&gt;i&lt;object&gt;</code></p><p>åœ¨visual æ¨¡å¼ä¸‹ï¼Œè¿™äº›å‘½ä»¤å¾ˆå¼ºå¤§ï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸º</p><p><code>&lt;action&gt;a&lt;object&gt;</code> å’Œ <code>&lt;action&gt;i&lt;object&gt;</code></p><ul><li>actionå¯ä»¥æ˜¯ä»»ä½•çš„å‘½ä»¤ï¼Œå¦‚ d (åˆ é™¤), y (æ‹·è´), v (å¯ä»¥è§†æ¨¡å¼é€‰æ‹©)ã€‚</li><li>object å¯èƒ½æ˜¯ï¼š w ä¸€ä¸ªå•è¯ï¼Œ W ä¸€ä¸ªä»¥ç©ºæ ¼ä¸ºåˆ†éš”çš„å•è¯ï¼Œ s ä¸€ä¸ªå¥å­—ï¼Œ p ä¸€ä¸ªæ®µè½ã€‚ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„å­—ç¬¦ï¼šâ€ã€ â€˜ã€ )ã€ }ã€ ]ã€‚</li></ul><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸² (map (+) (â€œfooâ€)).è€Œå…‰æ ‡é”®åœ¨ç¬¬ä¸€ä¸ª o çš„ä½ç½®ã€‚</p><blockquote><ul><li>viâ€ â†’ ä¼šé€‰æ‹© foo.</li></ul></blockquote><ul><li>vaâ€ â†’ ä¼šé€‰æ‹© â€œfooâ€.</li><li>vi) â†’ ä¼šé€‰æ‹© â€œfooâ€.</li><li>va) â†’ ä¼šé€‰æ‹©(â€œfooâ€).</li><li>v2i) â†’ ä¼šé€‰æ‹© map (+) (â€œfooâ€)</li><li>v2a) â†’ ä¼šé€‰æ‹© (map (+) (â€œfooâ€))</li></ul><p><img src="/images/2016/06/textobjects.png"></p><p>###å—æ“ä½œ: <C-v></p><p>å—æ“ä½œï¼Œå…¸å‹çš„æ“ä½œï¼š 0 <C-v> <C-d> Iâ€“ [ESC]</p><ul><li>^ â†’ åˆ°è¡Œå¤´</li><li><C-v> â†’ å¼€å§‹å—æ“ä½œ</li><li><C-d> â†’ å‘ä¸‹ç§»åŠ¨ (ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨hjklæ¥ç§»åŠ¨å…‰æ ‡ï¼Œæˆ–æ˜¯ä½¿ç”¨%ï¼Œæˆ–æ˜¯åˆ«çš„)</li><li>Iâ€“ [ESC] â†’ Iæ˜¯æ’å…¥ï¼Œæ’å…¥â€œâ€“â€ï¼ŒæŒ‰ESCé”®æ¥ä¸ºæ¯ä¸€è¡Œç”Ÿæ•ˆã€‚</li></ul><p><img src="/images/2016/06/rectangular-blocks.gif"></p><p>###è‡ªåŠ¨æç¤ºï¼š <C-n> å’Œ <C-p></p><p>åœ¨ Insert æ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥è¾“å…¥ä¸€ä¸ªè¯çš„å¼€å¤´ï¼Œç„¶åæŒ‰ <C-p>æˆ–æ˜¯<C-n>ï¼Œè‡ªåŠ¨è¡¥é½åŠŸèƒ½å°±å‡ºç°äº†â€¦â€¦</p><p><img src="/images/2016/06/completion.gif"></p><h3 id="å®å½•åˆ¶ï¼š-qa-æ“ä½œåºåˆ—-q-a"><a href="#å®å½•åˆ¶ï¼š-qa-æ“ä½œåºåˆ—-q-a" class="headerlink" title="å®å½•åˆ¶ï¼š qa æ“ä½œåºåˆ— q, @a, @@"></a>å®å½•åˆ¶ï¼š qa æ“ä½œåºåˆ— <code>q, @a, @@</code></h3><p>å¦‚ä¸‹</p><ul><li>qa æŠŠä½ çš„æ“ä½œè®°å½•åœ¨å¯„å­˜å™¨ aã€‚</li><li>äºæ˜¯<code> @a</code> ä¼šreplayè¢«å½•åˆ¶çš„å®ã€‚</li><li><code>@@</code>æ˜¯ä¸€ä¸ªå¿«æ·é”®ç”¨æ¥replayæœ€æ–°å½•åˆ¶çš„å®ã€‚</li></ul><p>ç¤ºä¾‹ï¼š<br>åœ¨ä¸€ä¸ªåªæœ‰ä¸€è¡Œä¸”è¿™ä¸€è¡Œåªæœ‰â€œ1â€çš„æ–‡æœ¬ä¸­ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><ul><li>qaYp<C-a>qâ†’<ul><li>qa å¼€å§‹å½•åˆ¶</li><li>Yp å¤åˆ¶è¡Œ.</li><li><C-a> å¢åŠ 1.</li><li>q åœæ­¢å½•åˆ¶.</li></ul></li><li>@a â†’ åœ¨1ä¸‹é¢å†™ä¸‹ 2</li><li>@@ â†’ åœ¨2 æ­£é¢å†™ä¸‹3</li><li>ç°åœ¨åš 100@@ ä¼šåˆ›å»ºæ–°çš„100è¡Œï¼Œå¹¶æŠŠæ•°æ®å¢åŠ åˆ° 103.</li></ul><p><img src="/images/2016/06/macros.gif"></p><p>###å¯è§†åŒ–é€‰æ‹©ï¼š <code>v,V,&lt;C-v&gt;</code></p><p>å‰é¢ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† <C-v>çš„ç¤ºä¾‹ ï¼ˆåœ¨Windowsä¸‹åº”è¯¥æ˜¯<C-q>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v å’Œ Vã€‚ä¸€ä½†è¢«é€‰å¥½äº†ï¼Œä½ å¯ä»¥åšä¸‹é¢çš„äº‹ï¼š</p><ul><li>J â†’ æŠŠæ‰€æœ‰çš„è¡Œè¿æ¥èµ·æ¥ï¼ˆå˜æˆä¸€è¡Œï¼‰</li><li>&lt; æˆ– &gt; â†’ å·¦å³ç¼©è¿›</li><li>= â†’ è‡ªåŠ¨ç»™ç¼©è¿› ï¼ˆæ³¨ï¼šè¿™ä¸ªåŠŸèƒ½ç›¸å½“å¼ºå¤§ï¼Œæˆ‘å¤ªå–œæ¬¢äº†ï¼‰</li></ul><p><img src="/images/2016/06/autoindent.gif"></p><p>åœ¨æ‰€æœ‰è¢«é€‰æ‹©çš„è¡ŒååŠ ä¸Šç‚¹ä¸œè¥¿ï¼š</p><ul><li><code>&lt;C-v&gt;</code></li><li>é€‰ä¸­ç›¸å…³çš„è¡Œ (å¯ä½¿ç”¨ j æˆ– <C-d> æˆ–æ˜¯ /pattern æˆ–æ˜¯ % ç­‰â€¦â€¦)</li><li>$ åˆ°è¡Œæœ€å</li><li>A, è¾“å…¥å­—ç¬¦ä¸²ï¼ŒæŒ‰ ESCã€‚</li></ul><p><img src="/images/2016/06/append-to-many-lines.gif"></p><p>###åˆ†å±: :split å’Œ vsplit.</p><p>ä¸‹é¢æ˜¯ä¸»è¦çš„å‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨VIMçš„å¸®åŠ© :help split. ä½ å¯ä»¥å‚è€ƒæœ¬ç«™ä»¥å‰çš„ä¸€ç¯‡æ–‡ç« VIMåˆ†å±ã€‚</p><ul><li>:split â†’ åˆ›å»ºåˆ†å± (:vsplitåˆ›å»ºå‚ç›´åˆ†å±)</li><li><code>&lt;C-w&gt;&lt;dir&gt;</code> : dirå°±æ˜¯æ–¹å‘ï¼Œå¯ä»¥æ˜¯ hjkl æˆ–æ˜¯ â†â†“â†‘â†’ ä¸­çš„ä¸€ä¸ªï¼Œå…¶ç”¨æ¥åˆ‡æ¢åˆ†å±ã€‚</li><li><C-w>_ (æˆ– <C-w>|) : æœ€å¤§åŒ–å°ºå¯¸ (<C-w>| å‚ç›´åˆ†å±)</li><li><C-w>+ (æˆ– <C-w>-) : å¢åŠ å°ºå¯¸</li></ul><p><img src="/images/2016/06/split.gif"></p><p>##ç»“æŸè¯­</p><ul><li>ä¸Šé¢æ˜¯ä½œè€…æœ€å¸¸ç”¨çš„90%çš„å‘½ä»¤ã€‚</li><li>æˆ‘å»ºè®®ä½ æ¯å¤©éƒ½å­¦1åˆ°2ä¸ªæ–°çš„å‘½ä»¤ã€‚</li><li>åœ¨ä¸¤åˆ°ä¸‰å‘¨åï¼Œä½ ä¼šæ„Ÿåˆ°vimçš„å¼ºå¤§çš„ã€‚</li><li>æœ‰æ—¶å€™ï¼Œå­¦ä¹ VIMå°±åƒæ˜¯åœ¨æ­»èƒŒä¸€äº›ä¸œè¥¿ã€‚</li><li>å¹¸è¿çš„æ˜¯ï¼Œvimæœ‰å¾ˆå¤šå¾ˆä¸é”™çš„å·¥å…·å’Œä¼˜ç§€çš„æ–‡æ¡£ã€‚</li><li>è¿è¡Œvimtutorç›´åˆ°ä½ ç†Ÿæ‚‰äº†é‚£äº›åŸºæœ¬å‘½ä»¤ã€‚</li><li>å…¶åœ¨çº¿å¸®åŠ©æ–‡æ¡£ä¸­ä½ åº”è¯¥è¦ä»”ç»†é˜…è¯»çš„æ˜¯ :help usr_02.txt.</li><li>ä½ ä¼šå­¦ä¹ åˆ°è¯¸å¦‚  !ï¼Œ ç›®å½•ï¼Œå¯„å­˜å™¨ï¼Œæ’ä»¶ç­‰å¾ˆå¤šå…¶å®ƒçš„åŠŸèƒ½ã€‚</li><li>å­¦ä¹ vimå°±åƒå­¦å¼¹é’¢ç´ä¸€æ ·ï¼Œä¸€æ—¦å­¦ä¼šï¼Œå—ç›Šæ— ç©·ã€‚</li></ul>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/Vim/">Vim</category>
      
      
      <category domain="http://example.com/tags/tutorial/">tutorial</category>
      
      
      <comments>http://example.com/2016/06/22/2016-06-22-vim-lian-ji-gong-er/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Vim ç»ƒçº§æ”»ç•¥ä¸€</title>
      <link>http://example.com/2016/06/22/2016-06-22-vim-lian-ji-gong-lue-1/</link>
      <guid>http://example.com/2016/06/22/2016-06-22-vim-lian-ji-gong-lue-1/</guid>
      <pubDate>Wed, 22 Jun 2016 02:50:35 GMT</pubDate>
      
      <description>&lt;p&gt;&lt;img src=&quot;/images/2016/06/uber_leet_use_vim.jpg&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä½ æƒ³ä»¥æœ€å¿«çš„é€Ÿåº¦å­¦ä¹ äººç±»å²ä¸Šæœ€å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨VIMå—ï¼Ÿä½ å…ˆå¾—æ‡‚å¾—å¦‚ä½•åœ¨VIMå¹¸å­˜ä¸‹æ¥ï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹åœ°å­¦ä¹ å„ç§æˆæ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.vim.org/&quot;&gt;Vim&lt;/a&gt;: the Six Billion Dollar editor&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Better, Stronger, Faster.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å­¦ä¹ &lt;a href=&quot;http://www.vim.org/&quot;&gt;Vim&lt;/a&gt;å¹¶ä¸”å…¶ä¼šæˆä¸ºä½ æœ€åä¸€ä¸ªä½¿ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚æ²¡æœ‰æ¯”è¿™ä¸ªæ›´å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨äº†ï¼Œéå¸¸åœ°éš¾å­¦ï¼Œä½†æ˜¯å´ä¸å¯æ€è®®åœ°å¥½ç”¨ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/2016/06/uber_leet_use_vim.jpg"></p><p>ä½ æƒ³ä»¥æœ€å¿«çš„é€Ÿåº¦å­¦ä¹ äººç±»å²ä¸Šæœ€å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨VIMå—ï¼Ÿä½ å…ˆå¾—æ‡‚å¾—å¦‚ä½•åœ¨VIMå¹¸å­˜ä¸‹æ¥ï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹åœ°å­¦ä¹ å„ç§æˆæ³•ã€‚</p><p><a href="http://www.vim.org/">Vim</a>: the Six Billion Dollar editor</p><blockquote><p>Better, Stronger, Faster.</p></blockquote><p>å­¦ä¹ <a href="http://www.vim.org/">Vim</a>å¹¶ä¸”å…¶ä¼šæˆä¸ºä½ æœ€åä¸€ä¸ªä½¿ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚æ²¡æœ‰æ¯”è¿™ä¸ªæ›´å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨äº†ï¼Œéå¸¸åœ°éš¾å­¦ï¼Œä½†æ˜¯å´ä¸å¯æ€è®®åœ°å¥½ç”¨ã€‚</p><span id="more"></span><p>æˆ‘å»ºè®®ä¸‹é¢è¿™å››ä¸ªæ­¥éª¤ï¼š</p><ol><li>å­˜æ´»</li><li>æ„Ÿè§‰è‰¯å¥½</li><li>è§‰å¾—æ›´å¥½ï¼Œæ›´å¼ºï¼Œæ›´å¿«</li><li>ä½¿ç”¨VIMçš„è¶…èƒ½åŠ›</li></ol><p>å½“ä½ èµ°å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ ä¼šæˆä¸ºä¸€ä¸ªvimçš„ superstarã€‚</p><p>åœ¨å¼€å§‹å­¦ä¹ ä»¥å‰ï¼Œæˆ‘éœ€è¦ç»™ä½ ä¸€äº›è­¦å‘Šï¼š</p><ol><li>å­¦ä¹ vimåœ¨å¼€å§‹æ—¶æ˜¯ç—›è‹¦çš„ã€‚</li><li>éœ€è¦æ—¶é—´</li><li>éœ€è¦ä¸æ–­åœ°ç»ƒä¹ ï¼Œå°±åƒä½ å­¦ä¹ ä¸€ä¸ªä¹å™¨ä¸€æ ·ã€‚</li><li>ä¸è¦æœŸæœ›ä½ èƒ½åœ¨3å¤©å†…æŠŠvimç»ƒå¾—æ¯”åˆ«çš„ç¼–è¾‘å™¨æ›´æœ‰æ•ˆç‡ã€‚</li></ol><p>äº‹å®ä¸Šï¼Œä½ éœ€è¦2å‘¨æ—¶é—´çš„è‹¦ç»ƒï¼Œè€Œä¸æ˜¯3å¤©ã€‚</p><p>##ç¬¬ä¸€çº§ â€“ å­˜æ´»</p><ol><li>å®‰è£…<a href="http://www.vim.org/">Vim</a></li><li>å¯åŠ¨Vim</li><li>ä»€ä¹ˆä¹Ÿä¸å¹²ï¼è¯·å…ˆé˜…è¯»</li></ol><p>å½“ä½ å®‰è£…å¥½ä¸€ä¸ªç¼–è¾‘å™¨åï¼Œä½ ä¸€å®šä¼šæƒ³åœ¨å…¶ä¸­è¾“å…¥ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œç„¶åçœ‹çœ‹è¿™ä¸ªç¼–è¾‘å™¨æ˜¯ä»€ä¹ˆæ ·å­ã€‚ä½†vimä¸æ˜¯è¿™æ ·çš„ï¼Œè¯·æŒ‰ç…§ä¸‹é¢çš„å‘½ä»¤æ“ä½œï¼š</p><ul><li>å¯åŠ¨Vimåï¼Œvimåœ¨ Normal æ¨¡å¼ä¸‹ã€‚</li><li>è®©æˆ‘ä»¬è¿›å…¥ Insert æ¨¡å¼ï¼Œè¯·æŒ‰ä¸‹é”® i ã€‚(ä½ ä¼šçœ‹åˆ°vimå·¦ä¸‹è§’æœ‰ä¸€ä¸ªâ€“insertâ€“å­—æ ·ï¼Œè¡¨ç¤ºï¼Œä½ å¯ä»¥ä»¥æ’å…¥çš„æ–¹å¼è¾“å…¥äº†ï¼‰</li><li>æ­¤æ—¶ï¼Œä½ å¯ä»¥è¾“å…¥æ–‡æœ¬äº†ï¼Œå°±åƒä½ ç”¨â€œè®°äº‹æœ¬â€ä¸€æ ·ã€‚</li><li>å¦‚æœä½ æƒ³è¿”å› Normal æ¨¡å¼ï¼Œè¯·æŒ‰ ESC é”®ã€‚</li></ul><p>ç°åœ¨ï¼Œä½ çŸ¥é“å¦‚ä½•åœ¨ Insert å’Œ Normal æ¨¡å¼ä¸‹åˆ‡æ¢äº†ã€‚ä¸‹é¢æ˜¯ä¸€äº›å‘½ä»¤ï¼Œå¯ä»¥è®©ä½ åœ¨ Normal æ¨¡å¼ä¸‹å¹¸å­˜ä¸‹æ¥ï¼ˆç®­å¤´ä¸ä»£è¡¨æŒ‰é”®ï¼‰ï¼š</p><blockquote><ul><li>i â†’ Insert æ¨¡å¼ï¼ŒæŒ‰ ESC å›åˆ° Normal æ¨¡å¼.</li></ul></blockquote><ul><li>x â†’ åˆ å½“å‰å…‰æ ‡æ‰€åœ¨çš„ä¸€ä¸ªå­—ç¬¦ã€‚</li><li>:wq â†’ å­˜ç›˜ + é€€å‡º (:w å­˜ç›˜, :q é€€å‡º)   ï¼ˆé™ˆçš“æ³¨ï¼š:w åå¯ä»¥è·Ÿæ–‡ä»¶åï¼‰</li><li>dd â†’ åˆ é™¤å½“å‰è¡Œï¼Œå¹¶æŠŠåˆ é™¤çš„è¡Œå­˜åˆ°å‰ªè´´æ¿é‡Œ</li><li>p â†’ ç²˜è´´å‰ªè´´æ¿</li></ul><p>æ¨è:</p><blockquote><ul><li>hjkl (å¼ºä¾‹æ¨èä½¿ç”¨å…¶ç§»åŠ¨å…‰æ ‡ï¼Œä½†ä¸å¿…éœ€) â†’ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…‰æ ‡é”® (â†â†“â†‘â†’). æ³¨: j å°±åƒä¸‹ç®­å¤´ã€‚</li></ul></blockquote><ul><li>:help <command> â†’ æ˜¾ç¤ºç›¸å…³å‘½ä»¤çš„å¸®åŠ©ã€‚ä½ ä¹Ÿå¯ä»¥å°±è¾“å…¥ :help è€Œä¸è·Ÿå‘½ä»¤ã€‚ï¼ˆæ³¨ï¼šé€€å‡ºå¸®åŠ©éœ€è¦è¾“å…¥:qï¼‰</li></ul><p>ä½ èƒ½åœ¨vimå¹¸å­˜ä¸‹æ¥åªéœ€è¦ä¸Šè¿°çš„é‚£5ä¸ªå‘½ä»¤ï¼Œä½ å°±å¯ä»¥ç¼–è¾‘æ–‡æœ¬äº†ï¼Œä½ ä¸€å®šè¦æŠŠè¿™äº›å‘½ä»¤ç»ƒæˆä¸€ç§ä¸‹æ„è¯†çš„çŠ¶æ€ã€‚äºæ˜¯ä½ å°±å¯ä»¥å¼€å§‹è¿›é˜¶åˆ°ç¬¬äºŒçº§äº†ã€‚</p><p>å½“æ˜¯ï¼Œåœ¨ä½ è¿›å…¥ç¬¬äºŒçº§æ—¶ï¼Œéœ€è¦å†è¯´ä¸€ä¸‹ Normal æ¨¡å¼ã€‚åœ¨ä¸€èˆ¬çš„ç¼–è¾‘å™¨ä¸‹ï¼Œå½“ä½ éœ€è¦copyä¸€æ®µæ–‡å­—çš„æ—¶å€™ï¼Œä½ éœ€è¦ä½¿ç”¨ Ctrl é”®ï¼Œæ¯”å¦‚ï¼šCtrl-Cã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCtrlé”®å°±å¥½åƒåŠŸèƒ½é”®ä¸€æ ·ï¼Œå½“ä½ æŒ‰ä¸‹äº†åŠŸèƒ½é”®Ctrlåï¼ŒCå°±ä¸åœ¨æ˜¯Cäº†ï¼Œè€Œä¸”å°±æ˜¯ä¸€ä¸ªå‘½ä»¤æˆ–æ˜¯ä¸€ä¸ªå¿«é”®é”®äº†ï¼Œåœ¨VIMçš„Normalæ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çš„é”®å°±æ˜¯åŠŸèƒ½é”®äº†ã€‚è¿™ä¸ªä½ éœ€è¦çŸ¥é“ã€‚</p><p>æ ‡è®°:</p><ul><li>ä¸‹é¢çš„æ–‡å­—ä¸­ï¼Œå¦‚æœæ˜¯ Ctrl-Î»æˆ‘ä¼šå†™æˆ &lt;C-Î»&gt;.</li><li>ä»¥ : å¼€å§‹çš„å‘½ä»¤ä½ éœ€è¦è¾“å…¥ <enter>å›è½¦ï¼Œä¾‹å¦‚ â€” å¦‚æœæˆ‘å†™æˆ :q ä¹Ÿå°±æ˜¯è¯´ä½ è¦è¾“å…¥ :q<enter>.</li></ul><p>##ç¬¬äºŒçº§ â€“ æ„Ÿè§‰è‰¯å¥½</p><p>ä¸Šé¢çš„é‚£äº›å‘½ä»¤åªèƒ½è®©ä½ å­˜æ´»ä¸‹æ¥ï¼Œç°åœ¨æ˜¯æ—¶å€™å­¦ä¹ ä¸€äº›æ›´å¤šçš„å‘½ä»¤äº†ï¼Œä¸‹é¢æ˜¯æˆ‘çš„å»ºè®®ï¼šï¼ˆæ³¨ï¼šæ‰€æœ‰çš„å‘½ä»¤éƒ½éœ€è¦åœ¨Normalæ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œå¦‚æœä½ ä¸çŸ¥é“ç°åœ¨åœ¨ä»€ä¹ˆæ ·çš„æ¨¡å¼ï¼Œä½ å°±ç‹‚æŒ‰å‡ æ¬¡ESCé”®ï¼‰</p><ol><li><p>å„ç§æ’å…¥æ¨¡å¼</p><blockquote><ul><li>a â†’ åœ¨å…‰æ ‡åæ’å…¥</li></ul></blockquote><ul><li>o â†’ åœ¨å½“å‰è¡Œåæ’å…¥ä¸€ä¸ªæ–°è¡Œ</li><li>O â†’ åœ¨å½“å‰è¡Œå‰æ’å…¥ä¸€ä¸ªæ–°è¡Œ</li><li>cw â†’ æ›¿æ¢ä»å…‰æ ‡æ‰€åœ¨ä½ç½®ååˆ°ä¸€ä¸ªå•è¯ç»“å°¾çš„å­—ç¬¦</li></ul></li><li><p>ç®€å•çš„ç§»åŠ¨å…‰æ ‡</p><blockquote><ul><li>0 â†’ æ•°å­—é›¶ï¼Œåˆ°è¡Œå¤´</li></ul></blockquote><ul><li>^ â†’ åˆ°æœ¬è¡Œç¬¬ä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ï¼ˆæ‰€è°“blankå­—ç¬¦å°±æ˜¯ç©ºæ ¼ï¼Œtabï¼Œæ¢è¡Œï¼Œå›è½¦ç­‰ï¼‰</li><li>$ â†’ åˆ°æœ¬è¡Œè¡Œå°¾</li><li>g_ â†’ åˆ°æœ¬è¡Œæœ€åä¸€ä¸ªä¸æ˜¯blankå­—ç¬¦çš„ä½ç½®ã€‚</li><li>/pattern â†’ æœç´¢ pattern çš„å­—ç¬¦ä¸²ï¼ˆæ³¨ï¼šå¦‚æœæœç´¢å‡ºå¤šä¸ªåŒ¹é…ï¼Œå¯æŒ‰né”®åˆ°ä¸‹ä¸€ä¸ªï¼‰</li></ul></li><li><p>æ‹·è´/ç²˜è´´ ï¼ˆæ³¨ï¼šp/Péƒ½å¯ä»¥ï¼Œpæ˜¯è¡¨ç¤ºåœ¨å½“å‰ä½ç½®ä¹‹åï¼ŒPè¡¨ç¤ºåœ¨å½“å‰ä½ç½®ä¹‹å‰ï¼‰</p><blockquote><ul><li>P â†’ ç²˜è´´</li></ul></blockquote><ul><li>yy â†’ æ‹·è´å½“å‰è¡Œå½“è¡Œäº ddP</li></ul></li><li><p>Undo/Redo</p><blockquote><ul><li>u â†’ undo</li></ul></blockquote><ul><li><code>&lt;C-r&gt;</code> â†’ redo</li></ul></li><li><p>æ‰“å¼€/ä¿å­˜/é€€å‡º/æ”¹å˜æ–‡ä»¶(Buffer)</p><blockquote><ul><li>:e &lt;path/to/file&gt; â†’ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</li></ul></blockquote><ul><li>:w â†’ å­˜ç›˜</li><li>:saveas &lt;path/to/file&gt; â†’ å¦å­˜ä¸º &lt;path/to/file&gt;</li><li>:xï¼Œ ZZ æˆ– :wq â†’ ä¿å­˜å¹¶é€€å‡º (:x è¡¨ç¤ºä»…åœ¨éœ€è¦æ—¶ä¿å­˜ï¼ŒZZä¸éœ€è¦è¾“å…¥å†’å·å¹¶å›è½¦)</li><li>:q! â†’ é€€å‡ºä¸ä¿å­˜ :qa! å¼ºè¡Œé€€å‡ºæ‰€æœ‰çš„æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ï¼Œå°±ç®—åˆ«çš„æ–‡ä»¶æœ‰æ›´æ”¹ã€‚</li><li>:bn å’Œ :bp â†’ ä½ å¯ä»¥åŒæ—¶æ‰“å¼€å¾ˆå¤šæ–‡ä»¶ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤æ¥åˆ‡æ¢ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªæ–‡ä»¶ã€‚ï¼ˆæ³¨ï¼šæˆ‘å–œæ¬¢ä½¿ç”¨:nåˆ°ä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼‰</li></ul></li></ol><p>èŠ±ç‚¹æ—¶é—´ç†Ÿæ‚‰ä¸€ä¸‹ä¸Šé¢çš„å‘½ä»¤ï¼Œä¸€æ—¦ä½ æŒæ¡ä»–ä»¬äº†ï¼Œä½ å°±å‡ ä¹å¯ä»¥å¹²å…¶å®ƒç¼–è¾‘å™¨éƒ½èƒ½å¹²çš„äº‹äº†ã€‚ä½†æ˜¯åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œä½ è¿˜æ˜¯è§‰å¾—ä½¿ç”¨vimè¿˜æ˜¯æœ‰ç‚¹ç¬¨æ‹™ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œä½ å¯ä»¥è¿›é˜¶åˆ°ç¬¬ä¸‰çº§äº†ã€‚<a href="http://frankchen0130.github.io/2016/06/22/vim-lian-ji-gong-er/">ä¸‹ä¸€ç¯‡</a>æˆ‘ä»¬å°†ä»‹ç»ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªé˜¶æ®µã€‚</p><p>(æ³¨ï¼šå›¾ç‰‡ä¸­çš„U83R 1337æŒ‡çš„æ˜¯å¾·è¯­ä¸­çš„uber leetï¼Œåˆèµ·æ¥å°±æ˜¯Super Coolçš„æ„æ€ï¼Œæ‰€ä»¥å›¾ç‰‡ä¸­æ–‡å­—æŒ‡çš„æ˜¯Super cool use Vim!)</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/Vim/">Vim</category>
      
      
      <category domain="http://example.com/tags/tutorial/">tutorial</category>
      
      
      <comments>http://example.com/2016/06/22/2016-06-22-vim-lian-ji-gong-lue-1/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>RECURRENT NEURAL NETWORKS TUTORIAL, PART 2 â€“ IMPLEMENTING A RNN WITH PYTHON, NUMPY AND THEANO</title>
      <link>http://example.com/2016/06/15/2016-06-15-recurrent-neural-networks-tutorial-part-2-implementing-a-rnn-with-python-numpy-and-theano/</link>
      <guid>http://example.com/2016/06/15/2016-06-15-recurrent-neural-networks-tutorial-part-2-implementing-a-rnn-with-python-numpy-and-theano/</guid>
      <pubDate>Wed, 15 Jun 2016 09:54:18 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡å°†ç”¨Pythonå®ç°å®Œæ•´çš„RNNï¼Œå¹¶ä¸”ç”¨Theanoæ¥ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¯­è¨€æ¨¡å‹&quot;&gt;&lt;a href=&quot;#è¯­è¨€æ¨¡å‹&quot; class=&quot;headerlink&quot; title=&quot;è¯­è¨€æ¨¡å‹&quot;&gt;&lt;/a&gt;è¯­è¨€æ¨¡å‹&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿ç”¨RNNå»ºç«‹ä¸€ä¸ªè¯­è¨€æ¨¡å‹ã€‚ä»¥ä¸‹æˆ‘ä»¬ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œä½ è¯´äº†ä¸€å¥åŒ…æ‹¬$$m$$ä¸ªè¯è¯­çš„å¥å­ï¼Œè¯­è¨€æ¨¡å‹å¯ä»¥ä¸ºè¿™å¥è¯å‡ºç°çš„æ¦‚ç‡æ‰“åˆ†ï¼š&lt;/p&gt;
&lt;p&gt;$$P(w_1,\cdots,w_m) = \prod_{i=1}^m P(w_i \mid w_1,\cdots,w_{i-1})$$&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡å°†ç”¨Pythonå®ç°å®Œæ•´çš„RNNï¼Œå¹¶ä¸”ç”¨Theanoæ¥ä¼˜åŒ–ã€‚</p><h2 id="è¯­è¨€æ¨¡å‹"><a href="#è¯­è¨€æ¨¡å‹" class="headerlink" title="è¯­è¨€æ¨¡å‹"></a>è¯­è¨€æ¨¡å‹</h2><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿ç”¨RNNå»ºç«‹ä¸€ä¸ªè¯­è¨€æ¨¡å‹ã€‚ä»¥ä¸‹æˆ‘ä»¬ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæ˜¯è¯­è¨€æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œä½ è¯´äº†ä¸€å¥åŒ…æ‹¬$$m$$ä¸ªè¯è¯­çš„å¥å­ï¼Œè¯­è¨€æ¨¡å‹å¯ä»¥ä¸ºè¿™å¥è¯å‡ºç°çš„æ¦‚ç‡æ‰“åˆ†ï¼š</p><p>$$P(w_1,\cdots,w_m) = \prod_{i=1}^m P(w_i \mid w_1,\cdots,w_{i-1})$$</p><span id="more"></span><p> æ¯ä¸€ä¸ªè¯è¯­çš„æ¦‚ç‡éƒ½å–å†³äºå®ƒä¹‹å‰çš„æ‰€æœ‰çš„è¯çš„æ¦‚ç‡ã€‚</p><p>è¿™æ ·çš„æ¨¡å‹æœ‰ä»€ä¹ˆç”¨å¤„å‘¢ï¼Ÿ</p><ul><li>å¯ä»¥ç”¨äºæœºå™¨ç¿»è¯‘æˆ–è€…è¯­éŸ³è¯†åˆ«ä¸­çš„æ­£ç¡®å¥å­æ‰“åˆ†</li><li>ä»¥æ¦‚ç‡ç”Ÿæˆæ–°çš„å¥å­</li></ul><p>æ³¨æ„åˆ°åœ¨ä¸Šé¢çš„å…¬å¼å†…ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ‰€æœ‰çš„ä¹‹å‰çš„è¯çš„æ¦‚ç‡ï¼Œå®é™…ä¸Šè¿™åœ¨è®¡ç®—å’Œå­˜å‚¨æ—¶çš„è€—è´¹éƒ½æ˜¯å·¨å¤§çš„ï¼Œé€šå¸¸è€Œè¨€åªä¼šå–2~4ä¸ªè¯å·¦å³ã€‚</p><h2 id="é¢„å¤„ç†å¹¶è®­ç»ƒæ•°æ®"><a href="#é¢„å¤„ç†å¹¶è®­ç»ƒæ•°æ®" class="headerlink" title="é¢„å¤„ç†å¹¶è®­ç»ƒæ•°æ®"></a>é¢„å¤„ç†å¹¶è®­ç»ƒæ•°æ®</h2><h3 id="1-æ ‡è®°åŒ–"><a href="#1-æ ‡è®°åŒ–" class="headerlink" title="1.æ ‡è®°åŒ–"></a>1.æ ‡è®°åŒ–</h3><p>åŸå§‹çš„æ–‡æœ¬éœ€è¦è¢«æ ‡è®°åŒ–ï¼Œä¾‹å¦‚éœ€è¦æŠŠæ–‡æœ¬æ ‡è®°ä¸ºå¥å­ï¼Œå¥å­æ ‡è®°ä¸ºè¯è¯­ï¼Œå¹¶ä¸”è¿˜éœ€è¦å¤„ç†æ ‡ç‚¹ç¬¦å·ã€‚æˆ‘ä»¬å°†ä½¿ç”¨NLTKçš„<code>word_tokenize\sent_tokenize</code>æ–¹æ³•ã€‚</p><h3 id="2-ç§»é™¤ä½é¢‘è¯"><a href="#2-ç§»é™¤ä½é¢‘è¯" class="headerlink" title="2.ç§»é™¤ä½é¢‘è¯"></a>2.ç§»é™¤ä½é¢‘è¯</h3><p>ç§»é™¤ä½é¢‘è¯ä¸ç®¡æ˜¯å¯¹äºè®­ç»ƒå’Œé¢„æµ‹éƒ½æ˜¯æœ‰å¸®åŠ©çš„ã€‚è¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªä¸Šé™<code>vocabulary_size</code>ä¸º8000ï¼Œå‡ºç°æ¬¡æ•°å°‘äºå®ƒçš„è¯éƒ½ä¼šè¢«æ›¿æ¢ä¸º<code>UNKNOWN_TOKEN</code>è¾“å…¥ï¼Œè€Œå½“è¾“å‡ºæ˜¯<code>UNKNOWN_TOKEN</code>æ—¶ï¼Œå®ƒå°†è¢«éšæœºæ›¿æ¢ä¸ºä¸€ä¸ªä¸åœ¨è¯è¡¨å†…çš„è¯ï¼Œäº¦æˆ–è€…æŒç»­é¢„æµ‹ç›´åˆ°ä¸å‡ºç°<code>UNKNOWN_TOKEN</code>ä¸ºæ­¢ã€‚</p><h3 id="3-æ”¾ç½®å¥å­å¼€å§‹å’Œç»“æŸæ ‡è®°"><a href="#3-æ”¾ç½®å¥å­å¼€å§‹å’Œç»“æŸæ ‡è®°" class="headerlink" title="3.æ”¾ç½®å¥å­å¼€å§‹å’Œç»“æŸæ ‡è®°"></a>3.æ”¾ç½®å¥å­å¼€å§‹å’Œç»“æŸæ ‡è®°</h3><p>ä¸ºäº†è§£å¥å­çš„å¼€å§‹å’Œç»“æŸï¼Œæˆ‘ä»¬æŠŠ<code>SENTENCE_START</code>æ”¾ç½®åœ¨å¥å­å¼€å¤´ï¼Œå¹¶ä¸”æŠŠ<code>SENTENCE_END</code>æ”¾ç½®åœ¨å¥å­ç»“å°¾ã€‚</p><h3 id="4-å»ºç«‹è®­ç»ƒæ•°æ®çš„çŸ©é˜µ"><a href="#4-å»ºç«‹è®­ç»ƒæ•°æ®çš„çŸ©é˜µ" class="headerlink" title="4.å»ºç«‹è®­ç»ƒæ•°æ®çš„çŸ©é˜µ"></a>4.å»ºç«‹è®­ç»ƒæ•°æ®çš„çŸ©é˜µ</h3><p>RNNçš„è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯å‘é‡è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¯ä¸å‘é‡ä¸€ä¸€å¯¹åº”ï¼Œé€šè¿‡<code>index_to_word</code>å’Œ<code>word_to_index</code>ã€‚æ¯”å¦‚ä¸€ä¸ªè®­ç»ƒçš„ä¾‹å­$$x$$ä¸º[0, 179, 341, 416]ï¼ˆæ³¨æ„åˆ°å…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯é•¿åº¦ä¸º<code>vocabulary_size</code>çš„one-hotå‘é‡ï¼Œæ‰€ä»¥$$x$$å®é™…ä¸Šæ˜¯ä¸€ä¸ªçŸ©é˜µï¼‰ï¼Œé‚£ä¹ˆå…¶label-$$y$$ä¸º[179, 341, 416, 1]ï¼Œæ³¨æ„åˆ°æˆ‘ä»¬çš„ç›®æ ‡æ˜¯é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼Œæ‰€ä»¥$$y$$å°±æ˜¯$$x$$ç§»åŠ¨ä¸€ä½ï¼Œå¹¶æ·»åŠ ä¸Šæœ€åçš„ä¸€ä¸ªå…ƒç´ ï¼ˆé¢„æµ‹è¯ï¼‰çš„ç»“æœï¼Œå…¶ä¸­<code>SENTENCE_START</code>å’Œ<code>SENTENCE_END</code>åˆ†åˆ«ä¸º0å’Œ1.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">vocabulary_size = <span class="number">8000</span></span><br><span class="line">unknown_token = <span class="string">&quot;UNKNOWN_TOKEN&quot;</span></span><br><span class="line">sentence_start_token = <span class="string">&quot;SENTENCE_START&quot;</span></span><br><span class="line">sentence_end_token = <span class="string">&quot;SENTENCE_END&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read the data and append SENTENCE_START and SENTENCE_END tokens</span></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;Reading CSV file...&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data/reddit-comments-2015-08.csv&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f, skipinitialspace=<span class="literal">True</span>)</span><br><span class="line">    reader.<span class="built_in">next</span>()</span><br><span class="line">    <span class="comment"># Split full comments into sentences</span></span><br><span class="line">    sentences = itertools.chain(*[nltk.sent_tokenize(x[<span class="number">0</span>].decode(<span class="string">&#x27;utf-8&#x27;</span>).lower()) <span class="keyword">for</span> x <span class="keyword">in</span> reader])</span><br><span class="line">    <span class="comment"># Append SENTENCE_START and SENTENCE_END</span></span><br><span class="line">    sentences = [<span class="string">&quot;%s %s %s&quot;</span> % (sentence_start_token, x, sentence_end_token) <span class="keyword">for</span> x <span class="keyword">in</span> sentences]</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;Parsed %d sentences.&quot;</span> % (<span class="built_in">len</span>(sentences))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tokenize the sentences into words</span></span><br><span class="line">tokenized_sentences = [nltk.word_tokenize(sent) <span class="keyword">for</span> sent <span class="keyword">in</span> sentences]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Count the word frequencies</span></span><br><span class="line">word_freq = nltk.FreqDist(itertools.chain(*tokenized_sentences))</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;Found %d unique words tokens.&quot;</span> % <span class="built_in">len</span>(word`_freq.items())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get the most common words and build index_to_word and word_to_index vectors</span></span><br><span class="line">vocab = word_freq.most_common(vocabulary_size-<span class="number">1</span>)</span><br><span class="line">index_to_word = [x[<span class="number">0</span>] <span class="keyword">for</span> x <span class="keyword">in</span> vocab]</span><br><span class="line">index_to_word.append(unknown_token)</span><br><span class="line">word_to_index = <span class="built_in">dict</span>([(w,i) <span class="keyword">for</span> i,w <span class="keyword">in</span> <span class="built_in">enumerate</span>(index_to_word)])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;Using vocabulary size %d.&quot;</span> % vocabulary_size</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;The least frequent word in our vocabulary is &#x27;%s&#x27; and appeared %d times.&quot;</span> % (vocab[-<span class="number">1</span>][<span class="number">0</span>], vocab[-<span class="number">1</span>][<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Replace all words not in our vocabulary with the unknown token</span></span><br><span class="line"><span class="keyword">for</span> i, sent <span class="keyword">in</span> <span class="built_in">enumerate</span>(tokenized_sentences):</span><br><span class="line">    tokenized_sentences[i] = [w <span class="keyword">if</span> w <span class="keyword">in</span> word_to_index <span class="keyword">else</span> unknown_token <span class="keyword">for</span> w <span class="keyword">in</span> sent]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;\nExample sentence: &#x27;%s&#x27;&quot;</span> % sentences[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;\nExample sentence after Pre-processing: &#x27;%s&#x27;&quot;</span> % tokenized_sentences[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create the training data</span></span><br><span class="line">X_train = np.asarray([[word_to_index[w] <span class="keyword">for</span> w <span class="keyword">in</span> sent[:-<span class="number">1</span>]] <span class="keyword">for</span> sent <span class="keyword">in</span> tokenized_sentences])</span><br><span class="line">y_train = np.asarray([[word_to_index[w] <span class="keyword">for</span> w <span class="keyword">in</span> sent[<span class="number">1</span>:]] <span class="keyword">for</span> sent <span class="keyword">in</span> tokenized_sentences])</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x:</span><br><span class="line">SENTENCE_START what are n<span class="string">&#x27;t you understanding about this ? !</span></span><br><span class="line"><span class="string">[0, 51, 27, 16, 10, 856, 53, 25, 34, 69]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">y:</span></span><br><span class="line"><span class="string">what are n&#x27;</span>t you understanding about this ? ! SENTENCE_END</span><br><span class="line">[<span class="number">51</span>, <span class="number">27</span>, <span class="number">16</span>, <span class="number">10</span>, <span class="number">856</span>, <span class="number">53</span>, <span class="number">25</span>, <span class="number">34</span>, <span class="number">69</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å»ºç«‹RNNã€‚</p><p>##å»ºç«‹RNN</p><p><img src="/images/2016/06/rnn.jpg"></p><p>æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬çš„RNNæ¨¡å‹çš„å½¢å¼ã€‚åˆå§‹è¾“å…¥$$x$$æ˜¯ä¸€ä¸ªä»£è¡¨ä¸€æ¡å¥å­çš„çŸ©é˜µï¼Œæ¯ä¸€æ—¶åˆ»çš„è¾“å…¥$$x_t$$æ˜¯ä¸€ä¸ªä»£è¡¨ä¸€ä¸ªè¯è¯­çš„å‘é‡ï¼Œæ¯ä¸€æ—¶åˆ»çš„è¾“å‡º$$o_t$$ä¹Ÿæ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä»£è¡¨è¯è¡¨å†…æ¯ä¸€ä¸ªè¯è¢«é¢„æµ‹çš„æ¦‚ç‡ã€‚</p><p>RNNä¸­çš„ç­‰å¼ï¼š<br>$$<br>s_t = tanh(Ux_t + Ws_{t-1})<br>o_t = softmax(Vs_t)<br>$$</p><p>ä»‹ç»ä¸€ä¸‹å„ä¸ªå˜é‡çš„ç»´åº¦ï¼šå‡è®¾æˆ‘ä»¬çš„è¯è¡¨å¤§å°$$C$$ä¸º8000ï¼Œéšè—å±‚å¤§å°$$H$$ä¸º100ï¼Œå¯ä»¥æŠŠéšè—å±‚å¤§å°ç†è§£ä¸ºç½‘ç»œå†…å­˜çš„å¤§å°ï¼Œå†…å­˜è¶Šå¤§ï¼Œç½‘ç»œèƒ½è®°å¿†çš„ä¿¡æ¯ä¹Ÿè¶Šå¤šï¼Œä½†æ˜¯ä¹Ÿè¦è€—è´¹æ›´å¤šçš„ä»£ä»·æ¥è®¡ç®—ã€‚ç»¼ä¸Šï¼Œæˆ‘ä»¬çš„æ¨¡å‹å‚æ•°ç»´åº¦ä¸ºï¼š</p><p>$$<br>x_t \in \Bbb{R}^{8000} \ o_t \in \Bbb{R}^{8000} \ s_t \in \Bbb{R}^{100} \ U_t \in \Bbb{R}^{100 \times 8000} \ V_t \in \Bbb{R}^{8000 \times 100} \ W_t \in \Bbb{R}^{100 \times 100} <br>$$</p><p>å…¶ä¸­$$Uï¼ŒVï¼ŒW$$æ˜¯ç½‘ç»œçš„å‚æ•°ï¼Œæ ¹æ®ä¸Šé¢çš„ç­‰å¼ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¹ $$2HC+H^2$$ä¸ªå‚æ•°ï¼Œç”±äº$$x_t$$æ˜¯ç¨€ç–çš„one-hotå‘é‡ï¼Œæ‰€ä»¥å…¶ä¸$$U$$çš„ä¹˜ç§¯ä¸€æ­¥å³å¯ç®—å‡ºï¼Œ$$W$$å’Œ$$S_t$$çš„ç»´åº¦éƒ½æ¯”è¾ƒå°ï¼Œæ‰€ä»¥æœ€ç¹ççš„è®¡ç®—å°±æ˜¯$$VS_t$$äº†ã€‚</p><p>###åˆå§‹åŒ–</p><p>é€šè¿‡Numpyå®ç°ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¯¹$$Uï¼ŒVï¼ŒW$$çš„åˆå§‹åŒ–æ¯”è¾ƒtrickyï¼Œé€šå¸¸æ˜¯æŠŠå®ƒä»¬çš„åˆå§‹å€¼ç½®äº$$[-\frac{1}{\sqrt n},\frac{1}{\sqrt n}]$$è¾ƒå¥½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RNNNumpy</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, word_dim, hidden_dim=<span class="number">100</span>, bptt_truncate=<span class="number">4</span></span>):</span></span><br><span class="line">        <span class="comment"># Assign instance variables</span></span><br><span class="line">        self.word_dim = word_dim</span><br><span class="line">        self.hidden_dim = hidden_dim</span><br><span class="line">        self.bptt_truncate = bptt_truncate</span><br><span class="line">        <span class="comment"># Randomly initialize the network parameters</span></span><br><span class="line">        self.U = np.random.uniform(-np.sqrt(<span class="number">1.</span>/word_dim), np.sqrt(<span class="number">1.</span>/word_dim), (hidden_dim, word_dim))</span><br><span class="line">        self.V = np.random.uniform(-np.sqrt(<span class="number">1.</span>/hidden_dim), np.sqrt(<span class="number">1.</span>/hidden_dim), (word_dim, hidden_dim))</span><br><span class="line">        self.W = np.random.uniform(-np.sqrt(<span class="number">1.</span>/hidden_dim), np.sqrt(<span class="number">1.</span>/hidden_dim), (hidden_dim, hidden_dim))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>word_dim</code>æ˜¯è¯è¡¨å¤§å°ï¼Œ<code>hidden_dim</code>æ˜¯éšè—å±‚å¤§å°ã€‚</p><p>###å‰å‘è®¡ç®—</p><p>ä»¥ä¸‹æ˜¯å‰å‘è®¡ç®—ï¼ˆé¢„æµ‹è¯è¯­çš„æ¦‚ç‡ï¼‰çš„è¿‡ç¨‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">forward_propagation</span>(<span class="params">self, x</span>):</span></span><br><span class="line">    <span class="comment"># The total number of time steps</span></span><br><span class="line">    T = <span class="built_in">len</span>(x)</span><br><span class="line">    <span class="comment"># During forward propagation we save all hidden states in s because need them later.</span></span><br><span class="line">    <span class="comment"># We add one additional element for the initial hidden, which we set to 0</span></span><br><span class="line">    s = np.zeros((T + <span class="number">1</span>, self.hidden_dim))</span><br><span class="line">    s[-<span class="number">1</span>] = np.zeros(self.hidden_dim)</span><br><span class="line">    <span class="comment"># The outputs at each time step. Again, we save them for later.</span></span><br><span class="line">    o = np.zeros((T, self.word_dim))</span><br><span class="line">    <span class="comment"># For each time step...</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> np.arange(T):</span><br><span class="line">        <span class="comment"># Note that we are indxing U by x[t]. This is the same as multiplying U with a one-hot vector.</span></span><br><span class="line">        s[t] = np.tanh(self.U[:,x[t]] + self.W.dot(s[t-<span class="number">1</span>]))</span><br><span class="line">        o[t] = softmax(self.V.dot(s[t]))</span><br><span class="line">    <span class="keyword">return</span> [o, s]</span><br><span class="line"></span><br><span class="line">RNNNumpy.forward_propagation = forward_propagation</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åŒæ—¶è¿”å›è¾“å‡ºåŠéšè—å±‚çŠ¶æ€ï¼Œéšè—å±‚çŠ¶æ€ä¹‹åä¼šç”¨äºæ¢¯åº¦è®¡ç®—ã€‚$$o_t$$æ˜¯è¯è¡¨å†…æ¯ä¸ªè¯çš„æ¦‚ç‡ï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬éœ€è¦ç›´æ¥é¢„æµ‹å‡ºæ¦‚ç‡æœ€é«˜çš„è¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span>(<span class="params">self, x</span>):</span></span><br><span class="line">    <span class="comment"># Perform forward propagation and return index of the highest score</span></span><br><span class="line">    o, s = self.forward_propagation(x)</span><br><span class="line">    <span class="keyword">return</span> np.argmax(o, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">RNNNumpy.predict = predict</span><br></pre></td></tr></table></figure><p>å°è¯•è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">model = RNNNumpy(vocabulary_size)</span><br><span class="line">o, s = model.forward_propagation(X_train[<span class="number">10</span>])</span><br><span class="line"><span class="built_in">print</span> o.shape</span><br><span class="line"><span class="built_in">print</span> o</span><br><span class="line">(<span class="number">45</span>, <span class="number">8000</span>)</span><br><span class="line">[[ <span class="number">0.00012408</span>  <span class="number">0.0001244</span>   <span class="number">0.00012603</span> ...,  <span class="number">0.00012515</span>  <span class="number">0.00012488</span></span><br><span class="line">   <span class="number">0.00012508</span>]</span><br><span class="line"> [ <span class="number">0.00012536</span>  <span class="number">0.00012582</span>  <span class="number">0.00012436</span> ...,  <span class="number">0.00012482</span>  <span class="number">0.00012456</span></span><br><span class="line">   <span class="number">0.00012451</span>]</span><br><span class="line"> [ <span class="number">0.00012387</span>  <span class="number">0.0001252</span>   <span class="number">0.00012474</span> ...,  <span class="number">0.00012559</span>  <span class="number">0.00012588</span></span><br><span class="line">   <span class="number">0.00012551</span>]</span><br><span class="line"> ...,</span><br><span class="line"> [ <span class="number">0.00012414</span>  <span class="number">0.00012455</span>  <span class="number">0.0001252</span>  ...,  <span class="number">0.00012487</span>  <span class="number">0.00012494</span></span><br><span class="line">   <span class="number">0.0001263</span> ]</span><br><span class="line"> [ <span class="number">0.0001252</span>   <span class="number">0.00012393</span>  <span class="number">0.00012509</span> ...,  <span class="number">0.00012407</span>  <span class="number">0.00012578</span></span><br><span class="line">   <span class="number">0.00012502</span>]</span><br><span class="line"> [ <span class="number">0.00012472</span>  <span class="number">0.0001253</span>   <span class="number">0.00012487</span> ...,  <span class="number">0.00012463</span>  <span class="number">0.00012536</span></span><br><span class="line">   <span class="number">0.00012665</span>]]</span><br></pre></td></tr></table></figure><p>å¯¹ä¸Šé¢å¥å­ï¼ˆåŒ…æ‹¬45ä¸ªå•è¯ï¼‰ä¸­çš„æ¯ä¸ªè¯ï¼Œæ¨¡å‹éƒ½é¢„æµ‹äº†8000ä¸ªæ¦‚ç‡å€¼ã€‚å› ä¸ºæ¨¡å‹å‚æ•°è¿™æ—¶å€™æ˜¯éšæœºåˆå§‹å€¼ï¼Œæ‰€ä»¥é¢„æµ‹ä¹Ÿæ˜¯éšæœºçš„ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ç»™å‡ºé¢„æµ‹çš„è¯çš„ä½ç½®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">predictions = model.predict(X_train[<span class="number">10</span>])</span><br><span class="line"><span class="built_in">print</span> predictions.shape</span><br><span class="line"><span class="built_in">print</span> predictions</span><br><span class="line">(<span class="number">45</span>,)</span><br><span class="line">[<span class="number">1284</span> <span class="number">5221</span> <span class="number">7653</span> <span class="number">7430</span> <span class="number">1013</span> <span class="number">3562</span> <span class="number">7366</span> <span class="number">4860</span> <span class="number">2212</span> <span class="number">6601</span> <span class="number">7299</span> <span class="number">4556</span> <span class="number">2481</span> <span class="number">238</span> <span class="number">2539</span></span><br><span class="line"> <span class="number">21</span> <span class="number">6548</span> <span class="number">261</span> <span class="number">1780</span> <span class="number">2005</span> <span class="number">1810</span> <span class="number">5376</span> <span class="number">4146</span> <span class="number">477</span> <span class="number">7051</span> <span class="number">4832</span> <span class="number">4991</span> <span class="number">897</span> <span class="number">3485</span> <span class="number">21</span></span><br><span class="line"> <span class="number">7291</span> <span class="number">2007</span> <span class="number">6006</span> <span class="number">760</span> <span class="number">4864</span> <span class="number">2182</span> <span class="number">6569</span> <span class="number">2800</span> <span class="number">2752</span> <span class="number">6821</span> <span class="number">4437</span> <span class="number">7021</span> <span class="number">7875</span> <span class="number">6912</span> <span class="number">3575</span>]</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬è®¡ç®—æŸå¤±ã€‚</p><p>###è®¡ç®—æŸå¤±</p><p>æˆ‘ä»¬ä½¿ç”¨äº¤å‰ç†µå‡½æ•°ä½œä¸ºæŸå¤±å‡½æ•°ã€‚è‹¥æˆ‘ä»¬æœ‰$$N$$ä¸ªè®­ç»ƒæ ·æœ¬ï¼ˆtextä¸­çš„è¯è¯­æ•°ï¼‰ï¼Œ$$C$$ä¸ªç±»åˆ«ï¼ˆè¯è¡¨å¤§å°ï¼‰ï¼Œé¢„æµ‹æ˜¯$$o$$ï¼Œlabelæ˜¯$$y$$ï¼Œé‚£ä¹ˆæŸå¤±è®¡ç®—ä¸ºï¼š</p><p>$$<br>L(y,o) = - \frac{1}{N} \sum_{n \in N} y_n \log o_n<br>$$</p><p>æŸå¤±å‡½æ•°è®¡ç®—çš„æ˜¯æˆ‘ä»¬çš„é¢„æµ‹ooä¸æ­£ç¡®çš„è¯yyçš„å·®è·çš„å¤§å°ã€‚é€šè¿‡ä»¥ä¸‹è®¡ç®—æŸå¤±ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calculate_total_loss</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">    L = <span class="number">0</span></span><br><span class="line">    <span class="comment"># For each sentence...</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> np.arange(<span class="built_in">len</span>(y)):</span><br><span class="line">        o, s = self.forward_propagation(x[i])</span><br><span class="line">        <span class="comment"># We only care about our prediction of the &quot;correct&quot; words</span></span><br><span class="line">        correct_word_predictions = o[np.arange(<span class="built_in">len</span>(y[i])), y[i]]</span><br><span class="line">        <span class="comment"># Add to the loss based on how off we were</span></span><br><span class="line">        L += -<span class="number">1</span> * np.<span class="built_in">sum</span>(np.log(correct_word_predictions))</span><br><span class="line">    <span class="keyword">return</span> L</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calculate_loss</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">    <span class="comment"># Divide the total loss by the number of training examples</span></span><br><span class="line">    N = np.<span class="built_in">sum</span>((<span class="built_in">len</span>(y_i) <span class="keyword">for</span> y_i <span class="keyword">in</span> y))</span><br><span class="line">    <span class="keyword">return</span> self.calculate_total_loss(x,y)/N</span><br><span class="line"></span><br><span class="line">RNNNumpy.calculate_total_loss = calculate_total_loss</span><br><span class="line">RNNNumpy.calculate_loss = calculate_loss</span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬ç¨å¾®æ£€éªŒä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¯è¡¨å¤§å°ä¸º$$C$$ï¼Œé‚£ä¹ˆå¼€å§‹æ—¶æ¯ä¸ªè¯è¢«éšæœºé¢„æµ‹çš„æ¦‚ç‡ä¸º$$\frac{1}{C}$$ï¼Œé‚£ä¹ˆæŸå¤±ä¸º$$L = - \frac{1}{C} N \log \ \frac{1}{C} = \log C$$ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> Limit to <span class="number">1000</span> examples to save time</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;Expected Loss for random predictions: %f&quot;</span> % np.log(vocabulary_size)</span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;Actual loss: %f&quot;</span> % model.calculate_loss(X_train[:<span class="number">1000</span>], y_train[:<span class="number">1000</span>])</span><br></pre></td></tr></table></figure><p>å¾ˆæ¥è¿‘ã€‚è¿™é‡Œæˆ‘ä»¬åº”å½“è®°ä½ï¼Œå¦‚æœdataå¾ˆå¤§ï¼Œé‚£ä¹ˆè®¡ç®—æŸå¤±ä¼šå˜å¾—éå¸¸è€—è´¹æ—¶é—´ã€‚</p><p>###é€šè¿‡SGDå’ŒBPTTï¼ˆBACKPROPAGATION THROUGH TIME ï¼‰è®­ç»ƒRNN</p><p>ç»™å®šè®­ç»ƒæ ·æœ¬$$(x,y)$$æˆ‘ä»¬éœ€è¦è®¡ç®—æ¢¯åº¦$$\frac{\partial L}{\partial {U}},\frac{\partial L}{\partial {V}},\frac{\partial L}{\partial {W}}$$ã€‚é€šè¿‡ä»¥ä¸‹ä»£ç å®ç°BPTTï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bptt</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">    T = <span class="built_in">len</span>(y)</span><br><span class="line">    <span class="comment"># Perform forward propagation</span></span><br><span class="line">    o, s = self.forward_propagation(x)</span><br><span class="line">    <span class="comment"># We accumulate the gradients in these variables</span></span><br><span class="line">    dLdU = np.zeros(self.U.shape)</span><br><span class="line">    dLdV = np.zeros(self.V.shape)</span><br><span class="line">    dLdW = np.zeros(self.W.shape)</span><br><span class="line">    delta_o = o</span><br><span class="line">    delta_o[np.arange(<span class="built_in">len</span>(y)), y] -= <span class="number">1.</span></span><br><span class="line">    <span class="comment"># For each output backwards...</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> np.arange(T)[::-<span class="number">1</span>]:</span><br><span class="line">        dLdV += np.outer(delta_o[t], s[t].T)</span><br><span class="line">        <span class="comment"># Initial delta calculation</span></span><br><span class="line">        delta_t = self.V.T.dot(delta_o[t]) * (<span class="number">1</span> - (s[t] ** <span class="number">2</span>))</span><br><span class="line">        <span class="comment"># Backpropagation through time (for at most self.bptt_truncate steps)</span></span><br><span class="line">        <span class="keyword">for</span> bptt_step <span class="keyword">in</span> np.arange(<span class="built_in">max</span>(<span class="number">0</span>, t-self.bptt_truncate), t+<span class="number">1</span>)[::-<span class="number">1</span>]:</span><br><span class="line">            <span class="comment"># print &quot;Backpropagation step t=%d bptt step=%d &quot; % (t, bptt_step)</span></span><br><span class="line">            dLdW += np.outer(delta_t, s[bptt_step-<span class="number">1</span>])</span><br><span class="line">            dLdU[:,x[bptt_step]] += delta_t</span><br><span class="line">            <span class="comment"># Update delta for next step</span></span><br><span class="line">            delta_t = self.W.T.dot(delta_t) * (<span class="number">1</span> - s[bptt_step-<span class="number">1</span>] ** <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> [dLdU, dLdV, dLdW]</span><br><span class="line"></span><br><span class="line">RNNNumpy.bptt = bptt</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬æµ‹è¯•æ¢¯åº¦ã€‚</p><p>###æµ‹è¯•æ¢¯åº¦</p><p>å®ç°BPç®—æ³•è¿‡ç¨‹ä¸­ï¼Œæµ‹è¯•æ¢¯åº¦æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ã€‚é€šè¿‡ä»¥ä¸‹å…¬å¼ï¼š</p><p>$$<br>\frac{\partial L}{\partial{\theta}} \approx \lim_{h \rightarrow0} \frac{J(\theta + h)-J(\theta - h)}{2h}<br>$$</p><p>ä½¿ç”¨ä»¥ä¸Šçš„å…¬å¼æ¥æµ‹è¯•æ¢¯åº¦ï¼ŒåŒæ ·ï¼Œç”±äºéœ€è¦è®¡ç®—æ‰€ä»¥çš„å‚æ•°ï¼Œæ¢¯åº¦æµ‹è¯•ä¹Ÿæ˜¯å¾ˆè€—æ—¶é—´çš„ï¼Œåœ¨éƒ¨åˆ†æ•°æ®ä¸Šæµ‹è¯•æ˜¯æ¯”è¾ƒå¥½çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gradient_check</span>(<span class="params">self, x, y, h=<span class="number">0.001</span>, error_threshold=<span class="number">0.01</span></span>):</span></span><br><span class="line">    <span class="comment"># Calculate the gradients using backpropagation. We want to checker if these are correct.</span></span><br><span class="line">    bptt_gradients = self.bptt(x, y)</span><br><span class="line">    <span class="comment"># List of all parameters we want to check.</span></span><br><span class="line">    model_parameters = [<span class="string">&#x27;U&#x27;</span>, <span class="string">&#x27;V&#x27;</span>, <span class="string">&#x27;W&#x27;</span>]</span><br><span class="line">    <span class="comment"># Gradient check for each parameter</span></span><br><span class="line">    <span class="keyword">for</span> pidx, pname <span class="keyword">in</span> <span class="built_in">enumerate</span>(model_parameters):</span><br><span class="line">        <span class="comment"># Get the actual parameter value from the mode, e.g. model.W</span></span><br><span class="line">        parameter = operator.attrgetter(pname)(self)</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;Performing gradient check for parameter %s with size %d.&quot;</span> % (pname, np.prod(parameter.shape))</span><br><span class="line">        <span class="comment"># Iterate over each element of the parameter matrix, e.g. (0,0), (0,1), ...</span></span><br><span class="line">        it = np.nditer(parameter, flags=[<span class="string">&#x27;multi_index&#x27;</span>], op_flags=[<span class="string">&#x27;readwrite&#x27;</span>])</span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> it.finished:</span><br><span class="line">            ix = it.multi_index</span><br><span class="line">            <span class="comment"># Save the original value so we can reset it later</span></span><br><span class="line">            original_value = parameter[ix]</span><br><span class="line">            <span class="comment"># Estimate the gradient using (f(x+h) - f(x-h))/(2*h)</span></span><br><span class="line">            parameter[ix] = original_value + h</span><br><span class="line">            gradplus = self.calculate_total_loss([x],[y])</span><br><span class="line">            parameter[ix] = original_value - h</span><br><span class="line">            gradminus = self.calculate_total_loss([x],[y])</span><br><span class="line">            estimated_gradient = (gradplus - gradminus)/(<span class="number">2</span>*h)</span><br><span class="line">            <span class="comment"># Reset parameter to original value</span></span><br><span class="line">            parameter[ix] = original_value</span><br><span class="line">            <span class="comment"># The gradient for this parameter calculated using backpropagation</span></span><br><span class="line">            backprop_gradient = bptt_gradients[pidx][ix]</span><br><span class="line">            <span class="comment"># calculate The relative error: (|x - y|/(|x| + |y|))</span></span><br><span class="line">            relative_error = np.<span class="built_in">abs</span>(backprop_gradient - estimated_gradient)/(np.<span class="built_in">abs</span>(backprop_gradient) + np.<span class="built_in">abs</span>(estimated_gradient))</span><br><span class="line">            <span class="comment"># If the error is to large fail the gradient check</span></span><br><span class="line">            <span class="keyword">if</span> relative_error &gt; error_threshold:</span><br><span class="line">                <span class="built_in">print</span> <span class="string">&quot;Gradient Check ERROR: parameter=%s ix=%s&quot;</span> % (pname, ix)</span><br><span class="line">                <span class="built_in">print</span> <span class="string">&quot;+h Loss: %f&quot;</span> % gradplus</span><br><span class="line">                <span class="built_in">print</span> <span class="string">&quot;-h Loss: %f&quot;</span> % gradminus</span><br><span class="line">                <span class="built_in">print</span> <span class="string">&quot;Estimated_gradient: %f&quot;</span> % estimated_gradient</span><br><span class="line">                <span class="built_in">print</span> <span class="string">&quot;Backpropagation gradient: %f&quot;</span> % backprop_gradient</span><br><span class="line">                <span class="built_in">print</span> <span class="string">&quot;Relative Error: %f&quot;</span> % relative_error</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            it.iternext()</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;Gradient check for parameter %s passed.&quot;</span> % (pname)</span><br><span class="line"></span><br><span class="line">RNNNumpy.gradient_check = gradient_check</span><br><span class="line"></span><br><span class="line"><span class="comment"># To avoid performing millions of expensive calculations we use a smaller vocabulary size for checking.</span></span><br><span class="line">grad_check_vocab_size = <span class="number">100</span></span><br><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">model = RNNNumpy(grad_check_vocab_size, <span class="number">10</span>, bptt_truncate=<span class="number">1000</span>)</span><br><span class="line">model.gradient_check([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å®ç°SGDã€‚</p><p>###å®ç°SGD</p><p>é€šè¿‡ä¸¤æ­¥å®ç°ï¼š</p><ul><li><code>sdg_step</code>è®¡ç®—è®¡ç®—æ¢¯åº¦å¯¹æ¯ä¸ªbatchæ›´æ–°</li><li>å¤–éƒ¨å¾ªç¯è¿­ä»£æ•´ä¸ªè®­ç»ƒæ•°æ®å¹¶ä¸”è°ƒæ•´å­¦ä¹ ç‡</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">numpy_sdg_step</span>(<span class="params">self, x, y, learning_rate</span>):</span></span><br><span class="line">    <span class="comment"># Calculate the gradients</span></span><br><span class="line">    dLdU, dLdV, dLdW = self.bptt(x, y)</span><br><span class="line">    <span class="comment"># Change parameters according to gradients and learning rate</span></span><br><span class="line">    self.U -= learning_rate * dLdU</span><br><span class="line">    self.V -= learning_rate * dLdV</span><br><span class="line">    self.W -= learning_rate * dLdW</span><br><span class="line"></span><br><span class="line">RNNNumpy.sgd_step = numpy_sdg_step</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Outer SGD Loop</span><br><span class="line"><span class="comment"># - model: The RNN model instance</span></span><br><span class="line"><span class="comment"># - X_train: The training data set</span></span><br><span class="line"><span class="comment"># - y_train: The training data labels</span></span><br><span class="line"><span class="comment"># - learning_rate: Initial learning rate for SGD</span></span><br><span class="line"><span class="comment"># - nepoch: Number of times to iterate through the complete dataset</span></span><br><span class="line"><span class="comment"># - evaluate_loss_after: Evaluate the loss after this many epochs</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_with_sgd</span>(<span class="params">model, X_train, y_train, learning_rate=<span class="number">0.005</span>, nepoch=<span class="number">100</span>, evaluate_loss_after=<span class="number">5</span></span>):</span></span><br><span class="line">    <span class="comment"># We keep track of the losses so we can plot them later</span></span><br><span class="line">    losses = []</span><br><span class="line">    num_examples_seen = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(nepoch):</span><br><span class="line">        <span class="comment"># Optionally evaluate the loss</span></span><br><span class="line">        <span class="keyword">if</span> (epoch % evaluate_loss_after == <span class="number">0</span>):</span><br><span class="line">            loss = model.calculate_loss(X_train, y_train)</span><br><span class="line">            losses.append((num_examples_seen, loss))</span><br><span class="line">            time = datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span> <span class="string">&quot;%s: Loss after num_examples_seen=%d epoch=%d: %f&quot;</span> % (time, num_examples_seen, epoch, loss)</span><br><span class="line">            <span class="comment"># Adjust the learning rate if loss increases</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">len</span>(losses) &gt; <span class="number">1</span> <span class="keyword">and</span> losses[-<span class="number">1</span>][<span class="number">1</span>] &gt; losses[-<span class="number">2</span>][<span class="number">1</span>]):</span><br><span class="line">                learning_rate = learning_rate * <span class="number">0.5</span></span><br><span class="line">                <span class="built_in">print</span> <span class="string">&quot;Setting learning rate to %f&quot;</span> % learning_rate</span><br><span class="line">            sys.stdout.flush()</span><br><span class="line">        <span class="comment"># For each training example...</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y_train)):</span><br><span class="line">            <span class="comment"># One SGD step</span></span><br><span class="line">            model.sgd_step(X_train[i], y_train[i], learning_rate)</span><br><span class="line">            num_examples_seen += <span class="number">1</span></span><br></pre></td></tr></table></figure><p>å®Œæˆã€‚æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹è®­ç»ƒè€—è´¹å¤šé•¿çš„æ—¶é—´ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line">model = RNNNumpy(vocabulary_size)</span><br><span class="line">%timeit model.sgd_step(X_train[<span class="number">10</span>], y_train[<span class="number">10</span>], <span class="number">0.005</span>)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åœ¨æˆ‘çš„æœºå™¨ä¸Šéœ€è¦SGDçš„æ¯ä¸€æ­¥éœ€è¦180msï¼Œè¿™ä»£è¡¨æ•´ä¸ªè®­ç»ƒå°†è€—è´¹æ•°å¤©ç”šè‡³æ›´å¤šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¸å¤šçš„æ–¹æ³•æ¥åŠ é€Ÿè¿™ä¸€è¿‡ç¨‹ï¼Œå¦‚æ”¹å–„ä»£ç å’Œè°ƒæ•´æ¨¡å‹ã€‚è¿™é‡Œæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨GPUæ¥åŠ é€Ÿã€‚åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæµ‹è¯•ä¸€ä¸‹SGDçš„æ•ˆæœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># Train on a small subset of the data to see what happens</span></span><br><span class="line">model = RNNNumpy(vocabulary_size)</span><br><span class="line">losses = train_with_sgd(model, X_train[:<span class="number">100</span>], y_train[:<span class="number">100</span>], nepoch=<span class="number">10</span>, evaluate_loss_after=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">16</span>:<span class="number">59</span>:<span class="number">46</span>: Loss after num_examples_seen=<span class="number">0</span> epoch=<span class="number">0</span>: <span class="number">8.987425</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">16</span>:<span class="number">59</span>:<span class="number">56</span>: Loss after num_examples_seen=<span class="number">100</span> epoch=<span class="number">1</span>: <span class="number">8.976270</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:<span class="number">00</span>:06: Loss after num_examples_seen=<span class="number">200</span> epoch=<span class="number">2</span>: <span class="number">8.960212</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:<span class="number">00</span>:<span class="number">16</span>: Loss after num_examples_seen=<span class="number">300</span> epoch=<span class="number">3</span>: <span class="number">8.930430</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:<span class="number">00</span>:<span class="number">26</span>: Loss after num_examples_seen=<span class="number">400</span> epoch=<span class="number">4</span>: <span class="number">8.862264</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:<span class="number">00</span>:<span class="number">37</span>: Loss after num_examples_seen=<span class="number">500</span> epoch=<span class="number">5</span>: <span class="number">6.913570</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:<span class="number">00</span>:<span class="number">46</span>: Loss after num_examples_seen=<span class="number">600</span> epoch=<span class="number">6</span>: <span class="number">6.302493</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:<span class="number">00</span>:<span class="number">56</span>: Loss after num_examples_seen=<span class="number">700</span> epoch=<span class="number">7</span>: <span class="number">6.014995</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:01:06: Loss after num_examples_seen=<span class="number">800</span> epoch=<span class="number">8</span>: <span class="number">5.833877</span></span><br><span class="line"><span class="number">2016</span>-06-<span class="number">13</span> <span class="number">17</span>:01:<span class="number">16</span>: Loss after num_examples_seen=<span class="number">900</span> epoch=<span class="number">9</span>: <span class="number">5.710718</span></span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥ï¼ŒSGDèµ·åˆ°äº†æ•ˆæœã€‚</p><p>##é€šè¿‡Theanoå’ŒGPUè®­ç»ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">enp.random.seed(<span class="number">10</span>)</span><br><span class="line">model = RNNTheano(vocabulary_size)</span><br><span class="line">%timeit model.sgd_step(X_train[<span class="number">10</span>], y_train[<span class="number">10</span>], <span class="number">0.005</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ¬¡ä¸€æ¬¡SGDæ­¥éª¤è€—è´¹ä¸º73.7msã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨è®­ç»ƒå¥½çš„çš„å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> utils <span class="keyword">import</span> load_model_parameters_theano, save_model_parameters_theano</span><br><span class="line"></span><br><span class="line">model = RNNTheano(vocabulary_size, hidden_dim=<span class="number">50</span>)</span><br><span class="line"><span class="comment"># losses = train_with_sgd(model, X_train, y_train, nepoch=50)</span></span><br><span class="line"><span class="comment"># save_model_parameters_theano(&#x27;./data/trained-model-theano.npz&#x27;, model)</span></span><br><span class="line">load_model_parameters_theano(<span class="string">&#x27;./data/trained-model-theano.npz&#x27;</span>, model)</span><br></pre></td></tr></table></figure><p>###ç”Ÿæˆè¯­å¥</p><p>ä½¿ç”¨å¦‚ä¸‹ç”Ÿæˆè¯­å¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_sentence</span>(<span class="params">model</span>):</span></span><br><span class="line">    <span class="comment"># We start the sentence with the start token</span></span><br><span class="line">    new_sentence = [word_to_index[sentence_start_token]]</span><br><span class="line">    <span class="comment"># Repeat until we get an end token</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> new_sentence[-<span class="number">1</span>] == word_to_index[sentence_end_token]:</span><br><span class="line">        next_word_probs = model.forward_propagation(new_sentence)</span><br><span class="line">        sampled_word = word_to_index[unknown_token]</span><br><span class="line">        <span class="comment"># We don&#x27;t want to sample unknown words</span></span><br><span class="line">        <span class="keyword">while</span> sampled_word == word_to_index[unknown_token]:</span><br><span class="line">            samples = np.random.multinomial(<span class="number">1</span>, next_word_probs[-<span class="number">1</span>])</span><br><span class="line">            sampled_word = np.argmax(samples)</span><br><span class="line">        new_sentence.append(sampled_word)</span><br><span class="line">    sentence_str = [index_to_word[x] <span class="keyword">for</span> x <span class="keyword">in</span> new_sentence[<span class="number">1</span>:-<span class="number">1</span>]]</span><br><span class="line">    <span class="keyword">return</span> sentence_str</span><br><span class="line"></span><br><span class="line">num_sentences = <span class="number">10</span></span><br><span class="line">senten_min_length = <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_sentences):</span><br><span class="line">    sent = []</span><br><span class="line">    <span class="comment"># We want long sentences, not sentences with one or two words</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(sent) &lt; senten_min_length:</span><br><span class="line">        sent = generate_sentence(model)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot; &quot;</span>.join(sent)</span><br></pre></td></tr></table></figure><p>å¾—åˆ°ç»“æœä¸ºï¼š</p><ul><li>no to blame their stuff go at all .</li><li>consider via under gear but equal every game .</li><li>no similar work on the ui birth a ce nightmare .</li><li>the challenging what is absolutely hard .</li><li>me do you research getting +2 .</li><li>ugh is much good , no .</li><li>me so many different lines hair .</li><li>probably not very a bot or gain .</li><li>correct this is affected so why ?</li><li>register but a grown gun environment .</li></ul><p>çœ‹èµ·æ¥è¿˜ä¸é”™ï¼ä¸è¿‡è¿˜æ˜¯æœ‰ä¸€äº›ç¼ºé™·ï¼Œè¿™äº›éƒ½æ˜¯ç”±äºvanilla RNNä¸èƒ½è§£å†³é•¿æœŸä¾èµ–é—®é¢˜å¯¼è‡´çš„ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†è®¨è®ºBPTTå¹¶ä¸”å…³æ³¨æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸é—®é¢˜ã€‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/RNN/">RNN</category>
      
      
      <comments>http://example.com/2016/06/15/2016-06-15-recurrent-neural-networks-tutorial-part-2-implementing-a-rnn-with-python-numpy-and-theano/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ubuntuä¸‹ä¿®æ”¹DNSå¹¶ä¸”é¿å…é‡å¯å¤±æ•ˆçš„æ–¹æ³•</title>
      <link>http://example.com/2016/06/07/2016-06-07-edit-dns-of-ubuntu/</link>
      <guid>http://example.com/2016/06/07/2016-06-07-edit-dns-of-ubuntu/</guid>
      <pubDate>Tue, 07 Jun 2016 10:19:51 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;å®‰è£…å¥½Ubuntuä¹‹åè®¾ç½®äº†é™æ€IPåœ°å€ï¼Œå†é‡å¯åå°±æ— æ³•è§£æåŸŸåã€‚æƒ³é‡æ–°è®¾ç½®ä¸€ä¸‹DNSï¼Œæ‰“å¼€&lt;code&gt;/etc/resolv.conf&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class</description>
        
      
      
      
      <content:encoded><![CDATA[<p>å®‰è£…å¥½Ubuntuä¹‹åè®¾ç½®äº†é™æ€IPåœ°å€ï¼Œå†é‡å¯åå°±æ— æ³•è§£æåŸŸåã€‚æƒ³é‡æ–°è®¾ç½®ä¸€ä¸‹DNSï¼Œæ‰“å¼€<code>/etc/resolv.conf</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/resolv.conf</span><br><span class="line"># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)</span><br><span class="line"># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯<code>resolvconf</code>ç¨‹åºåŠ¨æ€åˆ›å»ºçš„ï¼Œä¸è¦ç›´æ¥æ‰‹åŠ¨ç¼–è¾‘ï¼Œä¿®æ”¹å°†è¢«è¦†ç›–ã€‚</p><p>è¯•äº†è¯•ï¼Œé‡å¯æœç„¶å¤±æ•ˆäº†ï¼Œè‹¥ä¸è§£å†³æ¯æ¬¡é‡å¯éƒ½å¾—ä¿®æ”¹DNSï¼Œé‚£å¤šéº»çƒ¦å•Šï¼</p><p>è¿˜å¥½æ‰¾åˆ°å¦‚ä¸‹åŠæ³•ï¼š</p><ol><li>ä¿®æ”¹<code>/etc/resolvconf/resolv.conf.d/base</code>ï¼ˆè¿™ä¸ªæ–‡ä»¶é»˜è®¤æ˜¯ç©ºçš„ï¼‰ï¼Œåœ¨å…¶å†…æ’å…¥ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nameserver 8.8.8.8</span><br><span class="line">nameserver 8.8.4.4</span><br></pre></td></tr></table></figure></li><li>ä¿å­˜åæ‰§è¡Œï¼š<code>[sudo] resolvconf -u</code>,å³å¯ã€‚</li></ol>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Linux/">Linux</category>
      
      
      <comments>http://example.com/2016/06/07/2016-06-07-edit-dns-of-ubuntu/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>RECURRENT NEURAL NETWORKS TUTORIAL, PART 1 â€“ INTRODUCTION TO RNNS</title>
      <link>http://example.com/2016/06/06/2016-06-06-recurrent-neural-networks-tutorial-part-1-introduction-to-rnns/</link>
      <guid>http://example.com/2016/06/06/2016-06-06-recurrent-neural-networks-tutorial-part-1-introduction-to-rnns/</guid>
      <pubDate>Mon, 06 Jun 2016 11:18:44 GMT</pubDate>
      
      <description>&lt;p&gt;RNNï¼Œä¹Ÿå³æ˜¯é€’å½’ç¥ç»ç½‘ç»œï¼Œæ˜¯è®¸å¤šNLPä»»åŠ¡çš„æµè¡Œå¤„ç†æ¨¡å‹ã€‚æœ¬éƒ¨åˆ†ä¸­å°†ç®€ä»‹RNNã€‚&lt;/p&gt;
&lt;p&gt;æœ¬éƒ¨åˆ†ä¸»è¦å®ç°æ­¤æ¨¡å‹â€“&lt;a href=&quot;http://www.fit.vutbr.cz/research/groups/speech/publi/2010/mikolov_interspeech2010_IS100722.pdf&quot;&gt; recurrent neural network based language model&lt;/a&gt;ï¼Œæ¨¡å‹æœ‰ä¸¤ä¸ªä½œç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥åŸºäºå‡ºç°çš„æ¦‚ç‡å¯¹å¥å­è¿›è¡Œæ‰“åˆ†ï¼Œå¯ä»¥å¯¹äºè¯­æ³•å’Œè¯­ä¹‰æ­£ç¡®æ€§è¿›è¡Œè¯„ä¼°ï¼Œä»è€Œåº”ç”¨äºæœºå™¨ç¿»è¯‘ç­‰é¢†åŸŸã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä¾æ®æ¦‚ç‡ç”Ÿæˆæ–°çš„è¯­æ–™ã€‚&lt;/li&gt;
&lt;/ol&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>RNNï¼Œä¹Ÿå³æ˜¯é€’å½’ç¥ç»ç½‘ç»œï¼Œæ˜¯è®¸å¤šNLPä»»åŠ¡çš„æµè¡Œå¤„ç†æ¨¡å‹ã€‚æœ¬éƒ¨åˆ†ä¸­å°†ç®€ä»‹RNNã€‚</p><p>æœ¬éƒ¨åˆ†ä¸»è¦å®ç°æ­¤æ¨¡å‹â€“<a href="http://www.fit.vutbr.cz/research/groups/speech/publi/2010/mikolov_interspeech2010_IS100722.pdf"> recurrent neural network based language model</a>ï¼Œæ¨¡å‹æœ‰ä¸¤ä¸ªä½œç”¨ï¼š</p><ol><li>å¯ä»¥åŸºäºå‡ºç°çš„æ¦‚ç‡å¯¹å¥å­è¿›è¡Œæ‰“åˆ†ï¼Œå¯ä»¥å¯¹äºè¯­æ³•å’Œè¯­ä¹‰æ­£ç¡®æ€§è¿›è¡Œè¯„ä¼°ï¼Œä»è€Œåº”ç”¨äºæœºå™¨ç¿»è¯‘ç­‰é¢†åŸŸã€‚</li><li>å¯ä»¥ä¾æ®æ¦‚ç‡ç”Ÿæˆæ–°çš„è¯­æ–™ã€‚</li></ol><span id="more"></span><p>##ä»€ä¹ˆæ˜¯RNN</p><p>RNNèƒŒåçš„æ ¸å¿ƒç†å¿µæ˜¯åˆ©ç”¨åºåˆ—çš„ä¿¡æ¯ã€‚ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œå¸¸å¸¸å‡è®¾è¾“å…¥ï¼ˆè¾“å‡ºï¼‰æ˜¯ç‹¬ç«‹äºå½¼æ­¤çš„ï¼Œè¿™å¯¹äºæŸäº›åº”ç”¨æ¥è¯´æ˜¯ä¸å¯è¡Œçš„ï¼Œä¾‹å¦‚NLPä»»åŠ¡ï¼Œå¦‚æœä½ éœ€è¦é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯æ˜¯ä»€ä¹ˆï¼Œä½ ä¸å¯èƒ½ä¸ç”¨åˆ°ä¹‹å‰çš„å•è¯çš„ä¿¡æ¯ã€‚RNNä¹‹ä¸­çš„<strong>recurrent</strong>æŒ‡çš„å°±æ˜¯å¾ªç¯å¾€å¤çš„æ„æ€ï¼Œç½‘ç»œå¯¹äºåºåˆ—æ•°æ®çš„æ¯ä¸ªå…ƒç´ è¿›è¡ŒåŒæ ·çš„æ“ä½œï¼Œç½‘ç»œçš„è¾“å‡ºå–å†³äºä¹‹å‰çš„è®¡ç®—ã€‚å¦ä¸€ç§ç†è§£RNNçš„æ–¹æ³•åˆ™æ˜¯æŠŠå®ƒä»¬çœ‹æˆæ˜¯æœ‰è®°å¿†çš„ç½‘ç»œï¼Œè®°å¿†æ”¶é›†ä»å¼€å§‹åˆ°ç°åœ¨è¢«è€ƒè™‘çš„ä¿¡æ¯ã€‚ç†è®ºä¸ŠRNNå¯ä»¥åˆ©ç”¨ä»»æ„æ—¶é—´é•¿åº¦çš„ä¿¡æ¯ï¼Œä½†æ˜¯å®é™…ä¸Šè¿™æ¯”è¾ƒå›°éš¾ã€‚ä»¥ä¸‹æ˜¯RNNçš„å…¸å‹ç»“æ„ï¼š</p><p><img src="/images/2016/06/rnn.jpg" alt="A recurrent neural network and the unfolding in time of the computation involved in its forward computation. Source: Nature"></p><p>ä»¥ä¸Šçš„ç»“æ„å°†RNNå±•å¼€æˆå®Œæ•´çš„ç½‘ç»œã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†ä¸€ä¸ª5å±‚çš„åºåˆ—ï¼Œé‚£ä¹ˆå°±éœ€è¦å±•å¼€æˆ5å±‚ï¼šæ¯å±‚å¯¹åº”ä¸€ä¸ªè¯ã€‚</p><ul><li>$$x_t$$æ˜¯$$t$$æ—¶åˆ»çš„è¾“å…¥</li><li>$$s_t$$æ˜¯$$t$$æ—¶åˆ»çš„éšè—çŠ¶æ€ï¼Œä»£è¡¨ç½‘ç»œçš„â€œè®°å¿†â€ï¼Œè®¡ç®—å…¬å¼ä¸º$$s_t = f(Ux_t + Ws_{t-1})$$ï¼Œå…¶ä¸­$$f$$é€šå¸¸æ˜¯tanhå‡½æ•°æˆ–è€…RELUå‡½æ•°ã€‚</li><li>$$o_t$$æ˜¯$$t$$æ—¶åˆ»çš„è¾“å‡ºï¼Œå¦‚æœæˆ‘ä»¬æƒ³é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆè®¡ç®—å…¬å¼ä¸º$$o_t = softmax(Vs_t)$$ï¼ŒæŒ‡çš„æ˜¯åœ¨æ•´ä¸ªè¯è¡¨å†…è¯çš„æ¦‚ç‡å€¼ã€‚</li></ul><p>å¯¹äºä»¥ä¸Šæœ‰å‡ ç‚¹éœ€è¦æç¤ºï¼š</p><ul><li>æˆ‘ä»¬å¯ä»¥æŠŠéšè—çŠ¶æ€$$s_t$$çœ‹æˆæ˜¯ç½‘ç»œçš„â€œè®°å¿†â€ï¼Œå…¶æ•æ‰åˆ°åœ¨ä¹‹å‰æ‰€æœ‰æ—¶é—´çš„ä¿¡æ¯ã€‚è¾“å‡º$$o_t$$åªå–å†³äºåœ¨$$t$$æ—¶åˆ»çš„è®°å¿†ã€‚è€Œåœ¨å®é™…ä¸Šï¼Œç”±äºé•¿æœŸä¾èµ–é—®é¢˜ï¼Œ$$s_t$$å¾ˆéš¾æ•æ‰åˆ°å¾ˆé•¿æ—¶é—´ä»¥å‰çš„ä¿¡æ¯ã€‚</li><li>RNNæ¯ä¸ªstepä¸­çš„å‚æ•°ï¼ˆ$$U,V,W$$ï¼‰æ˜¯ç›¸åŒçš„ï¼Œè¿™ä½¿å¾—å­¦ä¹ çš„ä»£ä»·å‡å°è®¸å¤šã€‚</li><li>å–å†³äºå®é™…ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯èƒ½å¹¶ä¸éœ€è¦æ¯ä¸ªstepéƒ½æœ‰è¾“å…¥å’Œè¾“å‡ºã€‚</li></ul><p>##RNNçš„å®é™…åº”ç”¨<br>ä»¥ä¸‹æ˜¯RNNåœ¨NLPé¢†åŸŸçš„ä¸€äº›å®é™…åº”ç”¨ã€‚</p><p>###è¯­è¨€æ¨¡å‹ä¸ç”Ÿæˆè¯­å¥<br>åœ¨ç»™å®šä¹‹å‰è¯è¯­çš„æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›äº§ç”Ÿå‡ºä¸‹ä¸€ä¸ªè¯è¯­æ˜¯ä»€ä¹ˆã€‚è¯­è¨€æ¨¡å‹çš„ä½œç”¨å°±æ˜¯è®©æˆ‘ä»¬å¯ä»¥è¡¡é‡ä¸€ä¸ªå¥å­çš„å¯èƒ½æ€§ï¼Œè¿™å¯¹äºæœºå™¨ç¿»è¯‘æ˜¯å¾ˆé‡è¦çš„ï¼ˆå¯èƒ½æ€§è¶Šé«˜çš„æ›´å¯èƒ½æ­£ç¡®ï¼‰ã€‚è€Œè¯­è¨€æ¨¡å‹çš„å¦ä¸€ä¸ªä½œç”¨åˆ™æ˜¯é¢„æµ‹ä¸‹ä¸€ä¸ªè¯è¯­æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨è¾“å‡ºçš„æ¦‚ç‡è¯æ±‡ä¸­é‡‡æ ·å¾—åˆ°ï¼Œã€‚å¯¹äºè¯­è¨€æ¨¡å‹ï¼Œè¾“å…¥æ˜¯ä¸€åºåˆ—çš„è¯è¯­ï¼ˆæ¯ä¸€ä¸ªè¯è¯­éƒ½æ˜¯one-hotè¡¨ç¤ºï¼‰ï¼Œè¾“å‡ºåˆ™æ˜¯ä¸€åºåˆ—çš„é¢„æµ‹çš„è¯è¯­ã€‚åœ¨è®­ç»ƒæ—¶æˆ‘ä»¬è®¾ç½®$$o_t = x_{t + 1}$$ï¼Œå› ä¸ºè¿™ä¸€æ—¶åˆ»çš„è¾“å‡ºå°±æ˜¯ä¸‹ä¸€æ—¶åˆ»çš„è¾“å…¥ã€‚</p><p>å…³äºè¯­è¨€æ¨¡å‹ä¸ç”Ÿæˆè¯­å¥çš„è®ºæ–‡ï¼š</p><ul><li><a href="http://www.fit.vutbr.cz/research/groups/speech/publi/2010/mikolov_interspeech2010_IS100722.pdf">Recurrent neural network based language model</a></li><li><a href="http://www.fit.vutbr.cz/research/groups/speech/publi/2011/mikolov_icassp2011_5528.pdf">Extensions of Recurrent neural network based language model</a></li><li><a href="http://machinelearning.wustl.edu/mlpapers/paper_files/ICML2011Sutskever_524.pdf">Generating Text with Recurrent Neural Networks</a></li></ul><p>###æœºå™¨ç¿»è¯‘</p><p>æœºå™¨ç¿»è¯‘ç±»ä¼¼äºè¯­è¨€æ¨¡å‹ï¼Œå…¶è¾“å…¥ä¸ºéœ€è¦ç¿»è¯‘çš„å¥å­ï¼Œè¾“å‡ºåˆ™æ˜¯ç¿»è¯‘çš„ç›®æ ‡è¯­è¨€çš„å¥å­ã€‚ä¸è¯­è¨€æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¾“å…¥æ•´ä¸ªå¥å­ä¹‹åæ‰è¾“å‡ºã€‚</p><p><img src="/images/2016/06/Screen-Shot-2015-09-17-at-10.39.06-AM-1024x557.png"></p><p>å…³äºæœºå™¨ç¿»è¯‘çš„è®ºæ–‡ï¼š</p><ul><li><a href="http://www.aclweb.org/anthology/P14-1140.pdf">A Recursive Recurrent Neural Network for Statistical Machine Translation</a></li><li><a href="http://papers.nips.cc/paper/5346-sequence-to-sequence-learning-with-neural-networks.pdf">Sequence to Sequence Learning with Neural Networks</a></li><li><a href="http://research.microsoft.com/en-us/um/people/gzweig/Pubs/EMNLP2013RNNMT.pdf">Joint Language and Translation Modeling with Recurrent Neural Networks</a></li></ul><p>###è¯­è¨€è¯†åˆ«</p><p>ç»™äºˆä¸€æ®µè¯´è¯äººè¯­è¨€çš„å£°éŸ³åºåˆ—ï¼Œæˆ‘ä»¬é¢„æµ‹å‡ºä¸€åºåˆ—çš„å¸¦æœ‰æ¦‚ç‡çš„è¯­è¨€æˆåˆ†çš„åºåˆ—ã€‚</p><p>ç›¸å…³è®ºæ–‡ï¼š</p><ul><li><a href="http://www.jmlr.org/proceedings/papers/v32/graves14.pdf">Towards End-to-End Speech Recognition with Recurrent Neural Networks</a></li></ul><p>###ç”Ÿæˆå›¾ç‰‡æè¿°</p><p>ä¸CNNç»“åˆï¼ŒRNNå¯ä»¥ä¸ºæ— æ ‡ç­¾çš„å›¾ç‰‡ç”Ÿæˆæè¿°ï¼Œæ¨¡å‹ç”šè‡³å¯ä»¥æ’åˆ—å¥½è¿™äº›æè¿°æˆæ›´åŠ ç±»ä¼¼äººç±»è¯­è¨€çš„å½¢å¼ã€‚</p><p><img src="/images/2016/06/Screen-Shot-2015-09-17-at-11.44.24-AM-1024x349.png" alt="Deep Visual-Semantic Alignments for Generating Image Descriptions. Source: http://cs.stanford.edu/people/karpathy/deepimagesent/"></p><p>##è®­ç»ƒRNN</p><p>è®­ç»ƒRNNä¸å…¸å‹çš„ç¥ç»ç½‘ç»œç±»ä¼¼ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯Backpropagation Through Time (BPTT)ï¼Œå¹¶ä¸”é€šè¿‡BPTTè®­ç»ƒçš„vanilla RNNç”±äºæ¢¯åº¦å¼¥æ•£æˆ–è€…æ¢¯åº¦çˆ†ç‚¸ï¼Œä¸èƒ½æœ‰æ•ˆçš„è§£å†³é•¿æœŸä¾èµ–çš„é—®é¢˜ã€‚</p><p>##å…¶ä»–çš„ä¸€äº›RNN</p><p>é’ˆå¯¹vanilla RNNçš„ä¸€äº›ç¼ºé™·ï¼Œè¿‘å¹´æ¥è®¸å¤šRNNçš„å˜ä½“æ¶Œç°å‡ºæ¥ã€‚</p><p><strong>åŒå‘RNN</strong>ï¼Œä¸»è¦è¾“å…¥ä¸ä»…ä¸è¿‡å»çš„è¾“å…¥ï¼Œå¹¶ä¸”ä¸å°†æ¥çš„è¾“å…¥æœ‰å…³çš„ç†å¿µã€‚ä¾‹å¦‚æˆ‘ä»¬éœ€è¦é¢„æµ‹ä¸€ä¸ªå¥å­ä¸­é—´ç¼ºå¤±çš„è¯è¯­ã€‚åŒå‘RNNçš„ç»“æ„å¾ˆç®€å•ï¼Œåªæ˜¯æŠŠä¸¤ä¸ªRNNåœ¨é¡¶éƒ¨<br>ç»“åˆï¼Œå…¶è¾“å‡ºå–å†³äºäº†ä¸¤ä¸ªRNNçš„éšè—çŠ¶æ€ã€‚</p><p><img src="/images/2016/06/bidirectional-rnn-300x196.png"></p><p><strong>æ·±åº¦ï¼ˆåŒå‘ï¼‰RNN</strong>ï¼Œä¸åŒå‘RNNç±»ä¼¼ï¼Œåªæ˜¯æ¯ä¸ªstepéœ€è¦è®­ç»ƒå¤šå±‚çš„ç½‘ç»œï¼Œè¿™ä½¿å¾—æ¨¡å‹æ›´ä¸ºå¼ºå¤§ï¼ˆä¹Ÿéœ€è¦æ›´å¤šçš„æ•°æ®æ¥è®­ç»ƒï¼‰ã€‚</p><p><img src="/images/2016/06/Screen-Shot-2015-09-16-at-2.21.51-PM-272x300.png"></p><p><strong>LSTMç½‘ç»œ</strong>ï¼Œå¯¹RNNçš„éšè—å±‚åšäº†æ”¹è¿›ä»¥è§£å†³é•¿æœŸä¾èµ–é—®é¢˜ï¼Œæ˜¯è¿‘æ¥æµè¡Œçš„RNNç±»å‹ã€‚LSTMå¯ä»¥é€šè¿‡gateå†³å®šç½‘ç»œéœ€è¦è®°ä½å’Œé—å¿˜å¤šé•¿æ—¶é—´ä¹‹å‰çš„è®°å¿†ï¼Œä»¥æ­¤è”åˆä¹‹å‰çš„çŠ¶æ€ã€è®°å¿†å’Œè¾“å…¥ã€‚å¯¹äºLSTMçš„è¯¦ç»†çŸ¥è¯†å¯ä»¥è§æ­¤ï¼š<a href="http://frankchen0130.github.io/2016/06/04/understanding-lstm-networks/">ç†è§£LSTMç½‘ç»œ</a>ã€‚</p><p>##ç»“è®º</p><p>åˆ°æ­¤æˆ‘ä»¬å¯¹äºRNNæœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„è®¤è¯†ï¼Œä¹‹åæˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œä»£ç çš„å®ç°ã€‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      <category domain="http://example.com/tags/RNN/">RNN</category>
      
      
      <comments>http://example.com/2016/06/06/2016-06-06-recurrent-neural-networks-tutorial-part-1-introduction-to-rnns/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ç†è§£LSTMç½‘ç»œ</title>
      <link>http://example.com/2016/06/04/2016-06-04-understanding-lstm-networks/</link>
      <guid>http://example.com/2016/06/04/2016-06-04-understanding-lstm-networks/</guid>
      <pubDate>Sat, 04 Jun 2016 09:16:15 GMT</pubDate>
      
      <description>&lt;h2 id=&quot;Recurrent-Neural-Networks-RNN&quot;&gt;&lt;a href=&quot;#Recurrent-Neural-Networks-RNN&quot; class=&quot;headerlink&quot; title=&quot;Recurrent Neural Networks(RNN)&quot;&gt;&lt;/a&gt;Recurrent Neural Networks(RNN)&lt;/h2&gt;&lt;p&gt;äººç±»æ˜¯ä¾é è‡ªå·±è¿‡å¾€çš„ç»éªŒæ¥å­¦ä¹ ï¼Œå¦‚åŒæˆ‘ä»¬åœ¨è¯»æ–‡ç« æ—¶ï¼Œæ¯ä¸€æ—¶åˆ»ï¼Œæˆ‘ä»¬å¯¹äºå½“å‰çš„æ¦‚å¿µçš„ç†è§£æ€»è¦æ·»åŠ ä¸Šå¯¹äºä¹‹å‰è·å–çš„çŸ¥è¯†ç»éªŒï¼Œæ€»ä¹‹ï¼Œæˆ‘ä»¬çš„æ€ç»´æ˜¯æœ‰æŒç»­æ€§çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œæ¨¡å‹æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè€Œè¿™ä¹Ÿæ˜¯å®ƒçš„ä¸»è¦ç¼ºé™·ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;p&gt;å¾ªç¯ç¥ç»ç½‘ç»œè§£å†³äº†è¿™ä¸ªéš¾é¢˜ï¼Œæ‰€è°“å¾ªç¯ï¼Œç®€å•æ¥è¯´å…¶ç»“æ„å…è®¸ä¿¡æ¯åœ¨ç½‘ç»œå†…ç•™å­˜ï¼Œä¹Ÿå³æ˜¯ï¼Œç½‘ç»œæ˜¯æœ‰è®°å¿†çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/2016/06/RNN-rolled.png&quot;&gt;&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<h2 id="Recurrent-Neural-Networks-RNN"><a href="#Recurrent-Neural-Networks-RNN" class="headerlink" title="Recurrent Neural Networks(RNN)"></a>Recurrent Neural Networks(RNN)</h2><p>äººç±»æ˜¯ä¾é è‡ªå·±è¿‡å¾€çš„ç»éªŒæ¥å­¦ä¹ ï¼Œå¦‚åŒæˆ‘ä»¬åœ¨è¯»æ–‡ç« æ—¶ï¼Œæ¯ä¸€æ—¶åˆ»ï¼Œæˆ‘ä»¬å¯¹äºå½“å‰çš„æ¦‚å¿µçš„ç†è§£æ€»è¦æ·»åŠ ä¸Šå¯¹äºä¹‹å‰è·å–çš„çŸ¥è¯†ç»éªŒï¼Œæ€»ä¹‹ï¼Œæˆ‘ä»¬çš„æ€ç»´æ˜¯æœ‰æŒç»­æ€§çš„ã€‚</p><p>ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œæ¨¡å‹æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè€Œè¿™ä¹Ÿæ˜¯å®ƒçš„ä¸»è¦ç¼ºé™·ä¹‹ä¸€ã€‚</p><p>å¾ªç¯ç¥ç»ç½‘ç»œè§£å†³äº†è¿™ä¸ªéš¾é¢˜ï¼Œæ‰€è°“å¾ªç¯ï¼Œç®€å•æ¥è¯´å…¶ç»“æ„å…è®¸ä¿¡æ¯åœ¨ç½‘ç»œå†…ç•™å­˜ï¼Œä¹Ÿå³æ˜¯ï¼Œç½‘ç»œæ˜¯æœ‰è®°å¿†çš„ã€‚</p><p><img src="/images/2016/06/RNN-rolled.png"></p><span id="more"></span><p>ä¸Šå›¾ä¸­ï¼Œè¡¨ç¤ºAè¡¨ç¤ºç¥ç»ç½‘ç»œçš„ä¸€å—ï¼Œåœ¨$$t$$æ—¶åˆ»æœ‰è¾“å…¥$$X_t$$å’Œè¾“å‡º$$h_t$$ï¼Œè¿™ç»“æ„å¾ˆç®€å•ï¼Œç‰¹åˆ«çš„æ˜¯ä¸­é—´é‚£ä¸€ç¯ï¼Œè¡¨ç¤ºä¿¡æ¯å¯ä»¥åœ¨ç½‘ç»œå†…ä¿å­˜å’Œä¼ é€’ã€‚</p><p>ä»¥ä¸Šçš„å¾ªç¯ç»“æ„ä¹Ÿå¯ä»¥æ‹†è§£ä¸ºä¸‹é¢çš„ä¸²åˆ—ç»“æ„æ¥ç†è§£ï¼š</p><p><img src="/images/2016/06/RNN-unrolled.png"></p><p>æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªç½‘ç»œå—çš„å¾ªç¯çœ‹æˆæ˜¯å¤šä¸ªç›¸åŒçš„ç½‘ç»œä¹‹é—´ä¿¡æ¯çš„ä¼ é€’ï¼Œè€Œè¿™æ ·çš„ç»“æ„ä¹Ÿå°±æ„å‘³ç€ï¼ŒRNNå¤©ç”Ÿå°±é€‚åˆå¤„ç†ä¸åºåˆ—ç›¸å…³çš„æ•°æ®ï¼Œå¦‚æ—¶é—´åºåˆ—ã€NLPä¸­çš„è¯­è¨€æ¨¡å‹ã€éŸ³ä¹ç­‰ã€‚</p><p>è¿‘å¹´æ¥RNNçš„æˆåŠŸåº”ç”¨æ˜¯ä¸LSTMåˆ’ä¸å¼€è”ç³»çš„ã€‚æ¥ä¸‹æ¥å°±ç»™å¤§å®¶ä»‹ç»LSTMç½‘ç»œã€‚</p><p>##é•¿æœŸä¾èµ–é—®é¢˜</p><p>RNNèƒ½å¤Ÿåˆ©ç”¨ä¹‹å‰çš„ä¿¡æ¯æ¥å¸®åŠ©å½“å‰çš„å¤„ç†ï¼Œè¿™æ˜¯æˆ‘ä»¬å¯¹äºRNNçš„æœŸå¾…ã€‚ä½†æ˜¯RNNèƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹æ˜¯æœ‰æ¡ä»¶çš„ï¼šéœ€è¦è§£å†³<strong>é•¿æœŸä¾èµ–é—®é¢˜</strong>ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦é¢„æµ‹å¦‚ä¸‹å¥å­ä¸­çš„æœ€åä¸€ä¸ªå•è¯ï¼šâ€œthe clouds are in the skyâ€ï¼Œå› ä¸ºæœ‰å…³çš„ä¿¡æ¯ä¸å…¶è¢«éœ€è¦çš„ä½ç½®çš„è·ç¦»ä¸è¿œï¼Œæ‰€ä»¥RNNå¯ä»¥è½»æ˜“è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><img src="/images/2016/06/RNN-shorttermdepdencies.png"></p><p>ä½†æ˜¯å½“é¢„æµ‹éœ€è¦æ›´æ—©çš„ä¿¡æ¯çš„æ—¶å€™å‘¢ï¼Ÿä¾‹å¦‚â€œI grew up in Franceâ€¦ I speak fluent French.â€ è¿™æ—¶å€™æœ‰å…³çš„ä¿¡æ¯ä¸å…¶è¢«éœ€è¦çš„ä½ç½®çš„è·ç¦»å¯èƒ½å¾ˆè¿œã€‚è€Œæ­¤æ—¶ï¼ŒRNNå˜å¾—å¾ˆéš¾å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p><p><img src="/images/2016/06/RNN-longtermdependencies.png"></p><p>ç†è®ºä¸Šï¼ŒRNNåº”è¯¥å¯ä»¥è§£å†³è¿™ç±»â€œé•¿æœŸä¾èµ–é—®é¢˜â€ï¼Œä½†æ˜¯å®é™…ä¸Šå´æ— æ³•åšåˆ°ã€‚<br>å¹¸è¿çš„æ˜¯ï¼ŒLSTMå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼</p><h2 id="LSTM-ç½‘ç»œ"><a href="#LSTM-ç½‘ç»œ" class="headerlink" title="LSTM ç½‘ç»œ"></a>LSTM ç½‘ç»œ</h2><p>Long Short Term Memory networksï¼Œç®€ç§°ä¸ºLSTMï¼Œæ˜¯ä¸€ç§å¯ä»¥å­¦ä¹ é•¿æœŸä¾èµ–çš„RNNã€‚é‚£ä¹ˆï¼ŒLSTMä¸ºä½•å…·æœ‰è¿™ç§èƒ½åŠ›å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ ‡å‡†çš„RNNå½¢å¼ï¼š</p><p><img src="/images/2016/06/LSTM3-SimpleRNN.png"></p><p>å½¢å¼å¾ˆç®€å•ï¼Œtanhå±‚æ¥å—å½“å‰æ—¶åˆ»çš„è¾“å…¥$$X_t$$ä»¥åŠä¸Šä¸€æ—¶åˆ»ä¼ æ¥çš„è®°å¿†ä¿¡æ¯ï¼Œè¾“å‡º$$h_t$$åŠè®°å¿†ä¿¡æ¯ã€‚</p><p>è€ŒLSTMåœ¨æ ‡å‡†çš„RNNå½¢å¼ä¸‹ï¼Œç½‘ç»œå¢åŠ åˆ°äº†å››å±‚ã€‚</p><p><img src="/images/2016/06/LSTM3-chain.png"></p><p>æ­¤å›¾ä¸­ï¼Œé»„è‰²çš„æ¡†æ ¼ä»£è¡¨ç¥ç»ç½‘ç»œå±‚ï¼Œç²‰çº¢è‰²çš„åœ†åœˆä»£è¡¨é€ç‚¹è¿ç®—ï¼Œä¾‹å¦‚å‘é‡ç›¸åŠ æˆ–è€…ç›¸ä¹˜ï¼Œå•æ¡é»‘è‰²çš„çº¿ä»£è¡¨å‘é‡çš„ä¼ è¾“ï¼Œåˆå¹¶çš„é»‘è‰²çš„çº¿ä»£è¡¨å‘é‡çš„è¿æ¥ï¼Œåˆ†å‰çš„é»‘è‰²çº¿ä»£è¡¨å‘é‡çš„å¤åˆ¶ï¼ˆåŒä¸€å‘é‡ä¼ é€åˆ°ä¸åŒçš„æ–¹å‘ï¼‰ã€‚</p><p>##LSTMç½‘ç»œæ ¸å¿ƒç†å¿µ</p><p>LSTMçš„æ ¸å¿ƒå°±æ˜¯ç½‘ç»œå†…ä¸Šé¢çš„é‚£æ¡æ°´å¹³çº¿ï¼Œç§°ä¸ºcell state $$C_t$$ï¼Œç±»ä¼¼äºä¼ é€å¸¦çš„åŠŸèƒ½ï¼Œå®ƒåœ¨æ•´ä¸ªç½‘ç»œå†…ç›´çº¿ä¼ é€ï¼Œåªåšä¸€äº›çº¿æ€§çš„å˜åŠ¨ï¼Œå®ƒä»£è¡¨ç€çš„æ˜¯RNNä¸­ä¸å˜çš„ä¿¡æ¯ã€‚</p><p><img src="/images/2016/06/LSTM3-C-line.png"></p><p>LSTMå…·æœ‰å¯¹cell stateè¿›è¡Œå¢å‡ä¿¡æ¯çš„åŠŸèƒ½ï¼Œæ˜¯é å¦‚ä¸‹çš„éƒ¨ä»¶â€“gateå®Œæˆçš„ã€‚</p><p><img src="/images/2016/06/LSTM3-gate.png"></p><p>gateç”±ä¸€ä¸ªsigmoidå±‚å’Œé€ç‚¹ä¹˜æ“ä½œæ„æˆï¼Œæˆ‘ä»¬éƒ½çŸ¥é“sigmoidå‡½æ•°è¾“å‡ºçš„æ˜¯ä¸€ä¸ªä»‹äº0å’Œ1ä¹‹é—´çš„æ•°ï¼Œé‚£ä¹ˆgateçš„ä½œç”¨å°±æ˜¾è€Œæ˜“è§äº†ï¼š<strong>é€šè¿‡sigmoidå±‚çš„è¾“å…¥å†³å®šgateçš„è¾“å…¥æœ‰å¤šå°‘èƒ½è¢«è¾“å…¥ã€‚</strong>è€ŒLSTMå…·æœ‰ä¸‰ä¸ªgateï¼Œéƒ½æ˜¯ä¸ºäº†ä¿æŒå’Œæ§åˆ¶cell stateã€‚</p><h2 id="åˆ†æ­¥ç†è§£LSTM"><a href="#åˆ†æ­¥ç†è§£LSTM" class="headerlink" title="åˆ†æ­¥ç†è§£LSTM"></a>åˆ†æ­¥ç†è§£LSTM</h2><p>LSTMç»“æ„çš„ç¬¬ä¸€æ­¥æ˜¯å†³å®šæˆ‘ä»¬åº”è¯¥æŠŠå¤šå°‘ä¿¡æ¯ä»cell stateé‡Œé¢ä¸¢å¼ƒã€‚è¿™æ˜¯æœ‰ä¸€ä¸ªå«åšâ€œforget gateâ€çš„éƒ¨åˆ†å®Œæˆçš„ã€‚å…¶æ¥æ”¶$$h_{t-1}$$å’Œ$$x_t$$ï¼Œè¾“å‡ºä¸€ä¸ª0å’Œ1ä¹‹é—´çš„æ•°ï¼Œå†ä¸ä¸Šä¸€æ—¶åˆ»çš„cell state$$C_{t-1}$$åšé€ç‚¹ä¹˜ã€‚</p><p><img src="/images/2016/06/LSTM3-focus-f.png"></p><p>ä¸‹ä¸€æ­¥åˆ™æ˜¯å†³å®šæŠŠå¤šå°‘çš„æ–°ä¿¡æ¯å­˜å‚¨åœ¨cell stateé‡Œé¢ã€‚é¦–å…ˆï¼Œä¸€ä¸ªç§°ä¸ºâ€œinput gate layerâ€çš„sigmoidå±‚å†³å®šè¦æ›´æ–°çš„ä¿¡æ¯çš„å¤šå°‘ï¼Œæ¥ä¸‹æ¥ä¸€ä¸ªtanhå±‚äº§ç”Ÿä¸€ä¸ªç§°ä¸º$$\tilde{C}_t$$çš„å‘é‡ï¼Œå®ƒä»£è¡¨äº†æ–°çš„çŠ¶æ€å€¼ï¼Œæœ€åæˆ‘ä»¬æ•´åˆä»¥ä¸Šä¸¤è€…ï¼Œæ·»åŠ åˆ°cell stateé‡Œé¢å»ã€‚</p><p><img src="/images/2016/06/LSTM3-focus-i.png"></p><p>å†³å®šäº†è¦å¿˜è®°å¤šå°‘ä¿¡æ¯å¹¶æ·»åŠ å¤šå°‘æ–°ä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å°±å®é™…æ¥æ‰§è¡Œè¿™ä¸€æ­¥ï¼š</p><p><img src="/images/2016/06/LSTM3-focus-C.png"></p><p>æœ€åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†³å®šè¾“å‡ºçš„å†…å®¹ã€‚è¾“å‡ºä¸»è¦æ¥è‡ªäºcell stateï¼Œä½†æ˜¯è¿˜æ˜¯è¦é€šè¿‡ä¸€ä¸ªtanhå±‚å¹¶ç”±sigmoidå±‚å†³å®šè¾“å‡ºå¤šå°‘ã€‚</p><p><img src="/images/2016/06/LSTM3-focus-o.png"></p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/note/">note</category>
      
      
      <category domain="http://example.com/tags/RNN/">RNN</category>
      
      <category domain="http://example.com/tags/LSTM/">LSTM</category>
      
      
      <comments>http://example.com/2016/06/04/2016-06-04-understanding-lstm-networks/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Rephilå’ŒMapReduceï¼š æè¿°é•¿å°¾æ•°æ®çš„æ•°å­¦æ¨¡å‹</title>
      <link>http://example.com/2016/06/04/2016-06-04-rephil-and-mapreduce/</link>
      <guid>http://example.com/2016/06/04/2016-06-04-rephil-and-mapreduce/</guid>
      <pubDate>Sat, 04 Jun 2016 07:02:32 GMT</pubDate>
      
      <description>&lt;p&gt;Google Rephilæ˜¯Google AdSenseèƒŒåå¹¿å‘Šç›¸å…³æ€§è®¡ç®—çš„å¤´å·ç§˜å¯†æ­¦å™¨ã€‚ä½†æ˜¯è¿™ä¸ªç³»ç»Ÿæ²¡æœ‰å‘è¡¨è¿‡è®ºæ–‡ã€‚åªæ˜¯å…¶ä½œè€…ï¼ˆåšå£«Uri Lernerå’Œå·¥ç¨‹å¸ˆMike Yarï¼‰åœ¨2002å¹´åœ¨æ¹¾åŒºä¸¾åŠçš„å‡ æ¬¡å°è§„æ¨¡äº¤æµä¸­ç®€è¦ä»‹ç»è¿‡ã€‚æ‰€ä»¥Kevin MurphyæŠŠè¿™äº›å†…å®¹å†™è¿›äº†ä»–çš„ä¹¦ã€ŠMachine Learning: a Probabilitic Perspecitveã€‹é‡Œã€‚åœ¨å´å†›åšå£«çš„ã€Šæ•°å­¦ä¹‹ç¾ã€‹é‡Œä¹Ÿæåˆ°äº†Rephilã€‚&lt;/p&gt;
&lt;p&gt;Rephilçš„æ¨¡å‹æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹ï¼Œæ›´åƒä¸€ä¸ªç¥ç»å…ƒç½‘ç»œã€‚è¿™ä¸ªç½‘ç»œçš„å­¦ä¹ è¿‡ç¨‹ä»Web scaleçš„æ–‡æœ¬æ•°æ®ä¸­å½’çº³æµ·é‡çš„è¯­ä¹‰â€”â€”æ¯”å¦‚â€œappleâ€è¿™ä¸ªè¯æœ‰å¤šä¸ªæ„æ€ï¼šä¸€ä¸ªå…¬å¸çš„åå­—ã€ä¸€ç§æ°´æœã€ä»¥åŠå…¶ä»–ã€‚å½“ä¸€ä¸ªç½‘é¡µé‡ŒåŒ…å«â€appleâ€, â€œstockâ€, â€œipadâ€ç­‰è¯æ±‡çš„æ—¶å€™ï¼ŒRephilå¯ä»¥å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªç½‘é¡µæ˜¯å…³äºappleè¿™ä¸ªå…¬å¸çš„ï¼Œè€Œä¸æ˜¯æ°´æœã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåŠŸèƒ½æŒ‰è¯´pLSAå’ŒLDAä¹Ÿéƒ½èƒ½å®ç°ã€‚ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹å‘¢ï¼Ÿ ä»2007å¹´è‡³ä»Šï¼Œå›½å†…å¤–å¾ˆå¤šå›¢é˜Ÿéƒ½å°è¯•è¿‡å¹¶è¡ŒåŒ–pLSAå’ŒLDAã€‚å¿ƒçµæ‰‹å·§çš„å·¥ç¨‹å¸ˆä»¬ï¼ŒæˆåŠŸçš„å¼€å‘å‡ºèƒ½å­¦ä¹ æ•°ä¸‡ç”šè‡³ä¸Šåä¸‡è¯­ä¹‰ï¼ˆlatent topicsï¼‰çš„è®­ç»ƒç³»ç»Ÿã€‚ä½†æ˜¯ä¸ç®¡å¤§å®¶ç”¨ä»€ä¹ˆè®­ç»ƒæ•°æ®ï¼Œéƒ½ä¼šå‘ç°ï¼Œå¾—åˆ°çš„å¤§éƒ¨åˆ†è¯­ä¹‰ï¼ˆç›¸å…³çš„è¯çš„èšç±»ï¼‰éƒ½æ˜¯éå¸¸ç±»ä¼¼ï¼Œæˆ–è€…è¯´â€œé‡å¤â€çš„ã€‚å¦‚æœåšä¸€ä¸ªâ€œå»é‡â€å¤„ç†ï¼Œå‡ ä¸‡ç”šè‡³åä¸‡çš„è¯­ä¹‰ï¼Œå°±åªå‰©ä¸‹å‡ ç™¾å‡ åƒäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>Google Rephilæ˜¯Google AdSenseèƒŒåå¹¿å‘Šç›¸å…³æ€§è®¡ç®—çš„å¤´å·ç§˜å¯†æ­¦å™¨ã€‚ä½†æ˜¯è¿™ä¸ªç³»ç»Ÿæ²¡æœ‰å‘è¡¨è¿‡è®ºæ–‡ã€‚åªæ˜¯å…¶ä½œè€…ï¼ˆåšå£«Uri Lernerå’Œå·¥ç¨‹å¸ˆMike Yarï¼‰åœ¨2002å¹´åœ¨æ¹¾åŒºä¸¾åŠçš„å‡ æ¬¡å°è§„æ¨¡äº¤æµä¸­ç®€è¦ä»‹ç»è¿‡ã€‚æ‰€ä»¥Kevin MurphyæŠŠè¿™äº›å†…å®¹å†™è¿›äº†ä»–çš„ä¹¦ã€ŠMachine Learning: a Probabilitic Perspecitveã€‹é‡Œã€‚åœ¨å´å†›åšå£«çš„ã€Šæ•°å­¦ä¹‹ç¾ã€‹é‡Œä¹Ÿæåˆ°äº†Rephilã€‚</p><p>Rephilçš„æ¨¡å‹æ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹ï¼Œæ›´åƒä¸€ä¸ªç¥ç»å…ƒç½‘ç»œã€‚è¿™ä¸ªç½‘ç»œçš„å­¦ä¹ è¿‡ç¨‹ä»Web scaleçš„æ–‡æœ¬æ•°æ®ä¸­å½’çº³æµ·é‡çš„è¯­ä¹‰â€”â€”æ¯”å¦‚â€œappleâ€è¿™ä¸ªè¯æœ‰å¤šä¸ªæ„æ€ï¼šä¸€ä¸ªå…¬å¸çš„åå­—ã€ä¸€ç§æ°´æœã€ä»¥åŠå…¶ä»–ã€‚å½“ä¸€ä¸ªç½‘é¡µé‡ŒåŒ…å«â€appleâ€, â€œstockâ€, â€œipadâ€ç­‰è¯æ±‡çš„æ—¶å€™ï¼ŒRephilå¯ä»¥å‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªç½‘é¡µæ˜¯å…³äºappleè¿™ä¸ªå…¬å¸çš„ï¼Œè€Œä¸æ˜¯æ°´æœã€‚</p><p>è¿™ä¸ªåŠŸèƒ½æŒ‰è¯´pLSAå’ŒLDAä¹Ÿéƒ½èƒ½å®ç°ã€‚ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ªå…¨æ–°çš„æ¨¡å‹å‘¢ï¼Ÿ ä»2007å¹´è‡³ä»Šï¼Œå›½å†…å¤–å¾ˆå¤šå›¢é˜Ÿéƒ½å°è¯•è¿‡å¹¶è¡ŒåŒ–pLSAå’ŒLDAã€‚å¿ƒçµæ‰‹å·§çš„å·¥ç¨‹å¸ˆä»¬ï¼ŒæˆåŠŸçš„å¼€å‘å‡ºèƒ½å­¦ä¹ æ•°ä¸‡ç”šè‡³ä¸Šåä¸‡è¯­ä¹‰ï¼ˆlatent topicsï¼‰çš„è®­ç»ƒç³»ç»Ÿã€‚ä½†æ˜¯ä¸ç®¡å¤§å®¶ç”¨ä»€ä¹ˆè®­ç»ƒæ•°æ®ï¼Œéƒ½ä¼šå‘ç°ï¼Œå¾—åˆ°çš„å¤§éƒ¨åˆ†è¯­ä¹‰ï¼ˆç›¸å…³çš„è¯çš„èšç±»ï¼‰éƒ½æ˜¯éå¸¸ç±»ä¼¼ï¼Œæˆ–è€…è¯´â€œé‡å¤â€çš„ã€‚å¦‚æœåšä¸€ä¸ªâ€œå»é‡â€å¤„ç†ï¼Œå‡ ä¸‡ç”šè‡³åä¸‡çš„è¯­ä¹‰ï¼Œå°±åªå‰©ä¸‹å‡ ç™¾å‡ åƒäº†ã€‚</p><p>è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</p><span id="more"></span><p>å¦‚æœå¤§å®¶å°è¯•ç€æŠŠè®­ç»ƒè¯­æ–™ä¸­çš„ä½é¢‘è¯å»æ‰ï¼Œä¼šå‘ç°è®­ç»ƒå¾—åˆ°çš„è¯­ä¹‰å’Œç”¨å…¨é‡æ•°æ®è®­ç»ƒå¾—åˆ°çš„å·®ä¸å¤šã€‚æ¢å¥è¯è¯´ï¼ŒpLSAå’ŒLDAæ¨¡å‹çš„è®­ç»ƒç®—æ³•æ²¡æœ‰åœ¨æ„ä½é¢‘æ•°æ®ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿå› ä¸ºpLSAå’ŒLDAè¿™ç±»æ¦‚ç‡æ¨¡å‹çš„ä¸»è¦æ„é€ å•å…ƒéƒ½æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒï¼ˆexponential familyï¼‰ã€‚æ¯”å¦‚pLSAå‡è®¾ä¸€ä¸ªæ–‡æ¡£ä¸­çš„è¯­ä¹‰çš„åˆ†å¸ƒæ˜¯multinomialçš„ï¼Œæ¯ä¸ªè¯­ä¹‰ä¸­çš„è¯çš„åˆ†å¸ƒä¹Ÿæ˜¯multinomialçš„ã€‚å› ä¸ºmultinomialæ˜¯ä¸€ç§å…¸å‹çš„æŒ‡æ•°æ—åˆ†å¸ƒï¼Œè¿™æ ·æ•´ä¸ªæ¨¡å‹æè¿°çš„æµ·é‡æ•°æ®çš„åˆ†å¸ƒï¼Œä¸ç®¡å“ªä¸ªç»´åº¦ä¸Šçš„marginalizationï¼Œéƒ½æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒã€‚åœ¨LDAä¸­ä¹Ÿç±»ä¼¼â€”â€”å› ä¸ºLDAå‡è®¾å„ä¸ªæ–‡æ¡£ä¸­çš„è¯­ä¹‰åˆ†å¸ƒçš„multinomial distributionsçš„å‚æ•°æ˜¯ç¬¦åˆDirichletåˆ†å¸ƒçš„ï¼Œå¹¶ä¸”å„ä¸ªè¯­ä¹‰ä¸­çš„è¯çš„åˆ†å¸ƒçš„multinomial distributionsçš„å‚æ•°ä¹Ÿæ˜¯ç¬¦åˆDirichletåˆ†å¸ƒçš„ï¼Œè¿™æ ·æ•´ä¸ªæ¨¡å‹æ˜¯å‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ã€‚</p><p>å¯æ˜¯Internetä¸Šçš„å®é™…æ•°æ®åŸºæœ¬éƒ½ä¸æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„â€”â€”è€Œæ˜¯é•¿å°¾åˆ†å¸ƒçš„ã€‚è‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿå¯ä»¥å‚è§2006å¹´çº½çº¦æ—¶æŠ¥æ’åç•…é”€ä¹¦The Long Tail: Why the Future of Business is Selling Less of Moreã€‚æˆ–è€…çœ‹çœ‹å…¶ä½œè€…Chris Andersonçš„åšå®¢<a href="http://www.thelongtail.com/">The Long Tail</a>ã€‚</p><p>é•¿å°¾åˆ†å¸ƒçš„å½¢çŠ¶å¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/images/2016/06/conceptual.jpg"></p><p>å…¶ä¸­xè½´è¡¨ç¤ºæ•°æ®çš„ç±»å‹ï¼Œyè½´æ˜¯å„ç§ç±»å‹çš„é¢‘ç‡ï¼Œå°‘æ•°ç±»å‹çš„é¢‘ç‡å¾ˆé«˜ï¼ˆç§°ä¸ºå¤§å¤´ï¼Œå›¾ä¸­çº¢è‰²éƒ¨åˆ†ï¼‰ï¼Œå¤§éƒ¨åˆ†å¾ˆä½ï¼Œä½†æ˜¯å¤§äº0ï¼ˆç§°ä¸ºé•¿å°¾ï¼Œå›¾ä¸­é»„è‰²éƒ¨åˆ†ï¼‰ã€‚ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯æ–‡ç« ä¸­è¯çš„åˆ†å¸ƒï¼Œæœ‰ä¸ªå…·ä½“çš„åå­—Zipfâ€™s lawï¼Œå°±æ˜¯å…¸å‹çš„é•¿å°¾åˆ†å¸ƒã€‚è€ŒæŒ‡æ•°æ—åˆ†å¸ƒåŸºæœ¬å°±åªæœ‰å¤§å¤´éƒ¨åˆ†â€”â€”æ¢å¥è¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬å‡è®¾é•¿å°¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ï¼Œæˆ‘ä»¬å®é™…ä¸Šå°±æŠŠå°¾å·´ç»™å‰²æ‰äº†ã€‚</p><p>å‰²æ‰æ•°æ®çš„å°¾å·´â€”â€”è¿™å°±æ˜¯pLSAå’ŒLDAè¿™æ ·çš„æ¨¡å‹åšçš„â€”â€”é‚£æ¡é•¿å°¾å·´è¦†ç›–çš„å¤šç§å¤šæ ·çš„æ•°æ®ç±»å‹ï¼Œå°±æ˜¯Internetä¸Šçš„äººç”Ÿç™¾æ€ã€‚ç†è§£è¿™æ ·çš„ç™¾æ€æ˜¯å¾ˆé‡è¦çš„ã€‚æ¯”å¦‚ç™¾åº¦å’ŒGoogleä¸ºä»€ä¹ˆèƒ½å¦‚æ­¤èµšé’±ï¼Ÿå› ä¸ºäº’è”ç½‘å¹¿å‘Šæ”¶ç›Šã€‚ä¼ ç»Ÿå¹¿å‘Šè¡Œä¸šï¼Œåªæœ‰æœ‰é’±çš„å¤§ä¼ä¸šæ‰æœ‰è´¢åŠ›è”ç³»å¹¿å‘Šä»£ç†å…¬å¸ï¼Œä¸€å¸®è¥¿è£…é©å±¥çš„é«˜å¯Œå¸…èšåœ¨ä¸€èµ·è®¨è®ºï¼Œç«äº‰ç”µè§†æˆ–è€…çº¸åª’ä½“ä¸Šçš„å¹¿å‘Šæœºä¼šã€‚äº’è”ç½‘å¹¿å‘Šé‡Œï¼Œä»»ä½•äººéƒ½å¯ä»¥ç™»å½•åˆ°ä¸€ä¸ªç½‘ç«™ä¸Šå»æŠ•æ”¾å¹¿å‘Šï¼Œå³ä½¿æ¯æ—¥å¹¿å‘Šé¢„ç®—åªæœ‰å‡ åå—äººæ°‘å¸ã€‚è¿™æ ·ä¸€æ¥ï¼Œåˆ˜å¤‡è¿™æ ·ç»‡å¸­è´©å±¡çš„å°ä¸šä¸»ï¼Œä¹Ÿèƒ½æ¨é”€è‡ªå·±åšçš„å¸­å­å’Œé‹å­ã€‚è€Œæœç´¢å¼•æ“ç”¨æˆ·çš„å…´è¶£ä¹Ÿæ˜¯ç™¾èŠ±é½æ”¾çš„â€”â€”ä»äººäººçˆ±æˆ´çš„é™ˆè€å¸ˆè‹è€å¸ˆåˆ°å„ç§å°ä¼—éœ€æ±‚åŒ…æ‹¬â€œçº¢é…’æœ¨ç“œæ±¤â€ï¼ˆä¸€ç§ä¸°èƒ¸ç§˜æ–¹ï¼Œåº”è¯¥å‡ºä¸°èƒ¸å¹¿å‘Šï¼‰æˆ–è€…â€œè‹¹æœå¤§å°ºåº¦â€ï¼ˆåœ¨æœç´¢èŒƒå†°å†°ä¸»æ¼”çš„ã€Šè‹¹æœã€‹ç”µå½±å‘¢ï¼‰ã€‚æŠŠå„ç§éœ€æ±‚å’Œå„ç§å¹¿å‘Šé€šè¿‡æ™ºèƒ½æŠ€æœ¯åŒ¹é…èµ·æ¥ï¼Œå°±é…é…¿äº†äº’è”ç½‘å¹¿å‘Šçš„é©å‘½æ€§åŠ›é‡ã€‚è¿™å…¶ä¸­ï¼Œç†è§£å„ç§å°ä¼—éœ€æ±‚ã€é•¿å°¾æ„å›¾å°±éå¸¸é‡è¦äº†ã€‚</p><p>å®é™…ä¸Šï¼ŒRephilå°±æ˜¯è¿™æ ·ä¸€ä¸ªèƒ½ç†è§£ç™¾æ€çš„æ¨¡å‹ã€‚å› ä¸ºå®ƒæŠŠGoogle AdSenseçš„ç›ˆåˆ©èƒ½åŠ›å¤§å¹…æå‡ï¼Œæœ€ç»ˆè¾¾åˆ°Googleæ”¶å…¥çš„ä¸€åŠã€‚ä¸¤ä½ä½œè€…è£è·Googleçš„å¤šæ¬¡å¤§å¥–ï¼ŒåŒ…æ‹¬Foundersâ€™ Awardã€‚</p><p>è€Œåˆ‡æ‰é•¿å°¾æ˜¯ä¸€ä¸ªå¾ˆç³Ÿç³•çš„åšæ³•ã€‚å¤§å®¶è¿˜è®°å¾—å°è¯´ã€Š1984ã€‹é‡Œæœ‰è¿™æ ·ä¸€ä¸ªæƒ…èŠ‚å—ï¼Ÿè€å¤§å“¥è¦æ±‚å‘å¸ƒâ€œæ–°è¯â€â€”â€”ä¸€ç§æ–°çš„è¯­è¨€ï¼Œåˆ æ‰è‡ªç„¶è‹±è¯­ä¸­å¤§éƒ¨åˆ†è¯æ±‡ï¼Œåªç•™ä¸‹é‚£äº›ä¸»æµçš„è¯æ±‡ã€‚çœ‹çœ‹å°è¯´é‡Œçš„äººä»¬ç”Ÿæ´»çš„ä¸–ç•Œï¼Œè®©äººæµ‘èº«å‘æ¯›ï¼Œå’±ä»¬å°±èƒ½ä½“ä¼šâ€œå‰²å°¾å·´â€çš„æ¶æœäº†ã€‚æ²¡æœ‰çœ‹è¿‡ã€Š1984ã€‹çš„æœ‹å‹å¯ä»¥æƒ³è±¡ä¸€ä¸‹æ°´æœ¨é¦–é¡µä¸Šåªæœ‰â€œå…¨ç«™åå¤§â€ï¼Œè¿â€œåˆ†ç±»åå¤§â€éƒ½åˆ æ‰ä¹‹åçš„æ ·å­ã€‚</p><p>æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºä»€ä¹ˆè¿™ç±»æ¨¡å‹è¿˜è¦å‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„å‘¢ï¼Ÿâ€”â€”å®åœ¨æ˜¯ä¸å¾—å·²ã€‚æŒ‡æ•°æ—åˆ†å¸ƒæ˜¯ä¸€ç§æ•°å€¼è®¡ç®—ä¸Šéå¸¸æ–¹ä¾¿çš„æ•°å­¦å…ƒç´ ã€‚æ‹¿LDAæ¥è¯´ï¼Œå®ƒåˆ©ç”¨äº†Dirichletå’Œmultinomialä¸¤ç§åˆ†å¸ƒçš„å…±è½­æ€§ï¼Œä½¿å¾—å…¶è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹çš„å‚æ•°éƒ½è¢«ç§¯åˆ†ç»™ç§¯æ‰äº†ï¼ˆintegrated outï¼‰ã€‚è¿™æ˜¯AD-LDAè¿™æ ·çš„ad hocå¹¶è¡Œç®—æ³•â€”â€”åœ¨å…¶ä»–æ¨¡å‹ä¸Šéƒ½ä¸å¥½ä½¿çš„åšæ³•â€”â€”åœ¨LDAä¸Šå¥½ç”¨çš„åŸå› ä¹‹ä¸€ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ˜¯ä¸ºäº†è®¡ç®—æ–¹ä¾¿ï¼Œæ©è€³ç›—é“ƒåœ°å‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ã€‚</p><p>å®é™…ä¸Šï¼Œè¿™ç§æ©è€³ç›—é“ƒåœ¨æœºå™¨å­¦ä¹ é¢†åŸŸå¾ˆæ™®éã€‚æ¯”å¦‚æœ‰ä¸ªå…„å¼Ÿå¬äº†ä¸Šé¢çš„æ•…äº‹åè¯´ï¼šâ€œé‚£æˆ‘ä»¬å°±åˆ«ç”¨æ¦‚ç‡æ¨¡å‹åšè¯­ä¹‰åˆ†æäº†ï¼Œå’±ä»¬è¿˜ç”¨çŸ©é˜µåˆ†è§£å§ï¼ŸSVDåˆ†è§£æ€ä¹ˆæ ·ï¼Ÿâ€ å¾ˆä¸å¥½æ„æ€çš„ï¼Œå½“æˆ‘ä»¬æŠŠSVDåˆ†è§£ç”¨åœ¨è¯­ä¹‰åˆ†æï¼ˆç§°ä¸ºLSAï¼Œlatent semantic analysisï¼‰ä¸Šçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜æ˜¯å¼•å…¥äº†æŒ‡æ•°æ—åˆ†å¸ƒå‡è®¾â€”â€”Gaussian assumptionæˆ–è€…å«normality assumptionã€‚è¿™æ€ä¹ˆå¯èƒ½å‘¢ï¼ŸSVDä¸å°±æ˜¯ä¸ªçŸ©é˜µåˆ†è§£æ–¹æ³•å—ï¼Ÿç¡®å®ä¼ ç»ŸSVDæ²¡æœ‰å¯¹æ•°æ®åˆ†å¸ƒçš„å‡è®¾ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç”¨EMä¹‹ç±»çš„ç®—æ³•è§£å†³å­˜åœ¨missing dataçš„é—®é¢˜â€”â€”æ¯”å¦‚LSAï¼Œè¿˜æœ‰æ¨èç³»ç»Ÿé‡Œçš„ååŒè¿‡æ»¤ï¼ˆcollaborative filteringï¼‰â€”â€”è¿™æ—¶ä¸ä»…å¼•å…¥äº†Gaussian assumptionï¼Œè€Œä¸”å¼•å…¥äº†linearity assumptionã€‚å½“æˆ‘ä»¬ç”¨å…¶ä»–å¾ˆå¤šçŸ©é˜µåˆ†è§£æ–¹æ³•åšï¼Œéƒ½å­˜åœ¨åŒæ ·çš„é—®é¢˜ã€‚</p><p>æ©è€³ç›—é“ƒçš„åšæ³•æ€ä¹ˆèƒ½å­˜åœ¨å¾—å¦‚æ­¤è‡ªç„¶å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæŒ‡æ•°æ—åˆ†å¸ƒå‡è®¾ï¼ˆå°¤å…¶æ˜¯Gaussian assumptionï¼‰æœ‰è¿‡å¾ˆå¤šæˆåŠŸçš„åº”ç”¨ï¼ŒåŒ…æ‹¬é€šä¿¡ã€æ•°æ®å‹ç¼©ã€åˆ¶å¯¼ç³»ç»Ÿç­‰ã€‚è¿™äº›åº”ç”¨é‡Œï¼Œæˆ‘ä»¬å…³æ³¨çš„å°±æ˜¯æ•°æ®ä¸­çš„ä½é¢‘éƒ¨åˆ†ï¼›è€Œé«˜é¢‘éƒ¨åˆ†ï¼ˆæˆ–è€…è¯´è·ç¦»meanæ¯”è¾ƒè¿œçš„æ•°æ®ï¼‰å³ä½¿ä¸¢æ‰äº†ï¼Œç”µè¯é‡Œçš„å£°éŸ³ä¹Ÿèƒ½å¬æ‡‚ï¼Œå‹ç¼©è¿˜åŸçš„å›¾åƒä¹Ÿçœ‹å¾—æ˜ç™½ï¼Œå¯¼å¼¹ä¹Ÿè¿˜æ˜¯èƒ½æ²¿ç€â€œæœ€å¯èƒ½â€é è°±çš„è·¯çº¿é£è¡Œã€‚æˆ‘ä»¬å½“ç„¶ä¼šå‡è®¾æ•°æ®æ˜¯æŒ‡æ•°æ—åˆ†å¸ƒçš„ï¼Œè¿™æ ·ä¸ä»…çœè®¡ç®—å¼€é”€ï¼Œè€Œä¸”è‡ªç„¶çš„å¿½ç•¥é«˜é¢‘æ•°æ®ï¼Œæˆ‘ä»¬è¿˜é„™å¤·åœ°ç§°ä¹‹ä¸ºoutlieræˆ–è€…noiseã€‚</p><p>å¯æ˜¯åœ¨äº’è”ç½‘çš„ä¸–ç•Œé‡Œï¼Œæ­£æ˜¯è¿™äº›äº”èŠ±å…«é—¨çš„outlierså’Œnoiseï¼Œè•´å«äº†ä¸–é—´ç™¾æ€ï¼Œè®©æ•°æ®ä¸å¯å‹ç¼©ï¼Œä»è€Œäº§ç”Ÿäº†â€œå¤§æ•°æ®â€è¿™ä¹ˆä¸ªæ¦‚å¿µã€‚å¤„ç†å¥½å¤§æ•°æ®çš„å…¬å¸ï¼Œèµšå¾—ç›†æ»¡é’µæ»¡ï¼Œå¡‘é€ äº†ä¸€ä¸ªä¸ªä¼ å¥‡ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªå¬èµ·æ¥æ¯”è¾ƒæç«¯çš„è¯´æ³•å¤§æ•°æ®é‡Œæ— å™ªå£°â€”â€”å¾ˆå¤šä¸€å¼€å§‹é¢‘ç‡å¾ˆä½ï¼Œç›¸å½“é•¿å°¾ï¼Œä¼šè¢«è¯è¿‡æ»¤ç³»ç»Ÿè®¤ä¸ºæ˜¯æ‹¼å†™é”™è¯¯çš„queriesï¼Œéƒ½èƒ½åæ¥å±…ä¸Šæˆä¸ºä¸»æµã€‚æ¯”å¦‚â€œç¥é©¬â€ï¼Œâ€œé…±ç´«â€ã€‚</p><p>Rephilç³»ç»Ÿå®ç°çš„æ¨¡å‹æ˜¯ä¸€ä¸ªç¥ç»å…ƒç½‘ç»œæ¨¡å‹ï¼ˆneural networkï¼‰ã€‚å®ƒçš„è®¾è®¡çš„ä¸»è¦è€ƒè™‘ï¼Œå°±æ˜¯è¦èƒ½å°½é‡å¥½çš„æè¿°é•¿å°¾åˆ†å¸ƒçš„æ–‡æœ¬æ•°æ®å’Œå…¶ä¸­è•´å«çš„è¯­ä¹‰ã€‚Rephilæ¨¡å‹çš„å…·ä½“æŠ€æœ¯ç»†èŠ‚å› ä¸ºæ²¡æœ‰åœ¨è®ºæ–‡ä¸­å‘è¡¨è¿‡ï¼Œæ‰€ä»¥ä¸ä¾¿åœ¨è¿™é‡Œé€éœ²ã€‚ä½†æ˜¯Rephilæ¨¡å‹æè¿°é•¿å°¾æ•°æ®çš„èƒ½åŠ›ï¼Œæ˜¯ä¸‹æ–‡å°†è¦ä»‹ç»çš„Peacockç³»ç»Ÿçš„åŸåŠ¨åŠ›ï¼Œè™½ç„¶ä¸¤è€…åœ¨æ¨¡å‹ä¸Šå®Œå…¨ä¸åŒã€‚</p><p>Rephilç³»ç»Ÿæ˜¯åŸºäºGoogle MapReduceæ„å»ºçš„ã€‚å¦‚ä¸ŠèŠ‚æ‰€è¿°ï¼ŒMapReduceåœ¨ç”¨æ¥å®ç°è¿­ä»£ç®—æ³•çš„æ—¶å€™ï¼Œæ•ˆç‡æ˜¯æ¯”è¾ƒä½çš„ã€‚è¿™ä¹Ÿæ˜¯Peacockè¦è®¾è®¡å…¨æ–°æ¡†æ¶çš„åŸåŠ¨åŠ›â€”â€”ä½¿å…¶æ¯”MapReduceé«˜æ•ˆï¼Œä½†åŒæ—¶åƒMapReduceä¸€æ ·æ”¯æŒfault recoveryã€‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/note/">note</category>
      
      
      <category domain="http://example.com/tags/LDA/">LDA</category>
      
      
      <comments>http://example.com/2016/06/04/2016-06-04-rephil-and-mapreduce/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>note for CS224d:1</title>
      <link>http://example.com/2016/06/04/2016-06-04-note-for-cs224d-1/</link>
      <guid>http://example.com/2016/06/04/2016-06-04-note-for-cs224d-1/</guid>
      <pubDate>Sat, 04 Jun 2016 06:51:38 GMT</pubDate>
      
      <description>&lt;p&gt;æœ€è¿‘å­¦ä¹ äº†æ–¯å¦ç¦çš„&lt;a href=&quot;http://cs224d.stanford.edu/syllabus.html&quot;&gt;CS224d&lt;/a&gt;è¯¾ç¨‹ï¼Œè¯¥è¯¾ ç¨‹çš„ä¸»è¦å†…å®¹æ˜¯ç¥ç»ç½‘ç»œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸçš„åº”ç”¨ã€‚ è¿™é‡Œè®°å½•ç›¸å…³çš„å­¦ä¹ ç¬”è®°ï¼Œå¤§æ¦‚åˆ† æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šword2vecï¼Œçª—å£åˆ†ç±»ï¼Œç¥ç»ç½‘ç»œï¼Œå¾ªç¯ç¥ç»ç½‘ç»œï¼Œé€’å½’ç¥ç»ç½‘ç»œï¼Œå·ç§¯ ç¥ç»ç½‘ç»œã€‚&lt;/p&gt;
&lt;p&gt;##ä¸ºä»€ä¹ˆéœ€è¦æ·±åº¦å­¦ä¹ &lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•éƒ½æ˜¯äººä¸ºçš„è®¾è®¡ç‰¹å¾æˆ–è€…è¡¨ç¤ºï¼Œæ·±åº¦å­¦ä¹ çš„ç›®çš„æ˜¯å¸Œæœ›èƒ½å¤Ÿé€šè¿‡ç¥ç»ç½‘ç»œè®©æœºå™¨è‡ªåŠ¨å­¦ä¹ åˆ°æœ‰æ•ˆçš„ç‰¹å¾è¡¨ç¤ºï¼Œè¿™é‡Œæ‰€è¯´çš„æ·±åº¦å­¦ä¹ æ›´åå‘äºå…³æ³¨å„ç§ç±»å‹çš„ç¥ç»ç½‘ç»œã€‚æ¢ç´¢æœºå™¨å­¦ä¹ çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ æ–¹é¢ï¼š&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ€è¿‘å­¦ä¹ äº†æ–¯å¦ç¦çš„<a href="http://cs224d.stanford.edu/syllabus.html">CS224d</a>è¯¾ç¨‹ï¼Œè¯¥è¯¾ ç¨‹çš„ä¸»è¦å†…å®¹æ˜¯ç¥ç»ç½‘ç»œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸçš„åº”ç”¨ã€‚ è¿™é‡Œè®°å½•ç›¸å…³çš„å­¦ä¹ ç¬”è®°ï¼Œå¤§æ¦‚åˆ† æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼šword2vecï¼Œçª—å£åˆ†ç±»ï¼Œç¥ç»ç½‘ç»œï¼Œå¾ªç¯ç¥ç»ç½‘ç»œï¼Œé€’å½’ç¥ç»ç½‘ç»œï¼Œå·ç§¯ ç¥ç»ç½‘ç»œã€‚</p><p>##ä¸ºä»€ä¹ˆéœ€è¦æ·±åº¦å­¦ä¹ </p><p>ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•éƒ½æ˜¯äººä¸ºçš„è®¾è®¡ç‰¹å¾æˆ–è€…è¡¨ç¤ºï¼Œæ·±åº¦å­¦ä¹ çš„ç›®çš„æ˜¯å¸Œæœ›èƒ½å¤Ÿé€šè¿‡ç¥ç»ç½‘ç»œè®©æœºå™¨è‡ªåŠ¨å­¦ä¹ åˆ°æœ‰æ•ˆçš„ç‰¹å¾è¡¨ç¤ºï¼Œè¿™é‡Œæ‰€è¯´çš„æ·±åº¦å­¦ä¹ æ›´åå‘äºå…³æ³¨å„ç§ç±»å‹çš„ç¥ç»ç½‘ç»œã€‚æ¢ç´¢æœºå™¨å­¦ä¹ çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p><span id="more"></span><ul><li>äººå·¥è®¾è®¡çš„ç‰¹å¾å¸¸å¸¸å®šä¹‰è¿‡å¤šï¼Œä¸å®Œæ•´å¹¶ä¸”éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å»è®¾è®¡å’ŒéªŒè¯</li><li>è‡ªåŠ¨å­¦ä¹ çš„ç‰¹å¾å®¹æ˜“è‡ªé€‚åº”ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå¿«çš„å­¦ä¹ </li><li>æ·±åº¦å­¦ä¹ æä¾›äº†ä¸€ä¸ªå¼¹æ€§çš„ï¼Œé€šç”¨çš„å­¦ä¹ æ¡†æ¶ç”¨æ¥è¡¨å¾è‡ªç„¶çš„ï¼Œè§†è§‰çš„å’Œè¯­è¨€çš„ä¿¡æ¯ã€‚</li><li>æ·±åº¦å­¦ä¹ å¯ä»¥ç”¨æ¥å­¦ä¹ éç›‘ç£çš„ï¼ˆæ¥è‡ªäºç”Ÿæ–‡æœ¬ï¼‰å’Œæœ‰ç›‘ç£çš„ï¼ˆå¸¦æœ‰ç‰¹åˆ«æ ‡è®°çš„æ–‡æœ¬ï¼Œä¾‹å¦‚æ­£å‘å’Œè´Ÿå‘æ ‡è®°ï¼‰</li></ul><p>åœ¨2006å¹´æ·±åº¦å­¦ä¹ æŠ€æœ¯å¼€å§‹åœ¨ä¸€äº›ä»»åŠ¡ä¸­è¡¨ç°å‡ºä¼—ï¼Œä¸ºä»€ä¹ˆç°åœ¨æ‰çƒ­èµ·æ¥ï¼Ÿ</p><ul><li>æ·±åº¦å­¦ä¹ æŠ€æœ¯å—ç›Šäºè¶Šæ¥è¶Šå¤šçš„æ•°æ®</li><li>æ›´å¿«çš„æœºå™¨ä¸æ›´å¤šæ ¸CPU/GPUå¯¹æ·±åº¦å­¦ä¹ çš„æ™®åŠèµ·äº†å¾ˆå¤§çš„ä¿ƒè¿›ä½œç”¨</li><li>æ–°çš„æ¨¡å‹ï¼Œç®—æ³•å’Œideaå±‚å‡ºä¸ç©·</li><li>é€šè¿‡æ·±åº¦å­¦ä¹ æŠ€æœ¯æå‡æ•ˆæœé¦–å…ˆå‘ç”Ÿåœ¨è¯­éŸ³è¯†åˆ«å’Œæœºå™¨è§†è§‰é¢†åŸŸï¼Œç„¶åå¼€å§‹è¿‡æ¸¡åˆ°NLPé¢†åŸŸ</li></ul><p>æ·±åº¦å­¦ä¹ åœ¨æ‰€æœ‰çš„NLPå±‚æ¬¡ï¼ˆéŸ³ç´ ã€å½¢æ€å­¦ã€å¥æ³•ã€è¯­ä¹‰ï¼‰éƒ½å¾—åˆ°äº†åº”ç”¨ï¼Œè€Œæ‰€æœ‰çš„NLPå±‚æ¬¡çš„è¡¨ç¤ºéƒ½æ¶‰åŠåˆ°å‘é‡ï¼ˆVectorsï¼‰ï¼Œä¸‹é¢ä¸»è¦è®²å¦‚ä½•ç”¨å‘é‡æ¥è¡¨ç¤ºè¯ã€‚</p><p>##è¯å‘é‡</p><p>###è¯­ä¹‰è¯å…¸</p><p>æˆ‘ä»¬è¦å¦‚ä½•è¡¨ç¤ºä¸€ä¸ªè¯çš„æ„æ€å‘¢ï¼Ÿå¸¸è¯†ä¸Šï¼Œåœ¨è¯å…¸ä¸­æˆ‘ä»¬é€šè¿‡æ›´åŠ ç®€å•å¸¸ç”¨çš„è¯æ¥æ„æˆä¾‹å¥æ¥è§£é‡Šä¸€ä¸ªè¯çš„æ„æ€ã€‚é‚£åœ¨è®¡ç®—æœºä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨<a href="http://wordnet.princeton.edu/">Wordnet</a>æ¥è¡¨ç¤ºè¯ä¹‰ï¼š</p><p>![](/images/2016/06/Screenshot from 2016-06-01 20-44-21.png)</p><p>ä½†è¯­ä¹‰è¯å…¸å­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š</p><ul><li>è¯­ä¹‰è¯å…¸èµ„æºå¾ˆæ£’ä½†æ˜¯å¯èƒ½åœ¨ä¸€äº›ç»†å¾®ä¹‹å¤„æœ‰ç¼ºå¤±ï¼Œä¾‹å¦‚è¿™äº›åŒä¹‰è¯å‡†ç¡®å—ï¼šadept, expert, good, practiced, proficient,skillful?</li><li>ä¼šé”™è¿‡ä¸€äº›æ–°è¯ï¼Œå‡ ä¹ä¸å¯èƒ½åšåˆ°åŠæ—¶æ›´æ–°: wicked, badass, nifty, crack, ace, wizard, genius, ninjia</li><li>æœ‰ä¸€å®šçš„ä¸»è§‚å€¾å‘</li><li>éœ€è¦å¤§é‡çš„äººåŠ›ç‰©åŠ›</li><li>å¾ˆéš¾ç”¨æ¥è®¡ç®—ä¸¤ä¸ªè¯è¯­çš„ç›¸ä¼¼åº¦</li></ul><p>###One-hot Representation<br>é¦–å…ˆæˆ‘ä»¬æŠŠè¯è¡¨ä¸­çš„è¯ä»$$0åˆ°|V|âˆ’1$$è¿›è¡Œç¼–å·ï¼Œont-hotå‘é‡æŠŠæ¯ä¸ªè¯è¡¨ç¤ºæˆä¸€ä¸ª$$|V|$$ç»´ ï¼ˆè¯è¡¨å¤§å°ä¸º$$|V|$$ï¼‰çš„å‘é‡ï¼Œè¯¥å‘é‡åªæœ‰ç‰¹å®šè¯çš„ç¼–å·å¯¹åº”çš„ä½ç½®ä¸º1ï¼Œå…¶ä»–ä½ç½®å…¨éƒ¨ä¸º0 ã€‚è¿™ç§æ–¹æ³•æŠŠæ¯ä¸ªè¯è¡¨ç¤ºæˆç‹¬ç«‹çš„ä¸ªä½“ï¼Œæ— æ³•é€šè¿‡one-hotå‘é‡ç›´æ¥è¡¨ç¤ºå‡ºè¯ä¹‹é—´çš„å…³ç³»ã€‚è§£å†³æ–¹æ³•æ˜¯é€šè¿‡ä¸€ä¸ªè¯çš„ä¸Šä¸‹æ–‡æ¥è¡¨ç¤ºä¸€ä¸ªè¯ã€‚ ä¾‹å¦‚,æ¯”å¦‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/note/">note</category>
      
      
      <category domain="http://example.com/tags/NLP/">NLP</category>
      
      <category domain="http://example.com/tags/Deep-Learning/">Deep Learning</category>
      
      
      <comments>http://example.com/2016/06/04/2016-06-04-note-for-cs224d-1/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>char-rnn-chinese</title>
      <link>http://example.com/2016/05/26/2016-05-26-char-rnn-chinese/</link>
      <guid>http://example.com/2016/05/26/2016-05-26-char-rnn-chinese/</guid>
      <pubDate>Thu, 26 May 2016 07:37:32 GMT</pubDate>
      
      <description>&lt;p&gt;æœ¬æ–‡ä¸»è¦æ ¹æ®&lt;a href=&quot;https://github.com/zhangzibin/char-rnn-chinese&quot;&gt;Multi-layer Recurrent Neural Networks (LSTM, GRU, RNN) for character-level language models in Torch&lt;/a&gt;çš„å†…å®¹æ¥è¿›è¡Œè¯•éªŒã€‚&lt;/p&gt;
&lt;p&gt;#å‡†å¤‡å·¥ä½œ&lt;/p&gt;
&lt;p&gt;æ ¹æ®åŸæ–‡â€œThis code is written in Lua and requires Torch. Additionally, you need to install the nngraph and optim packages using LuaRocksâ€ï¼Œå®‰è£…ä»¥ä¸‹ä¾èµ–ã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>æœ¬æ–‡ä¸»è¦æ ¹æ®<a href="https://github.com/zhangzibin/char-rnn-chinese">Multi-layer Recurrent Neural Networks (LSTM, GRU, RNN) for character-level language models in Torch</a>çš„å†…å®¹æ¥è¿›è¡Œè¯•éªŒã€‚</p><p>#å‡†å¤‡å·¥ä½œ</p><p>æ ¹æ®åŸæ–‡â€œThis code is written in Lua and requires Torch. Additionally, you need to install the nngraph and optim packages using LuaRocksâ€ï¼Œå®‰è£…ä»¥ä¸‹ä¾èµ–ã€‚</p><span id="more"></span><p>##å®‰è£…Torch</p><p>ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤å®‰è£…Torch</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd ~/</span><br><span class="line">curl -s https://raw.githubusercontent.com/torch/ezinstall/master/install-deps | bash</span><br><span class="line">git clone https://github.com/torch/distro.git ~/torch --recursive</span><br><span class="line">cd ~/torch; ./install.sh</span><br></pre></td></tr></table></figure><p>å†ç”¨å¦‚ä¸‹å‘½ä»¤æ›´æ–°ï¼š<br><code>source ~/.bashrc</code></p><p>å‡ºç°å¦‚ä¸‹ç”»é¢ï¼Œä»£è¡¨Torchå·²ç»è£…å¥½ï¼</p><p>![](/images/2016/05/Screenshot from 2016-05-26 19-51-17.png)</p><p>##å®‰è£…lua<br><code>sudo apt-get install lua5.2</code></p><p>##å®‰è£…å…¶ä»–ä¾èµ–</p><p>ä½¿ç”¨<code>LuaRocks</code>æ¥å®‰è£…<code>nngraph</code>å’Œ<code>optim</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">luarocks install nngraph</span><br><span class="line">luarocks install optim</span><br></pre></td></tr></table></figure><p>é¦–å…ˆå®‰è£…<a href="https://luarocks.org/"><code>LuaRocks</code></a><br>å®‰è£…æ—¶åœ¨<code>config</code>éƒ¨åˆ†é‡åˆ°é—®é¢˜ï¼Œå‚è€ƒ<a href="https://segmentfault.com/a/1190000003920034">å®‰è£…Luarocks</a>å’Œ<a href="http://www.2cto.com/os/201506/412629.html">linuxä¸‹luaå¼€å‘ç¯å¢ƒå®‰è£…</a><br>è¿™æ—¶å¯èƒ½é‡åˆ°å®‰è£…äº†<code>lua</code>ä½†æ˜¯å´æç¤ºæ— æ³•æ‰¾åˆ°<code>lua.h</code>å¯èƒ½æ˜¯å› ä¸ºè¿˜éœ€è¦å®‰è£…<code>liblua5.1-0-dev</code>çš„ç¼˜æ•…ã€‚<br><del>ä½¿ç”¨<code>apt-get</code>å®‰è£…luarocksååœ¨å®‰è£…<code>nngraph</code>æ—¶æŠ¥é”™ï¼Œéœ€è¦è§£å†³</del></p><p>==å…¶å®ä½¿ç”¨<code>torch</code>å†…è‡ªå¸¦çš„<code>luarocks</code>å®‰è£…å³å¯==ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~/torch/install/bin/luarocks install</span><br></pre></td></tr></table></figure><p>å› ä¸ºæœ¬æœºåªæœ‰è‹±ç‰¹å°”æ ¸æ˜¾ï¼Œæ‰€ä»¥åªæ‰“ç®—ç”¨CPUè®¡ç®—ï¼Œå°±ä¸å®‰è£…<code>CUDA</code>äº†ã€‚</p><p>#å¼€å§‹å®éªŒ</p><h2 id="karpathyçš„exampleå®éªŒ-cpuç‰ˆæœ¬"><a href="#karpathyçš„exampleå®éªŒ-cpuç‰ˆæœ¬" class="headerlink" title="karpathyçš„exampleå®éªŒ-cpuç‰ˆæœ¬"></a>karpathyçš„exampleå®éªŒ-cpuç‰ˆæœ¬</h2><p>###trainingè¿‡ç¨‹</p><p>ä½¿ç”¨<code>th train.lua --help</code>æŸ¥çœ‹ä¸€ä¸‹å„å‚æ•°çš„ä½œç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Options</span><br><span class="line">  -data_dir                  data directory. Should contain the file input.txt with input data [data/tinyshakespeare] è®­ç»ƒè¯­æ–™</span><br><span class="line">  -min_freq                  min frequent of character [0]</span><br><span class="line">  -rnn_size                  size of LSTM internal state [128]</span><br><span class="line">  -num_layers                number of layers in the LSTM [2]</span><br><span class="line">  -model                     for now only lstm is supported. keep fixed [lstm]</span><br><span class="line">  -learning_rate             learning rate [0.002]</span><br><span class="line">  -learning_rate_decay       learning rate decay [0.97]</span><br><span class="line">  -learning_rate_decay_after in number of epochs, when to start decaying the learning rate [10]</span><br><span class="line">  -decay_rate                decay rate for rmsprop [0.95]</span><br><span class="line">  -dropout                   dropout for regularization, used after each RNN hidden layer. 0 = no dropout [0]</span><br><span class="line">  -seq_length                number of timesteps to unroll for [50]</span><br><span class="line">  -batch_size                number of sequences to train on in parallel [50]</span><br><span class="line">  -max_epochs                number of full passes through the training data [50]</span><br><span class="line">  -grad_clip                 clip gradients at this value [5]</span><br><span class="line">  -train_frac                fraction of data that goes into train set [0.95]</span><br><span class="line">  -val_frac                  fraction of data that goes into validation set [0.05]</span><br><span class="line">  -init_from                 initialize network parameters from checkpoint at this path []</span><br><span class="line">  -seed                      torch manual random number generator seed [123]</span><br><span class="line">  -print_every               how many steps/minibatches between printing out the loss [1]</span><br><span class="line">  -eval_val_every            every how many iterations should we evaluate on validation data? [2000]</span><br><span class="line">  -checkpoint_dir            output directory where checkpoints get written [cv]</span><br><span class="line">  -savefile                  filename to autosave the checkpont to. Will be inside checkpoint_dir/ [lstm]</span><br><span class="line">  -accurate_gpu_timing       set this flag to 1 to get precise timings when using GPU. Might make code bit slower but reports accurate timings. [0]</span><br><span class="line">  -gpuid                     which gpu to use. -1 = use CPU [0]</span><br><span class="line">  -opencl                    use OpenCL (instead of CUDA) [0]</span><br><span class="line">  -use_ss                    whether use scheduled sampling during training [1]</span><br><span class="line">  -start_ss                  start amount of truth data to be given to the model when using ss [1]</span><br><span class="line">  -decay_ss                  ss amount decay rate of each epoch [0.005]</span><br><span class="line">  -min_ss                    minimum amount of truth data to be given to the model when using ss [0.9]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æŒ‰ç…§Githubä¸Šçš„è¯´æ˜è¿›è¡Œå®éªŒï¼Œä½¿ç”¨åŸæ–‡ä»¶å¤¹é‡Œçš„è¯­æ–™ï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">th train.lua -data_dir data/tinyshakespeare/shakespeare_input.txt -gpuid -1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Â th train.lua -data_dir data/tinyshakespeare/shakespeare_input.txt -gpuid -1</span><br><span class="line">vocab.t7 and data.t7 do not exist. Running preprocessing...</span><br><span class="line">one-time setup: preprocessing input text file data/tinyshakespeare/shakespeare_input.txt/input.txt...</span><br><span class="line">loading text file...</span><br><span class="line">/home/frank/torch/install/bin/luajit: cannot open &lt;data/tinyshakespeare/shakespeare_input.txt/input.txt&gt; in mode r  at /home/frank/torch/pkg/torch/lib/TH/THDiskFile.c:649</span><br><span class="line">stack traceback:</span><br><span class="line">[C]: at 0x7f9c42473540</span><br><span class="line">[C]: in function &#x27;DiskFile&#x27;</span><br><span class="line">./util/CharSplitLMMinibatchLoader.lua:201: in function &#x27;text_to_tensor&#x27;</span><br><span class="line">./util/CharSplitLMMinibatchLoader.lua:38: in function &#x27;create&#x27;</span><br><span class="line">train.lua:118: in main chunk</span><br><span class="line">[C]: in function &#x27;dofile&#x27;</span><br><span class="line">...rank/torch/install/lib/luarocks/rocks/trepl/scm-1/bin/th:145: in main chunk</span><br><span class="line">[C]: at 0x00405d70</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå‡ºç°äº†é—®é¢˜ï¼Œå› ä¸ºæœ¬æ–‡æ˜¯ä¸­å›½ä½œè€…æŒ‰ç…§åŸ<a href="https://github.com/karpathy/char-rnn">karpathyçš„char-rnn</a>æ”¹å†™çš„ï¼Œæˆ‘è®¤ä¸ºæˆ–è®¸ä½¿ç”¨karpathyä½œè€…çš„åŸç‰ˆæœ¬æ•™ç¨‹å¯èƒ½ä¼šæ›´åŠ æ–¹ä¾¿ä¸€äº›ã€‚äºæ˜¯ä½¿ç”¨<em>As a sanity check</em>ï¼Œè¿è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">th train.lua -gpuid -1</span><br></pre></td></tr></table></figure><p>è¿™æŒ‡çš„æ˜¯ä½¿ç”¨CPUå¹¶ä¸æŒ‡å®šä»»ä½•å‚æ•°æ¥è®­ç»ƒexampleã€‚</p><p>15:42å¼€å§‹è®­ç»ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Â th train.lua -gpuid -1</span><br><span class="line">loading data files...</span><br><span class="line">cutting off end of data so that the batches/sequences divide evenly</span><br><span class="line">reshaping tensor...</span><br><span class="line">data load done. Number of data batches in train: 423, val: 23, test: 0</span><br><span class="line">vocab size: 65</span><br><span class="line">creating an LSTM with 2 layers</span><br><span class="line">setting forget gate biases to 1 in LSTM layer 1</span><br><span class="line">setting forget gate biases to 1 in LSTM layer 2</span><br><span class="line">number of parameters in the model: 240321</span><br><span class="line">cloning rnn</span><br><span class="line">cloning criterion</span><br><span class="line">1/21150 (epoch 0.002), train_loss = 4.19803724, grad/param norm = 5.1721e-01, time/batch = 2.3129s</span><br><span class="line">2/21150 (epoch 0.005), train_loss = 3.93712133, grad/param norm = 1.4679e+00, time/batch = 2.3114s</span><br><span class="line">3/21150 (epoch 0.007), train_loss = 3.43764434, grad/param norm = 9.5800e-01, time/batch = 2.3022s</span><br><span class="line">4/21150 (epoch 0.009), train_loss = 3.41313742, grad/param norm = 7.5143e-01, time/batch = 2.5311s</span><br><span class="line">5/21150 (epoch 0.012), train_loss = 3.33707270, grad/param norm = 6.9269e-01, time/batch = 2.4913s</span><br></pre></td></tr></table></figure><p>åˆ°ç¬¬300æ¬¡è¿­ä»£åï¼Œ<code>time/batch</code>ç¨³å®šåœ¨2.3så·¦å³ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨GPUè®­ç»ƒè¿™ä¸ª1Mbçš„exampleï¼Œéœ€è¦çº¦14å°æ—¶ï¼<br>æ¬¡æ—¥08:24è®­ç»ƒå®Œæ¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">21148/21150 (epoch 49.995), train_loss = 1.53254314, grad/param norm = 5.9157e-02, time/batch = 2.8658s</span><br><span class="line">21149/21150 (epoch 49.998), train_loss = 1.50882624, grad/param norm = 5.7123e-02, time/batch = 2.8737s</span><br><span class="line">decayed learning rate by a factor 0.97 to 0.00057368183755432</span><br><span class="line">evaluating loss over split index 2</span><br><span class="line">saving checkpoint to cv/lm_lstm_epoch50.00_1.3568.t7</span><br><span class="line">21150/21150 (epoch 50.000), train_loss = 1.46142484, grad/param norm = 5.9032e-02, time/batch = 2.8834s</span><br></pre></td></tr></table></figure><p>###Sampleè¿‡ç¨‹<br>æŸ¥çœ‹<code>help</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">th sample.lua --help</span><br><span class="line">Usage: /home/frank/torch/install/lib/luarocks/rocks/trepl/scm-1/bin/th [options] &lt;model&gt;</span><br><span class="line"></span><br><span class="line">Sample from a character-level language model</span><br><span class="line"></span><br><span class="line">Options</span><br><span class="line">  &lt;model&gt;      model checkpoint to use for sampling</span><br><span class="line">  -seed        random number generator&#x27;s seed [123]</span><br><span class="line">  -sample       0 to use max at each timestep, 1 to sample at each timestep [1]</span><br><span class="line">  -primetext   used as a prompt to &quot;seed&quot; the state of the LSTM using a given sequence, before we sample. []</span><br><span class="line">  -length      max number of characters to sample [2000] é‡‡æ ·å­—ç¬¦å¤§å°ï¼Œæœ€å¤§2000</span><br><span class="line">  -temperature temperature of sampling [1]</span><br><span class="line">  -gpuid       which gpu to use. -1 = use CPU [0] å’Œè®­ç»ƒæ—¶è®¾ç½®åº”è¯¥ä¿æŒä¸€è‡´</span><br><span class="line">  -verbose     set to 0 to ONLY print the sampled text, no diagnostics [1]</span><br><span class="line">  -stop        stop sampling when detected [</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…ˆè¯•è¿è¡Œä¸€ä¸‹<br><code>th sample.lua cv/lm_lstm_epoch50.00_1.3568.t7 -gpuid -1 </code><br>ç”Ÿæˆäº†å¦‚ä¸‹è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">giff,</span><br><span class="line">Some sweet amends, aasher, had therein, not he had wot on</span><br><span class="line">man&#x27;s friends, for her own blow: for my men&#x27;s</span><br><span class="line">ackingly knight, it cannot hear upon yield.</span><br><span class="line"></span><br><span class="line">GLOUCESTER:</span><br><span class="line">How now again?</span><br><span class="line">i</span><br><span class="line">March, that&#x27;s my arm determitness,</span><br><span class="line">The temper of the vrowal; ere from the grove</span><br><span class="line">Tut wilh &#x27;goom&#x27;d Carulea.</span><br><span class="line">&#x27;Mwailich, tne shy had lost in When Ied the way</span><br><span class="line">The bower to a late his body, grim on you:</span><br><span class="line">His opicious shames a booy, infairs,&#x27;</span><br><span class="line">From her, I tell you, ay, as we mean him</span><br><span class="line">Dear &#x27;tis a giving o&#x27; thur back&#x27;s empass&#x27;d,</span><br><span class="line">That nrost, I&#x27;ll havk him cume thee for &#x27;t.</span><br><span class="line"></span><br><span class="line">LAONTES:</span><br><span class="line">&#x27;Twi&#x27;l love thy sronowing.</span><br><span class="line"></span><br><span class="line">VALYRAN:</span><br><span class="line">Beord mocdoch him for thy follight</span><br><span class="line">snn</span><br><span class="line">hours,</span><br><span class="line">But thank yours lodkes, my good journeding,</span><br><span class="line">His jealousisposour thee are both abomish</span><br><span class="line">That noom that&#x27;s easembelland. Camest, sir, more</span><br><span class="line">kia; one, in this highty be the un</span><br><span class="line">Since of a gournor on thy friendshall swow</span><br><span class="line">Some painon; and I, and lord, the  at the kins</span><br><span class="line">Wise rit hable surliments. Shd, believh gone.</span><br><span class="line"></span><br><span class="line">voisted tleace:</span><br><span class="line">Tock him what all you di turn up to celent</span><br><span class="line">To my sistinge. Frranch, good night, your child, so fatus;</span><br><span class="line">Aor he shall be my trueking:</span><br><span class="line">Come on my quarrel of the way:</span><br><span class="line">Methinks the letters; for this ctome-steers</span><br><span class="line">Tad mousd my smodered pouncy to</span><br><span class="line">haw up another sense tlays underttry</span><br><span class="line">Tut bonscuration fair all purpose,</span><br><span class="line">then be vesegt me: do not, yet rustle cannot,</span><br><span class="line">But for thy mustered a dust, let me</span><br><span class="line">Tncerfact me tresmer of his father:</span><br><span class="line">therefore by hanging,</span><br><span class="line">ANd</span><br><span class="line">Ays, my lord: you do here in coumisant.</span><br><span class="line"></span><br><span class="line">LORD:</span><br><span class="line">How lond the brown!</span><br><span class="line">So majp me; bonch, smmily  lovely blotters,</span><br><span class="line">When Ie my hoeaty threat and virlume these things,</span><br><span class="line">Make fasting garlands dfar the sack&#x27;d my servictught</span><br><span class="line">Not knows the crowns: one air, Aumerle,</span><br><span class="line">Ere wear not so nour Bidagle? What Aphark is fury</span><br><span class="line">Tld meens them, faireyou consides to no more</span><br><span class="line">Ihis wantond frown and pollitueser&#x27;d city.</span><br><span class="line">Can should put him more recounders to impudesnt poison on</span><br><span class="line">thet hour from hunt to Rame, supp to bere</span><br><span class="line">Flowerd and his friend is une dewn ao pirt,</span><br><span class="line">You know by join&#x27;d guilty, whathout we e.</span><br><span class="line"></span><br><span class="line">ANd</span><br><span class="line">Ays, my lord: you do here in coumisant.</span><br><span class="line"></span><br><span class="line">LORD:</span><br><span class="line">How lond the brown!</span><br><span class="line">So majp me; bonch, smmily  lovely blotters,</span><br><span class="line">When Ie my hoeaty threat and virlume these things,</span><br><span class="line">Make fasting garlands dfar the sack&#x27;d my servictught</span><br><span class="line">Not knows the crowns: one air, Aumerle,</span><br><span class="line">Ere wear not so nour Bidagle? What Aphark is fury</span><br><span class="line">Tld meens them, faire</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="karpathyçš„exampleå®éªŒ-gpuç‰ˆæœ¬"><a href="#karpathyçš„exampleå®éªŒ-gpuç‰ˆæœ¬" class="headerlink" title="karpathyçš„exampleå®éªŒ-gpuç‰ˆæœ¬"></a>karpathyçš„exampleå®éªŒ-gpuç‰ˆæœ¬</h2><p>ä½¿ç”¨å’Œcpuç‰ˆæœ¬ç›¸åŒçš„æŒ‡ä»¤ï¼Œåªæ˜¯<code>th train.lua -gpuid 0</code><br>å¾—åˆ°çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">th sample.lua cv/lm_lstm_epoch50.00_1.3622.t7 -gpuid 0</span><br></pre></td></tr></table></figure><p>sampleä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">--------------------------</span><br><span class="line">ge</span><br><span class="line">I prithee; nor in the day of all report?</span><br><span class="line">Nou shall be you that lances stoson quarrel:</span><br><span class="line">We mits most stone, &#x27;aim, upeed his forticent</span><br><span class="line">Ahen I was, yet for her, but of lovels Clarencel</span><br><span class="line">And past her got and father there, one weep</span><br><span class="line">In mine  wroth nightlys, smileed. Cantleye An York,</span><br><span class="line">A druls marriage, that though Service hated me</span><br><span class="line">Their duen of iflock, we are here in berieved</span><br><span class="line">and more than tanise them with suterept</span><br><span class="line">He rt in some pickle.</span><br><span class="line"></span><br><span class="line">SePSERTER:</span><br><span class="line">Or I have safe all thou depustere andthe before him.</span><br><span class="line"></span><br><span class="line">FRIAR LAURENCE:</span><br><span class="line">What art my government, cosbude, and hence; if Onfrawn? provest tor my duty?</span><br><span class="line"></span><br><span class="line">CATESBY:</span><br><span class="line"></span><br><span class="line">KARIANA:</span><br><span class="line">My love noe is are  with t herman and his,</span><br><span class="line">It should she well deeauring our consent:</span><br><span class="line">They hang me bointed on the king, let so two</span><br><span class="line">Nature by my sighsing pleasing &#x27;jabe</span><br><span class="line">That leaven and grue, at her Richard&#x27;s blood.</span><br><span class="line">More ends it likipenortnive, nor each of him</span><br><span class="line">ic.</span><br><span class="line"></span><br><span class="line">SLY:</span><br><span class="line">How dachors, Richmend, henr dack but like it?</span><br><span class="line">Be long, anon since your kingdom and us,</span><br><span class="line">And we that aver el</span><br><span class="line">aunter, my eee to toucurt tomends.</span><br><span class="line">It this her great fawn&#x27;s birds,, sir! you&#x27;er head.</span><br><span class="line"></span><br><span class="line">PAULINA:</span><br><span class="line">Upternalt cost of his hands for their tricks my father,</span><br><span class="line">Who ts it most seunt to live te and she were all.</span><br><span class="line">-kill</span><br><span class="line">O to thy son os shall not on your childrs,</span><br><span class="line">one next, for she did formly consixent</span><br><span class="line">Above, my life, and wew me worthy deeming tvenge!</span><br><span class="line">My mustere be exploience, aot come n leave where ahe knees in.</span><br><span class="line">dear, thus wild up tilt on the county, hath be one.</span><br><span class="line">See this sword of thee with the deepito man,</span><br><span class="line">For sunier ene first sears. Where&#x27;s turn on to be.</span><br><span class="line">Unctious blunlest terrocate doves</span><br><span class="line">Trades Marcius aines of hlends</span><br><span class="line">My&#x27;s learth an old--ay.</span><br><span class="line"></span><br><span class="line">LEONTES:</span><br><span class="line">Marcius?</span><br><span class="line"></span><br><span class="line">PRONVO:</span><br><span class="line">You would no gue.</span><br><span class="line"></span><br><span class="line">VOLUMNIA:</span><br><span class="line">Oovine s fetch to tight, thou must but loods.</span><br><span class="line"></span><br><span class="line">HASTINGS:</span><br><span class="line">And was with her, nor yonder to be sworn,</span><br><span class="line">What are you allady that I should have purpose.</span><br><span class="line">What men  revenge is a well patient</span><br><span class="line">And who seth sxoleng to knowled ed to myself;</span><br><span class="line">And married me in the joy:</span><br><span class="line">So reve I made to find me speak,</span><br><span class="line">how he been tou.</span><br><span class="line"></span><br><span class="line">PETCA:</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>##ã€Šæ°´æµ’ä¼ ã€‹è¯­æ–™å®éªŒ</p><p>###cpuç‰ˆæœ¬</p><p>æŠŠä¸‹è½½å¥½çš„ã€Šæ°´æµ’ä¼ ã€‹æ”¹åä¸º<code>input.txt</code><br>ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">th train.lua -data_dir data/mydata/ -gpuid -1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è®­ç»ƒï¼Œå¯ä»¥çœ‹åˆ°å¾ˆæ˜æ˜¾ï¼Œé€Ÿåº¦å¾ˆæ…¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">th train.lua -data_dir data/mydata/ -gpuid -1</span><br><span class="line">vocab.t7 and data.t7 do not exist. Running preprocessing...</span><br><span class="line">one-time setup: preprocessing input text file data/mydata/input.txt...</span><br><span class="line">loading text file...</span><br><span class="line">creating vocabulary mapping...</span><br><span class="line">putting data into tensor, it takes a lot of time...</span><br><span class="line">saving data/mydata/vocab.t7</span><br><span class="line">saving data/mydata/data.t7</span><br><span class="line">loading data files...</span><br><span class="line">cutting off end of data so that the batches/sequences divide evenly</span><br><span class="line">reshaping tensor...</span><br><span class="line">data load done. Number of data batches in train: 345, val: 19, test: 0</span><br><span class="line">vocab size: 4129</span><br><span class="line">creating an LSTM with 2 layers</span><br><span class="line">setting forget gate biases to 1 in LSTM layer 1</span><br><span class="line">setting forget gate biases to 1 in LSTM layer 2</span><br><span class="line">number of parameters in the model: 2845345</span><br><span class="line">cloning rnn</span><br><span class="line">cloning criterion</span><br><span class="line">1/17250 (epoch 0.003), train_loss = 8.32795887, grad/param norm = 9.6310e-02, time/batch = 28.8711s</span><br><span class="line">2/17250 (epoch 0.006), train_loss = 8.06433859, grad/param norm = 4.2826e-01, time/batch = 25.2184s</span><br><span class="line">3/17250 (epoch 0.009), train_loss = 7.28941094, grad/param norm = 3.9537e-01, time/batch = 25.2195s</span><br><span class="line">4/17250 (epoch 0.012), train_loss = 6.85331761, grad/param norm = 4.0576e-01, time/batch = 25.2011s</span><br><span class="line">5/17250 (epoch 0.014), train_loss = 6.69327439, grad/param norm = 3.8309e-01, time/batch = 24.9642s</span><br><span class="line">6/17250 (epoch 0.017), train_loss = 6.50776019, grad/param norm = 3.1042e-01, time/batch = 24.9203s</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é¢„è®¡éœ€è¦120å°æ—¶è®­ç»ƒæ—¶é—´ï¼ä½†æ˜¯ï¼Œè¿™éƒ½æ˜¯æœªç»è¿‡å¤„ç†çš„è¯­æ–™ï¼Œåç»­ä½¿ç”¨å¤„ç†è¿‡çš„ä½™æ–™ï¼ˆå¦‚å»æ‰ä½é¢‘è¯è¯­ç­‰ï¼‰å†æ¥è®­ç»ƒåº”è¯¥ä¼šæ›´å¿«ã€‚å› ä¸ºæ—¶é—´å¤ªé•¿ï¼Œæ‰€ä»¥è¿™ä¸ªå®éªŒè¢«æ”¾å¼ƒäº†ã€‚<br>###GPUç‰ˆæœ¬çš„æœªå¤„ç†è¯­æ–™å®éªŒ<br>é¦–å…ˆå¯¹æœªå¤„ç†è¯­æ–™åšè®­ç»ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">th train.lua -data_dir data/mydata/ -gpuid 0</span><br></pre></td></tr></table></figure><p>begin at 10:20<br>å¯ä»¥çœ‹åˆ°<code>time/batch</code>ç¨³å®šåœ¨0.08så·¦å³ï¼Œä¹Ÿå°±æ˜¯åŠå°æ—¶å°±å¯ä»¥è®­ç»ƒå®Œæˆï¼GPUæ¯”cpuåœ¨ç§‘å­¦è®¡ç®—ä¸Šé¢å®åœ¨æ˜¯å¤ªå¼ºå¤§äº†ã€‚<br>è®­ç»ƒå®Œæ¯•ï¼Œä½¿ç”¨ï¼š<br><code>th sample.lua cv/lm_lstm_epoch50.00_3.9309.t7 </code></p><blockquote><p>è€…ï¼Œå´å¾—å‡ºæ¥çš„ç‰©ç»†ç‰©ï¼Œæ²¡é¢å°‘ç®¡ç”Ÿæ¸”äººã€‚åæ¥çš„çŸ¥åºœæ—¶æ˜¯ä¹±è‰²æ—©æ™šï¼Œæ‹¾äº†å‡ ä¸ªã€‚æé€µæƒŠå¾—å¿™å¿™è½»æ¢³è¯ç©¿åœ¨å¤§ç‰¢é‡Œï¼Œæ‘†åœ¨å»¶å®‰å®¶å¤„ï¼Œæ¨æ…°ä¹èŠ‚çš„ã€‚å½“ä¸‹å¾„åˆ°å±…ä¸­é¥®é…’ï¼Œç‰Œé—¨å¤´ï¼Œæˆ´å®—åˆç„¦èºã€‚åªè§å±é£èƒŒåè½¬å‡ºä¸€ä¸ªå°é£å¤§æ¥ï¼Œæš—æš—å¬å¾—é“ï¼šâ€œåç»†æ”¾ä¿º!å…„å¼Ÿæ‹¿ç€ï¼Œè¶è¿™ä¸ºå®³å¤©æ˜åœ°æ¸…ï¼Œæˆ‘ä¼‘è¦æ¨é“åˆ«äº‹çš„éƒ½è¦åšä¼´å½“æ‹†æŠ•åˆ°ä¼šè€³ï¼Œä¾¿æœ‰è¿›æ¼ï¼Ÿâ€æ—¶è¿èˆèµ·æ ‘ä¸‹æ¢äººï¼Œçš„äº†å¤¹æ­ï¼Œéƒ½æ‹½äº†æ‹½å¼€ï¼Œèƒ¸çš®è™½æ˜¯å¥½äº†å…­åˆ†æƒŠå¾—ï¼Œæ˜¯ä»–éº»ã€‚åå¥³æ£’æ”¾ç«äº†ï¼Œèµ°ä¸å‘å‰ï¼ŒåŠå®‹æ±Ÿé‚£é“ä¸ªç•™å®ˆä»–åšä¸ªè¾©å¯Ÿçš„ï¼Œå…ˆè‡ªå»å·é‡Œè¯·æ˜åœ°çƒ§äº†é’±ç”¨ï¼Œä½†æœ‰è¿‡äº¬å›å®¶ï¼Œå¬å¾—çŠ¶å­å¥½!è¿™é«˜è€è¢‹å†…å´æ˜¯å‡ºå¼ æ‹›å®‰ï¼Œåˆéƒ½æ˜¯ä»–çš„æ¬ºè´Ÿæ°‘ï¼Œå¦‚ä½•æ˜¯è®¡ä¿¡?å¿…é¡»è¦å’Œéƒç›¸ä¼šã€‚ä¸”ã€‚â€è¶æ—©èµ·æ¥¼å»äº†ã€‚ä¸¤ä¸ªè¿å¤œæ—¶å€™ï¼Œä»“æ²»æ—¶ï¼Œå¹´äºŒåå…«æ‰§è¿·è€…å¤šè¦éƒ½è¦å»è¡Œå¶ï¼Œæ—©æ˜¯äº²å®¶æ´’å®¶ï¼Œå¾„æŒ¨åˆ°åºœå‰æ¥ã€‚ç¯çƒ›çº¸æ•Œå®˜ï¼Œæ–¹æ‰è„±æ¼ã€‚äº¦è¢«ä¹±çªä¸­æœ‰äººç­‰å¥½äººçŸ¥è”¡äº¬é“ï¼šâ€œé‚£ä¸ªäººä¹Ÿæ˜¯ä»–ç”šä¹ˆ?å› æ­¤æ•™å¤§å†›æ‰“åŠ«ä¿ºé‚£å¹²å¹²é‡‘ç çš„ã€‚â€æ¯å­é‚£å¦‡äººæ¥åˆ°å¤§ç‹å°šå®‰ç€ï¼Œç›¸äº¤é…’è¿½æƒ¹ä¸‰æ¸…é…’æ¦æˆ˜ã€‚ä¸è¿‡åŠå¤œä¹‹äº‹ï¼Œæ—©é¥­ç›¸çƒ¦ï¼Œå¿ƒé‡Œå‡ºå¯¹çŸ¥åºœè¯´ï¼šâ€œå®˜å®¶åˆæ—¶åœ¨æ—¶ï¼Œæ¬²è¦å¸‚ä¸Šæ—¶ï¼Œå…€è‡ªå’Œæˆ‘è§…å®¶åŠ«çŠ¯äº†ä»–ï¼Œå¦‚ä½•ä¸èµ¶æˆ‘é‡Œæ¥?æˆ‘å¤§å°å¿ƒå®šå¾—ï¼Œä¸åˆ†ä¾¿äº†ã€‚â€å‰å†›è½¬å›ï¼Œå·²åšäº›å°å¤´ï¼Œè¦æ‰“æŠµæ•Œä»–!ä¸”æŠŠèº«ï¼Œå¸¦äº†ä¸ƒä¸ªäººæ—¶ï¼Œéƒ½æŠ¢å‡ºå®¶ï¼Œä½†è§ï¼šã€€ã€€<br>    å£®ä¸­é†ªæµ‘çº·é¢†ï¼Œè…°ç»†è½»éœ²ã€‚é˜”å°ºä¸‰å±‚æŒºåˆ€ï¼Œé±¼åšå¤¸æ•Œåº†å­™ã€‚é«˜äººæœ‰å…«å¥è¯—å•é“èº«å¿ƒå¼ºä¼¼è½?ï¼›å°ä»˜æ•²æŸ´çš„ï¼ŒçœŸå¤šå‘¼åœ£æ®¿ä¹‹ä¸»è´é”‹æ¬£ä¹è¯ã€‚å¤´é‚¬é—»ä¸¹è…Šè‰¯å¤«ï¼Œè€è¾¾ç¼˜çŸ®å²é¾™ï¼›å››è™é—´ï¼Œå¯’æš®éš¾ä»¥å·é»„ï¼›ç‰¢è®°ä»è¯¸ä½œåƒï¼Œæ˜¾å®ä¸€æ ¹çº¢ä½›ã€‚å¾®ã€‚å–„å¾—å±±è¿èƒ½æŒ‡æŒ¥ï¼Œç›´æ•‘æ¸…å¤©é©¬æ˜Ÿã€‚ã€€ã€€<br>    è¯è¯´ä¸Šé˜µæ³•ï¼Œ å¸ˆçš‡å¸å±•å¾—æœ‰?å®«æ®¿ï¼Œé›¨ç¿ äº‘ä¹Ÿä¸Šç”°åœ°é‡Œã€‚å¹¸è§‚éä¹ƒå¸é‡äº†ï¼Œå®‹æ±Ÿå¿ƒå¦‚æœ‰èª“ï¼ŒåŒå®‹å—è¿·ã€‚å´è¯—åå”¤ï¼Œåªä¼ è¯´å¼€é—¨ï¼Œå› æ­¤æ˜¯è´¼äººå¿ƒè…¹äº‹åŠ¡ï¼Œåˆ°å®‹æ±Ÿçº åˆç”Ÿçµå®³ï¼Œåœ¨å¿ æ¸å­˜æ¯äº²æ¥å®‹æ±Ÿä»¥å¿ƒå´æ‰ï¼ŒæƒŠå¾—ä¹‰æ—¢çµå‚å¾·ï¼Œå¯¹å…¬å­™èƒœä¸ºç„¶æ— æ™ºçœŸé“å¥½æ³•ï¼Œæ­£ä¸ºï¼šé¡»æ¸¸å…­åä¸ºèšä¹‰ï¼Œå¥½åƒåŸæ—å¯†å¯¨éƒå±±ç¥ä¿ã€‚ã€€ã€€<br>    å½“æ—¥å®‹åº„å®¢å¸å‰ï¼Œä¸æ™ä¿ã€å…¬äºŒä½å¤´é¢†ï¼Œä¼—å¤´é¢†å‘èµ·ä½œæ³•ã€‚ã€€ã€€<br>    çŸ³è£‚æ›´å…¼åœ°åˆ†éƒ½æ‹¨äººæ±‰ï¼Œä¸”ä¸æ€å¾—è’™æ©å¹²äººç»“ä¹‰ï¼Œä¸‹å±±åªæ˜¯é”¦è¢‹ç™¾æŠŠï¼Œä»¬æœ‰çˆ¶äº²å­”å®¾ï¼ŒåŒå•†é‡ã€‚å®‹æ±Ÿåˆé“ï¼šâ€œè‡ªæ˜¯å¥½ç”Ÿï¼Œè«éä¹Ÿåªæ˜¯æ˜¯æœ‰å“¥å“¥ä¸‹äº†ã€‚â€å´ç”¨ç¬‘é“ï¼šâ€œå…„å¼Ÿï¼Œä¸åˆ°å±±å¯¨ï¼Œå´ç”¨å‘½ä½œå•†é‡ï¼Œå°†å†›ä¸ä¸ä»–é•¿çŠ¬é©¬ï¼ŒåŠ›ä¼‘æ›¾å¹³ä»–ï¼šä¸€è¯éš¾ä»¥å®‰èº«ï¼Œå®‹æ±Ÿä¸€åŠ›ä¸ä¸œæ˜Œä¸‹å‡ æ—¥ï¼Œè°æƒ³å¤§å“¥å“¥æ•™å°æ™ç›–å“¥å“¥ä¼šåˆå½“çš„äº‹ã€‚æˆ‘ä»¬äººæŠ•éšå¤©å†›æ¥ï¼Œåˆæœ‰ä¼¤æŸï¼›è‹¥ä¸è¿ç¯ç”²å…³ï¼Œç€ææ¨ªå…¶ä¸ä¼¼ç«ä½“ï¼Œè½¦è—å¾¡ä¸Šå°½æŒ‚ç‰æ°´ï¼›å†›å’è®¸å¤šï¼Œæ— æ— ä¸éš¾ä¹‹é™…?ä»–ä½†**ï¼Œå¯ç­‰å…µï¼Œå¯ä»¥æ–©é£ã€‚â€ä¼—å†›å¥éƒ½ç®¡å…¥åº„ï¼Œè¦æŠŠé²œè¡€è¿¸æˆï¼Œèµ¶èµ·æ¥ï¼ŒèƒŒåè§£æ°´è¾¹ï¼Œå”¤è½¦å†›è·¨åŸç–®åªç­‰ï¼ŒåŸæ¥æ­£æ˜¯ä¹‹ç¦ï¼Œåå¾€ï¼Œæ¥ä¸è§ä¸‰ä¸ªä½¿æ±‰ã€‚å› å¼Ÿæ¸…é£èˆ¹æ•‘åº”ã€‚è·¯ï¼Œè‡³æ˜¯è·¯ä¹°é…’ï¼Œåˆæ‹¨äº”ä¸ƒç™¾åã€ç½©ã€ç™½ã€å­”äº®ï¼Œæ­£å°†è´¹çã€è–›éœ¸ï¼Œå°½æ˜¯é’±åäºŒåå†›ï¼Œå…¶ä½™çš„äººåœ¨å½¼ï¼Œæ¬²å¾—ä¼—å…µé™©é“åœ°å¹¿èŠ±è£æŠµæ•Œäººä½ã€‚è¿™ä¸€é˜ŸèŠ‚åº¦ä½¿å£«éƒ½å†›ï¼Œè¢«ä¸¤ä¸ªå†›çŒ›ï¼Œå‘å£°å–Šï¼Œéƒ½æŠ¢è¿‡åŸé‡Œï¼Œå¹¶æ— è…°è¿æ•Œï¼Œè¢«è´¼å…µèµ¶ä¸Šï¼Œæ—¶ï¼Œå´è¢«èŠ±è£æˆ˜ç®­å°„æ¥ã€‚ç«¥å¤ªäººã€æ¨å¿—æ­£æ˜¯å—å®‰æ±ŸéŸ©æ¨é¾™ã€ç©†å¼˜ã€æé€µã€ç´¢è¶…æ­£å®šæ•Œã€‚å­™å†›çºµé©¬ã€‚ç¼æ¸…é©¬æŒºç€æªï¼Œå…¥æ¥ï¼Œå°½è¢«å²è¿›å’Œè´¼äººæ€æ­»è´¼å…µï¼Œæ“’åšéœ¹é›³ã€‚é‚¬æ¢¨å› æˆè®©é£ï¼Œè¿é¼“ä¸Šé©¬ï¼Œå°†è‚¡æ–§ï¼Œå´é£å…¥é˜µï¼Œå¤§å°å¼ æ¸…è§äº†è§ä¹±å†›é˜µå‰å’æ³•è´¥å‘å›é˜µï¼Œå®‹æ±Ÿæ—­å‰åªæ˜¯ï¼šã€€ã€€<br>    ä¸»äººé—®å§“ï¼Œäº”åº”é£ä¸‡ã€‚ä¾¯æµ·é“æ­£ï¼šâ€œæ¶å¹³å¯é€ƒå¥”ï¼šã€‚æ—¶ä»¬æ‘é‡é˜´è¡€ï¼Œå‘¼å¾€å¤©å…µæ¶ˆæ³¢ã€‚æ­£è¢«æ¨å¿—èšé¢†æ¸¡æ±Ÿï¼Œæœ›å®‹æ±Ÿæ”»è¿˜å±±åºµï¼›æ‹”å¯¨æ•™æ´»æ—å†²ã€å…¬ä¸‡ä¸€é€šï¼Œå¹¶æ·»ä¸‹å±±å—äºŒç‹åº†åäº‹è™šæƒï¼Œå†è¢«å°äººåœ¨æˆ´ä¸Šæ¢å±±æ³Šè·¯ï¼Œå‡ è·¯å»æŠ¥ï¼Œä¸æ•¢å‡†å¤‡ã€‚ä¸çŸ¥è¿™ä¸ªäººè¯´èµ·æ˜¯ç™¾åº„å°é»‘å‡Œå·ï¼Œå·²æ›¾è§äº†ï¼Œå¯¹åˆ«æ— ç¼˜ã€‚â€å´ç”¨é“é“ï¼šâ€œä¾¿é˜Ÿå†›é©¬è§£åˆ°æ­¤æ—¶ï¼Œå¿…æ˜¯æ®¡éš˜ä¸ºç™¾è°·å²­ã€‚åŸå¸ˆæ‚¬æµæ°´å†›å¤´äºŒå¤´é¢†ï¼Œç»“è¯†æ±Ÿæ¹–ä¸Šå¥½æ±‰å§“çŸ³ï¼Œåç»™é¬¼ï¼Œä¾¿ä¹ƒäº”å®¶åº„äºŒå¤šæƒ…ã€‚æˆ‘å»è¿™é‡Œåœ°è·¯ï¼Œæœ›ä¼šä¾¿è¡Œã€‚â€å»Šè¿›é›·è½¦æŠŠäººæ¥ä¸æ­¢ï¼Œæåº”æ‹ˆç€è¯ä¹¦ï¼Œè‡ªæ­¤ä»˜è¯ã€‚ã€€ã€€<br>    ä¸”è¯´å±±å®¢æ¸¡è¿‡äº†ä¸‰åªè·¯ï¼Œæ•™ç©†å¼˜æ‰®åšä¼´å½“ï¼Œæ‰®åšé˜å©†è€…ï¼Œå¸¦æ‹¢æ˜¯è‡­é•‡ä¸€ä¸ªæ²¡èµŒä»€é—¨ï¼Œåˆ†é¡ºäº†åŒè¡Œï¼Œè‡ªå»å¯»é—­äº†çš„ã€‚åŸè‡ªå»è¢«äººè¿çƒ§å°†ä¸‹å»äº†ã€‚å®‹æ±Ÿç­‰è¿œè¿œï¼Œä¸€è·¯è¿›å…µã€‚åæ¥å¿ä¸åœ¨å¤§è·¯é€”æ¥ï¼Œåˆæ€•äº†åˆ°å¾—é—²æ„çš„å¼ ç¤¾é•¿ï¼Œå¬å¾—ç›‘æŠ¼ä¸€å£°ï¼Œè´§é’±ä¾¿æ˜¯ã€‚ä»»åŸé™ˆè¾¾åœ¨ä¸­ï¼Œä¸çŸ¥å¤„æ‰“é‚£åå·ï¼Œç‰¹ä½¿ä»–æ¥æ³å»å¤ªå®‰å†›è‚†ï¼Œåªå¾…ä¸‹å±±ã€‚æˆ´å®—å‘Šéšå¼ å°äººï¼Œè”¡ä¹çŸ¥åºœä¸å¾—ï¼Œè¿å¤œå›è¯ï¼ŒåŒå¼ æ‹›è®¨å¹²åŠã€ä¼—éƒ¨å‰ã€‚äºè·¯ï¼Œå¿½æŠ¥æ¢çŸ¥æ ·æ‚”ï¼Œæ™¯çå…¨è¿‡ï¼Œé¢†å›å•†è®®ï¼Œâ€œå†›å¸ˆèµµæ¢å¯†å–œç»¯é‡‘å¸¦ï¼Œèº«ä¸Šæ‚¬é¢è‰æ¿ï¼ŒæŠ¤é“å›½å¸ˆï¼Œæœï¼Œç¥è‰²ä¸é€šã€‚æ˜¯å¥‡è¯ˆå°†ä¸˜ç•™çš„äººï¼Œå‡†å¤‡èµ·èˆ¹èµ°å¾„æ¥å€Ÿç²®ï¼Œä¸šä¸åŒä½•é‡ä¸€æ·±å›°é©¬çµå¤«ï¼Œä¾¿å› å¯†çš„æœˆè‰²æ¸ç ‚æ¥å®Œï¼Œæ–‹ã€‚å°æ¸©çš‡å¨ï¼Œè¢«å®£åˆšå¼•å†›æ¥ï¼Œæ­¦æ¾å½¼æœµå¹¶é¡¾å¤§å«‚ï¼Œèµ´äº†é€ƒå»ï¼Œè‡ªé€ƒå‘½æ¢äº†ã€‚è¢«é‚£å‡ äººå¨…?åœ¨å¤é–å†›åŸæ¶‚ç‚­ï¼Œï¼Œæ€çºªå£«ï¼Œæ¥åº”å–Šé“ï¼Œæ¼è½¬èº«æ¥ï¼Œå¤æœ‰ç¥è¯—ï¼Œç‡•ä¸–æ›°ï¼šâ€œå¯¡äººä»°äº‘ç›‘æ–©è¾½ç‹åº·å…¬å¤–äº¤æ³•ï¼Œä½•â€å¥ˆé˜µåœ£æ€’é¡»æ€§é‡ã€‚é“æŒ¨å¡«ä¸¹é´ï¼Œä¸‡è¾¹ç‹„è¡Œé‰´ã€‚è§ã€‚ç”°æˆ·è§‚çœ‹è‰ç•”ï¼Œçº¢æ—¥å½±è±ªå›°å‚¬æ€¥ç»©ã€‚å®‹ç‰æ¸¸æˆ˜ï¼Œå¬å¬äº†å¤§å–œã€‚è¯è¯´å®¿å¤ªå¸ˆè¯å¥é“ï¼šâ€œå®¿å…ƒå¸…å·®æœ‰æ••å…¥è¯·ç½—çœŸäººï¼Œå¯†å°å®˜å†›ç­‰å…«å‘˜é«˜åï¼Œå°å½“åŒè¾¾å®‹å…ˆé”‹ã€‚â€æ—¥æ”¶é€‰æ¶¦ä¹‹ä¸»ï¼Œå¥ä¸ºåœ£æ—¨ï¼Œç‰¹ç€å·æ®¿åºœæ¢çŸ¥ã€‚å¤ªå°‰å®¿å¤ªå°‰å›åˆ°å†…ï¼Œå¯è½¬é©¬ï¼Œä¼—å†›æ–¹å¯äº¦æˆå¼€å¤§äº‹ï¼Œæ”¾èµ·å‡ºæ¥ï¼Œæ›´å…¼å°ä¸€ä¸ªå”¤åš</p></blockquote><p>##ä½¿ç”¨å¢å¼ºRNNç½‘ç»œè®­ç»ƒ</p><p>å¦‚ä¸‹ï¼Œä½¿ç”¨512ä¸ªéšè—èŠ‚ç‚¹çš„3å±‚RNNç½‘ç»œè®­ç»ƒæ¨¡å‹</p><p><code>th train.lua -data_dir data/shuihuzhuan/ -gpuid 0  -rnn_size 512 -num_layers 3 </code><br><code>th sample.lua cv/lm_lstm_epoch50.00_5.4830.t7 -sample 0 -temperature 0.8 -verbose 0 -length 500</code></p><blockquote><p>å¼Ÿå…„ä¸¤ä¸ªï¼Œä¹Ÿå¾—ä¸ªä¿¡åä¹‹äººã€‚â€é‚£ä¸ªä¹Ÿæ˜¯ä¸ªé“ç†ã€‚ç«¥å®¶å››æ›´ï¼Œè¢«å¼ é¡ºæ–©çš„ç²‰ç¢ï¼Œä»¥ä¸‹äººäººå®¶æ‹¿å»äº†ã€‚ä¸€é¢å«é…’ä¿æ‰“ä¸¤æ¡¶é…’æ¥ã€‚å°äºŒå“¥å«é“ï¼šâ€œå¸ˆçˆ¶ï¼Œä½ ä¸æ˜¯æˆ‘æ¥ä¹Ÿï¼â€é‚£å°ç‰¢å­é“ï¼šâ€œæˆ‘ä¹Ÿä¸æ›¾ä½ ï¼Œä½ ä¾¿å«æˆ‘ä¸Šæ¥ã€‚â€ã€€ã€€ çŸ³ç§€é“ï¼šâ€œä½ ä¸”è¯´ä»–ä¸‰å®«ç™¾é‡Œåƒé…’äº†æ¥ï¼Œä½ ä¾¿æŠ¢å…¥å»ï¼Œä½ ä¾¿å…ˆæ¥çœ‹ï¼Œå´è¢«è¿™ç•œç”Ÿè¯´ä¸å¾—äº†ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çœŸäººè¦æ‰“è¿™é‡Œè¯?ä½ å´ä¸è®¤ä½ ï¼Œä½ ä¾¿å«æˆ‘å„¿æ¥å¯»ã€‚â€æé€µé“ï¼šâ€œä½ æ•¢ä½œåƒçš„ï¼Œä¾¿æªæˆ‘åšè„šï¼â€èµ¤æ¡æ¡åœ°å¯»è°ï¼Œåªå¾—éª‚é“ï¼šâ€œçˆ¹å¨˜ï¼Œä½ ä¸”ä¼‘äº†ï¼Œæˆ‘è‡ªä¸ä¿¡ï¼Œç æˆ‘å¤´ä¾¿æ‰“é‚£è€å¨˜ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä¹Ÿå¥½ã€‚â€ä¾¿æŠŠè¢–å„¿ä¸¢ä¸‹å»äº†ã€‚é‚£å¦‡äººä¹ŸæŠŠåˆ€å¸¦åœ¨ä¸€è¾¹ï¼Œå´ä¼¼å°çª—????èƒ¡ä¹±é“ï¼šâ€œå¥½æ‹³è„šï¼â€æ€¥å«å¼€äº†åº—çœ‹ã€‚â€ç‹åº†å¬äº†ï¼Œè¿å£°å«é“ï¼šâ€œé˜¿ä¹Ÿ!ä½ ä¸è¦åƒï¼â€æŠŠæ‰‹ä¸€æŒ‡ï¼Œæå€’ä¸Šå²¸æ¥ï¼ŒæŠŠæœ´åˆ€å€šåœ¨è¢«é‡Œã€‚å°±æŠŠç¯™å­é—¨å†…ï¼Œå€’åšäº”å…­æ–¤äº†ï¼Œå°†æŠŠæœ¨é±¼æ¥æ‘†ä¸‹æ¡¶æ¡¶ã€‚å°‘æ—¶ï¼Œå¼ é¡ºåƒäº†ä¸€å›ã€‚ä¸¤ä¸ªå›åˆ°åº—å‰ï¼Œå†å‡ºæ¥èµèµï¼Œè§£äº†æˆ’åˆ€ï¼ŒåŒ…äº†æ°´å‡ºå»ï¼Œåˆ°å››æ›´ï¼ŒæŠŠèˆ¹æ¸¡å…¥å»ï¼Œä¾¿å«è‰„å…¬ä¸‹æ¥¼ï¼Œä¹°äº†äº›é±¼åƒï¼ŒæŠŠäº›é…’è‚‰åƒäº†ï¼Œé…’ä¿åšäº›æ¡¶æ±¤ã€ç›˜é…’ã€äº›è‚‰ã€‚ä¸‹æ¥ç©¿ç“¶ä¸é…’ã€‚ä¸€ç“¶å„¿é…’è‚‰ï¼Œä¹°äº›è‚‰åƒï¼Œåªè§åº—ä¸»äººæŠŠåŒ…è£¹æ’ä¸‹ï¼Œé‚£å¦‡äººä¹Ÿåƒå¾—é¥±äº†ï¼Œå£é‡Œè¯´é“ï¼šâ€œå¨˜å­ï¼Œè€èº«ç­‰è¿™å‡ ä¸ªæ³¼ï¼Œä¸è¦åƒé…’é’±ã€‚â€åº—å°äºŒé“ï¼šâ€œå¥½é…’å¥½è‚‰è¦æ‰“ï¼Œæˆ‘åƒä¾¿é¥±</p></blockquote><p>å¾ˆæ˜æ˜¾ï¼Œæ­¤æ—¶sampleçš„æ ·æœ¬è¯­å¥æ›´åŠ é€šé¡ºï¼Œé”™è¯¯å¾ˆå°‘ï¼Œä»å“å‘³å°è¯´çš„è§’åº¦æ¥è®²ï¼Œå¢å¼ºäº†çš„RNNè®­ç»ƒå¾—åˆ°çš„æ¨¡å‹æ›´åŠ å®Œç¾äº†ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œ**å¢åŠ äº†èŠ‚ç‚¹æ•°å’Œéšè—å±‚çš„RNNå…·æœ‰æ›´å¼ºçš„å­¦ä¹ èƒ½åŠ›ã€‚<br>**</p><h2 id="å¯¹æ¯”è®­ç»ƒè¿‡ç¨‹æ¨¡å‹è¡¨ç°åŠ›"><a href="#å¯¹æ¯”è®­ç»ƒè¿‡ç¨‹æ¨¡å‹è¡¨ç°åŠ›" class="headerlink" title="å¯¹æ¯”è®­ç»ƒè¿‡ç¨‹æ¨¡å‹è¡¨ç°åŠ›"></a>å¯¹æ¯”è®­ç»ƒè¿‡ç¨‹æ¨¡å‹è¡¨ç°åŠ›</h2><p>ä¸æ­¤åŒæ—¶æˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ï¼Œè®­ç»ƒå¼€å§‹é˜¶æ®µä¸è®­ç»ƒç»“æŸæ—¶çš„æ¨¡å‹è¡¨ç°åŠ›çš„å·®å¼‚ï¼š</p><p><code>th sample.lua cv/06-01-shz_sp/lm_lstm_epoch5.80_4.0451.t7 -sample 0 -temperature 0.8 -verbose 0 -length 500</code></p><p>è®­ç»ƒåˆšåˆšè¿›è¡Œåˆ°5.8ï¼ˆä¸º50æ—¶å®Œæˆï¼‰å¾—åˆ°çš„æ˜¯ï¼š</p><blockquote><p>åªè§ä¸€ä¸ªäººä»æ¥ï¼Œä¸€ä¸ªäººï¼Œéƒ½æ¥åšä¸€ä¸ªã€‚é‚£äººé“ï¼šâ€œä½ è¿™å®ä»¬ï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦ç’æˆ‘ï¼Œä½ ä¾¿ä¸è¦ä½ ã€‚â€é‚£äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å©†å¨˜ç¬‘é“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸è¦åƒï¼Œæˆ‘è‡ªå»å¯»ä½ ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ ä¸</p></blockquote><p>æ­¤æ—¶è¯­æ–™å…·æœ‰è¾ƒå¤šçš„é‡å¤ï¼Œæ¨¡å‹è¿˜æ²¡æœ‰è‰¯å¥½çš„æ”¶æ•›ã€‚</p><p>ç»§ç»­è§‚å¯Ÿï¼Œå½“è¿›è¡Œåˆ°å››åˆ†ä¹‹ä¸€å·¦å³æ—¶ï¼š</p><blockquote><p>é‚£æ±‰å­å¬äº†ï¼Œä¾¿é—®é“ï¼šâ€œä½ è¿™å®ä¸æ˜¯æ­¹äººï¼Œå¦‚ä½•ä¸æ¥?æˆ‘ä»¬ä¸æ›¾æœ‰è¿™èˆ¬çš„ï¼Œå¦‚ä½•ä¸æ¥?ä½ çš„é‚£é‡Œå»äº†ï¼Ÿâ€é‚£æ±‰é“ï¼šâ€œæˆ‘ä»¬ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæˆ‘ä¸æ›¾è¯´è°ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢ç„¶æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ä¹°ç¢—é…’åƒã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢ç„¶æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ä¹°ç¢—é…’åƒã€‚â€é‚£æ±‰é“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ã€‚â€é‚£æŒ‘é…’çš„æ±‰å­é“ï¼šâ€œæˆ‘ä»¬è‡ªæœ‰è®¡è¾ƒï¼Œæˆ‘ä»¬è‡ªæœ‰äº›é’±ï¼Œä¸ä½ äº›é“¶ä¸¤ï¼Œå´å»å•†è®®ã€‚â€è‘£è¶…é“ï¼šâ€œæˆ‘ä»¬ä¸æ›¾æœ‰è¿™èˆ¬çš„äº‹ï¼Œå¦‚ä½•ä¸æ¥?ä½ ä»¬è‡ªå»å–è·¯ï¼Œæˆ‘å’Œä½ å¦‚ä½•ä¸å»?è‹¥è¿˜äº†ä»–æ—¶ï¼Œä¾¿æ˜¯è¦å»çš„ã€‚â€æé€µé“ï¼šâ€œä½ ä»¬ä¸æ›¾è¯´çš„ï¼Œä½ ä¾¿æ˜¯ä¸ªè€å„¿ï¼Œå¦‚ä½•ä¸æ¥?æˆ‘ä»¬è‡ªå»å–ä»–ï¼Œä½ ä¾¿ä¸æ›¾ä¸ä»–å®è§ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çš„ï¼Œä½ ä¸çœå¾—ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çš„ï¼Œä¸è¦èƒ¡è¯´!æˆ‘ä»¬è‡ªæœ‰é’±å¸›ï¼Œä¾¿è¦å»ä¾¿äº†ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬è‡ªå»ä¹°äº›é“¶å­ä¸æˆ‘ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæˆ‘ä»¬è‡ªæœ‰é’±ä¸ä½ ï¼Œä½ ä¾¿ä¸æ›¾å»äº†ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬ä¾¿å»ã€‚â€é‚£å¦‡äººé“ï¼šâ€œæ—¢æ˜¯æåœ°ï¼Œæˆ‘ä»¬ä¾¿å»ã€‚â€é‚£å¦‡äººé“ï¼šâ€œä½ çš„ï¼Œä¸è¦èƒ¡è¯´!æˆ‘å¦‚ä½•è‚¯å»è¿™é‡Œï¼Ÿâ€é‚£å¦‡äººé“ï¼šâ€œä¾¿æ˜¯è¿™èˆ¬ä½¿æ£’ï¼Œä¸æ›¾å¾—å¾—ä»–ã€‚</p></blockquote><p>å†çœ‹çœ‹è®­ç»ƒç»§ç»­è¿›è¡Œåˆ°ä¸€åŠå·¦å³æ—¶å€™çš„è¡¨ç°åŠ›ï¼š</p><blockquote><p>å¼ éƒ½ç›‘ä¸ºå‰¯å°†æ€¥ä½“å·±äººï¼Œä¸æ•¢ä¸ä¾ï¼Œåªå¾—éšè¡Œä¼—å†›ï¼ŒæŒè¡Œé€è¡Œã€‚åªç•™ä¸‹é™ï¼Œå°½çš†æ¬¢å–œï¼Œä»¥æ­¤å¿ ä¹‰ã€‚åœ¨åºœè¡Œå†›ä¸­ï¼Œæœ‰ä½¿æªæ£’å–è¯çš„ï¼Œå°†ç‹åº†é¢†å†›åˆ°æ¥ï¼Œå¹¶ä¸å¿…è¯´ã€‚å½“ä¸‹å®‹æ±Ÿä¼ ä»¤ï¼Œæ•™ä¸­å†›è®¡ç­–ï¼Œä¸å¢ä¿Šä¹‰ç­‰å•†è®®ï¼šâ€œä»Šæ—¥æŠ˜äº†ä¸¤é˜µï¼Œä¿ºä»¬è‡ªå»äº†ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå†›å¸ˆä¹‹è¨€ç”šå–„ï¼â€å½“ä¸‹å³æ—¥ä¾¿ä¼ å°†ä»¤ï¼Œæ•™å†›å£«ç‚¹è¥ï¼Œæ–©åŠ¨å†›é©¬ã€‚å°†åŠåˆäº”æ›´æˆ˜åï¼Œæ”»æ‰“å¸¸å·ï¼Œå‚¬è¶±å†›å…µï¼Œä¸€é½è¿›å‘ã€‚ å¯¨ä¸­ï¼Œåªå¬å¾—é«˜å£°å«é“ï¼šâ€œè§è®©ç­‰æ•‘å…µï¼â€å®‹æ±Ÿçœ‹é‚£å†›å°†ï¼Œå°½æ•°æ”¾èµ·ï¼Œå¯¹å¹½å·ä¸€ä¸ªå¤§æ±‰ï¼Œä¹ƒå¤å¤´ä¸Šå¤§å«é“ï¼šâ€œæ°´æ´¼è‰å¯‡ï¼Œæ€æ•¢è½»æ…¢ï¼â€åªè§é‡Œé¢å…³èƒœã€å‘¼å»¶ç¼ã€å…³èƒœç­‰æ¢æœ‰ä¸€äººï¼Œåªè§å”æ–Œä»äººéª‘é©¬ï¼Œç›´åˆ°å®‹æ±Ÿå¯¨å‰ï¼Œå–è¯·å®‹å…ˆé”‹ã€‚å®‹æ±Ÿå¬äº†å¤§å–œï¼Œä¼ ä»¤ä»¤å†›å£«ä¸”å»å¯¨ä¸­ååœ°ï¼Œå¤‡è¯´å®‹å…ˆé”‹å†›é©¬ï¼Œæ”»æ‰“åŒ—äº¬ã€‚å´ç”¨é“ï¼šâ€œä¸”æ•™ä¸¤è·¯å†›é©¬ï¼Œæ”»æ‰“åŒ—é—¨ã€‚â€å®‹æ±Ÿä¾¿ä»¤å´ç”¨ã€æœ±æ­¦å•†è®®ï¼šâ€œä»Šæ—¥å¯å»ï¼Œåªæ˜¯å›½å¸ˆå´ç”¨ï¼Œåä¸€ä»¶äº‹ï¼Œæˆ‘ç­‰éšé¡ºåˆ°æ­¤ï¼Œå¯ç”¨ä¸¤å¤„å¤¹æ”»ï¼Œé‚£å®å¿…ç„¶æœ‰äººæ¥ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå†›å¸ˆè¨€ä¹‹æå½“ã€‚â€ä¾¿å”¤å†›å£«è®¡ç­–ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå†›å¸ˆè¨€ä¹‹æå½“ã€‚â€å´ç”¨é“ï¼šâ€œå°ç”Ÿç›´ä½œå¦™è®¡ï¼Œå³ä¸”é—»è§ã€‚â€å®‹æ±Ÿé“ï¼šâ€œå…ˆç”Ÿä¹‹è¨€ï¼Œæ˜¯ä¸å¾—è¿™èˆ¬å¿§ç–‘ã€‚â€å®‹æ±Ÿé“ï¼šâ€œæ—¢ç„¶å¦‚æ­¤ï¼Œä¸ä½ å››ä½è±ªæ°ï¼Œä¸å ªå‘˜å¤–å¤§ç‹ã€‚â€å®‹æ±Ÿé“ï¼šâ€œè´¤å¼Ÿï¼Œä½ ä¼‘è¦ç–‘å¿ƒï¼Œæˆ‘ä¾¿å»è¯·æ¥ã€‚â€å´ç”¨é“ï¼šâ€œä¸é¡»ä½ ä¸¤ä¸ªä¸æˆ‘ç®­ï¼Œåª</p></blockquote><p>æ­¤æ—¶ä½çº§çš„é‡å¤æ²¡æœ‰äº†ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°ï¼Œâ€œå®‹æ±Ÿé“â€åå¤å‡ºç°ï¼Œè€Œä¸”è¯´çš„å†…å®¹ç±»ä¼¼ï¼Œå¯ä»¥å¾—åˆ°æ¨¡å‹å·²åœ¨è¿›ä¸€æ­¥å®Œå–„ä¹‹ä¸­ã€‚</p><p>è¿™æ˜¯æ¨¡å‹æ¥è¿‘è®­ç»ƒå®Œæˆçš„æ—¶å€™çš„sampleï¼š</p><blockquote><p>å¼ é’ã€å­™äºŒå¨˜ã€é¡¾å¤§å«‚ã€å­™äºŒå¨˜ï¼Œå¹¶å››ä¸ªå¥½æ±‰ï¼Œå¼•ç€ä¸€åƒä½™äººï¼Œå¹é€ å¤§å°èˆ¹åªï¼Œéƒ½æŠ•æ°´è·¯ã€‚ä¸å¤šæ—¶ï¼Œåªè§æ¾æ ‘èƒŒåè½¬å‡ºä¸€ä¸ªå°å°äººæ¥ï¼Œç°‡æ‹¥ç€ä¸¤ä¸ªäººï¼Œå„æç€æœ´åˆ€ï¼ŒèƒŒåæœ‰äººï¼Œå«ä¸€å£°ï¼šâ€œæ‰ä¸‹ï¼â€ã€€ã€€ é‚£æ±‰å­æŠŠèˆ¹åªä¸€æ‹›ï¼Œæ‰¶ç€ä¸€å¹²äººï¼ŒæŠŠé‚£ç¢—é¥­æ‰“ä¼¤ï¼Œæ‰“çš„ç²‰ç¢ï¼ŒæŠŠå¤´å¤´å‰²åœ¨ä¸€è¾¹ï¼Œå£é‡Œæ”¾ç«ã€‚é‚£äººè§äº†æ˜¯æƒŠå¾—å‘†äº†ï¼Œåˆä¸æ¥åƒäº†ä¸€æƒŠï¼Œæ‰‘åœ°åªé¡¾èµ°ã€‚å´å¾…å†èµ°ï¼Œå†å»è„±äººé¿å‡‰ã€‚æé€µå´äº¦ä¸è‚¯æ‹¦ä»–ï¼Œåªå¾—èµ°äº†ã€‚å¯æ€œæ•‘ä»–ä¸¤ä¸ªæ€§å‘½ï¼Œé‚£é‡Œæ•¢?åˆ«äººã€‚å‰æ—¥è¢«æ‰æ­»äº†æ€§å‘½ï¼Œæ€äº†äººï¼Œé€ƒèµ°åœ¨æ±Ÿå·ï¼Œè¢«å®³äººé™·å®³ï¼Œæ–¹å¾—æ­£ä¸­äº†ã€‚ä»Šæ—¥å¹¸å¾—ç›¸è§ï¼Œå¦‚ä½•ä½¿å¾—?ä¾¿å¾—æ˜¯ä¸ªçŸ¥å¿è¿‡æ¥çš„ï¼Œä¹Ÿå–œå¾—åŠã€‚ä»–ä¾¿æ˜¯æœ¬äººçš„äººï¼Œé¡»æ˜¯é«˜å¤ªå°‰çš„äººï¼Œå´ä¸çŸ¥æ˜¯é‚£é‡Œäººã€‚â€ä»»åŸé“ï¼šâ€œè¿™ä¸ªä¾¿æ˜¯æˆ‘çš„å„¿ä¹ˆï¼Ÿâ€ç‹å©†é“ï¼šâ€œä¾¿æ˜¯å‰æ—¥é‚£å®˜å¸äº²äº²å”å­ï¼Œä¸ºä½•åˆ°æ­¤ï¼Ÿâ€é‚£å©†å­ç­”é“ï¼šâ€œè€èº«åªé“ä¸å¦¨ï¼Œåªæ€•å°äººè‡ªæœ‰æªç½®ã€‚è€èº«çœ‹äº†ï¼Œä¾¿å¿˜äº†å›å»ã€‚â€è€éƒ½ç®¡é“ï¼šâ€œè¿™ä¸ªå®¹æ˜“ã€‚è€èº«å…ˆæŠŠé“¶é…’å»äº†ã€‚â€è€å„¿é“ï¼šâ€œä½ ä»¬è‡ªä¸è¦åƒé…’ã€‚â€é‚£å©†å­ä¹Ÿç¬‘èµ·æ¥é“ï¼šâ€œè¿™ä¸ªä¾¿æ˜¯æˆ‘çš„è€å°äººå®¶ã€‚â€é‚£å©†å­é“ï¼šâ€œä¾¿æ˜¯è€èº«ä¹Ÿä¸æ€•ä½ ï¼Œä¼‘è¦èƒ¡ä¸»å¹²å¨˜ï¼Œåªæ€•ä½ ç–‘å¿ƒã€‚â€é‚£å¦‡äººé“ï¼šâ€œä¸å¹²äº†ã€‚ä½ çš„å¥³å„¿ï¼Œè€å¨˜å„¿åªåšä¹°äº›è¡£æœæ¥é€ä¸ä½ ã€‚â€ç‹å©†é“ï¼šâ€œå¨˜å­ï¼Œä½ è¦çŸ¥è¿™å‡ ä¸ªå­—ï¼Ÿâ€é‚£å©†å­é“ï¼šâ€œæœ‰ç”šä¹ˆå“­å¤„ï¼Ÿâ€</p></blockquote><p>æ¨¡å‹è¿›ä¸€æ­¥å®Œå–„ï¼Œæ¥è¿‘å®Œæˆè®­ç»ƒã€‚</p><p>##ã€Šå…¨å”è¯—ã€‹å®éªŒ</p><h3 id="ä¸‹è½½ä¸‹æ¥çš„å…¨å”è¯—-txtæ˜¯gbkç¼–ç çš„ï¼Œé¦–å…ˆéœ€è¦è½¬æ¢ä¸ºutf-8ç¼–ç ï¼š"><a href="#ä¸‹è½½ä¸‹æ¥çš„å…¨å”è¯—-txtæ˜¯gbkç¼–ç çš„ï¼Œé¦–å…ˆéœ€è¦è½¬æ¢ä¸ºutf-8ç¼–ç ï¼š" class="headerlink" title="ä¸‹è½½ä¸‹æ¥çš„å…¨å”è¯—.txtæ˜¯gbkç¼–ç çš„ï¼Œé¦–å…ˆéœ€è¦è½¬æ¢ä¸ºutf-8ç¼–ç ï¼š"></a>ä¸‹è½½ä¸‹æ¥çš„<code>å…¨å”è¯—.txt</code>æ˜¯<code>gbk</code>ç¼–ç çš„ï¼Œé¦–å…ˆéœ€è¦è½¬æ¢ä¸º<code>utf-8</code>ç¼–ç ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    s = <span class="built_in">open</span>(<span class="string">&quot;å…¨å”è¯—.txt&quot;</span>)</span><br><span class="line">    r = s.read()</span><br><span class="line">    r_uni = r.decode(<span class="string">&#x27;gb2312&#x27;</span>,<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    r_en = r_uni.encode(<span class="string">&#x27;utf-8&#x27;</span>,<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    fp=<span class="built_in">open</span>(<span class="string">&quot;å…¨å”è¯—è½¬æ¢.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)</span><br><span class="line">    fp.write(r_en)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span> :</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¾—åˆ°äº†<code>utf-8</code>ç¼–ç çš„æ–‡ä»¶ã€‚</p><p>å¼€å§‹æƒ³ç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶ä¸¢ç»™rnnè®­ç»ƒï¼Œåæ¥æƒ³ä¸€æƒ³ï¼Œâ€œå…¨å”è¯—â€åŒ…æ‹¬äº†ä¼—å¤šè¯—äººçš„æ°ä½œï¼Œä¹Ÿè®¸è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹sampleä¸åˆ°ä»€ä¹ˆç‰¹ç‚¹é²œæ˜çš„è¯—å¥ï¼Œäºæ˜¯æˆ‘é¦–å…ˆæƒ³å¯¹è¯—ä»™æç™½çš„è¯—åšä¸€ä¸ªå®éªŒã€‚æŠŠå¾—åˆ°çš„å…¨å”è¯—æ–‡ä»¶ä¸­æç™½çš„è¯—åˆ‡åˆ†å‡ºæ¥ä½œä¸ºä¸€ä¸ªæ–‡ä»¶ã€‚<br>å¼€å§‹è®­ç»ƒï¼š<br><code>th train.lua -data_dir data/tangshi/ -gpuid 0</code><br>å¾—åˆ°æ¨¡å‹åsampleï¼š</p><p><code>th sample.lua cv/lm_lstm_epoch50.00_5.3967.t7 </code></p><blockquote><p>è€¶ç¿³å¦ƒåœ¨ã€‚æµæ˜æ¹–è‰ï¼Œå²‚èˆé«˜æ•£çº·ã€‚å°å‰‘å®«åº•å¯’ï¼ŒçŸ³æ€æ€€å£«ã€‚<br>å½’æ¥ç›¸çƒŸå¹ï¼Œåˆä½™æœªè€æ­¤ã€‚æ­¤åœ¨è§æºèŠ‚ï¼Œæ°”å¸çš‡å½©å·ã€‚<br>å°å›å‡Œå¤©é¸Ÿï¼Œç¾ä»è‡‚å±±ä¸­ã€‚ä½•æ—‹ä¿±æ‰€åƒï¼Œé€ æ„§ç¿»é—è€»ã€‚<br>æ‚ æŒ¥ææ˜äº‘ï¼Œåæœˆå¾—ç›¸è¿Ÿã€‚å›ä½œæˆæ™¯é¸¡ï¼Œæš®æ—¥æ¸…è†ºå‘ã€‚<br>èƒ¡æ­¥å‚æ´æ¾ï¼Œä¸‰å¹´å»¶æœªè±ã€‚è´¤è¿¢åæ©å±±ï¼Œå—¤æ¥¼è°‹ç–å·ã€‚<br>è¯—å›ä¹å®‰è²ï¼Œåˆ«å»å†™æ—¥æµã€‚äº”æ—¶è°¢åŠæ´’ï¼Œç›¸é­„ä¸‰æœ‰ç„ã€‚</p></blockquote><blockquote><p>å·177_21 ã€é•¿é“é€ç§€å£«å¯„ä¹‹åå—å›½å¤æ¾æ¸¸æ˜ï¼Œã€‹å¦“æ­¤è›¾ä¹¦æ­¤ä¸‹è§é€ƒä¹‹å§‹å´”è‡³å…­ä»¥åŸé…’å®ã€‘æç™½</p></blockquote><blockquote><p>ä»™é˜³å£¶æˆ‘ç‹ï¼Œè°£è£æ—¥èŒ«è¿‡ã€‚å¹¸ç”Ÿå¤©è¡Œå¯’ï¼ŒåŠæŒè§ä¹å¿§ã€‚<br>æ—©æ¯‚æ­¤æ¥¼å®°æ­Œï¼Œé¹—ç¨é‡‘å½’åã€‚å®¾æ‰˜æ˜¼å®‡é—»ï¼Œé«˜æ±¶å •è‡£æ³‰ã€‚<br>å³»æ‚Ÿæ¹ç´ éƒ½ï¼Œå‡¤ç”Ÿé¸Ÿè¿œæ‰ã€‚è™å‚¥äº¦æˆä¸€ï¼Œè¹­æ®é”ç‚³å£ã€‚<br>å›è°·é—»å¹æ³¢ï¼Œæ‘§äººç¿¼æ˜†è¡£ã€‚ä¸‘å¾·çš†å¤è´µï¼Œä½•è¢‚è‡ªè§å®ã€‚<br>é»„ç„¶å¥‰å‚åŠï¼Œæˆ¾é…’æ‚²æºªæƒ…ã€‚ä½•æ‚Ÿä¸‹ç½—ç­ï¼Œå£ä»¤è¿˜æµç„¶ã€‚</p></blockquote><blockquote><p> å·177_16 ã€é€æ²™é—¨é¥¯å…ƒä½›ä¹‹åµ©ä½¿å½’å°‘ä¸å¯ºè¾…æ™”å¹´äº­å±±äº‘ã€‘æç™½</p></blockquote><blockquote><p>è¡Œé“ä¸€ç‹‚æ—¥ï¼Œé™†æ¯æ¬²æˆ‘å›­ã€‚ç›¸å¯„å±ç›¸è€…ï¼Œä¸æ­Œæµæˆä¹¦ã€‚<br>å¹½æ™¯ç¥å…°é©¬ï¼Œä»Šäº‘ä¹ƒç›¸çŸ¥ã€‚ç›¸èƒ½æ‹‚æ­¤é—¨ï¼Œå¨Ÿç¬‘æ— ç”Ÿé­‚ã€‚<br>è‚ åæ‰«å¤©æ‰€ï¼Œç½—ç‘Ÿå¿ƒä¸–æ¡¥ã€‚</p></blockquote><blockquote><p> å·169_11 ã€é‡‘æ¾äºŒç‚å¸ˆã€‘æç™½</p></blockquote><blockquote><p>ä¸½åŠå‘ä½•å‡¤ï¼Œå«ä¸œè¯å®›é”¦ã€‚ä¸”å¿å’å°ºé³Œï¼Œæ¢¦æ¯æ± æœˆ<br>ã€‚<br>ç½—é¸Ÿæ€å½’äººï¼Œå…¼æˆ‘æ— é£æ­‡ã€‚å¤ªè‰²ä¸œè‰æ ‘ï¼Œå£®æ—©æ¸¸ç½—æ¯ã€‚<br>åˆ«æ¥é’ç¥æï¼Œè°’é•¿ä¸é™µå¯’ã€‚å›å¿§ä¸œæµ·é¹¤ï¼Œå¹æ¬²å¾—å½©å¥½ã€‚<br>æ¢¦å›æ¥å¤ªæƒ…ï¼Œç§¦å­å¿†å»¶è–ªã€‚é—»å¹²å‡Œæ¥¼æ¯ï¼Œæ¾æ°´æ¥å»‰æ‰ã€‚<br>ä¸”è¯†è¾çŠ¹ä¹‹ï¼Œä¼—æ–­ç½—é‡Œä¸­ã€‚</p></blockquote><blockquote><p>æ°´ç¾Šè¿œé‡ï¼Œå¼•é£’é«˜æ–°ç­–ã€‚ç›®å¸ƒæ„éœœäº²ï¼Œï¼Œéšç«èµ¤äº‘é“ã€‚<br>è§£æ¯‚å››ä¸Šç‰›ï¼Œä»¥ä¸”æ±¶äº‘å¹´ã€‚å®è¿æ¸…å·´å¯’ï¼Œç§æ¬ºæ¸…åé£ã€‚<br>æµ·åå»ä¸æ„ï¼Œæ€ä¸¹é…©æœŸç„¶ã€‚é—»é’“æ›¾å¸†æ™¯ï¼Œä¸€å¼„æš—é•¿é›ªã€‚<br>ä¸”äº¦ç•™æˆ‘è¾‰ï¼Œæ€è®¼éŸµä¸­æ¥¼ã€‚</p></blockquote><blockquote><p>  å·174_7 ã€èµ å´”å¸å·åä¸‰é’å¯ºé»”æ´å§‘åœ£æ¯›é—²åå¿˜å…¼å¡”å®…çŸ³ã€‘æç™½</p></blockquote><blockquote><p>çªœç¬‘æ•¬é¹¤è§æ¢¦èµ°å»ç•™åƒ§ã€‚åœ°ç­‘ä»å°ºäººï¼Œæ³ªæ ‘å¹³ä¼—çƒ‚ã€‚<br>çªˆç®¸æœ‰å‰æ°²ï¼Œä¹…èªæ¬²æ´²çœŸã€‚æœæ˜¥ç¦»ç›¸å…½ï¼Œé£æ­¤ä½•å£å‘ã€‚<br>ç»¿æ—¥å¶å¯è¨€ï¼Œæˆ‘è¨€ç»ç²¾å­˜ã€‚å›å’é™æ±‰æ°´ï¼Œç»¿æœˆç›¸æˆå¤±ã€‚<br>æ‹è™ä¸€ç™»äº‹ï¼Œä½†ä¹˜æ¶‚åº”æ˜Ÿã€‚</p></blockquote><blockquote><p> å·177_18 ã€å’å¤œåˆ«ï¼ˆäººä½œå¸é˜³ä¹‹ä¸ºæ˜†è€…ï¼‰ã€‘æç™½</p></blockquote><blockquote><p>ç¬‘ä¹ƒåº¦å°†æ˜ï¼Œè›¾æ´è•Šå±±å‘ã€‚èŠ±åæ–°åˆéœ²é•œæ—¥è¾¹å½’æºªã€‚<br>é•¿é¢äº‘è“¬ç«‹ï¼Œè‡ªé¢œè°¢é¸³åˆ†ã€‚ç­ç”¨æ¬²å¾—ç¢‘ï¼Œä¸äº‘å½“å¤©èˆŸã€‚<br>ä¸€æ¥ä½†ä¸éœ„ï¼Œä¹˜æˆ‘æ¶‰è·¯æ¥ã€‚æ€€å­å¹¿é™µè¿œï¼Œå¤•äººä¸å…ƒé˜™ã€‚<br>ç¬‘å¤©äº¦æœ›å¥½ï¼Œé©±ä»¤é€‚è°æ‰‹ã€‚æ€æ­¤æœ‰é—¨ä¸Šï¼Œä¸¾ä¸æ»¡ä¸å›ã€‚<br>é†‰å¹´å½’æ•¬å±±ï¼Œæ¾è—è°¢æœªç¬‘ã€‚å´æ€ç¬‘å¤å…´ï¼Œå‡­å‡Œæ³ªé«˜å°ºã€‚</p></blockquote><blockquote><p>é’±æ–‡1æ·®ä½œ3<br> ã€€<br>å·ä¸€ä¸¤åä¸ƒä¸‰åŒ—æ¬¢å®ä¸‰å…ƒå››æ…ˆå¹³éš¾åã€‘æç™½</p></blockquote><blockquote><p>æ°´ä¹˜é»„æ¥¼é•œå›å®¢ç»¿1èµ·ï¼Œå±±é—¨å¤©é˜™å·²å¿æ˜¥ã€‚ä¸å–œå‡ºåº­ä½œï¼Œä¹<br>æ™–é…’è‹”ã€‚éº’æƒŠç¾ã€‚ç»®é—¨ï¼Œæˆ‘è§ç§¦å¿ƒé‚å¤©é›ªï¼Œåªè¡Œå¤©èŠ±æµã€‚<br>ç›¸éšå¤”å±±è‚‰çƒŸå–§ï¼Œæ­¦æ–—å¹é½è€Œå…¬è¿˜ã€‚ä»¥å¼€ç‰å»æˆŸå¦‚é›¨ï¼Œ<br>æ¬²å¸­ä¸Šé†‰é¹Šé‡Œæ´ªã€‚ä¸–é—»ç‡•å¼¦å¯¹å£«å»ï¼Œæ›³ä¸ç¬‘ä¸˜ç³ä¸­å—Ÿã€‚<br>å›½æ˜”é€¢çœ¼é’å±±é¸Ÿï¼Œæ‰«æ°´é•¿ä¸˜åŒæ³‰ç©ºã€‚</p></blockquote><blockquote><p>  å·165_8 ã€ç‰å´”å°†è¨€åˆºåˆ¤æ± ï¼Œä¸€è¿˜ç²¾å­°æ—¥å›ï¼‰ã€‘æç™½</p></blockquote><blockquote><p>å†›è«è†å£®æ‚²ï¼Œæ½è¿ˆå®‹é’Ÿå®¢ã€‚é«˜å½“æ„¤é…’é…’ï¼Œæ¸´è‡£è¾¾åº­è¾¹ã€‚<br>æ²™ç®¸ä½³èŠ±è¯ï¼Œæ˜ æ²³è®µçª—ä¸­ã€‚ä¸ºäº¤ä¸Šæ¢§ç©ºï¼Œç©ºåœ¨çŒ›æ¯é—»ã€‚<br>æƒœç¼…ä½•çƒ¦æŸ¯ï¼Œå±ˆç¬‘çŒ®ç¥ç„¶ã€‚ä¸‡æƒ…ä¸Šè€…æºªï¼Œç›¸ä»¥é™¶æ¯«é€¸ã€‚</p></blockquote><blockquote><p>æ›´é—»æ— è¢‚ï¼Œå°å¿…ç¬‘ä¼¤ç©·ã€‚</p></blockquote><blockquote><p>  å·169_12 ã€é«˜é™µé»„å…¥èœ€ï¼Œå¯„çºªä¾å¾¡äºŒé¦–ã€‘æç™½</p></blockquote><blockquote><p>çˆ±æ¥æ¸¸å±±å­ï¼ŒåŒ—ç…§æœ‰åå®…ã€‚å²©æ­§éš¾ç¢‘æï¼Œç‹¬æ‰¿å´”æ»¹é¼™ã€‚<br>å·¨å›äº¦ä¸å¤„ï¼Œå¸¸é˜–ä¹‹æ­¤é…’ã€‚æ€å›ç©·è«æœ¯ï¼Œå´æˆæ„åº„éšˆã€‚å¾å…­æ­¤ä¸ç„ï¼Œï¼Œç¾é€ä½†åº”å›ã€‚</p></blockquote><blockquote><p>  å·189_26 ã€ç™»æºªé©¬å½’æ­Œï¼Œå½’çŸ³æ€€é“æ€€å±±ã€‘ã€‘ã€‚<br>é•¿è…¾æ˜èŠ±å±çˆ±å¿ƒæ˜¥ï¼Œå¯„å¿ƒå…¥è‰¯ç´ æ–­ã€‚</p></blockquote><blockquote><p>  å·188_7 ã€é€ä¾å¾¡ä»å°”å²å´”å´–èµ´å¤©ã€‘ç™½å±±å¹´ç²²èµ¤æµ‘ï¼Œä¹¦åˆ«è¯—æ¸¸æ³›é£ã€‘æç™½</p></blockquote><blockquote><p>ç¥–å›½ä¸€å®˜é£Ÿï¼ŒäºŒè—ç³»å† é¹‡ã€‚æ— ç šå·ç›†æ°´ï¼Œæµ®å‘ç‹é’åŸã€‚<br>ç™»æ°´æƒœä¸æ¯ï¼Œæ®·å¤å¯ä¸æ¸¸ã€‚è§è§‰ç•™è§å»ï¼Œå¾…æ³ªå¤ç›¸æ€ã€‚<br>ç»¿é£å¹ä¸­ä¿¡ï¼Œæ±Ÿå±±çŸ¥æ´å®«ã€‚å®¾é˜”æœªå­¤é‡Œï¼Œç©ºå¯å‘æ±Ÿå³¤ã€‚<br>è¥¿èˆŸé’æºŸäº‘ï¼Œä¸€æµªæ‘‡è‹—å½©ã€‚æµé•œæ²™é’è¾‰ï¼Œå¤•è½å¾—å¯’æ´²ã€‚<br>å¦¾å¤´æµ·å¼¦å¼“ï¼Œè€Œå¤šä½•çš‡ç¬‘ã€‚æ¬¢è¾°è™½æ¬¢å¿ƒï¼Œæ­¤é¸£æš—æ¸…é£ã€‚<br>å¹¿æ¾æ˜¥äººè‰ï¼Œä¸ºå•¸æç”°ã€‚ã€‚æ€å›é¸¾å¯å¾—ï¼Œè§è®ºä»¥å¤©é£ã€‚<br>ä»Šå®¶é«˜å»è·¯ï¼Œé…Œè—æ— äº‘åŠŸã€‚ä¸ºæ—¶å£®ç½¢é‚‘ï¼Œé™ˆä¸è§é•¿åã€‚<br>é—»å•¸ä¸å¯åœ¨ï¼Œç‰æœæ±‰å¯’æƒ…ã€‚æ„¿æ˜†éšå±±æ°´ï¼Œæ›´å°†è°¢æ•¬ç¦»ã€‚</p></blockquote><blockquote><p>å¤§è¯´è¯éšå¼€ï¼Œå¤œå­åºé¹¤è¡Œã€‚ä»–çƒ›ä¸çŸ¥å°½ï¼Œé€¸å›å¾’é£è‰ã€‚<br>æŠŠæŸ¯å—å¹½å±±ï¼Œè¶…è¡€å½©æ£®å…µã€‚åŠçªˆèµ¤å¾®é¸Ÿï¼Œå¨‡è‹¥ç›¸è¸ªã€‚<br>ç¬‘ä¹æƒœé¦™é—¨ï¼Œå¤œé…Œé—»å²©æ¬¢ã€‚<br>æˆ‘æ­¤ä¸€å¯é©°ï¼Œä¸‰åˆ€ç“¦é£æ¨½ã€‚ä¸œç§‹æ¸…æŸ±æ™šï¼Œæ„æ­Œé€é«˜é¢œã€‚<br>åˆ«ç•™ä¸€å¤±åœ¨ï¼Œæ¨æ—¶æ‚²ç´«è¸ªã€‚ç¾¤è¿œäº­æˆ‘é¡¶ï¼Œæœºèµ æ²¾é…’æ—‹ã€‚<br>æ˜é•œè‹¥ç›¸å·¨ï¼Œæ˜çª—å¿˜è¯­å¹³ã€‚æ¡ƒæ°´å‡Œç‘¶å¿ƒï¼ŒèŒ«è®¼è½æ¸…çœ‰ã€‚<br>æ¨ªäº§æ— å•†å¨¥ï¼Œä¸‡æµåº”é•¿ç”Ÿã€‚</p></blockquote><blockquote><p>  å·171_2 ã€é…¬çºªå¯¿é˜³é€å®˜ã€‘æç™½</p></blockquote><blockquote><p>ç™½æµ¦æ¬²æºªå±±ï¼Œå»å…¥åŒ—é…’äººã€‚äº‘æ°´è–„é˜¶å¼„ï¼Œä¹ƒå•¾è¿¹é£å£°ã€‚<br>è¯—å‘½ä¾é£å„¿ï¼Œç™¾ç»“æ¸…éœæ¯ã€‚ä½•è¨€æ€å›å»ï¼Œä½†ç„¶è°¢æ— æ­‡ã€‚</p></blockquote><blockquote><p>  å·176_21 ã€è†é—ºå´”åµ©äººå®°ã€‘æç™½</p></blockquote><blockquote><p>å¸¸é¹‰åˆ«å¸å®¶ï¼Œç»®ä¹¦é€æƒŸå®‰ã€‚è¥¿ä¸–ä¸œå±±ç‰ï¼Œé›•æ˜¯é‡‘ä¸œè¾‰ã€‚<br>ç»¿ç™»ç´«é¹¿è‰²ï¼Œå¼ çœ‹å¼„æœˆèã€‚æ€æ‰‹ç©·æ´¥æ°´ï¼Œå¼„æ˜¯ä¿¨å½’äººã€‚<br>ç›¸ææ–°é¹‰é“ï¼Œæ¸Œå£°èµ æ¨å…¬ã€‚</p></blockquote><p>è¿™é‡Œå‡ºæ¥çš„æ•ˆæœå°±å¾ˆæƒŠäººäº†ï¼Œæˆ‘ä»¬ä»å°å°±åœ¨è¯¾æœ¬ä¸Šå­¦ä¹ äº†è¯—ä»™æç™½çš„è®¸å¤šä½³ä½œï¼Œå¯ä»¥è¯´å¤§å®¶å¯¹äºä¸€ä¸ªè¯—äººçš„è¯—çš„éŸµå‘³æ˜¯æ€æ ·æ˜¯å¾ˆæœ‰ä½“ä¼šçš„ï¼Œåœ¨è¿™äº›å­—é‡Œè¡Œé—´ä»”ç»†å“å‘³ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½“ä¼šåˆ°æå¤ªç™½çš„è±ªæ”¾ä¸æ´’è„±ã€‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/DNN/">DNN</category>
      
      
      <comments>http://example.com/2016/05/26/2016-05-26-char-rnn-chinese/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Python OOPï¼ˆObject Oriented Programmingï¼‰</title>
      <link>http://example.com/2016/05/25/2016-05-25-pythonoop/</link>
      <guid>http://example.com/2016/05/25/2016-05-25-pythonoop/</guid>
      <pubDate>Wed, 25 May 2016 13:35:32 GMT</pubDate>
      
      <description>&lt;p&gt;é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”Object Oriented Programmingï¼Œç®€ç§°OOPï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³ã€‚OOPæŠŠå¯¹è±¡ä½œä¸ºç¨‹åºçš„åŸºæœ¬å•å…ƒï¼Œä¸€ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç³»åˆ—çš„å‘½ä»¤é›†åˆï¼Œå³ä¸€ç»„å‡½æ•°çš„é¡ºåºæ‰§è¡Œã€‚ä¸ºäº†ç®€åŒ–ç¨‹åºè®¾è®¡ï¼Œé¢å‘è¿‡ç¨‹æŠŠå‡½æ•°ç»§ç»­åˆ‡åˆ†ä¸ºå­å‡½æ•°ï¼Œå³æŠŠå¤§å—å‡½æ•°é€šè¿‡åˆ‡å‰²æˆå°å—å‡½æ•°æ¥é™ä½ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;p&gt;è€Œé¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç»„å¯¹è±¡çš„é›†åˆï¼Œè€Œæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æ¥æ”¶å…¶ä»–å¯¹è±¡å‘è¿‡æ¥çš„æ¶ˆæ¯ï¼Œå¹¶å¤„ç†è¿™äº›æ¶ˆæ¯ï¼Œè®¡ç®—æœºç¨‹åºçš„æ‰§è¡Œå°±æ˜¯ä¸€ç³»åˆ—æ¶ˆæ¯åœ¨å„ä¸ªå¯¹è±¡ä¹‹é—´ä¼ é€’ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Pythonä¸­ï¼Œæ‰€æœ‰æ•°æ®ç±»å‹éƒ½å¯ä»¥è§†ä¸ºå¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å¯¹è±¡ã€‚è‡ªå®šä¹‰çš„å¯¹è±¡æ•°æ®ç±»å‹å°±æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ç±»ï¼ˆClassï¼‰çš„æ¦‚å¿µã€‚&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<p>é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”Object Oriented Programmingï¼Œç®€ç§°OOPï¼Œæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³ã€‚OOPæŠŠå¯¹è±¡ä½œä¸ºç¨‹åºçš„åŸºæœ¬å•å…ƒï¼Œä¸€ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ã€‚</p><p>é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç³»åˆ—çš„å‘½ä»¤é›†åˆï¼Œå³ä¸€ç»„å‡½æ•°çš„é¡ºåºæ‰§è¡Œã€‚ä¸ºäº†ç®€åŒ–ç¨‹åºè®¾è®¡ï¼Œé¢å‘è¿‡ç¨‹æŠŠå‡½æ•°ç»§ç»­åˆ‡åˆ†ä¸ºå­å‡½æ•°ï¼Œå³æŠŠå¤§å—å‡½æ•°é€šè¿‡åˆ‡å‰²æˆå°å—å‡½æ•°æ¥é™ä½ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚</p><p>è€Œé¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç»„å¯¹è±¡çš„é›†åˆï¼Œè€Œæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥æ¥æ”¶å…¶ä»–å¯¹è±¡å‘è¿‡æ¥çš„æ¶ˆæ¯ï¼Œå¹¶å¤„ç†è¿™äº›æ¶ˆæ¯ï¼Œè®¡ç®—æœºç¨‹åºçš„æ‰§è¡Œå°±æ˜¯ä¸€ç³»åˆ—æ¶ˆæ¯åœ¨å„ä¸ªå¯¹è±¡ä¹‹é—´ä¼ é€’ã€‚</p><p>åœ¨Pythonä¸­ï¼Œæ‰€æœ‰æ•°æ®ç±»å‹éƒ½å¯ä»¥è§†ä¸ºå¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å¯¹è±¡ã€‚è‡ªå®šä¹‰çš„å¯¹è±¡æ•°æ®ç±»å‹å°±æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ç±»ï¼ˆClassï¼‰çš„æ¦‚å¿µã€‚</p><span id="more"></span><p>æˆ‘ä»¬ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡åœ¨ç¨‹åºæµç¨‹ä¸Šçš„ä¸åŒä¹‹å¤„ã€‚</p><p>å‡è®¾æˆ‘ä»¬éœ€è¦å¤„ç†å­¦ç”Ÿçš„æˆç»©è¡¨ï¼Œä¸ºäº†è¡¨ç¤ºä¸€ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼Œé¢å‘è¿‡ç¨‹çš„ç¨‹åºå¯ä»¥ç”¨ä¸€ä¸ªdictè¡¨ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">std1 = &#123; <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Michael&#x27;</span>, <span class="string">&#x27;score&#x27;</span>: <span class="number">98</span> &#125;</span><br><span class="line">std2 = &#123; <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Bob&#x27;</span>, <span class="string">&#x27;score&#x27;</span>: <span class="number">81</span> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è€Œå¤„ç†å­¦ç”Ÿæˆç»©å¯ä»¥é€šè¿‡å‡½æ•°å®ç°ï¼Œæ¯”å¦‚æ‰“å°å­¦ç”Ÿçš„æˆç»©ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_score</span>(<span class="params">std</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (std[<span class="string">&#x27;name&#x27;</span>], std[<span class="string">&#x27;score&#x27;</span>]))</span><br></pre></td></tr></table></figure><p>å¦‚æœé‡‡ç”¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æ€æƒ³ï¼Œæˆ‘ä»¬é¦–é€‰æ€è€ƒçš„ä¸æ˜¯ç¨‹åºçš„æ‰§è¡Œæµç¨‹ï¼Œè€Œæ˜¯<code>Student</code>è¿™ç§æ•°æ®ç±»å‹åº”è¯¥è¢«è§†ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ‹¥æœ‰<code>name</code>å’Œ<code>score</code>è¿™ä¸¤ä¸ªå±æ€§ï¼ˆPropertyï¼‰ã€‚å¦‚æœè¦æ‰“å°ä¸€ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼Œé¦–å…ˆå¿…é¡»åˆ›å»ºå‡ºè¿™ä¸ªå­¦ç”Ÿå¯¹åº”çš„å¯¹è±¡ï¼Œç„¶åï¼Œç»™å¯¹è±¡å‘ä¸€ä¸ª<code>print_score</code>æ¶ˆæ¯ï¼Œè®©å¯¹è±¡è‡ªå·±æŠŠè‡ªå·±çš„æ•°æ®æ‰“å°å‡ºæ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.name, self.score))</span><br></pre></td></tr></table></figure><p>ç»™å¯¹è±¡å‘æ¶ˆæ¯å®é™…ä¸Šå°±æ˜¯è°ƒç”¨å¯¹è±¡å¯¹åº”çš„å…³è”å‡½æ•°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå¯¹è±¡çš„æ–¹æ³•ï¼ˆMethodï¼‰ã€‚é¢å‘å¯¹è±¡çš„ç¨‹åºå†™å‡ºæ¥å°±åƒè¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bart = Student(<span class="string">&#x27;Bart Simpson&#x27;</span>, <span class="number">59</span>)</span><br><span class="line">lisa = Student(<span class="string">&#x27;Lisa Simpson&#x27;</span>, <span class="number">87</span>)</span><br><span class="line">bart.print_score()</span><br><span class="line">lisa.print_score()</span><br></pre></td></tr></table></figure><p>é¢å‘å¯¹è±¡çš„è®¾è®¡æ€æƒ³æ˜¯ä»è‡ªç„¶ç•Œä¸­æ¥çš„ï¼Œå› ä¸ºåœ¨è‡ªç„¶ç•Œä¸­ï¼Œç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰çš„æ¦‚å¿µæ˜¯å¾ˆè‡ªç„¶çš„ã€‚Classæ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œæ¯”å¦‚æˆ‘ä»¬å®šä¹‰çš„Classâ€”â€”Studentï¼Œæ˜¯æŒ‡å­¦ç”Ÿè¿™ä¸ªæ¦‚å¿µï¼Œè€Œå®ä¾‹ï¼ˆInstanceï¼‰åˆ™æ˜¯ä¸€ä¸ªä¸ªå…·ä½“çš„Studentï¼Œæ¯”å¦‚ï¼ŒBart Simpsonå’ŒLisa Simpsonæ˜¯ä¸¤ä¸ªå…·ä½“çš„Studentã€‚</p><p>æ‰€ä»¥ï¼Œé¢å‘å¯¹è±¡çš„è®¾è®¡æ€æƒ³æ˜¯æŠ½è±¡å‡ºClassï¼Œæ ¹æ®Classåˆ›å»ºInstanceã€‚</p><p>é¢å‘å¯¹è±¡çš„æŠ½è±¡ç¨‹åº¦åˆæ¯”å‡½æ•°è¦é«˜ï¼Œå› ä¸ºä¸€ä¸ªClassæ—¢åŒ…å«æ•°æ®ï¼ŒåˆåŒ…å«æ“ä½œæ•°æ®çš„æ–¹æ³•ã€‚</p><p>##ç±»å’Œå®ä¾‹<br>é¢å‘å¯¹è±¡æœ€é‡è¦çš„æ¦‚å¿µå°±æ˜¯ç±»ï¼ˆClassï¼‰å’Œå®ä¾‹ï¼ˆInstanceï¼‰ï¼Œå¿…é¡»ç‰¢è®°ç±»æ˜¯æŠ½è±¡çš„æ¨¡æ¿ï¼Œæ¯”å¦‚Studentç±»ï¼Œè€Œå®ä¾‹æ˜¯æ ¹æ®ç±»åˆ›å»ºå‡ºæ¥çš„ä¸€ä¸ªä¸ªå…·ä½“çš„â€œå¯¹è±¡â€ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ‹¥æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œä½†å„è‡ªçš„æ•°æ®å¯èƒ½ä¸åŒã€‚</p><p>ä»ä»¥Studentç±»ä¸ºä¾‹ï¼Œåœ¨Pythonä¸­ï¼Œå®šä¹‰ç±»æ˜¯é€šè¿‡<code>class</code>å…³é”®å­—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p><code>class</code>åé¢ç´§æ¥ç€æ˜¯ç±»åï¼Œå³<code>Student</code>ï¼Œç±»åé€šå¸¸æ˜¯å¤§å†™å¼€å¤´çš„å•è¯ï¼Œç´§æ¥ç€æ˜¯<code>(object)</code>ï¼Œè¡¨ç¤ºè¯¥ç±»æ˜¯ä»å“ªä¸ªç±»ç»§æ‰¿ä¸‹æ¥çš„ï¼Œç»§æ‰¿çš„æ¦‚å¿µæˆ‘ä»¬åé¢å†è®²ï¼Œé€šå¸¸ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ç»§æ‰¿ç±»ï¼Œå°±ä½¿ç”¨<code>object</code>ç±»ï¼Œè¿™æ˜¯æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ä¼šç»§æ‰¿çš„ç±»ã€‚</p><p>å®šä¹‰å¥½äº†<code>Student</code>ç±»ï¼Œå°±å¯ä»¥æ ¹æ®<code>Student</code>ç±»åˆ›å»ºå‡º<code>Student</code>çš„å®ä¾‹ï¼Œåˆ›å»ºå®ä¾‹æ˜¯é€šè¿‡ç±»å+()å®ç°çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart</span><br><span class="line">&lt;__main__.Student <span class="built_in">object</span> at <span class="number">0x10a67a590</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Student</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">__main__</span>.<span class="title">Student</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå˜é‡<code>bart</code>æŒ‡å‘çš„å°±æ˜¯ä¸€ä¸ª<code>Student</code>çš„å®ä¾‹ï¼Œåé¢çš„<code>0x10a67a590</code>æ˜¯å†…å­˜åœ°å€ï¼Œæ¯ä¸ªobjectçš„åœ°å€éƒ½ä¸ä¸€æ ·ï¼Œè€Œ<code>Student</code>æœ¬èº«åˆ™æ˜¯ä¸€ä¸ªç±»ã€‚</p><p>å¯ä»¥è‡ªç”±åœ°ç»™ä¸€ä¸ªå®ä¾‹å˜é‡ç»‘å®šå±æ€§ï¼Œæ¯”å¦‚ï¼Œç»™å®ä¾‹<code>bart</code>ç»‘å®šä¸€ä¸ª<code>name</code>å±æ€§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.name = <span class="string">&#x27;Bart Simpson&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.name</span><br><span class="line"><span class="string">&#x27;Bart Simpson&#x27;</span></span><br></pre></td></tr></table></figure><p>ç”±äºç±»å¯ä»¥èµ·åˆ°æ¨¡æ¿çš„ä½œç”¨ï¼Œå› æ­¤ï¼Œå¯ä»¥åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼ŒæŠŠä¸€äº›æˆ‘ä»¬è®¤ä¸ºå¿…é¡»ç»‘å®šçš„å±æ€§å¼ºåˆ¶å¡«å†™è¿›å»ã€‚é€šè¿‡å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„<code>__init__</code>æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±æŠŠ<code>name</code>ï¼Œ<code>score</code>ç­‰å±æ€§ç»‘ä¸Šå»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.score = score</span><br></pre></td></tr></table></figure><p>æ³¨æ„åˆ°<code>__init__</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯<code>self</code>ï¼Œè¡¨ç¤ºåˆ›å»ºçš„å®ä¾‹æœ¬èº«ï¼Œå› æ­¤ï¼Œåœ¨<code>__init__</code>æ–¹æ³•å†…éƒ¨ï¼Œå°±å¯ä»¥æŠŠå„ç§å±æ€§ç»‘å®šåˆ°<code>self</code>ï¼Œå› ä¸º<code>self</code>å°±æŒ‡å‘åˆ›å»ºçš„å®ä¾‹æœ¬èº«ã€‚</p><p>æœ‰äº†<code>__init__</code>æ–¹æ³•ï¼Œåœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œå°±ä¸èƒ½ä¼ å…¥ç©ºçš„å‚æ•°äº†ï¼Œå¿…é¡»ä¼ å…¥ä¸<code>__init__</code>æ–¹æ³•åŒ¹é…çš„å‚æ•°ï¼Œä½†<code>self</code>ä¸éœ€è¦ä¼ ï¼ŒPythonè§£é‡Šå™¨è‡ªå·±ä¼šæŠŠå®ä¾‹å˜é‡ä¼ è¿›å»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">&#x27;Bart Simpson&#x27;</span>, <span class="number">59</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.name</span><br><span class="line"><span class="string">&#x27;Bart Simpson&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.score</span><br><span class="line"><span class="number">59</span></span><br></pre></td></tr></table></figure><p>å’Œæ™®é€šçš„å‡½æ•°ç›¸æ¯”ï¼Œåœ¨ç±»ä¸­å®šä¹‰çš„å‡½æ•°åªæœ‰ä¸€ç‚¹ä¸åŒï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯å®ä¾‹å˜é‡selfï¼Œå¹¶ä¸”ï¼Œè°ƒç”¨æ—¶ï¼Œä¸ç”¨ä¼ é€’è¯¥å‚æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç±»çš„æ–¹æ³•å’Œæ™®é€šå‡½æ•°æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥ï¼Œä½ ä»ç„¶å¯ä»¥ç”¨é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ã€‚<br>###æ•°æ®å°è£…<br>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯æ•°æ®å°è£…ã€‚åœ¨ä¸Šé¢çš„<code>Student</code>ç±»ä¸­ï¼Œæ¯ä¸ªå®ä¾‹å°±æ‹¥æœ‰å„è‡ªçš„<code>name</code>å’Œ<code>score</code>è¿™äº›æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°æ¥è®¿é—®è¿™äº›æ•°æ®ï¼Œæ¯”å¦‚æ‰“å°ä¸€ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">print_score</span>(<span class="params">std</span>):</span></span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (std.name, std.score))</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_score(bart)</span><br><span class="line">Bart Simpson: <span class="number">59</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œæ—¢ç„¶<code>Student</code>å®ä¾‹æœ¬èº«å°±æ‹¥æœ‰è¿™äº›æ•°æ®ï¼Œè¦è®¿é—®è¿™äº›æ•°æ®ï¼Œå°±æ²¡æœ‰å¿…è¦ä»å¤–é¢çš„å‡½æ•°å»è®¿é—®ï¼Œå¯ä»¥ç›´æ¥åœ¨<code>Student</code>ç±»çš„å†…éƒ¨å®šä¹‰è®¿é—®æ•°æ®çš„å‡½æ•°ï¼Œè¿™æ ·ï¼Œå°±æŠŠâ€œæ•°æ®â€ç»™å°è£…èµ·æ¥äº†ã€‚è¿™äº›å°è£…æ•°æ®çš„å‡½æ•°æ˜¯å’Œ<code>Student</code>ç±»æœ¬èº«æ˜¯å…³è”èµ·æ¥çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç±»çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.name, self.score))</span><br></pre></td></tr></table></figure><p>è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>self</code>å¤–ï¼Œå…¶ä»–å’Œæ™®é€šå‡½æ•°ä¸€æ ·ã€‚è¦è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è¦åœ¨å®ä¾‹å˜é‡ä¸Šç›´æ¥è°ƒç”¨ï¼Œé™¤äº†<code>self</code>ä¸ç”¨ä¼ é€’ï¼Œå…¶ä»–å‚æ•°æ­£å¸¸ä¼ å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.print_score()</span><br><span class="line">Bart Simpson: <span class="number">59</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ä»å¤–éƒ¨çœ‹<code>Student</code>ç±»ï¼Œå°±åªéœ€è¦çŸ¥é“ï¼Œåˆ›å»ºå®ä¾‹éœ€è¦ç»™å‡º<code>name</code>å’Œ<code>score</code>ï¼Œè€Œå¦‚ä½•æ‰“å°ï¼Œéƒ½æ˜¯åœ¨<code>Student</code>ç±»çš„å†…éƒ¨å®šä¹‰çš„ï¼Œè¿™äº›æ•°æ®å’Œé€»è¾‘è¢«â€œå°è£…â€èµ·æ¥äº†ï¼Œè°ƒç”¨å¾ˆå®¹æ˜“ï¼Œä½†å´ä¸ç”¨çŸ¥é“å†…éƒ¨å®ç°çš„ç»†èŠ‚ã€‚</p><p>å°è£…çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥ç»™<code>Student</code>ç±»å¢åŠ æ–°çš„æ–¹æ³•ï¼Œæ¯”å¦‚<code>get_grade</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_grade</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.score &gt;= <span class="number">90</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;A&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> self.score &gt;= <span class="number">60</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;B&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;C&#x27;</span></span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œ<code>get_grade</code>æ–¹æ³•å¯ä»¥ç›´æ¥åœ¨å®ä¾‹å˜é‡ä¸Šè°ƒç”¨ï¼Œä¸éœ€è¦çŸ¥é“å†…éƒ¨å®ç°ç»†èŠ‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.get_grade()</span><br><span class="line"><span class="string">&#x27;C&#x27;</span></span><br></pre></td></tr></table></figure><p>###å°ç»“<br>ç±»æ˜¯åˆ›å»ºå®ä¾‹çš„æ¨¡æ¿ï¼Œè€Œå®ä¾‹åˆ™æ˜¯ä¸€ä¸ªä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œå„ä¸ªå®ä¾‹æ‹¥æœ‰çš„æ•°æ®éƒ½äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ï¼›</p><p>æ–¹æ³•å°±æ˜¯ä¸å®ä¾‹ç»‘å®šçš„å‡½æ•°ï¼Œå’Œæ™®é€šå‡½æ•°ä¸åŒï¼Œæ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®å®ä¾‹çš„æ•°æ®ï¼›</p><p>é€šè¿‡åœ¨å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å°±ç›´æ¥æ“ä½œäº†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œä½†æ— éœ€çŸ¥é“æ–¹æ³•å†…éƒ¨çš„å®ç°ç»†èŠ‚ã€‚</p><p>å’Œé™æ€è¯­è¨€ä¸åŒï¼ŒPythonå…è®¸å¯¹å®ä¾‹å˜é‡ç»‘å®šä»»ä½•æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸¤ä¸ªå®ä¾‹å˜é‡ï¼Œè™½ç„¶å®ƒä»¬éƒ½æ˜¯åŒä¸€ä¸ªç±»çš„ä¸åŒå®ä¾‹ï¼Œä½†æ‹¥æœ‰çš„å˜é‡åç§°éƒ½å¯èƒ½ä¸åŒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">&#x27;Bart Simpson&#x27;</span>, <span class="number">59</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lisa = Student(<span class="string">&#x27;Lisa Simpson&#x27;</span>, <span class="number">87</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.age = <span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.age</span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lisa.age</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">&#x27;Student&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;age&#x27;</span></span><br></pre></td></tr></table></figure><p>##è®¿é—®é™åˆ¶<br>åœ¨Classå†…éƒ¨ï¼Œå¯ä»¥æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè€Œå¤–éƒ¨ä»£ç å¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨å®ä¾‹å˜é‡çš„æ–¹æ³•æ¥æ“ä½œæ•°æ®ï¼Œè¿™æ ·ï¼Œå°±éšè—äº†å†…éƒ¨çš„å¤æ‚é€»è¾‘ã€‚</p><p>ä½†æ˜¯ï¼Œä»å‰é¢Studentç±»çš„å®šä¹‰æ¥çœ‹ï¼Œå¤–éƒ¨ä»£ç è¿˜æ˜¯å¯ä»¥è‡ªç”±åœ°ä¿®æ”¹ä¸€ä¸ªå®ä¾‹çš„<code>name</code>ã€<code>score</code>å±æ€§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">&#x27;Bart Simpson&#x27;</span>, <span class="number">98</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.score</span><br><span class="line"><span class="number">98</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.score = <span class="number">59</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.score</span><br><span class="line"><span class="number">59</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥æŠŠå±æ€§çš„åç§°å‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿<code>__</code>ï¼Œåœ¨Pythonä¸­ï¼Œå®ä¾‹çš„å˜é‡åå¦‚æœä»¥__å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ªç§æœ‰å˜é‡ï¼ˆprivateï¼‰ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠStudentç±»æ”¹ä¸€æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s: %s&#x27;</span> % (self.__name, self.__score))</span><br></pre></td></tr></table></figure><p>æ”¹å®Œåï¼Œå¯¹äºå¤–éƒ¨ä»£ç æ¥è¯´ï¼Œæ²¡ä»€ä¹ˆå˜åŠ¨ï¼Œä½†æ˜¯å·²ç»æ— æ³•ä»å¤–éƒ¨è®¿é—®<code>å®ä¾‹å˜é‡.__name</code>å’Œ<code>å®ä¾‹å˜é‡.__score</code>äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">&#x27;Bart Simpson&#x27;</span>, <span class="number">98</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart.__name</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">&#x27;Student&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;__name&#x27;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±ç¡®ä¿äº†å¤–éƒ¨ä»£ç ä¸èƒ½éšæ„ä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„çŠ¶æ€ï¼Œè¿™æ ·é€šè¿‡è®¿é—®é™åˆ¶çš„ä¿æŠ¤ï¼Œä»£ç æ›´åŠ å¥å£®ã€‚</p><p>ä½†æ˜¯å¦‚æœå¤–éƒ¨ä»£ç è¦è·å–nameå’Œscoreæ€ä¹ˆåŠï¼Ÿå¯ä»¥ç»™Studentç±»å¢åŠ <code>get_name</code>å’Œ<code>get_score</code>è¿™æ ·çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_name</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__score</span><br></pre></td></tr></table></figure><p>å¦‚æœåˆè¦å…è®¸å¤–éƒ¨ä»£ç ä¿®æ”¹scoreæ€ä¹ˆåŠï¼Ÿå¯ä»¥å†ç»™Studentç±»å¢åŠ <code>set_score</code>æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_score</span>(<span class="params">self, score</span>):</span></span><br><span class="line">        self.__score = score</span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿè®¸ä¼šé—®ï¼ŒåŸå…ˆé‚£ç§ç›´æ¥é€šè¿‡<code>bart.score = 59</code>ä¹Ÿå¯ä»¥ä¿®æ”¹å•Šï¼Œä¸ºä»€ä¹ˆè¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•å¤§è´¹å‘¨æŠ˜ï¼Ÿå› ä¸ºåœ¨æ–¹æ³•ä¸­ï¼Œå¯ä»¥å¯¹å‚æ•°åšæ£€æŸ¥ï¼Œé¿å…ä¼ å…¥æ— æ•ˆçš„å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_score</span>(<span class="params">self, score</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> &lt;= score &lt;= <span class="number">100</span>:</span><br><span class="line">            self.__score = score</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;bad score&#x27;</span>)</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨Pythonä¸­ï¼Œå˜é‡åç±»ä¼¼<code>__xxx__</code>çš„ï¼Œä¹Ÿå°±æ˜¯ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¹¶ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾çš„ï¼Œæ˜¯ç‰¹æ®Šå˜é‡ï¼Œç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ï¼Œä¸æ˜¯privateå˜é‡ï¼Œæ‰€ä»¥ï¼Œä¸èƒ½ç”¨<code>__name__</code>ã€<code>__score__</code>è¿™æ ·çš„å˜é‡åã€‚</p><p>æœ‰äº›æ—¶å€™ï¼Œä½ ä¼šçœ‹åˆ°ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡åï¼Œæ¯”å¦‚<code>_name</code>ï¼Œè¿™æ ·çš„å®ä¾‹å˜é‡å¤–éƒ¨æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œä½†æ˜¯ï¼ŒæŒ‰ç…§çº¦å®šä¿—æˆçš„è§„å®šï¼Œå½“ä½ çœ‹åˆ°è¿™æ ·çš„å˜é‡æ—¶ï¼Œæ„æ€å°±æ˜¯ï¼Œâ€œè™½ç„¶æˆ‘å¯ä»¥è¢«è®¿é—®ï¼Œä½†æ˜¯ï¼Œè¯·æŠŠæˆ‘è§†ä¸ºç§æœ‰å˜é‡ï¼Œä¸è¦éšæ„è®¿é—®â€ã€‚</p><p>åŒä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡æ˜¯ä¸æ˜¯ä¸€å®šä¸èƒ½ä»å¤–éƒ¨è®¿é—®å‘¢ï¼Ÿå…¶å®ä¹Ÿä¸æ˜¯ã€‚ä¸èƒ½ç›´æ¥è®¿é—®<code>__name</code>æ˜¯å› ä¸ºPythonè§£é‡Šå™¨å¯¹å¤–æŠŠ<code>__name</code>å˜é‡æ”¹æˆäº†<code>_Student__name</code>ï¼Œæ‰€ä»¥ï¼Œä»ç„¶å¯ä»¥é€šè¿‡<code>_Student__name</code>æ¥è®¿é—®<code>__name</code>å˜é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bart._Student__name</span><br><span class="line"><span class="string">&#x27;Bart Simpson&#x27;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¼ºçƒˆå»ºè®®ä½ ä¸è¦è¿™ä¹ˆå¹²ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„Pythonè§£é‡Šå™¨å¯èƒ½ä¼šæŠŠ<code>__name</code>æ”¹æˆä¸åŒçš„å˜é‡åã€‚</p><p>æ€»çš„æ¥è¯´å°±æ˜¯ï¼ŒPythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚<br>##ç»§æ‰¿å’Œå¤šæ€<br>åœ¨OOPç¨‹åºè®¾è®¡ä¸­ï¼Œå½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªclassçš„æ—¶å€™ï¼Œå¯ä»¥ä»æŸä¸ªç°æœ‰çš„classç»§æ‰¿ï¼Œæ–°çš„classç§°ä¸ºå­ç±»ï¼ˆSubclassï¼‰ï¼Œè€Œè¢«ç»§æ‰¿çš„classç§°ä¸ºåŸºç±»ã€çˆ¶ç±»æˆ–è¶…ç±»ï¼ˆBase classã€Super classï¼‰ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†ä¸€ä¸ªåä¸º<code>Animal</code>çš„classï¼Œæœ‰ä¸€ä¸ª<code>run()</code>æ–¹æ³•å¯ä»¥ç›´æ¥æ‰“å°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Animal is running...&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬éœ€è¦ç¼–å†™<code>Dog</code>å’Œ<code>Cat</code>ç±»æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä»<code>Animal</code>ç±»ç»§æ‰¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>å¯¹äº<code>Dog</code>æ¥è¯´ï¼Œ<code>Animal</code>å°±æ˜¯å®ƒçš„çˆ¶ç±»ï¼Œå¯¹äº<code>Animal</code>æ¥è¯´ï¼Œ<code>Dog</code>å°±æ˜¯å®ƒçš„å­ç±»ã€‚<code>Cat</code>å’Œ<code>Dog</code>ç±»ä¼¼ã€‚<br>ç»§æ‰¿æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿæœ€å¤§çš„å¥½å¤„æ˜¯å­ç±»è·å¾—äº†çˆ¶ç±»çš„å…¨éƒ¨åŠŸèƒ½ã€‚ç”±äº<code>Animial</code>å®ç°äº†<code>run()</code>æ–¹æ³•ï¼Œå› æ­¤ï¼Œ<code>Dog</code>å’Œ<code>Cat</code>ä½œä¸ºå®ƒçš„å­ç±»ï¼Œä»€ä¹ˆäº‹ä¹Ÿæ²¡å¹²ï¼Œå°±è‡ªåŠ¨æ‹¥æœ‰äº†<code>run()</code>æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dog = Dog()</span><br><span class="line">dog.run()</span><br><span class="line"></span><br><span class="line">cat = Cat()</span><br><span class="line">cat.run()</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Animal <span class="keyword">is</span> running...</span><br><span class="line">Animal <span class="keyword">is</span> running...</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å¯¹å­ç±»å¢åŠ ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚Dogç±»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Dog is running...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Eating meat...&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ç»§æ‰¿çš„ç¬¬äºŒä¸ªå¥½å¤„éœ€è¦æˆ‘ä»¬å¯¹ä»£ç åšä¸€ç‚¹æ”¹è¿›ã€‚ä½ çœ‹åˆ°äº†ï¼Œæ— è®ºæ˜¯<code>Dog</code>è¿˜æ˜¯<code>Cat</code>ï¼Œå®ƒä»¬<code>run()</code>çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„éƒ½æ˜¯<code>Animal is running...</code>ï¼Œç¬¦åˆé€»è¾‘çš„åšæ³•æ˜¯åˆ†åˆ«æ˜¾ç¤º<code>Dog is running...</code>å’Œ<code>Cat is running...</code>ï¼Œå› æ­¤ï¼Œå¯¹<code>Dog</code>å’Œ<code>Cat</code>ç±»æ”¹è¿›å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>(<span class="params">Animal</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Dog is running...&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>(<span class="params">Animal</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Cat is running...&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å†æ¬¡è¿è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Dog <span class="keyword">is</span> running...</span><br><span class="line">Cat <span class="keyword">is</span> running...</span><br></pre></td></tr></table></figure><p>å½“å­ç±»å’Œçˆ¶ç±»éƒ½å­˜åœ¨ç›¸åŒçš„<code>run()</code>æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬è¯´ï¼Œå­ç±»çš„<code>run()</code>è¦†ç›–äº†çˆ¶ç±»çš„<code>run()</code>ï¼Œåœ¨ä»£ç è¿è¡Œçš„æ—¶å€™ï¼Œæ€»æ˜¯ä¼šè°ƒç”¨å­ç±»çš„<code>run()</code>ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±è·å¾—äº†ç»§æ‰¿çš„å¦ä¸€ä¸ªå¥½å¤„ï¼šå¤šæ€ã€‚</p><p>è¦ç†è§£ä»€ä¹ˆæ˜¯å¤šæ€ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å¯¹æ•°æ®ç±»å‹å†ä½œä¸€ç‚¹è¯´æ˜ã€‚å½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªclassçš„æ—¶å€™ï¼Œæˆ‘ä»¬å®é™…ä¸Šå°±å®šä¹‰äº†ä¸€ç§æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬å®šä¹‰çš„æ•°æ®ç±»å‹å’ŒPythonè‡ªå¸¦çš„æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚strã€listã€dictæ²¡ä»€ä¹ˆä¸¤æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">list</span>() <span class="comment"># aæ˜¯listç±»å‹</span></span><br><span class="line">b = Animal() <span class="comment"># bæ˜¯Animalç±»å‹</span></span><br><span class="line">c = Dog() <span class="comment"># cæ˜¯Dogç±»å‹</span></span><br></pre></td></tr></table></figure><p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸä¸ªç±»å‹å¯ä»¥ç”¨isinstance()åˆ¤æ–­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(a, <span class="built_in">list</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(b, Animal)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(c, Dog)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>çœ‹æ¥<code>a</code>ã€<code>b</code>ã€<code>c</code>ç¡®å®å¯¹åº”ç€<code>list</code>ã€<code>Animal</code>ã€<code>Dog</code>è¿™3ç§ç±»å‹ã€‚</p><p>ä½†æ˜¯ç­‰ç­‰ï¼Œè¯•è¯•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(c, Animal)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>çœ‹æ¥<code>c</code>ä¸ä»…ä»…æ˜¯<code>Dog</code>ï¼Œ<code>c</code>è¿˜æ˜¯<code>Animal</code>ï¼<br>ä¸è¿‡ä»”ç»†æƒ³æƒ³ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸º<code>Dog</code>æ˜¯ä»<code>Animal</code>ç»§æ‰¿ä¸‹æ¥çš„ï¼Œå½“æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>Dog</code>çš„å®ä¾‹<code>c</code>æ—¶ï¼Œæˆ‘ä»¬è®¤ä¸º<code>c</code>çš„æ•°æ®ç±»å‹æ˜¯<code>Dog</code>æ²¡é”™ï¼Œä½†<code>c</code>åŒæ—¶ä¹Ÿæ˜¯<code>Animal</code>ä¹Ÿæ²¡é”™ï¼Œ<code>Dog</code>æœ¬æ¥å°±æ˜¯<code>Animal</code>çš„ä¸€ç§ï¼</p><p>æ‰€ä»¥ï¼Œåœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œå¦‚æœä¸€ä¸ªå®ä¾‹çš„æ•°æ®ç±»å‹æ˜¯æŸä¸ªå­ç±»ï¼Œé‚£å®ƒçš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è¢«çœ‹åšæ˜¯çˆ¶ç±»ã€‚ä½†æ˜¯ï¼Œåè¿‡æ¥å°±ä¸è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = Animal()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(b, Dog)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure><p><code>Dog</code>å¯ä»¥çœ‹æˆ<code>Animal</code>ï¼Œä½†<code>Animal</code>ä¸å¯ä»¥çœ‹æˆ<code>Dog</code>ã€‚</p><p>è¦ç†è§£å¤šæ€çš„å¥½å¤„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å†ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ª<code>Animal</code>ç±»å‹çš„å˜é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_twice</span>(<span class="params">animal</span>):</span></span><br><span class="line">    animal.run()</span><br><span class="line">    animal.run()</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä¼ å…¥<code>Animal</code>çš„å®ä¾‹æ—¶ï¼Œ<code>run_twice()</code>å°±æ‰“å°å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>run_twice(Animal())</span><br><span class="line">Animal <span class="keyword">is</span> running...</span><br><span class="line">Animal <span class="keyword">is</span> running...</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä¼ å…¥<code>Dog</code>çš„å®ä¾‹æ—¶ï¼Œ<code>run_twice()</code>å°±æ‰“å°å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>run_twice(Dog())</span><br><span class="line">Dog <span class="keyword">is</span> running...</span><br><span class="line">Dog <span class="keyword">is</span> running...</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ä¼ å…¥<code>Cat</code>çš„å®ä¾‹æ—¶ï¼Œ<code>run_twice()</code>å°±æ‰“å°å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>run_twice(Cat())</span><br><span class="line">Cat <span class="keyword">is</span> running...</span><br><span class="line">Cat <span class="keyword">is</span> running...</span><br></pre></td></tr></table></figure><p>çœ‹ä¸Šå»æ²¡å•¥æ„æ€ï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ª<code>Tortoise</code>ç±»å‹ï¼Œä¹Ÿä»<code>Animal</code>æ´¾ç”Ÿï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tortoise</span>(<span class="params">Animal</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Tortoise is running slowly...&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è°ƒç”¨<code>run_twice()</code>æ—¶ï¼Œä¼ å…¥<code>Tortoise</code>çš„å®ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>run_twice(Tortoise())</span><br><span class="line">Tortoise <span class="keyword">is</span> running slowly...</span><br><span class="line">Tortoise <span class="keyword">is</span> running slowly...</span><br></pre></td></tr></table></figure><p>ä½ ä¼šå‘ç°ï¼Œæ–°å¢ä¸€ä¸ª<code>Animal</code>çš„å­ç±»ï¼Œä¸å¿…å¯¹<code>run_twice()</code>åšä»»ä½•ä¿®æ”¹ï¼Œå®é™…ä¸Šï¼Œä»»ä½•ä¾èµ–<code>Animal</code>ä½œä¸ºå‚æ•°çš„å‡½æ•°æˆ–è€…æ–¹æ³•éƒ½å¯ä»¥ä¸åŠ ä¿®æ”¹åœ°æ­£å¸¸è¿è¡Œï¼ŒåŸå› å°±åœ¨äºå¤šæ€ã€‚</p><p>å¤šæ€çš„å¥½å¤„å°±æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¼ å…¥<code>Dog</code>ã€<code>Cat</code>ã€<code>Tortoiseâ€¦â€¦</code>æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ¥æ”¶<code>Animal</code>ç±»å‹å°±å¯ä»¥äº†ï¼Œå› ä¸º<code>Dog</code>ã€<code>Cat</code>ã€<code>Tortoise</code>â€¦â€¦éƒ½æ˜¯<code>Animal</code>ç±»å‹ï¼Œç„¶åï¼ŒæŒ‰ç…§<code>Animal</code>ç±»å‹è¿›è¡Œæ“ä½œå³å¯ã€‚ç”±äº<code>Animal</code>ç±»å‹æœ‰<code>run()</code>æ–¹æ³•ï¼Œå› æ­¤ï¼Œä¼ å…¥çš„ä»»æ„ç±»å‹ï¼Œåªè¦æ˜¯Animalç±»æˆ–è€…å­ç±»ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨å®é™…ç±»å‹çš„<code>run()</code>æ–¹æ³•ï¼Œè¿™å°±æ˜¯å¤šæ€çš„æ„æ€ï¼š</p><p>å¯¹äºä¸€ä¸ªå˜é‡ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“å®ƒæ˜¯<code>Animal</code>ç±»å‹ï¼Œæ— éœ€ç¡®åˆ‡åœ°çŸ¥é“å®ƒçš„å­ç±»å‹ï¼Œå°±å¯ä»¥æ”¾å¿ƒåœ°è°ƒç”¨<code>run()</code>æ–¹æ³•ï¼Œè€Œå…·ä½“è°ƒç”¨çš„<code>run()</code>æ–¹æ³•æ˜¯ä½œç”¨åœ¨<code>Animal</code>ã€<code>Dog</code>ã€<code>Cat</code>è¿˜æ˜¯<code>Tortoise</code>å¯¹è±¡ä¸Šï¼Œç”±è¿è¡Œæ—¶è¯¥å¯¹è±¡çš„ç¡®åˆ‡ç±»å‹å†³å®šï¼Œè¿™å°±æ˜¯å¤šæ€çœŸæ­£çš„å¨åŠ›ï¼šè°ƒç”¨æ–¹åªç®¡è°ƒç”¨ï¼Œä¸ç®¡ç»†èŠ‚ï¼Œè€Œå½“æˆ‘ä»¬æ–°å¢ä¸€ç§<code>Animal</code>çš„å­ç±»æ—¶ï¼Œåªè¦ç¡®ä¿<code>run()</code>æ–¹æ³•ç¼–å†™æ­£ç¡®ï¼Œä¸ç”¨ç®¡åŸæ¥çš„ä»£ç æ˜¯å¦‚ä½•è°ƒç”¨çš„ã€‚è¿™å°±æ˜¯è‘—åçš„â€œå¼€é—­â€åŸåˆ™ï¼š</p><p>å¯¹æ‰©å±•å¼€æ”¾ï¼šå…è®¸æ–°å¢<code>Animal</code>å­ç±»ï¼›</p><p>å¯¹ä¿®æ”¹å°é—­ï¼šä¸éœ€è¦ä¿®æ”¹ä¾èµ–<code>Animal</code>ç±»å‹çš„<code>run_twice()</code>ç­‰å‡½æ•°ã€‚</p><p>ç»§æ‰¿è¿˜å¯ä»¥ä¸€çº§ä¸€çº§åœ°ç»§æ‰¿ä¸‹æ¥ï¼Œå°±å¥½æ¯”ä»çˆ·çˆ·åˆ°çˆ¸çˆ¸ã€å†åˆ°å„¿å­è¿™æ ·çš„å…³ç³»ã€‚è€Œä»»ä½•ç±»ï¼Œæœ€ç»ˆéƒ½å¯ä»¥è¿½æº¯åˆ°æ ¹ç±»objectï¼Œè¿™äº›ç»§æ‰¿å…³ç³»çœ‹ä¸Šå»å°±åƒä¸€é¢—å€’ç€çš„æ ‘ã€‚æ¯”å¦‚å¦‚ä¸‹çš„ç»§æ‰¿æ ‘ï¼š<br><img src="http://img.blog.csdn.net/20160407150809352" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"><br>###é™æ€è¯­è¨€ vs åŠ¨æ€è¯­è¨€<br>å¯¹äºé™æ€è¯­è¨€ï¼ˆä¾‹å¦‚Javaï¼‰æ¥è¯´ï¼Œå¦‚æœéœ€è¦ä¼ å…¥<code>Animal</code>ç±»å‹ï¼Œåˆ™ä¼ å…¥çš„å¯¹è±¡å¿…é¡»æ˜¯<code>Animal</code>ç±»å‹æˆ–è€…å®ƒçš„å­ç±»ï¼Œå¦åˆ™ï¼Œå°†æ— æ³•è°ƒç”¨<code>run()</code>æ–¹æ³•ã€‚</p><p>å¯¹äºPythonè¿™æ ·çš„åŠ¨æ€è¯­è¨€æ¥è¯´ï¼Œåˆ™ä¸ä¸€å®šéœ€è¦ä¼ å…¥<code>Animal</code>ç±»å‹ã€‚æˆ‘ä»¬åªéœ€è¦ä¿è¯ä¼ å…¥çš„å¯¹è±¡æœ‰ä¸€ä¸ª<code>run()</code>æ–¹æ³•å°±å¯ä»¥äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Timer</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Start...&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯åŠ¨æ€è¯­è¨€çš„â€œé¸­å­ç±»å‹â€ï¼Œå®ƒå¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ç³»ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«çœ‹åšæ˜¯é¸­å­ã€‚</p><p>Pythonçš„â€œfile-like objectâ€œå°±æ˜¯ä¸€ç§é¸­å­ç±»å‹ã€‚å¯¹çœŸæ­£çš„æ–‡ä»¶å¯¹è±¡ï¼Œå®ƒæœ‰ä¸€ä¸ª<code>read()</code>æ–¹æ³•ï¼Œè¿”å›å…¶å†…å®¹ã€‚ä½†æ˜¯ï¼Œè®¸å¤šå¯¹è±¡ï¼Œåªè¦æœ‰<code>read()</code>æ–¹æ³•ï¼Œéƒ½è¢«è§†ä¸ºâ€œfile-like objectâ€œã€‚è®¸å¤šå‡½æ•°æ¥æ”¶çš„å‚æ•°å°±æ˜¯â€œfile-like objectâ€œï¼Œä½ ä¸ä¸€å®šè¦ä¼ å…¥çœŸæ­£çš„æ–‡ä»¶å¯¹è±¡ï¼Œå®Œå…¨å¯ä»¥ä¼ å…¥ä»»ä½•å®ç°äº†<code>read()</code>æ–¹æ³•çš„å¯¹è±¡ã€‚<br>###å°ç»“<br>ç»§æ‰¿å¯ä»¥æŠŠçˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½éƒ½ç›´æ¥æ‹¿è¿‡æ¥ï¼Œè¿™æ ·å°±ä¸å¿…é‡é›¶åšèµ·ï¼Œå­ç±»åªéœ€è¦æ–°å¢è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æŠŠçˆ¶ç±»ä¸é€‚åˆçš„æ–¹æ³•è¦†ç›–é‡å†™ã€‚</p><p>åŠ¨æ€è¯­è¨€çš„é¸­å­ç±»å‹ç‰¹ç‚¹å†³å®šäº†ç»§æ‰¿ä¸åƒé™æ€è¯­è¨€é‚£æ ·æ˜¯å¿…é¡»çš„ã€‚<br>##è·å–å¯¹è±¡ä¿¡æ¯<br>å½“æˆ‘ä»¬æ‹¿åˆ°ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œå¦‚ä½•çŸ¥é“è¿™ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ã€æœ‰å“ªäº›æ–¹æ³•å‘¢ï¼Ÿ<br>###ä½¿ç”¨type()</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œä½¿ç”¨<code>type()</code>å‡½æ•°ï¼š</p><p>åŸºæœ¬ç±»å‹éƒ½å¯ä»¥ç”¨<code>type()</code>åˆ¤æ–­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="number">123</span>)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">int</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span>(<span class="params"><span class="string">&#x27;str&#x27;</span></span>)</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> &#x27;<span class="title">str</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span>(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line"><span class="class">&lt;<span class="title">type</span>(<span class="params"><span class="literal">None</span></span>) &#x27;<span class="title">NoneType</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸€ä¸ªå˜é‡æŒ‡å‘å‡½æ•°æˆ–è€…ç±»ï¼Œä¹Ÿå¯ä»¥ç”¨<code>type()</code>åˆ¤æ–­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="built_in">abs</span>)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">builtin_function_or_method</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span>(<span class="params">a</span>)</span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> &#x27;<span class="title">__main__</span>.<span class="title">Animal</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯<code>type()</code>å‡½æ•°è¿”å›çš„æ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿå®ƒè¿”å›å¯¹åº”çš„Classç±»å‹ã€‚å¦‚æœæˆ‘ä»¬è¦åœ¨<code>if</code>è¯­å¥ä¸­åˆ¤æ–­ï¼Œå°±éœ€è¦æ¯”è¾ƒä¸¤ä¸ªå˜é‡çš„typeç±»å‹æ˜¯å¦ç›¸åŒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="number">123</span>)==<span class="built_in">type</span>(<span class="number">456</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="number">123</span>)==<span class="built_in">int</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="string">&#x27;abc&#x27;</span>)==<span class="built_in">type</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="string">&#x27;abc&#x27;</span>)==<span class="built_in">str</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="string">&#x27;abc&#x27;</span>)==<span class="built_in">type</span>(<span class="number">123</span>)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure><p>åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥å†™<code>int</code>ï¼Œ<code>str</code>ç­‰ï¼Œä½†å¦‚æœè¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å‡½æ•°æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä½¿ç”¨<code>types</code>æ¨¡å—ä¸­å®šä¹‰çš„å¸¸é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> types</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">fn</span>():</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(fn)==types.FunctionType</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="built_in">abs</span>)==types.BuiltinFunctionType</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="keyword">lambda</span> x: x)==types.LambdaType</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>((x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)))==types.GeneratorType</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>###ä½¿ç”¨isinstance()<br>å¯¹äºclassçš„ç»§æ‰¿å…³ç³»æ¥è¯´ï¼Œä½¿ç”¨<code>type()</code>å°±å¾ˆä¸æ–¹ä¾¿ã€‚æˆ‘ä»¬è¦åˆ¤æ–­classçš„ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨<code>isinstance()</code>å‡½æ•°ã€‚</p><p>æˆ‘ä»¬å›é¡¾ä¸Šæ¬¡çš„ä¾‹å­ï¼Œå¦‚æœç»§æ‰¿å…³ç³»æ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">object</span> -&gt; Animal -&gt; Dog -&gt; Husky</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œ<code>isinstance()</code>å°±å¯ä»¥å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸç§ç±»å‹ã€‚å…ˆåˆ›å»º3ç§ç±»å‹çš„å¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = Animal()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = Dog()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>h = Husky()</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåˆ¤æ–­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(h, Husky)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸º<code>h</code>å˜é‡æŒ‡å‘çš„å°±æ˜¯Huskyå¯¹è±¡ã€‚</p><p>å†åˆ¤æ–­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(h, Dog)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p><code>h</code>è™½ç„¶è‡ªèº«æ˜¯Huskyç±»å‹ï¼Œä½†ç”±äºHuskyæ˜¯ä»Dogç»§æ‰¿ä¸‹æ¥çš„ï¼Œæ‰€ä»¥ï¼Œ<code>h</code>ä¹Ÿè¿˜æ˜¯Dogç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œ<code>isinstance()</code>åˆ¤æ–­çš„æ˜¯ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯è¯¥ç±»å‹æœ¬èº«ï¼Œæˆ–è€…ä½äºè¯¥ç±»å‹çš„çˆ¶ç»§æ‰¿é“¾ä¸Šã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿¡ï¼Œ<code>h</code>è¿˜æ˜¯Animalç±»å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(h, Animal)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>åŒç†ï¼Œå®é™…ç±»å‹æ˜¯Dogçš„<code>d</code>ä¹Ÿæ˜¯Animalç±»å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(d, Dog) <span class="keyword">and</span> <span class="built_in">isinstance</span>(d, Animal)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œ<code>d</code>ä¸æ˜¯Huskyç±»å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(d, Husky)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure><p>èƒ½ç”¨<code>type()</code>åˆ¤æ–­çš„åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥ç”¨<code>isinstance()</code>åˆ¤æ–­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(<span class="string">&#x27;a&#x27;</span>, <span class="built_in">str</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(<span class="number">123</span>, <span class="built_in">int</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(<span class="string">b&#x27;a&#x27;</span>, <span class="built_in">bytes</span>)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>å¹¶ä¸”è¿˜å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æŸäº›ç±»å‹ä¸­çš„ä¸€ç§ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯listæˆ–è€…tupleï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], (<span class="built_in">list</span>, <span class="built_in">tuple</span>))</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), (<span class="built_in">list</span>, <span class="built_in">tuple</span>))</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>###ä½¿ç”¨dir()</p><p>å¦‚æœè¦è·å¾—ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨<code>dir()</code>å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„listï¼Œæ¯”å¦‚ï¼Œè·å¾—ä¸€ä¸ªstrå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>(<span class="string">&#x27;ABC&#x27;</span>)</span><br><span class="line">[<span class="string">&#x27;__add__&#x27;</span>, <span class="string">&#x27;__class__&#x27;</span>, <span class="string">&#x27;__contains__&#x27;</span>, <span class="string">&#x27;__delattr__&#x27;</span>, <span class="string">&#x27;__dir__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__eq__&#x27;</span>, <span class="string">&#x27;__format__&#x27;</span>, <span class="string">&#x27;__ge__&#x27;</span>, <span class="string">&#x27;__getattribute__&#x27;</span>, <span class="string">&#x27;__getitem__&#x27;</span>, <span class="string">&#x27;__getnewargs__&#x27;</span>, <span class="string">&#x27;__gt__&#x27;</span>, <span class="string">&#x27;__hash__&#x27;</span>, <span class="string">&#x27;__init__&#x27;</span>, <span class="string">&#x27;__iter__&#x27;</span>, <span class="string">&#x27;__le__&#x27;</span>, <span class="string">&#x27;__len__&#x27;</span>, <span class="string">&#x27;__lt__&#x27;</span>, <span class="string">&#x27;__mod__&#x27;</span>, <span class="string">&#x27;__mul__&#x27;</span>, <span class="string">&#x27;__ne__&#x27;</span>, <span class="string">&#x27;__new__&#x27;</span>, <span class="string">&#x27;__reduce__&#x27;</span>, <span class="string">&#x27;__reduce_ex__&#x27;</span>, <span class="string">&#x27;__repr__&#x27;</span>, <span class="string">&#x27;__rmod__&#x27;</span>, <span class="string">&#x27;__rmul__&#x27;</span>, <span class="string">&#x27;__setattr__&#x27;</span>, <span class="string">&#x27;__sizeof__&#x27;</span>, <span class="string">&#x27;__str__&#x27;</span>, <span class="string">&#x27;__subclasshook__&#x27;</span>, <span class="string">&#x27;capitalize&#x27;</span>, <span class="string">&#x27;casefold&#x27;</span>, <span class="string">&#x27;center&#x27;</span>, <span class="string">&#x27;count&#x27;</span>, <span class="string">&#x27;encode&#x27;</span>, <span class="string">&#x27;endswith&#x27;</span>, <span class="string">&#x27;expandtabs&#x27;</span>, <span class="string">&#x27;find&#x27;</span>, <span class="string">&#x27;format&#x27;</span>, <span class="string">&#x27;format_map&#x27;</span>, <span class="string">&#x27;index&#x27;</span>, <span class="string">&#x27;isalnum&#x27;</span>, <span class="string">&#x27;isalpha&#x27;</span>, <span class="string">&#x27;isdecimal&#x27;</span>, <span class="string">&#x27;isdigit&#x27;</span>, <span class="string">&#x27;isidentifier&#x27;</span>, <span class="string">&#x27;islower&#x27;</span>, <span class="string">&#x27;isnumeric&#x27;</span>, <span class="string">&#x27;isprintable&#x27;</span>, <span class="string">&#x27;isspace&#x27;</span>, <span class="string">&#x27;istitle&#x27;</span>, <span class="string">&#x27;isupper&#x27;</span>, <span class="string">&#x27;join&#x27;</span>, <span class="string">&#x27;ljust&#x27;</span>, <span class="string">&#x27;lower&#x27;</span>, <span class="string">&#x27;lstrip&#x27;</span>, <span class="string">&#x27;maketrans&#x27;</span>, <span class="string">&#x27;partition&#x27;</span>, <span class="string">&#x27;replace&#x27;</span>, <span class="string">&#x27;rfind&#x27;</span>, <span class="string">&#x27;rindex&#x27;</span>, <span class="string">&#x27;rjust&#x27;</span>, <span class="string">&#x27;rpartition&#x27;</span>, <span class="string">&#x27;rsplit&#x27;</span>, <span class="string">&#x27;rstrip&#x27;</span>, <span class="string">&#x27;split&#x27;</span>, <span class="string">&#x27;splitlines&#x27;</span>, <span class="string">&#x27;startswith&#x27;</span>, <span class="string">&#x27;strip&#x27;</span>, <span class="string">&#x27;swapcase&#x27;</span>, <span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;translate&#x27;</span>, <span class="string">&#x27;upper&#x27;</span>, <span class="string">&#x27;zfill&#x27;</span>]</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼<code>__xxx__</code>çš„å±æ€§å’Œæ–¹æ³•åœ¨Pythonä¸­éƒ½æ˜¯æœ‰ç‰¹æ®Šç”¨é€”çš„ï¼Œæ¯”å¦‚<code>__len__</code>æ–¹æ³•è¿”å›é•¿åº¦ã€‚åœ¨Pythonä¸­ï¼Œå¦‚æœä½ è°ƒç”¨<code>len()</code>å‡½æ•°è¯•å›¾è·å–ä¸€ä¸ªå¯¹è±¡çš„é•¿åº¦ï¼Œå®é™…ä¸Šï¼Œåœ¨<code>len()</code>å‡½æ•°å†…éƒ¨ï¼Œå®ƒè‡ªåŠ¨å»è°ƒç”¨è¯¥å¯¹è±¡çš„<code>__len__()</code>æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œä¸‹é¢çš„ä»£ç æ˜¯ç­‰ä»·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(<span class="string">&#x27;ABC&#x27;</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;ABC&#x27;</span>.__len__()</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è‡ªå·±å†™çš„ç±»ï¼Œå¦‚æœä¹Ÿæƒ³ç”¨len(myObj)çš„è¯ï¼Œå°±è‡ªå·±å†™ä¸€ä¸ª__len__()æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">MyDog</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dog = MyDog()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">len</span>(dog)</span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure><p>å‰©ä¸‹çš„éƒ½æ˜¯æ™®é€šå±æ€§æˆ–æ–¹æ³•ï¼Œæ¯”å¦‚<code>lower()</code>è¿”å›å°å†™çš„å­—ç¬¦ä¸²ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;ABC&#x27;</span>.lower()</span><br><span class="line"><span class="string">&#x27;abc&#x27;</span></span><br></pre></td></tr></table></figure><p>ä»…ä»…æŠŠå±æ€§å’Œæ–¹æ³•åˆ—å‡ºæ¥æ˜¯ä¸å¤Ÿçš„ï¼Œé…åˆ<code>getattr()</code>ã€<code>setattr()</code>ä»¥åŠ<code>hasattr()</code>ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ“ä½œä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">MyObject</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="meta">... </span>        self.x = <span class="number">9</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">power</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> self.x * self.x</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>obj = MyObject()</span><br></pre></td></tr></table></figure><p>ç´§æ¥ç€ï¼Œå¯ä»¥æµ‹è¯•è¯¥å¯¹è±¡çš„å±æ€§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">hasattr</span>(obj, <span class="string">&#x27;x&#x27;</span>) <span class="comment"># æœ‰å±æ€§&#x27;x&#x27;å—ï¼Ÿ</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>obj.x</span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">hasattr</span>(obj, <span class="string">&#x27;y&#x27;</span>) <span class="comment"># æœ‰å±æ€§&#x27;y&#x27;å—ï¼Ÿ</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">setattr</span>(obj, <span class="string">&#x27;y&#x27;</span>, <span class="number">19</span>) <span class="comment"># è®¾ç½®ä¸€ä¸ªå±æ€§&#x27;y&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">hasattr</span>(obj, <span class="string">&#x27;y&#x27;</span>) <span class="comment"># æœ‰å±æ€§&#x27;y&#x27;å—ï¼Ÿ</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">getattr</span>(obj, <span class="string">&#x27;y&#x27;</span>) <span class="comment"># è·å–å±æ€§&#x27;y&#x27;</span></span><br><span class="line"><span class="number">19</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>obj.y <span class="comment"># è·å–å±æ€§&#x27;y&#x27;</span></span><br><span class="line"><span class="number">19</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¯•å›¾è·å–ä¸å­˜åœ¨çš„å±æ€§ï¼Œä¼šæŠ›å‡ºAttributeErrorçš„é”™è¯¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">getattr</span>(obj, <span class="string">&#x27;z&#x27;</span>) <span class="comment"># è·å–å±æ€§&#x27;z&#x27;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">&#x27;MyObject&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;z&#x27;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä¼ å…¥ä¸€ä¸ªdefaultå‚æ•°ï¼Œå¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œå°±è¿”å›é»˜è®¤å€¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">getattr</span>(obj, <span class="string">&#x27;z&#x27;</span>, <span class="number">404</span>) <span class="comment"># è·å–å±æ€§&#x27;z&#x27;ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼404</span></span><br><span class="line"><span class="number">404</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è·å¾—å¯¹è±¡çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">hasattr</span>(obj, <span class="string">&#x27;power&#x27;</span>) <span class="comment"># æœ‰å±æ€§&#x27;power&#x27;å—ï¼Ÿ</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">getattr</span>(obj, <span class="string">&#x27;power&#x27;</span>) <span class="comment"># è·å–å±æ€§&#x27;power&#x27;</span></span><br><span class="line">&lt;bound method MyObject.power of &lt;__main__.MyObject <span class="built_in">object</span> at <span class="number">0x10077a6a0</span>&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fn = <span class="built_in">getattr</span>(obj, <span class="string">&#x27;power&#x27;</span>) <span class="comment"># è·å–å±æ€§&#x27;power&#x27;å¹¶èµ‹å€¼åˆ°å˜é‡fn</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fn <span class="comment"># fnæŒ‡å‘obj.power</span></span><br><span class="line">&lt;bound method MyObject.power of &lt;__main__.MyObject <span class="built_in">object</span> at <span class="number">0x10077a6a0</span>&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fn() <span class="comment"># è°ƒç”¨fn()ä¸è°ƒç”¨obj.power()æ˜¯ä¸€æ ·çš„</span></span><br><span class="line"><span class="number">81</span></span><br></pre></td></tr></table></figure><p>###å°ç»“<br>é€šè¿‡å†…ç½®çš„ä¸€ç³»åˆ—å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä»»æ„ä¸€ä¸ªPythonå¯¹è±¡è¿›è¡Œå‰–æï¼Œæ‹¿åˆ°å…¶å†…éƒ¨çš„æ•°æ®ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰åœ¨ä¸çŸ¥é“å¯¹è±¡ä¿¡æ¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰ä¼šå»è·å–å¯¹è±¡ä¿¡æ¯ã€‚å¦‚æœå¯ä»¥ç›´æ¥å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span> = obj.x + obj.y</span><br></pre></td></tr></table></figure><p>å°±ä¸è¦å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span> = <span class="built_in">getattr</span>(obj, <span class="string">&#x27;x&#x27;</span>) + <span class="built_in">getattr</span>(obj, <span class="string">&#x27;y&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªæ­£ç¡®çš„ç”¨æ³•çš„ä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">readImage</span>(<span class="params">fp</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hasattr</span>(fp, <span class="string">&#x27;read&#x27;</span>):</span><br><span class="line">        <span class="keyword">return</span> readData(fp)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure><p>å‡è®¾æˆ‘ä»¬å¸Œæœ›ä»æ–‡ä»¶æµfpä¸­è¯»å–å›¾åƒï¼Œæˆ‘ä»¬é¦–å…ˆè¦åˆ¤æ–­è¯¥fpå¯¹è±¡æ˜¯å¦å­˜åœ¨readæ–¹æ³•ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªæµï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ— æ³•è¯»å–ã€‚<code>hasattr()</code>å°±æ´¾ä¸Šäº†ç”¨åœºã€‚</p><p>è¯·æ³¨æ„ï¼Œåœ¨Pythonè¿™ç±»åŠ¨æ€è¯­è¨€ä¸­ï¼Œæ ¹æ®é¸­å­ç±»å‹ï¼Œæœ‰<code>read()</code>æ–¹æ³•ï¼Œä¸ä»£è¡¨è¯¥fpå¯¹è±¡å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶æµï¼Œå®ƒä¹Ÿå¯èƒ½æ˜¯ç½‘ç»œæµï¼Œä¹Ÿå¯èƒ½æ˜¯å†…å­˜ä¸­çš„ä¸€ä¸ªå­—èŠ‚æµï¼Œä½†åªè¦<code>read()</code>æ–¹æ³•è¿”å›çš„æ˜¯æœ‰æ•ˆçš„å›¾åƒæ•°æ®ï¼Œå°±ä¸å½±å“è¯»å–å›¾åƒçš„åŠŸèƒ½ã€‚<br>##å®ä¾‹å±æ€§å’Œç±»å±æ€§<br>ç”±äºPythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ ¹æ®ç±»åˆ›å»ºçš„å®ä¾‹å¯ä»¥ä»»æ„ç»‘å®šå±æ€§ã€‚</p><p>ç»™å®ä¾‹ç»‘å®šå±æ€§çš„æ–¹æ³•æ˜¯é€šè¿‡å®ä¾‹å˜é‡ï¼Œæˆ–è€…é€šè¿‡<code>self</code>å˜é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">s = Student(<span class="string">&#x27;Bob&#x27;</span>)</span><br><span class="line">s.score = <span class="number">90</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œå¦‚æœ<code>Student</code>ç±»æœ¬èº«éœ€è¦ç»‘å®šä¸€ä¸ªå±æ€§å‘¢ï¼Ÿå¯ä»¥ç›´æ¥åœ¨classä¸­å®šä¹‰å±æ€§ï¼Œè¿™ç§å±æ€§æ˜¯ç±»å±æ€§ï¼Œå½’<code>Student</code>ç±»æ‰€æœ‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    name = <span class="string">&#x27;Student&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"><span class="meta">... </span>    name = <span class="string">&#x27;Student&#x27;</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student() <span class="comment"># åˆ›å»ºå®ä¾‹s</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(s.name) <span class="comment"># æ‰“å°nameå±æ€§ï¼Œå› ä¸ºå®ä¾‹å¹¶æ²¡æœ‰nameå±æ€§ï¼Œæ‰€ä»¥ä¼šç»§ç»­æŸ¥æ‰¾classçš„nameå±æ€§</span></span><br><span class="line">Student</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(Student.name) <span class="comment"># æ‰“å°ç±»çš„nameå±æ€§</span></span><br><span class="line">Student</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.name = <span class="string">&#x27;Michael&#x27;</span> <span class="comment"># ç»™å®ä¾‹ç»‘å®šnameå±æ€§</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(s.name) <span class="comment"># ç”±äºå®ä¾‹å±æ€§ä¼˜å…ˆçº§æ¯”ç±»å±æ€§é«˜ï¼Œå› æ­¤ï¼Œå®ƒä¼šå±è”½æ‰ç±»çš„nameå±æ€§</span></span><br><span class="line">Michael</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(Student.name) <span class="comment"># ä½†æ˜¯ç±»å±æ€§å¹¶æœªæ¶ˆå¤±ï¼Œç”¨Student.nameä»ç„¶å¯ä»¥è®¿é—®</span></span><br><span class="line">Student</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> s.name <span class="comment"># å¦‚æœåˆ é™¤å®ä¾‹çš„nameå±æ€§</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(s.name) <span class="comment"># å†æ¬¡è°ƒç”¨s.nameï¼Œç”±äºå®ä¾‹çš„nameå±æ€§æ²¡æœ‰æ‰¾åˆ°ï¼Œç±»çš„nameå±æ€§å°±æ˜¾ç¤ºå‡ºæ¥äº†</span></span><br><span class="line">Student</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œåœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™ï¼Œåƒä¸‡ä¸è¦æŠŠå®ä¾‹å±æ€§å’Œç±»å±æ€§ä½¿ç”¨ç›¸åŒçš„åå­—ï¼Œå› ä¸ºç›¸åŒåç§°çš„å®ä¾‹å±æ€§å°†å±è”½æ‰ç±»å±æ€§ï¼Œä½†æ˜¯å½“ä½ åˆ é™¤å®ä¾‹å±æ€§åï¼Œå†ä½¿ç”¨ç›¸åŒçš„åç§°ï¼Œè®¿é—®åˆ°çš„å°†æ˜¯ç±»å±æ€§ã€‚</p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/python/">python</category>
      
      
      <category domain="http://example.com/tags/python/">python</category>
      
      
      <comments>http://example.com/2016/05/25/2016-05-25-pythonoop/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>ä½¿ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤è·å–é“¾æ¥æ‰¹é‡ä¸‹è½½</title>
      <link>http://example.com/2016/05/24/2016-05-24-di-pian-bo-ke/</link>
      <guid>http://example.com/2016/05/24/2016-05-24-di-pian-bo-ke/</guid>
      <pubDate>Tue, 24 May 2016 11:48:48 GMT</pubDate>
      
      <description>&lt;hr&gt;
&lt;p&gt;å‰å‡ å¤©çœ‹åˆ°ä¸€ä¸ªä¸é”™çš„æ–¹æ³•ï¼Œç°åœ¨åˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›æœ‰å¸®åŠ©&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘çœ‹åˆ°Nmapçš„èµ„æºå¾ˆæƒ³æŠŠä»–å…¨éƒ¨ä¸‹è½½åˆ°æœ¬åœ°æ€ä¹ˆåŠå‘ï¼Ÿå³é”®ä¸€ä¸ªä¸ªç‚¹ï¼Ÿç”¨å·¥å…·é•œåƒæ•´ä¸ªç«™ç‚¹ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä»¥å‰æˆ‘ç”¨çš„æ–¹æ³•æ˜¯å·¦è¾¹æ‰“å¼€æµè§ˆå™¨ï¼Œå³è¾¹æ‰“å¼€Notepad++ ä¸€ä¸ªä¸ªé“¾æ¥æ‹–åˆ°Notepad++é‡Œï¼Œæœ€åå°±æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ä¸‹è½½åˆ—è¡¨&lt;/p&gt;
&lt;p&gt;ç°åœ¨æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œåˆ©ç”¨Linuxçš„æ–‡æœ¬å¤„ç†å·¥å…·æå–å®Œæ•´çš„ä¸‹è½½é“¾æ¥ï¼Œæ–‡æœ¬å¤„ç†å·¥å…·æˆ‘å¾ˆæ—©å°±å­¦è¿‡äº†ï¼Œä½†æ˜¯å¹³å¸¸ä¸ç”¨ï¼Œå­¦äº†å°±å¿˜&lt;/p&gt;</description>
      
      
      
      <content:encoded><![CDATA[<hr><p>å‰å‡ å¤©çœ‹åˆ°ä¸€ä¸ªä¸é”™çš„æ–¹æ³•ï¼Œç°åœ¨åˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›æœ‰å¸®åŠ©</p><p>æ¯”å¦‚æˆ‘çœ‹åˆ°Nmapçš„èµ„æºå¾ˆæƒ³æŠŠä»–å…¨éƒ¨ä¸‹è½½åˆ°æœ¬åœ°æ€ä¹ˆåŠå‘ï¼Ÿå³é”®ä¸€ä¸ªä¸ªç‚¹ï¼Ÿç”¨å·¥å…·é•œåƒæ•´ä¸ªç«™ç‚¹ï¼Ÿ</p><p>ä»¥å‰æˆ‘ç”¨çš„æ–¹æ³•æ˜¯å·¦è¾¹æ‰“å¼€æµè§ˆå™¨ï¼Œå³è¾¹æ‰“å¼€Notepad++ ä¸€ä¸ªä¸ªé“¾æ¥æ‹–åˆ°Notepad++é‡Œï¼Œæœ€åå°±æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ä¸‹è½½åˆ—è¡¨</p><p>ç°åœ¨æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œåˆ©ç”¨Linuxçš„æ–‡æœ¬å¤„ç†å·¥å…·æå–å®Œæ•´çš„ä¸‹è½½é“¾æ¥ï¼Œæ–‡æœ¬å¤„ç†å·¥å…·æˆ‘å¾ˆæ—©å°±å­¦è¿‡äº†ï¼Œä½†æ˜¯å¹³å¸¸ä¸ç”¨ï¼Œå­¦äº†å°±å¿˜</p><span id="more"></span><ol><li>æ‰“å¼€ä½ è¦å¤„ç†ç½‘ç«™çš„é¡µé¢<a href="https://nmap.org/dist/">https://nmap.org/dist/</a> å³é”®ä¿å­˜ç½‘é¡µ</li><li>ç”¨ç¼–è¾‘å™¨æ‰“å¼€åˆ é™¤HTMLæ–‡ä»¶é¡¶éƒ¨çš„ä»£ç å’Œåº•éƒ¨ä»£ç ç•™ä¸‹é“¾æ¥éƒ¨åˆ†</li><li>ä½¿ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤å‰”é™¤å¤šä½™æ–‡æœ¬ï¼Œç•™ä¸‹å®Œæ•´é“¾æ¥</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;&#123;print $7&#125;&#x27; index-of.html | cut -d &#x27;&quot;&#x27; -f2 &gt; output.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>  è§£é‡Šå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;&#123;print $7&#125;&#x27;           // æ‰“å°å‡ºç¬¬7åˆ—æ–‡æœ¬ï¼ŒæŒ‰ç©ºæ ¼æˆ–è€…åˆ¶è¡¨ç¬¦(Tab)</span><br><span class="line">    index-of.html              // è¦å¤„ç†çš„æ–‡ä»¶</span><br><span class="line">    | cut -d &#x27;&quot;&#x27; -f2           // é€šè¿‡ç®¡é“ä¼ é€’ç»™ cut -d æŒ‡å®šåˆ†éš”ç¬¦ä¸º&quot; -f2 æŒ‡å®šè¾“å‡ºåœ°2åˆ—æ–‡æœ¬</span><br><span class="line">    &gt; output.txt           // é‡å®šå‘æ ‡å‡†è¾“å‡ºåˆ°output.txt</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥ä½¿ç”¨è·å–åˆ°çš„é“¾æ¥åˆ—è¡¨è‡ªåŠ¨æ‰¹é‡ä¸‹è½½äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget -i output.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŸé“¾æ¥åœ°å€ï¼š<a href="http://t66y.com/htm_data/7/1605/1940146.html">ä½¿ç”¨æ–‡æœ¬å¤„ç†å‘½ä»¤è·å–é“¾æ¥æ‰¹é‡ä¸‹è½½</a></p>]]></content:encoded>
      
      
      <category domain="http://example.com/categories/tutorial/">tutorial</category>
      
      
      <category domain="http://example.com/tags/tutorial/">tutorial</category>
      
      
      <comments>http://example.com/2016/05/24/2016-05-24-di-pian-bo-ke/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
